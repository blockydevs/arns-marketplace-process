{
  "version": 3,
  "sources": ["../node_modules/minimist/index.js", "../node_modules/type/value/is.js", "../node_modules/type/object/is.js", "../node_modules/type/prototype/is.js", "../node_modules/type/function/is.js", "../node_modules/type/plain-function/is.js", "../node_modules/es5-ext/object/assign/is-implemented.js", "../node_modules/es5-ext/object/keys/is-implemented.js", "../node_modules/es5-ext/function/noop.js", "../node_modules/es5-ext/object/is-value.js", "../node_modules/es5-ext/object/keys/shim.js", "../node_modules/es5-ext/object/keys/index.js", "../node_modules/es5-ext/object/valid-value.js", "../node_modules/es5-ext/object/assign/shim.js", "../node_modules/es5-ext/object/assign/index.js", "../node_modules/es5-ext/object/normalize-options.js", "../node_modules/es5-ext/string/%23/contains/is-implemented.js", "../node_modules/es5-ext/string/%23/contains/shim.js", "../node_modules/es5-ext/string/%23/contains/index.js", "../node_modules/d/index.js", "../node_modules/es5-ext/object/valid-callable.js", "../node_modules/es5-ext/object/_iterate.js", "../node_modules/es5-ext/object/for-each.js", "../node_modules/es5-ext/object/map.js", "../node_modules/es5-ext/object/primitive-set.js", "../node_modules/es5-ext/object/set-prototype-of/is-implemented.js", "../node_modules/es5-ext/object/is-object.js", "../node_modules/es5-ext/object/create.js", "../node_modules/es5-ext/object/set-prototype-of/shim.js", "../node_modules/es5-ext/object/set-prototype-of/index.js", "../node_modules/es5-ext/math/sign/is-implemented.js", "../node_modules/es5-ext/math/sign/shim.js", "../node_modules/es5-ext/math/sign/index.js", "../node_modules/es5-ext/number/to-integer.js", "../node_modules/es5-ext/number/to-pos-integer.js", "../node_modules/memoizee/lib/resolve-length.js", "../node_modules/memoizee/lib/registered-extensions.js", "../node_modules/es5-ext/error/custom.js", "../node_modules/es5-ext/object/mixin.js", "../node_modules/es5-ext/function/_define-length.js", "../node_modules/event-emitter/index.js", "../node_modules/es5-ext/array/from/is-implemented.js", "../node_modules/ext/global-this/is-implemented.js", "../node_modules/ext/global-this/implementation.js", "../node_modules/ext/global-this/index.js", "../node_modules/es6-symbol/is-implemented.js", "../node_modules/es6-symbol/is-symbol.js", "../node_modules/es6-symbol/validate-symbol.js", "../node_modules/es6-symbol/lib/private/generate-name.js", "../node_modules/es6-symbol/lib/private/setup/standard-symbols.js", "../node_modules/es6-symbol/lib/private/setup/symbol-registry.js", "../node_modules/es6-symbol/polyfill.js", "../node_modules/es6-symbol/index.js", "../node_modules/es5-ext/function/is-arguments.js", "../node_modules/es5-ext/function/is-function.js", "../node_modules/es5-ext/string/is-string.js", "../node_modules/es5-ext/array/from/shim.js", "../node_modules/es5-ext/array/from/index.js", "../node_modules/es5-ext/array/to-array.js", "../node_modules/memoizee/lib/resolve-resolve.js", "../node_modules/memoizee/lib/resolve-normalize.js", "../node_modules/memoizee/lib/configure-map.js", "../node_modules/memoizee/plain.js", "../node_modules/memoizee/normalizers/primitive.js", "../node_modules/memoizee/normalizers/get-primitive-fixed.js", "../node_modules/es5-ext/number/is-nan/is-implemented.js", "../node_modules/es5-ext/number/is-nan/shim.js", "../node_modules/es5-ext/number/is-nan/index.js", "../node_modules/es5-ext/array/%23/e-index-of.js", "../node_modules/memoizee/normalizers/get.js", "../node_modules/memoizee/normalizers/get-1.js", "../node_modules/memoizee/normalizers/get-fixed.js", "../node_modules/next-tick/index.js", "../node_modules/memoizee/ext/async.js", "../node_modules/es5-ext/object/is-callable.js", "../node_modules/es5-ext/object/validate-stringifiable.js", "../node_modules/es5-ext/object/validate-stringifiable-value.js", "../node_modules/es5-ext/safe-to-string.js", "../node_modules/es5-ext/to-short-string-representation.js", "../node_modules/is-promise/index.js", "../node_modules/memoizee/ext/promise.js", "../node_modules/memoizee/ext/dispose.js", "../node_modules/timers-ext/max-timeout.js", "../node_modules/timers-ext/valid-timeout.js", "../node_modules/memoizee/ext/max-age.js", "../node_modules/lru-queue/index.js", "../node_modules/memoizee/ext/max.js", "../node_modules/memoizee/ext/ref-counter.js", "../node_modules/memoizee/index.js", "../node_modules/type/string/coerce.js", "../node_modules/type/lib/safe-to-string.js", "../node_modules/type/lib/to-short-string.js", "../node_modules/type/lib/resolve-error-message.js", "../node_modules/type/lib/resolve-exception.js", "../node_modules/type/value/ensure.js", "../node_modules/d/lazy.js", "../node_modules/memoizee/lib/methods.js", "../node_modules/memoizee/methods.js", "../node_modules/es5-ext/object/first-key.js", "../node_modules/es5-ext/array/%23/for-each-right.js", "../node_modules/es5-ext/array/%23/uniq.js", "../node_modules/cli-color/lib/sgr.js", "../node_modules/cli-color/lib/supports-color.js", "../node_modules/cli-color/lib/xterm-colors.js", "../node_modules/cli-color/lib/xterm-match.js", "../node_modules/cli-color/bare.js", "../node_modules/cli-color/window-size.js", "../node_modules/cli-color/erase.js", "../node_modules/es5-ext/math/trunc/is-implemented.js", "../node_modules/es5-ext/math/trunc/shim.js", "../node_modules/es5-ext/math/trunc/index.js", "../node_modules/cli-color/move.js", "../node_modules/cli-color/beep.js", "../node_modules/es5-ext/array/generate.js", "../node_modules/es5-ext/object/is-array-like.js", "../node_modules/es5-ext/iterable/is.js", "../node_modules/es5-ext/iterable/validate-object.js", "../node_modules/es5-ext/string/%23/repeat/is-implemented.js", "../node_modules/es5-ext/string/%23/repeat/shim.js", "../node_modules/es5-ext/string/%23/repeat/index.js", "../node_modules/cli-color/regex-ansi.js", "../node_modules/cli-color/strip.js", "../node_modules/cli-color/get-stripped-length.js", "../node_modules/cli-color/columns.js", "../node_modules/cli-color/slice.js", "../node_modules/es5-ext/function/%23/compose.js", "../node_modules/cli-color/throbber.js", "../node_modules/cli-color/reset.js", "../node_modules/es5-ext/object/valid-object.js", "../node_modules/es5-ext/array/%23/clear.js", "../node_modules/type/plain-function/ensure.js", "../node_modules/es5-ext/object/copy.js", "../node_modules/d/auto-bind.js", "../node_modules/es6-iterator/index.js", "../node_modules/es6-iterator/array.js", "../node_modules/es6-iterator/string.js", "../node_modules/es6-iterator/is-iterable.js", "../node_modules/es6-iterator/valid-iterable.js", "../node_modules/es6-iterator/get.js", "../node_modules/es6-iterator/for-of.js", "../node_modules/cli-color/art.js", "../node_modules/cli-color/index.js", "../node_modules/cli-spinner/spinners.json", "../node_modules/cli-spinner/index.js", "../node_modules/figlet/lib/figlet.js", "../node_modules/figlet/lib/node-figlet.js", "../node_modules/base64url/dist/pad-string.js", "../node_modules/base64url/dist/base64url.js", "../node_modules/base64url/index.js", "../node_modules/base64-js/index.js", "../node_modules/ieee754/index.js", "../node_modules/buffer/index.js", "../node_modules/ms/index.js", "../node_modules/debug/src/common.js", "../node_modules/debug/src/browser.js", "../node_modules/has-flag/index.js", "../node_modules/supports-color/index.js", "../node_modules/debug/src/node.js", "../node_modules/debug/src/index.js", "../node_modules/@permaweb/protocol-tag-utils/dist/index.cjs", "../node_modules/warp-arbundles/src/signing/Signer.ts", "../src/common/lib/utils.ts", "../node_modules/warp-arbundles/src/deepHash.ts", "../node_modules/bn.js/lib/bn.js", "../node_modules/inherits/inherits_browser.js", "../node_modules/inherits/inherits.js", "../node_modules/safer-buffer/safer.js", "../node_modules/asn1.js/lib/asn1/base/reporter.js", "../node_modules/asn1.js/lib/asn1/base/buffer.js", "../node_modules/minimalistic-assert/index.js", "../node_modules/asn1.js/lib/asn1/base/node.js", "../node_modules/asn1.js/lib/asn1/constants/der.js", "../node_modules/asn1.js/lib/asn1/encoders/der.js", "../node_modules/asn1.js/lib/asn1/encoders/pem.js", "../node_modules/asn1.js/lib/asn1/encoders/index.js", "../node_modules/asn1.js/lib/asn1/decoders/der.js", "../node_modules/asn1.js/lib/asn1/decoders/pem.js", "../node_modules/asn1.js/lib/asn1/decoders/index.js", "../node_modules/asn1.js/lib/asn1/api.js", "../node_modules/asn1.js/lib/asn1/base/index.js", "../node_modules/asn1.js/lib/asn1/constants/index.js", "../node_modules/asn1.js/lib/asn1.js", "../src/common/lib/crypto/pem.ts", "../src/common/lib/crypto/node-driver.ts", "../node_modules/warp-arbundles/src/nodeUtils.ts", "../node_modules/warp-arbundles/src/constants.ts", "../node_modules/warp-arbundles/src/signing/chains/ArweaveSigner.ts", "../node_modules/warp-arbundles/src/signing/constants.ts", "../node_modules/warp-arbundles/src/signing/chains/index.ts", "../node_modules/warp-arbundles/src/signing/index.ts", "../node_modules/warp-arbundles/src/ar-data-base.ts", "../node_modules/warp-arbundles/src/ar-data-bundle.ts", "../node_modules/warp-arbundles/src/tags.ts", "../node_modules/warp-arbundles/src/utils.ts", "../node_modules/undici/lib/core/symbols.js", "../node_modules/undici/lib/core/errors.js", "../node_modules/undici/lib/core/constants.js", "../node_modules/undici/lib/core/util.js", "../node_modules/undici/lib/timers.js", "../node_modules/@fastify/busboy/deps/streamsearch/sbmh.js", "../node_modules/@fastify/busboy/deps/dicer/lib/PartStream.js", "../node_modules/@fastify/busboy/lib/utils/getLimit.js", "../node_modules/@fastify/busboy/deps/dicer/lib/HeaderParser.js", "../node_modules/@fastify/busboy/deps/dicer/lib/Dicer.js", "../node_modules/@fastify/busboy/lib/utils/decodeText.js", "../node_modules/@fastify/busboy/lib/utils/parseParams.js", "../node_modules/@fastify/busboy/lib/utils/basename.js", "../node_modules/@fastify/busboy/lib/types/multipart.js", "../node_modules/@fastify/busboy/lib/utils/Decoder.js", "../node_modules/@fastify/busboy/lib/types/urlencoded.js", "../node_modules/@fastify/busboy/lib/main.js", "../node_modules/undici/lib/fetch/constants.js", "../node_modules/undici/lib/fetch/global.js", "../node_modules/undici/lib/fetch/util.js", "../node_modules/undici/lib/fetch/symbols.js", "../node_modules/undici/lib/fetch/webidl.js", "../node_modules/undici/lib/fetch/dataURL.js", "../node_modules/undici/lib/fetch/file.js", "../node_modules/undici/lib/fetch/formdata.js", "../node_modules/undici/lib/fetch/body.js", "../node_modules/undici/lib/core/request.js", "../node_modules/undici/lib/dispatcher.js", "../node_modules/undici/lib/dispatcher-base.js", "../node_modules/undici/lib/core/connect.js", "../node_modules/undici/src/llhttp/utils.ts", "../node_modules/undici/src/llhttp/constants.ts", "../node_modules/undici/lib/handler/RedirectHandler.js", "../node_modules/undici/lib/interceptor/redirectInterceptor.js", "../node_modules/undici/lib/llhttp/llhttp-wasm.js", "../node_modules/undici/lib/llhttp/llhttp_simd-wasm.js", "../node_modules/undici/lib/client.js", "../node_modules/undici/lib/node/fixed-queue.js", "../node_modules/undici/lib/pool-stats.js", "../node_modules/undici/lib/pool-base.js", "../node_modules/undici/lib/pool.js", "../node_modules/undici/lib/balanced-pool.js", "../node_modules/undici/lib/compat/dispatcher-weakref.js", "../node_modules/undici/lib/agent.js", "../node_modules/undici/lib/api/readable.js", "../node_modules/undici/lib/api/util.js", "../node_modules/undici/lib/api/abort-signal.js", "../node_modules/undici/lib/api/api-request.js", "../node_modules/undici/lib/api/api-stream.js", "../node_modules/undici/lib/api/api-pipeline.js", "../node_modules/undici/lib/api/api-upgrade.js", "../node_modules/undici/lib/api/api-connect.js", "../node_modules/undici/lib/api/index.js", "../node_modules/undici/lib/mock/mock-errors.js", "../node_modules/undici/lib/mock/mock-symbols.js", "../node_modules/undici/lib/mock/mock-utils.js", "../node_modules/undici/lib/mock/mock-interceptor.js", "../node_modules/undici/lib/mock/mock-client.js", "../node_modules/undici/lib/mock/mock-pool.js", "../node_modules/undici/lib/mock/pluralizer.js", "../node_modules/undici/lib/mock/pending-interceptors-formatter.js", "../node_modules/undici/lib/mock/mock-agent.js", "../node_modules/undici/lib/proxy-agent.js", "../node_modules/undici/lib/handler/RetryHandler.js", "../node_modules/undici/lib/global.js", "../node_modules/undici/lib/handler/DecoratorHandler.js", "../node_modules/undici/lib/fetch/headers.js", "../node_modules/undici/lib/fetch/response.js", "../node_modules/undici/lib/fetch/request.js", "../node_modules/undici/lib/fetch/index.js", "../node_modules/undici/lib/fileapi/symbols.js", "../node_modules/undici/lib/fileapi/progressevent.js", "../node_modules/undici/lib/fileapi/encoding.js", "../node_modules/undici/lib/fileapi/util.js", "../node_modules/undici/lib/fileapi/filereader.js", "../node_modules/undici/lib/cache/symbols.js", "../node_modules/undici/lib/cache/util.js", "../node_modules/undici/lib/cache/cache.js", "../node_modules/undici/lib/cache/cachestorage.js", "../node_modules/undici/lib/cookies/constants.js", "../node_modules/undici/lib/cookies/util.js", "../node_modules/undici/lib/cookies/parse.js", "../node_modules/undici/lib/cookies/index.js", "../node_modules/undici/lib/websocket/constants.js", "../node_modules/undici/lib/websocket/symbols.js", "../node_modules/undici/lib/websocket/events.js", "../node_modules/undici/lib/websocket/util.js", "../node_modules/undici/lib/websocket/connection.js", "../node_modules/undici/lib/websocket/frame.js", "../node_modules/undici/lib/websocket/receiver.js", "../node_modules/undici/lib/websocket/websocket.js", "../node_modules/undici/index.js", "../node_modules/warp-isomorphic/src/npm-node.js", "../node_modules/warp-arbundles/src/DataItem.ts", "../node_modules/warp-arbundles/src/ar-data-create.ts", "../node_modules/warp-arbundles/src/index.ts", "../node_modules/warp-arbundles/index.ts", "../node_modules/http-message-signatures/src/errors/verification-error.ts", "../node_modules/http-message-signatures/src/errors/expired-error.ts", "../node_modules/http-message-signatures/src/errors/malformed-signature-error.ts", "../node_modules/http-message-signatures/src/errors/unacceptable-signature-error.ts", "../node_modules/http-message-signatures/src/errors/unknown-algorithm-error.ts", "../node_modules/http-message-signatures/src/errors/unknown-key-error.ts", "../node_modules/http-message-signatures/src/errors/unsupported-algorithm-error.ts", "../node_modules/http-message-signatures/src/errors/index.ts", "../node_modules/http-message-signatures/src/algorithm/index.ts", "../node_modules/http-message-signatures/src/types/index.ts", "../node_modules/structured-headers/src/types.ts", "../node_modules/structured-headers/src/util.ts", "../node_modules/structured-headers/src/token.ts", "../node_modules/structured-headers/src/serializer.ts", "../node_modules/structured-headers/src/parser.ts", "../node_modules/structured-headers/src/index.ts", "../node_modules/http-message-signatures/src/structured-header.ts", "../node_modules/http-message-signatures/src/httpbis/index.ts", "../node_modules/http-message-signatures/src/cavage/index.ts", "../node_modules/http-message-signatures/src/index.ts", "../node_modules/asciichart/asciichart.js", "../cli/index.ts", "../cli/helpers/config.ts", "../cli/helpers/utils.ts", "../cli/commands/help.ts", "../cli/commands/report.ts", "../node_modules/@kurkle/color/dist/color.esm.js", "../node_modules/chart.js/src/helpers/helpers.core.ts", "../node_modules/chart.js/src/helpers/helpers.math.ts", "../node_modules/chart.js/src/helpers/helpers.collection.ts", "../node_modules/chart.js/src/helpers/helpers.extras.ts", "../node_modules/chart.js/src/helpers/helpers.easing.ts", "../node_modules/chart.js/src/helpers/helpers.color.ts", "../node_modules/chart.js/src/core/core.animations.defaults.js", "../node_modules/chart.js/src/core/core.layouts.defaults.js", "../node_modules/chart.js/src/helpers/helpers.intl.ts", "../node_modules/chart.js/src/core/core.ticks.js", "../node_modules/chart.js/src/core/core.scale.defaults.js", "../node_modules/chart.js/src/core/core.defaults.js", "../node_modules/chart.js/src/helpers/helpers.canvas.ts", "../node_modules/chart.js/src/helpers/helpers.options.ts", "../node_modules/chart.js/src/helpers/helpers.config.ts", "../node_modules/chart.js/src/helpers/helpers.curve.ts", "../node_modules/chart.js/src/helpers/helpers.dom.ts", "../node_modules/chart.js/src/helpers/helpers.interpolation.ts", "../node_modules/chart.js/src/helpers/helpers.rtl.ts", "../node_modules/chart.js/src/helpers/helpers.segment.js", "../node_modules/chart.js/src/core/core.animator.js", "../node_modules/chart.js/src/core/core.animation.js", "../node_modules/chart.js/src/core/core.animations.js", "../node_modules/chart.js/src/core/core.datasetController.js", "../node_modules/chart.js/src/controllers/controller.bar.js", "../node_modules/chart.js/src/controllers/controller.bubble.js", "../node_modules/chart.js/src/controllers/controller.doughnut.js", "../node_modules/chart.js/src/controllers/controller.line.js", "../node_modules/chart.js/src/controllers/controller.polarArea.js", "../node_modules/chart.js/src/controllers/controller.pie.js", "../node_modules/chart.js/src/controllers/controller.radar.js", "../node_modules/chart.js/src/controllers/controller.scatter.js", "../node_modules/chart.js/src/core/core.adapters.ts", "../node_modules/chart.js/src/core/core.interaction.js", "../node_modules/chart.js/src/core/core.layouts.js", "../node_modules/chart.js/src/platform/platform.base.js", "../node_modules/chart.js/src/platform/platform.basic.js", "../node_modules/chart.js/src/platform/platform.dom.js", "../node_modules/chart.js/src/platform/index.js", "../node_modules/chart.js/src/core/core.element.ts", "../node_modules/chart.js/src/core/core.scale.autoskip.js", "../node_modules/chart.js/src/core/core.scale.js", "../node_modules/chart.js/src/core/core.typedRegistry.js", "../node_modules/chart.js/src/core/core.registry.js", "../node_modules/chart.js/src/core/core.plugins.js", "../node_modules/chart.js/src/core/core.config.js", "../node_modules/chart.js/src/core/core.controller.js", "../node_modules/chart.js/src/elements/element.arc.ts", "../node_modules/chart.js/src/elements/element.line.js", "../node_modules/chart.js/src/elements/element.point.ts", "../node_modules/chart.js/src/elements/element.bar.js", "../node_modules/chart.js/src/plugins/plugin.colors.ts", "../node_modules/chart.js/src/plugins/plugin.decimation.js", "../node_modules/chart.js/src/plugins/plugin.filler/filler.segment.js", "../node_modules/chart.js/src/plugins/plugin.filler/filler.helper.js", "../node_modules/chart.js/src/plugins/plugin.filler/filler.options.js", "../node_modules/chart.js/src/plugins/plugin.filler/filler.target.stack.js", "../node_modules/chart.js/src/plugins/plugin.filler/simpleArc.js", "../node_modules/chart.js/src/plugins/plugin.filler/filler.target.js", "../node_modules/chart.js/src/plugins/plugin.filler/filler.drawing.js", "../node_modules/chart.js/src/plugins/plugin.filler/index.js", "../node_modules/chart.js/src/plugins/plugin.legend.js", "../node_modules/chart.js/src/plugins/plugin.title.js", "../node_modules/chart.js/src/plugins/plugin.subtitle.js", "../node_modules/chart.js/src/plugins/plugin.tooltip.js", "../node_modules/chart.js/src/scales/scale.category.js", "../node_modules/chart.js/src/scales/scale.linearbase.js", "../node_modules/chart.js/src/scales/scale.linear.js", "../node_modules/chart.js/src/scales/scale.logarithmic.js", "../node_modules/chart.js/src/scales/scale.radialLinear.js", "../node_modules/chart.js/src/scales/scale.time.js", "../node_modules/chart.js/src/scales/scale.timeseries.js", "../node_modules/chart.js/src/index.ts", "../node_modules/ramda/es/F.js", "../node_modules/ramda/es/T.js", "../node_modules/ramda/es/__.js", "../node_modules/ramda/es/internal/_isPlaceholder.js", "../node_modules/ramda/es/internal/_curry1.js", "../node_modules/ramda/es/internal/_curry2.js", "../node_modules/ramda/es/internal/_concat.js", "../node_modules/ramda/es/internal/_arity.js", "../node_modules/ramda/es/internal/_curryN.js", "../node_modules/ramda/es/curryN.js", "../node_modules/ramda/es/internal/_curry3.js", "../node_modules/ramda/es/internal/_isArray.js", "../node_modules/ramda/es/internal/_isTransformer.js", "../node_modules/ramda/es/internal/_dispatchable.js", "../node_modules/ramda/es/internal/_reduced.js", "../node_modules/ramda/es/internal/_xfBase.js", "../node_modules/ramda/es/internal/_arrayFromIterator.js", "../node_modules/ramda/es/internal/_includesWith.js", "../node_modules/ramda/es/internal/_functionName.js", "../node_modules/ramda/es/internal/_has.js", "../node_modules/ramda/es/internal/_objectIs.js", "../node_modules/ramda/es/internal/_isArguments.js", "../node_modules/ramda/es/keys.js", "../node_modules/ramda/es/type.js", "../node_modules/ramda/es/internal/_equals.js", "../node_modules/ramda/es/equals.js", "../node_modules/ramda/es/internal/_indexOf.js", "../node_modules/ramda/es/internal/_includes.js", "../node_modules/ramda/es/internal/_map.js", "../node_modules/ramda/es/internal/_quote.js", "../node_modules/ramda/es/internal/_toISOString.js", "../node_modules/ramda/es/internal/_complement.js", "../node_modules/ramda/es/internal/_arrayReduce.js", "../node_modules/ramda/es/internal/_filter.js", "../node_modules/ramda/es/internal/_isObject.js", "../node_modules/ramda/es/internal/_xfilter.js", "../node_modules/ramda/es/filter.js", "../node_modules/ramda/es/reject.js", "../node_modules/ramda/es/internal/_toString.js", "../node_modules/ramda/es/toString.js", "../node_modules/ramda/es/max.js", "../node_modules/ramda/es/internal/_xmap.js", "../node_modules/ramda/es/map.js", "../node_modules/ramda/es/internal/_isInteger.js", "../node_modules/ramda/es/internal/_isString.js", "../node_modules/ramda/es/internal/_nth.js", "../node_modules/ramda/es/prop.js", "../node_modules/ramda/es/pluck.js", "../node_modules/ramda/es/internal/_isArrayLike.js", "../node_modules/ramda/es/internal/_createReduce.js", "../node_modules/ramda/es/internal/_xArrayReduce.js", "../node_modules/ramda/es/bind.js", "../node_modules/ramda/es/internal/_xReduce.js", "../node_modules/ramda/es/internal/_xwrap.js", "../node_modules/ramda/es/reduce.js", "../node_modules/ramda/es/always.js", "../node_modules/ramda/es/append.js", "../node_modules/ramda/es/curry.js", "../node_modules/ramda/es/internal/_assoc.js", "../node_modules/ramda/es/isNil.js", "../node_modules/ramda/es/assocPath.js", "../node_modules/ramda/es/assoc.js", "../node_modules/ramda/es/internal/_isFunction.js", "../node_modules/ramda/es/internal/_makeFlat.js", "../node_modules/ramda/es/internal/_forceReduced.js", "../node_modules/ramda/es/internal/_flatCat.js", "../node_modules/ramda/es/internal/_xchain.js", "../node_modules/ramda/es/chain.js", "../node_modules/ramda/es/internal/_pipe.js", "../node_modules/ramda/es/internal/_checkForMethod.js", "../node_modules/ramda/es/slice.js", "../node_modules/ramda/es/tail.js", "../node_modules/ramda/es/pipe.js", "../node_modules/ramda/es/internal/_identity.js", "../node_modules/ramda/es/identity.js", "../node_modules/ramda/es/concat.js", "../node_modules/ramda/es/cond.js", "../node_modules/ramda/es/converge.js", "../node_modules/ramda/es/defaultTo.js", "../node_modules/ramda/es/internal/_xfind.js", "../node_modules/ramda/es/find.js", "../node_modules/ramda/es/hasPath.js", "../node_modules/ramda/es/has.js", "../node_modules/ramda/es/ifElse.js", "../node_modules/ramda/es/includes.js", "../node_modules/ramda/es/invoker.js", "../node_modules/ramda/es/is.js", "../node_modules/ramda/es/isNotNil.js", "../node_modules/ramda/es/join.js", "../node_modules/ramda/es/juxt.js", "../node_modules/ramda/es/internal/_path.js", "../node_modules/ramda/es/path.js", "../node_modules/ramda/es/propEq.js", "../node_modules/ramda/es/propOr.js", "../node_modules/ramda/es/internal/_xtap.js", "../node_modules/ramda/es/tap.js", "../node_modules/lru-cache/src/index.ts", "../node_modules/zod/lib/index.mjs", "../node_modules/@permaweb/ao-scheduler-utils/dist/index.js", "../node_modules/@permaweb/aoconnect/dist/index.js", "../../../permaweb-libs/sdk/node_modules/process/browser.js", "../../../permaweb-libs/sdk/node_modules/base64-js/index.js", "../../../permaweb-libs/sdk/node_modules/ieee754/index.js", "../../../permaweb-libs/sdk/node_modules/buffer/index.js", "../../../permaweb-libs/sdk/src/index.ts", "../../../permaweb-libs/sdk/src/helpers/index.ts", "../../../permaweb-libs/sdk/src/helpers/config.ts", "../../../permaweb-libs/sdk/src/helpers/endpoints.ts", "../../../permaweb-libs/sdk/src/helpers/utils.ts", "../../../permaweb-libs/sdk/src/helpers/types.ts", "../../../permaweb-libs/sdk/src/common/index.ts", "../../../permaweb-libs/sdk/src/common/ao.ts", "../../../permaweb-libs/sdk/src/common/gql.ts", "../../../permaweb-libs/sdk/src/common/arweave.ts", "../../../permaweb-libs/sdk/src/services/index.ts", "../../../permaweb-libs/sdk/src/services/assets.ts", "../../../permaweb-libs/sdk/src/services/collections.ts", "../../../permaweb-libs/sdk/src/services/comments.ts", "../../../permaweb-libs/sdk/src/services/profiles.ts", "../../../permaweb-libs/sdk/src/services/zones.ts"],
  "sourcesContent": ["'use strict';\n\nfunction hasKey(obj, keys) {\n\tvar o = obj;\n\tkeys.slice(0, -1).forEach(function (key) {\n\t\to = o[key] || {};\n\t});\n\n\tvar key = keys[keys.length - 1];\n\treturn key in o;\n}\n\nfunction isNumber(x) {\n\tif (typeof x === 'number') { return true; }\n\tif ((/^0x[0-9a-f]+$/i).test(x)) { return true; }\n\treturn (/^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/).test(x);\n}\n\nfunction isConstructorOrProto(obj, key) {\n\treturn (key === 'constructor' && typeof obj[key] === 'function') || key === '__proto__';\n}\n\nmodule.exports = function (args, opts) {\n\tif (!opts) { opts = {}; }\n\n\tvar flags = {\n\t\tbools: {},\n\t\tstrings: {},\n\t\tunknownFn: null,\n\t};\n\n\tif (typeof opts.unknown === 'function') {\n\t\tflags.unknownFn = opts.unknown;\n\t}\n\n\tif (typeof opts.boolean === 'boolean' && opts.boolean) {\n\t\tflags.allBools = true;\n\t} else {\n\t\t[].concat(opts.boolean).filter(Boolean).forEach(function (key) {\n\t\t\tflags.bools[key] = true;\n\t\t});\n\t}\n\n\tvar aliases = {};\n\n\tfunction aliasIsBoolean(key) {\n\t\treturn aliases[key].some(function (x) {\n\t\t\treturn flags.bools[x];\n\t\t});\n\t}\n\n\tObject.keys(opts.alias || {}).forEach(function (key) {\n\t\taliases[key] = [].concat(opts.alias[key]);\n\t\taliases[key].forEach(function (x) {\n\t\t\taliases[x] = [key].concat(aliases[key].filter(function (y) {\n\t\t\t\treturn x !== y;\n\t\t\t}));\n\t\t});\n\t});\n\n\t[].concat(opts.string).filter(Boolean).forEach(function (key) {\n\t\tflags.strings[key] = true;\n\t\tif (aliases[key]) {\n\t\t\t[].concat(aliases[key]).forEach(function (k) {\n\t\t\t\tflags.strings[k] = true;\n\t\t\t});\n\t\t}\n\t});\n\n\tvar defaults = opts.default || {};\n\n\tvar argv = { _: [] };\n\n\tfunction argDefined(key, arg) {\n\t\treturn (flags.allBools && (/^--[^=]+$/).test(arg))\n\t\t\t|| flags.strings[key]\n\t\t\t|| flags.bools[key]\n\t\t\t|| aliases[key];\n\t}\n\n\tfunction setKey(obj, keys, value) {\n\t\tvar o = obj;\n\t\tfor (var i = 0; i < keys.length - 1; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (isConstructorOrProto(o, key)) { return; }\n\t\t\tif (o[key] === undefined) { o[key] = {}; }\n\t\t\tif (\n\t\t\t\to[key] === Object.prototype\n\t\t\t\t|| o[key] === Number.prototype\n\t\t\t\t|| o[key] === String.prototype\n\t\t\t) {\n\t\t\t\to[key] = {};\n\t\t\t}\n\t\t\tif (o[key] === Array.prototype) { o[key] = []; }\n\t\t\to = o[key];\n\t\t}\n\n\t\tvar lastKey = keys[keys.length - 1];\n\t\tif (isConstructorOrProto(o, lastKey)) { return; }\n\t\tif (\n\t\t\to === Object.prototype\n\t\t\t|| o === Number.prototype\n\t\t\t|| o === String.prototype\n\t\t) {\n\t\t\to = {};\n\t\t}\n\t\tif (o === Array.prototype) { o = []; }\n\t\tif (o[lastKey] === undefined || flags.bools[lastKey] || typeof o[lastKey] === 'boolean') {\n\t\t\to[lastKey] = value;\n\t\t} else if (Array.isArray(o[lastKey])) {\n\t\t\to[lastKey].push(value);\n\t\t} else {\n\t\t\to[lastKey] = [o[lastKey], value];\n\t\t}\n\t}\n\n\tfunction setArg(key, val, arg) {\n\t\tif (arg && flags.unknownFn && !argDefined(key, arg)) {\n\t\t\tif (flags.unknownFn(arg) === false) { return; }\n\t\t}\n\n\t\tvar value = !flags.strings[key] && isNumber(val)\n\t\t\t? Number(val)\n\t\t\t: val;\n\t\tsetKey(argv, key.split('.'), value);\n\n\t\t(aliases[key] || []).forEach(function (x) {\n\t\t\tsetKey(argv, x.split('.'), value);\n\t\t});\n\t}\n\n\tObject.keys(flags.bools).forEach(function (key) {\n\t\tsetArg(key, defaults[key] === undefined ? false : defaults[key]);\n\t});\n\n\tvar notFlags = [];\n\n\tif (args.indexOf('--') !== -1) {\n\t\tnotFlags = args.slice(args.indexOf('--') + 1);\n\t\targs = args.slice(0, args.indexOf('--'));\n\t}\n\n\tfor (var i = 0; i < args.length; i++) {\n\t\tvar arg = args[i];\n\t\tvar key;\n\t\tvar next;\n\n\t\tif ((/^--.+=/).test(arg)) {\n\t\t\t// Using [\\s\\S] instead of . because js doesn't support the\n\t\t\t// 'dotall' regex modifier. See:\n\t\t\t// http://stackoverflow.com/a/1068308/13216\n\t\t\tvar m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n\t\t\tkey = m[1];\n\t\t\tvar value = m[2];\n\t\t\tif (flags.bools[key]) {\n\t\t\t\tvalue = value !== 'false';\n\t\t\t}\n\t\t\tsetArg(key, value, arg);\n\t\t} else if ((/^--no-.+/).test(arg)) {\n\t\t\tkey = arg.match(/^--no-(.+)/)[1];\n\t\t\tsetArg(key, false, arg);\n\t\t} else if ((/^--.+/).test(arg)) {\n\t\t\tkey = arg.match(/^--(.+)/)[1];\n\t\t\tnext = args[i + 1];\n\t\t\tif (\n\t\t\t\tnext !== undefined\n\t\t\t\t&& !(/^(-|--)[^-]/).test(next)\n\t\t\t\t&& !flags.bools[key]\n\t\t\t\t&& !flags.allBools\n\t\t\t\t&& (aliases[key] ? !aliasIsBoolean(key) : true)\n\t\t\t) {\n\t\t\t\tsetArg(key, next, arg);\n\t\t\t\ti += 1;\n\t\t\t} else if ((/^(true|false)$/).test(next)) {\n\t\t\t\tsetArg(key, next === 'true', arg);\n\t\t\t\ti += 1;\n\t\t\t} else {\n\t\t\t\tsetArg(key, flags.strings[key] ? '' : true, arg);\n\t\t\t}\n\t\t} else if ((/^-[^-]+/).test(arg)) {\n\t\t\tvar letters = arg.slice(1, -1).split('');\n\n\t\t\tvar broken = false;\n\t\t\tfor (var j = 0; j < letters.length; j++) {\n\t\t\t\tnext = arg.slice(j + 2);\n\n\t\t\t\tif (next === '-') {\n\t\t\t\t\tsetArg(letters[j], next, arg);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif ((/[A-Za-z]/).test(letters[j]) && next[0] === '=') {\n\t\t\t\t\tsetArg(letters[j], next.slice(1), arg);\n\t\t\t\t\tbroken = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(/[A-Za-z]/).test(letters[j])\n\t\t\t\t\t&& (/-?\\d+(\\.\\d*)?(e-?\\d+)?$/).test(next)\n\t\t\t\t) {\n\t\t\t\t\tsetArg(letters[j], next, arg);\n\t\t\t\t\tbroken = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (letters[j + 1] && letters[j + 1].match(/\\W/)) {\n\t\t\t\t\tsetArg(letters[j], arg.slice(j + 2), arg);\n\t\t\t\t\tbroken = true;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tsetArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tkey = arg.slice(-1)[0];\n\t\t\tif (!broken && key !== '-') {\n\t\t\t\tif (\n\t\t\t\t\targs[i + 1]\n\t\t\t\t\t&& !(/^(-|--)[^-]/).test(args[i + 1])\n\t\t\t\t\t&& !flags.bools[key]\n\t\t\t\t\t&& (aliases[key] ? !aliasIsBoolean(key) : true)\n\t\t\t\t) {\n\t\t\t\t\tsetArg(key, args[i + 1], arg);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (args[i + 1] && (/^(true|false)$/).test(args[i + 1])) {\n\t\t\t\t\tsetArg(key, args[i + 1] === 'true', arg);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else {\n\t\t\t\t\tsetArg(key, flags.strings[key] ? '' : true, arg);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n\t\t\t\targv._.push(flags.strings._ || !isNumber(arg) ? arg : Number(arg));\n\t\t\t}\n\t\t\tif (opts.stopEarly) {\n\t\t\t\targv._.push.apply(argv._, args.slice(i + 1));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tObject.keys(defaults).forEach(function (k) {\n\t\tif (!hasKey(argv, k.split('.'))) {\n\t\t\tsetKey(argv, k.split('.'), defaults[k]);\n\n\t\t\t(aliases[k] || []).forEach(function (x) {\n\t\t\t\tsetKey(argv, x.split('.'), defaults[k]);\n\t\t\t});\n\t\t}\n\t});\n\n\tif (opts['--']) {\n\t\targv['--'] = notFlags.slice();\n\t} else {\n\t\tnotFlags.forEach(function (k) {\n\t\t\targv._.push(k);\n\t\t});\n\t}\n\n\treturn argv;\n};\n", "\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n", "\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n", "\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n", "\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n", "\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n", "\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n", "\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n", "\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n", "\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n", "\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n", "\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n", "\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, \u2026srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n", "\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, \u2026options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n", "\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n", "\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString /*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n", "\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n", "\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n", "// Internal method, used by iteration functions.\n// Calls a function for each key-value pair found in object\n// Optionally takes compareFn to iterate object in specific order\n\n\"use strict\";\n\nvar callable                = require(\"./valid-callable\")\n  , value                   = require(\"./valid-value\")\n  , bind                    = Function.prototype.bind\n  , call                    = Function.prototype.call\n  , keys                    = Object.keys\n  , objPropertyIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nmodule.exports = function (method, defVal) {\n\treturn function (obj, cb /*, thisArg, compareFn*/) {\n\t\tvar list, thisArg = arguments[2], compareFn = arguments[3];\n\t\tobj = Object(value(obj));\n\t\tcallable(cb);\n\n\t\tlist = keys(obj);\n\t\tif (compareFn) {\n\t\t\tlist.sort(typeof compareFn === \"function\" ? bind.call(compareFn, obj) : undefined);\n\t\t}\n\t\tif (typeof method !== \"function\") method = list[method];\n\t\treturn call.call(method, list, function (key, index) {\n\t\t\tif (!objPropertyIsEnumerable.call(obj, key)) return defVal;\n\t\t\treturn call.call(cb, thisArg, obj[key], key, obj, index);\n\t\t});\n\t};\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./_iterate\")(\"forEach\");\n", "\"use strict\";\n\nvar callable = require(\"./valid-callable\")\n  , forEach  = require(\"./for-each\")\n  , call     = Function.prototype.call;\n\nmodule.exports = function (obj, cb /*, thisArg*/) {\n\tvar result = {}, thisArg = arguments[2];\n\tcallable(cb);\n\tforEach(obj, function (value, key, targetObj, index) {\n\t\tresult[key] = call.call(cb, thisArg, value, key, targetObj, index);\n\t});\n\treturn result;\n};\n", "\"use strict\";\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (arg /*, \u2026args*/) {\n\tvar set = create(null);\n\tforEach.call(arguments, function (name) { set[name] = true; });\n\treturn set;\n};\n", "\"use strict\";\n\nvar create = Object.create, getPrototypeOf = Object.getPrototypeOf, plainObject = {};\n\nmodule.exports = function (/* CustomCreate*/) {\n\tvar setPrototypeOf = Object.setPrototypeOf, customCreate = arguments[0] || create;\n\tif (typeof setPrototypeOf !== \"function\") return false;\n\treturn getPrototypeOf(setPrototypeOf(customCreate(null), plainObject)) === plainObject;\n};\n", "\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n", "// Workaround for http://code.google.com/p/v8/issues/detail?id=2804\n\n\"use strict\";\n\nvar create = Object.create, shim;\n\nif (!require(\"./set-prototype-of/is-implemented\")()) {\n\tshim = require(\"./set-prototype-of/shim\");\n}\n\nmodule.exports = (function () {\n\tvar nullObject, polyProps, desc;\n\tif (!shim) return create;\n\tif (shim.level !== 1) return create;\n\n\tnullObject = {};\n\tpolyProps = {};\n\tdesc = { configurable: false, enumerable: false, writable: true, value: undefined };\n\tObject.getOwnPropertyNames(Object.prototype).forEach(function (name) {\n\t\tif (name === \"__proto__\") {\n\t\t\tpolyProps[name] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: undefined\n\t\t\t};\n\t\t\treturn;\n\t\t}\n\t\tpolyProps[name] = desc;\n\t});\n\tObject.defineProperties(nullObject, polyProps);\n\n\tObject.defineProperty(shim, \"nullPolyfill\", {\n\t\tconfigurable: false,\n\t\tenumerable: false,\n\t\twritable: false,\n\t\tvalue: nullObject\n\t});\n\n\treturn function (prototype, props) {\n\t\treturn create(prototype === null ? nullObject : prototype, props);\n\t};\n})();\n", "/* eslint no-proto: \"off\" */\n\n// Big thanks to @WebReflection for sorting this out\n// https://gist.github.com/WebReflection/5593554\n\n\"use strict\";\n\nvar isObject         = require(\"../is-object\")\n  , value            = require(\"../valid-value\")\n  , objIsPrototypeOf = Object.prototype.isPrototypeOf\n  , defineProperty   = Object.defineProperty\n  , nullDesc         = { configurable: true, enumerable: false, writable: true, value: undefined }\n  , validate;\n\nvalidate = function (obj, prototype) {\n\tvalue(obj);\n\tif (prototype === null || isObject(prototype)) return obj;\n\tthrow new TypeError(\"Prototype must be null or an object\");\n};\n\nmodule.exports = (function (status) {\n\tvar fn, set;\n\tif (!status) return null;\n\tif (status.level === 2) {\n\t\tif (status.set) {\n\t\t\tset = status.set;\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tset.call(validate(obj, prototype), prototype);\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t} else {\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tvalidate(obj, prototype).__proto__ = prototype;\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t}\n\t} else {\n\t\tfn = function self(obj, prototype) {\n\t\t\tvar isNullBase;\n\t\t\tvalidate(obj, prototype);\n\t\t\tisNullBase = objIsPrototypeOf.call(self.nullPolyfill, obj);\n\t\t\tif (isNullBase) delete self.nullPolyfill.__proto__;\n\t\t\tif (prototype === null) prototype = self.nullPolyfill;\n\t\t\tobj.__proto__ = prototype;\n\t\t\tif (isNullBase) defineProperty(self.nullPolyfill, \"__proto__\", nullDesc);\n\t\t\treturn obj;\n\t\t};\n\t}\n\treturn Object.defineProperty(fn, \"level\", {\n\t\tconfigurable: false,\n\t\tenumerable: false,\n\t\twritable: false,\n\t\tvalue: status.level\n\t});\n})(\n\t(function () {\n\t\tvar tmpObj1 = Object.create(null)\n\t\t  , tmpObj2 = {}\n\t\t  , set\n\t\t  , desc = Object.getOwnPropertyDescriptor(Object.prototype, \"__proto__\");\n\n\t\tif (desc) {\n\t\t\ttry {\n\t\t\t\tset = desc.set; // Opera crashes at this point\n\t\t\t\tset.call(tmpObj1, tmpObj2);\n\t\t\t} catch (ignore) {}\n\t\t\tif (Object.getPrototypeOf(tmpObj1) === tmpObj2) return { set: set, level: 2 };\n\t\t}\n\n\t\ttmpObj1.__proto__ = tmpObj2;\n\t\tif (Object.getPrototypeOf(tmpObj1) === tmpObj2) return { level: 2 };\n\n\t\ttmpObj1 = {};\n\t\ttmpObj1.__proto__ = tmpObj2;\n\t\tif (Object.getPrototypeOf(tmpObj1) === tmpObj2) return { level: 1 };\n\n\t\treturn false;\n\t})()\n);\n\nrequire(\"../create\");\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.setPrototypeOf : require(\"./shim\");\n", "\"use strict\";\n\nmodule.exports = function () {\n\tvar sign = Math.sign;\n\tif (typeof sign !== \"function\") return false;\n\treturn sign(10) === 1 && sign(-20) === -1;\n};\n", "\"use strict\";\n\nmodule.exports = function (value) {\n\tvalue = Number(value);\n\tif (isNaN(value) || value === 0) return value;\n\treturn value > 0 ? 1 : -1;\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Math.sign : require(\"./shim\");\n", "\"use strict\";\n\nvar sign  = require(\"../math/sign\")\n  , abs   = Math.abs\n  , floor = Math.floor;\n\nmodule.exports = function (value) {\n\tif (isNaN(value)) return 0;\n\tvalue = Number(value);\n\tif (value === 0 || !isFinite(value)) return value;\n\treturn sign(value) * floor(abs(value));\n};\n", "\"use strict\";\n\nvar toInteger = require(\"./to-integer\")\n  , max       = Math.max;\n\nmodule.exports = function (value) { return max(0, toInteger(value)); };\n", "\"use strict\";\n\nvar toPosInt = require(\"es5-ext/number/to-pos-integer\");\n\nmodule.exports = function (optsLength, fnLength, isAsync) {\n\tvar length;\n\tif (isNaN(optsLength)) {\n\t\tlength = fnLength;\n\t\tif (!(length >= 0)) return 1;\n\t\tif (isAsync && length) return length - 1;\n\t\treturn length;\n\t}\n\tif (optsLength === false) return false;\n\treturn toPosInt(optsLength);\n};\n", "\"use strict\";\n", "\"use strict\";\n\nvar assign            = require(\"../object/assign\")\n  , isObject          = require(\"../object/is-object\")\n  , isValue           = require(\"../object/is-value\")\n  , captureStackTrace = Error.captureStackTrace;\n\nmodule.exports = function (message /*, code, ext*/) {\n\tvar err = new Error(message), code = arguments[1], ext = arguments[2];\n\tif (!isValue(ext)) {\n\t\tif (isObject(code)) {\n\t\t\text = code;\n\t\t\tcode = null;\n\t\t}\n\t}\n\tif (isValue(ext)) assign(err, ext);\n\tif (isValue(code)) err.code = code;\n\tif (captureStackTrace) captureStackTrace(err, module.exports);\n\treturn err;\n};\n", "\"use strict\";\n\nvar value                    = require(\"./valid-value\")\n  , defineProperty           = Object.defineProperty\n  , getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor\n  , getOwnPropertyNames      = Object.getOwnPropertyNames\n  , getOwnPropertySymbols    = Object.getOwnPropertySymbols;\n\nmodule.exports = function (target, source) {\n\tvar error, sourceObject = Object(value(source));\n\ttarget = Object(value(target));\n\tgetOwnPropertyNames(sourceObject).forEach(function (name) {\n\t\ttry {\n\t\t\tdefineProperty(target, name, getOwnPropertyDescriptor(source, name));\n\t\t} catch (e) { error = e; }\n\t});\n\tif (typeof getOwnPropertySymbols === \"function\") {\n\t\tgetOwnPropertySymbols(sourceObject).forEach(function (symbol) {\n\t\t\ttry {\n\t\t\t\tdefineProperty(target, symbol, getOwnPropertyDescriptor(source, symbol));\n\t\t\t} catch (e) { error = e; }\n\t\t});\n\t}\n\tif (error !== undefined) throw error;\n\treturn target;\n};\n", "\"use strict\";\n\nvar toPosInt = require(\"../number/to-pos-integer\");\n\nvar test = function (arg1, arg2) { return arg2; };\n\nvar desc, defineProperty, generate, mixin;\n\ntry {\n\tObject.defineProperty(test, \"length\", {\n\t\tconfigurable: true,\n\t\twritable: false,\n\t\tenumerable: false,\n\t\tvalue: 1\n\t});\n}\ncatch (ignore) {}\n\nif (test.length === 1) {\n\t// ES6\n\tdesc = { configurable: true, writable: false, enumerable: false };\n\tdefineProperty = Object.defineProperty;\n\tmodule.exports = function (fn, length) {\n\t\tlength = toPosInt(length);\n\t\tif (fn.length === length) return fn;\n\t\tdesc.value = length;\n\t\treturn defineProperty(fn, \"length\", desc);\n\t};\n} else {\n\tmixin = require(\"../object/mixin\");\n\tgenerate = (function () {\n\t\tvar cache = [];\n\t\treturn function (length) {\n\t\t\tvar args, i = 0;\n\t\t\tif (cache[length]) return cache[length];\n\t\t\targs = [];\n\t\t\twhile (length--) args.push(\"a\" + (++i).toString(36));\n\t\t\t// eslint-disable-next-line no-new-func\n\t\t\treturn new Function(\n\t\t\t\t\"fn\",\n\t\t\t\t\"return function (\" + args.join(\", \") + \") { return fn.apply(this, arguments); };\"\n\t\t\t);\n\t\t};\n\t})();\n\tmodule.exports = function (src, length) {\n\t\tvar target;\n\t\tlength = toPosInt(length);\n\t\tif (src.length === length) return src;\n\t\ttarget = generate(length)(src);\n\t\ttry { mixin(target, src); }\n\t\tcatch (ignore) {}\n\t\treturn target;\n\t};\n}\n", "'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n", "\"use strict\";\n\nmodule.exports = function () {\n\tvar from = Array.from, arr, result;\n\tif (typeof from !== \"function\") return false;\n\tarr = [\"raz\", \"dwa\"];\n\tresult = from(arr);\n\treturn Boolean(result && result !== arr && result[1] === \"dwa\");\n};\n", "\"use strict\";\n\nmodule.exports = function () {\n\tif (typeof globalThis !== \"object\") return false;\n\tif (!globalThis) return false;\n\treturn globalThis.Array === Array;\n};\n", "var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of Object.prototype being sealed (via preventExtensions, seal or freeze)\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ is resolved with global context, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? globalThis : require(\"./implementation\");\n", "\"use strict\";\n\nvar global     = require(\"ext/global-this\")\n  , validTypes = { object: true, symbol: true };\n\nmodule.exports = function () {\n\tvar Symbol = global.Symbol;\n\tvar symbol;\n\tif (typeof Symbol !== \"function\") return false;\n\tsymbol = Symbol(\"test symbol\");\n\ttry { String(symbol); }\n\tcatch (e) { return false; }\n\n\t// Return 'true' also for polyfills\n\tif (!validTypes[typeof Symbol.iterator]) return false;\n\tif (!validTypes[typeof Symbol.toPrimitive]) return false;\n\tif (!validTypes[typeof Symbol.toStringTag]) return false;\n\n\treturn true;\n};\n", "\"use strict\";\n\nmodule.exports = function (value) {\n\tif (!value) return false;\n\tif (typeof value === \"symbol\") return true;\n\tif (!value.constructor) return false;\n\tif (value.constructor.name !== \"Symbol\") return false;\n\treturn value[value.constructor.toStringTag] === \"Symbol\";\n};\n", "\"use strict\";\n\nvar isSymbol = require(\"./is-symbol\");\n\nmodule.exports = function (value) {\n\tif (!isSymbol(value)) throw new TypeError(value + \" is not a symbol\");\n\treturn value;\n};\n", "\"use strict\";\n\nvar d = require(\"d\");\n\nvar create = Object.create, defineProperty = Object.defineProperty, objPrototype = Object.prototype;\n\nvar created = create(null);\nmodule.exports = function (desc) {\n\tvar postfix = 0, name, ie11BugWorkaround;\n\twhile (created[desc + (postfix || \"\")]) ++postfix;\n\tdesc += postfix || \"\";\n\tcreated[desc] = true;\n\tname = \"@@\" + desc;\n\tdefineProperty(\n\t\tobjPrototype, name,\n\t\td.gs(null, function (value) {\n\t\t\t// For IE11 issue see:\n\t\t\t// https://connect.microsoft.com/IE/feedbackdetail/view/1928508/\n\t\t\t//    ie11-broken-getters-on-dom-objects\n\t\t\t// https://github.com/medikoo/es6-symbol/issues/12\n\t\t\tif (ie11BugWorkaround) return;\n\t\t\tie11BugWorkaround = true;\n\t\t\tdefineProperty(this, name, d(value));\n\t\t\tie11BugWorkaround = false;\n\t\t})\n\t);\n\treturn name;\n};\n", "\"use strict\";\n\nvar d            = require(\"d\")\n  , NativeSymbol = require(\"ext/global-this\").Symbol;\n\nmodule.exports = function (SymbolPolyfill) {\n\treturn Object.defineProperties(SymbolPolyfill, {\n\t\t// To ensure proper interoperability with other native functions (e.g. Array.from)\n\t\t// fallback to eventual native implementation of given symbol\n\t\thasInstance: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.hasInstance) || SymbolPolyfill(\"hasInstance\")\n\t\t),\n\t\tisConcatSpreadable: d(\n\t\t\t\"\",\n\t\t\t(NativeSymbol && NativeSymbol.isConcatSpreadable) ||\n\t\t\t\tSymbolPolyfill(\"isConcatSpreadable\")\n\t\t),\n\t\titerator: d(\"\", (NativeSymbol && NativeSymbol.iterator) || SymbolPolyfill(\"iterator\")),\n\t\tmatch: d(\"\", (NativeSymbol && NativeSymbol.match) || SymbolPolyfill(\"match\")),\n\t\treplace: d(\"\", (NativeSymbol && NativeSymbol.replace) || SymbolPolyfill(\"replace\")),\n\t\tsearch: d(\"\", (NativeSymbol && NativeSymbol.search) || SymbolPolyfill(\"search\")),\n\t\tspecies: d(\"\", (NativeSymbol && NativeSymbol.species) || SymbolPolyfill(\"species\")),\n\t\tsplit: d(\"\", (NativeSymbol && NativeSymbol.split) || SymbolPolyfill(\"split\")),\n\t\ttoPrimitive: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.toPrimitive) || SymbolPolyfill(\"toPrimitive\")\n\t\t),\n\t\ttoStringTag: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.toStringTag) || SymbolPolyfill(\"toStringTag\")\n\t\t),\n\t\tunscopables: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.unscopables) || SymbolPolyfill(\"unscopables\")\n\t\t)\n\t});\n};\n", "\"use strict\";\n\nvar d              = require(\"d\")\n  , validateSymbol = require(\"../../../validate-symbol\");\n\nvar registry = Object.create(null);\n\nmodule.exports = function (SymbolPolyfill) {\n\treturn Object.defineProperties(SymbolPolyfill, {\n\t\tfor: d(function (key) {\n\t\t\tif (registry[key]) return registry[key];\n\t\t\treturn (registry[key] = SymbolPolyfill(String(key)));\n\t\t}),\n\t\tkeyFor: d(function (symbol) {\n\t\t\tvar key;\n\t\t\tvalidateSymbol(symbol);\n\t\t\tfor (key in registry) {\n\t\t\t\tif (registry[key] === symbol) return key;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t})\n\t});\n};\n", "// ES2015 Symbol polyfill for environments that do not (or partially) support it\n\n\"use strict\";\n\nvar d                    = require(\"d\")\n  , validateSymbol       = require(\"./validate-symbol\")\n  , NativeSymbol         = require(\"ext/global-this\").Symbol\n  , generateName         = require(\"./lib/private/generate-name\")\n  , setupStandardSymbols = require(\"./lib/private/setup/standard-symbols\")\n  , setupSymbolRegistry  = require(\"./lib/private/setup/symbol-registry\");\n\nvar create = Object.create\n  , defineProperties = Object.defineProperties\n  , defineProperty = Object.defineProperty;\n\nvar SymbolPolyfill, HiddenSymbol, isNativeSafe;\n\nif (typeof NativeSymbol === \"function\") {\n\ttry {\n\t\tString(NativeSymbol());\n\t\tisNativeSafe = true;\n\t} catch (ignore) {}\n} else {\n\tNativeSymbol = null;\n}\n\n// Internal constructor (not one exposed) for creating Symbol instances.\n// This one is used to ensure that `someSymbol instanceof Symbol` always return false\nHiddenSymbol = function Symbol(description) {\n\tif (this instanceof HiddenSymbol) throw new TypeError(\"Symbol is not a constructor\");\n\treturn SymbolPolyfill(description);\n};\n\n// Exposed `Symbol` constructor\n// (returns instances of HiddenSymbol)\nmodule.exports = SymbolPolyfill = function Symbol(description) {\n\tvar symbol;\n\tif (this instanceof Symbol) throw new TypeError(\"Symbol is not a constructor\");\n\tif (isNativeSafe) return NativeSymbol(description);\n\tsymbol = create(HiddenSymbol.prototype);\n\tdescription = description === undefined ? \"\" : String(description);\n\treturn defineProperties(symbol, {\n\t\t__description__: d(\"\", description),\n\t\t__name__: d(\"\", generateName(description))\n\t});\n};\n\nsetupStandardSymbols(SymbolPolyfill);\nsetupSymbolRegistry(SymbolPolyfill);\n\n// Internal tweaks for real symbol producer\ndefineProperties(HiddenSymbol.prototype, {\n\tconstructor: d(SymbolPolyfill),\n\ttoString: d(\"\", function () { return this.__name__; })\n});\n\n// Proper implementation of methods exposed on Symbol.prototype\n// They won't be accessible on produced symbol instances as they derive from HiddenSymbol.prototype\ndefineProperties(SymbolPolyfill.prototype, {\n\ttoString: d(function () { return \"Symbol (\" + validateSymbol(this).__description__ + \")\"; }),\n\tvalueOf: d(function () { return validateSymbol(this); })\n});\ndefineProperty(\n\tSymbolPolyfill.prototype, SymbolPolyfill.toPrimitive,\n\td(\"\", function () {\n\t\tvar symbol = validateSymbol(this);\n\t\tif (typeof symbol === \"symbol\") return symbol;\n\t\treturn symbol.toString();\n\t})\n);\ndefineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toStringTag, d(\"c\", \"Symbol\"));\n\n// Proper implementaton of toPrimitive and toStringTag for returned symbol instances\ndefineProperty(\n\tHiddenSymbol.prototype, SymbolPolyfill.toStringTag,\n\td(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])\n);\n\n// Note: It's important to define `toPrimitive` as last one, as some implementations\n// implement `toPrimitive` natively without implementing `toStringTag` (or other specified symbols)\n// And that may invoke error in definition flow:\n// See: https://github.com/medikoo/es6-symbol/issues/13#issuecomment-164146149\ndefineProperty(\n\tHiddenSymbol.prototype, SymbolPolyfill.toPrimitive,\n\td(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive])\n);\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? require(\"ext/global-this\").Symbol\n\t: require(\"./polyfill\");\n", "\"use strict\";\n\nvar objToString = Object.prototype.toString\n  , id = objToString.call((function () { return arguments; })());\n\nmodule.exports = function (value) { return objToString.call(value) === id; };\n", "\"use strict\";\n\nvar objToString = Object.prototype.toString\n  , isFunctionStringTag = RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);\n\nmodule.exports = function (value) {\n\treturn typeof value === \"function\" && isFunctionStringTag(objToString.call(value));\n};\n", "\"use strict\";\n\nvar objToString = Object.prototype.toString, id = objToString.call(\"\");\n\nmodule.exports = function (value) {\n\treturn (\n\t\ttypeof value === \"string\" ||\n\t\t(value &&\n\t\t\ttypeof value === \"object\" &&\n\t\t\t(value instanceof String || objToString.call(value) === id)) ||\n\t\tfalse\n\t);\n};\n", "\"use strict\";\n\nvar iteratorSymbol = require(\"es6-symbol\").iterator\n  , isArguments    = require(\"../../function/is-arguments\")\n  , isFunction     = require(\"../../function/is-function\")\n  , toPosInt       = require(\"../../number/to-pos-integer\")\n  , callable       = require(\"../../object/valid-callable\")\n  , validValue     = require(\"../../object/valid-value\")\n  , isValue        = require(\"../../object/is-value\")\n  , isString       = require(\"../../string/is-string\")\n  , isArray        = Array.isArray\n  , call           = Function.prototype.call\n  , desc           = { configurable: true, enumerable: true, writable: true, value: null }\n  , defineProperty = Object.defineProperty;\n\n// eslint-disable-next-line complexity, max-lines-per-function\nmodule.exports = function (arrayLike /*, mapFn, thisArg*/) {\n\tvar mapFn = arguments[1]\n\t  , thisArg = arguments[2]\n\t  , Context\n\t  , i\n\t  , j\n\t  , arr\n\t  , length\n\t  , code\n\t  , iterator\n\t  , result\n\t  , getIterator\n\t  , value;\n\n\tarrayLike = Object(validValue(arrayLike));\n\n\tif (isValue(mapFn)) callable(mapFn);\n\tif (!this || this === Array || !isFunction(this)) {\n\t\t// Result: Plain array\n\t\tif (!mapFn) {\n\t\t\tif (isArguments(arrayLike)) {\n\t\t\t\t// Source: Arguments\n\t\t\t\tlength = arrayLike.length;\n\t\t\t\tif (length !== 1) return Array.apply(null, arrayLike);\n\t\t\t\tarr = new Array(1);\n\t\t\t\tarr[0] = arrayLike[0];\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (isArray(arrayLike)) {\n\t\t\t\t// Source: Array\n\t\t\t\tarr = new Array((length = arrayLike.length));\n\t\t\t\tfor (i = 0; i < length; ++i) arr[i] = arrayLike[i];\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t}\n\t\tarr = [];\n\t} else {\n\t\t// Result: Non plain array\n\t\tContext = this;\n\t}\n\n\tif (!isArray(arrayLike)) {\n\t\tif ((getIterator = arrayLike[iteratorSymbol]) !== undefined) {\n\t\t\t// Source: Iterator\n\t\t\titerator = callable(getIterator).call(arrayLike);\n\t\t\tif (Context) arr = new Context();\n\t\t\tresult = iterator.next();\n\t\t\ti = 0;\n\t\t\twhile (!result.done) {\n\t\t\t\tvalue = mapFn ? call.call(mapFn, thisArg, result.value, i) : result.value;\n\t\t\t\tif (Context) {\n\t\t\t\t\tdesc.value = value;\n\t\t\t\t\tdefineProperty(arr, i, desc);\n\t\t\t\t} else {\n\t\t\t\t\tarr[i] = value;\n\t\t\t\t}\n\t\t\t\tresult = iterator.next();\n\t\t\t\t++i;\n\t\t\t}\n\t\t\tlength = i;\n\t\t} else if (isString(arrayLike)) {\n\t\t\t// Source: String\n\t\t\tlength = arrayLike.length;\n\t\t\tif (Context) arr = new Context();\n\t\t\tfor (i = 0, j = 0; i < length; ++i) {\n\t\t\t\tvalue = arrayLike[i];\n\t\t\t\tif (i + 1 < length) {\n\t\t\t\t\tcode = value.charCodeAt(0);\n\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\tif (code >= 0xd800 && code <= 0xdbff) value += arrayLike[++i];\n\t\t\t\t}\n\t\t\t\tvalue = mapFn ? call.call(mapFn, thisArg, value, j) : value;\n\t\t\t\tif (Context) {\n\t\t\t\t\tdesc.value = value;\n\t\t\t\t\tdefineProperty(arr, j, desc);\n\t\t\t\t} else {\n\t\t\t\t\tarr[j] = value;\n\t\t\t\t}\n\t\t\t\t++j;\n\t\t\t}\n\t\t\tlength = j;\n\t\t}\n\t}\n\tif (length === undefined) {\n\t\t// Source: array or array-like\n\t\tlength = toPosInt(arrayLike.length);\n\t\tif (Context) arr = new Context(length);\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\tvalue = mapFn ? call.call(mapFn, thisArg, arrayLike[i], i) : arrayLike[i];\n\t\t\tif (Context) {\n\t\t\t\tdesc.value = value;\n\t\t\t\tdefineProperty(arr, i, desc);\n\t\t\t} else {\n\t\t\t\tarr[i] = value;\n\t\t\t}\n\t\t}\n\t}\n\tif (Context) {\n\t\tdesc.value = null;\n\t\tarr.length = length;\n\t}\n\treturn arr;\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Array.from : require(\"./shim\");\n", "\"use strict\";\n\nvar from    = require(\"./from\")\n  , isArray = Array.isArray;\n\nmodule.exports = function (arrayLike) { return isArray(arrayLike) ? arrayLike : from(arrayLike); };\n", "\"use strict\";\n\nvar toArray  = require(\"es5-ext/array/to-array\")\n  , isValue  = require(\"es5-ext/object/is-value\")\n  , callable = require(\"es5-ext/object/valid-callable\");\n\nvar slice = Array.prototype.slice, resolveArgs;\n\nresolveArgs = function (args) {\n\treturn this.map(function (resolve, i) { return resolve ? resolve(args[i]) : args[i]; }).concat(\n\t\tslice.call(args, this.length)\n\t);\n};\n\nmodule.exports = function (resolvers) {\n\tresolvers = toArray(resolvers);\n\tresolvers.forEach(function (resolve) { if (isValue(resolve)) callable(resolve); });\n\treturn resolveArgs.bind(resolvers);\n};\n", "\"use strict\";\n\nvar callable = require(\"es5-ext/object/valid-callable\");\n\nmodule.exports = function (userNormalizer) {\n\tvar normalizer;\n\tif (typeof userNormalizer === \"function\") return { set: userNormalizer, get: userNormalizer };\n\tnormalizer = { get: callable(userNormalizer.get) };\n\tif (userNormalizer.set !== undefined) {\n\t\tnormalizer.set = callable(userNormalizer.set);\n\t\tif (userNormalizer.delete) normalizer.delete = callable(userNormalizer.delete);\n\t\tif (userNormalizer.clear) normalizer.clear = callable(userNormalizer.clear);\n\t\treturn normalizer;\n\t}\n\tnormalizer.set = normalizer.get;\n\treturn normalizer;\n};\n", "/* eslint no-eq-null: 0, eqeqeq: 0, no-unused-vars: 0 */\n\n\"use strict\";\n\nvar customError      = require(\"es5-ext/error/custom\")\n  , defineLength     = require(\"es5-ext/function/_define-length\")\n  , d                = require(\"d\")\n  , ee               = require(\"event-emitter\").methods\n  , resolveResolve   = require(\"./resolve-resolve\")\n  , resolveNormalize = require(\"./resolve-normalize\");\n\nvar apply = Function.prototype.apply\n  , call = Function.prototype.call\n  , create = Object.create\n  , defineProperties = Object.defineProperties\n  , on = ee.on\n  , emit = ee.emit;\n\nmodule.exports = function (original, length, options) {\n\tvar cache = create(null)\n\t  , conf\n\t  , memLength\n\t  , get\n\t  , set\n\t  , del\n\t  , clear\n\t  , extDel\n\t  , extGet\n\t  , extHas\n\t  , normalizer\n\t  , getListeners\n\t  , setListeners\n\t  , deleteListeners\n\t  , memoized\n\t  , resolve;\n\tif (length !== false) memLength = length;\n\telse if (isNaN(original.length)) memLength = 1;\n\telse memLength = original.length;\n\n\tif (options.normalizer) {\n\t\tnormalizer = resolveNormalize(options.normalizer);\n\t\tget = normalizer.get;\n\t\tset = normalizer.set;\n\t\tdel = normalizer.delete;\n\t\tclear = normalizer.clear;\n\t}\n\tif (options.resolvers != null) resolve = resolveResolve(options.resolvers);\n\n\tif (get) {\n\t\tmemoized = defineLength(function (arg) {\n\t\t\tvar id, result, args = arguments;\n\t\t\tif (resolve) args = resolve(args);\n\t\t\tid = get(args);\n\t\t\tif (id !== null) {\n\t\t\t\tif (hasOwnProperty.call(cache, id)) {\n\t\t\t\t\tif (getListeners) conf.emit(\"get\", id, args, this);\n\t\t\t\t\treturn cache[id];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (args.length === 1) result = call.call(original, this, args[0]);\n\t\t\telse result = apply.call(original, this, args);\n\t\t\tif (id === null) {\n\t\t\t\tid = get(args);\n\t\t\t\tif (id !== null) throw customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t\tid = set(args);\n\t\t\t} else if (hasOwnProperty.call(cache, id)) {\n\t\t\t\tthrow customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t}\n\t\t\tcache[id] = result;\n\t\t\tif (setListeners) conf.emit(\"set\", id, null, result);\n\t\t\treturn result;\n\t\t}, memLength);\n\t} else if (length === 0) {\n\t\tmemoized = function () {\n\t\t\tvar result;\n\t\t\tif (hasOwnProperty.call(cache, \"data\")) {\n\t\t\t\tif (getListeners) conf.emit(\"get\", \"data\", arguments, this);\n\t\t\t\treturn cache.data;\n\t\t\t}\n\t\t\tif (arguments.length) result = apply.call(original, this, arguments);\n\t\t\telse result = call.call(original, this);\n\t\t\tif (hasOwnProperty.call(cache, \"data\")) {\n\t\t\t\tthrow customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t}\n\t\t\tcache.data = result;\n\t\t\tif (setListeners) conf.emit(\"set\", \"data\", null, result);\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\tmemoized = function (arg) {\n\t\t\tvar result, args = arguments, id;\n\t\t\tif (resolve) args = resolve(arguments);\n\t\t\tid = String(args[0]);\n\t\t\tif (hasOwnProperty.call(cache, id)) {\n\t\t\t\tif (getListeners) conf.emit(\"get\", id, args, this);\n\t\t\t\treturn cache[id];\n\t\t\t}\n\t\t\tif (args.length === 1) result = call.call(original, this, args[0]);\n\t\t\telse result = apply.call(original, this, args);\n\t\t\tif (hasOwnProperty.call(cache, id)) {\n\t\t\t\tthrow customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t}\n\t\t\tcache[id] = result;\n\t\t\tif (setListeners) conf.emit(\"set\", id, null, result);\n\t\t\treturn result;\n\t\t};\n\t}\n\tconf = {\n\t\toriginal: original,\n\t\tmemoized: memoized,\n\t\tprofileName: options.profileName,\n\t\tget: function (args) {\n\t\t\tif (resolve) args = resolve(args);\n\t\t\tif (get) return get(args);\n\t\t\treturn String(args[0]);\n\t\t},\n\t\thas: function (id) { return hasOwnProperty.call(cache, id); },\n\t\tdelete: function (id) {\n\t\t\tvar result;\n\t\t\tif (!hasOwnProperty.call(cache, id)) return;\n\t\t\tif (del) del(id);\n\t\t\tresult = cache[id];\n\t\t\tdelete cache[id];\n\t\t\tif (deleteListeners) conf.emit(\"delete\", id, result);\n\t\t},\n\t\tclear: function () {\n\t\t\tvar oldCache = cache;\n\t\t\tif (clear) clear();\n\t\t\tcache = create(null);\n\t\t\tconf.emit(\"clear\", oldCache);\n\t\t},\n\t\ton: function (type, listener) {\n\t\t\tif (type === \"get\") getListeners = true;\n\t\t\telse if (type === \"set\") setListeners = true;\n\t\t\telse if (type === \"delete\") deleteListeners = true;\n\t\t\treturn on.call(this, type, listener);\n\t\t},\n\t\temit: emit,\n\t\tupdateEnv: function () { original = conf.original; },\n\t};\n\tif (get) {\n\t\textDel = defineLength(function (arg) {\n\t\t\tvar id, args = arguments;\n\t\t\tif (resolve) args = resolve(args);\n\t\t\tid = get(args);\n\t\t\tif (id === null) return;\n\t\t\tconf.delete(id);\n\t\t}, memLength);\n\t} else if (length === 0) {\n\t\textDel = function () { return conf.delete(\"data\"); };\n\t} else {\n\t\textDel = function (arg) {\n\t\t\tif (resolve) arg = resolve(arguments)[0];\n\t\t\treturn conf.delete(arg);\n\t\t};\n\t}\n\textGet = defineLength(function () {\n\t\tvar id, args = arguments;\n\t\tif (length === 0) return cache.data;\n\t\tif (resolve) args = resolve(args);\n\t\tif (get) id = get(args);\n\t\telse id = String(args[0]);\n\t\treturn cache[id];\n\t});\n\textHas = defineLength(function () {\n\t\tvar id, args = arguments;\n\t\tif (length === 0) return conf.has(\"data\");\n\t\tif (resolve) args = resolve(args);\n\t\tif (get) id = get(args);\n\t\telse id = String(args[0]);\n\t\tif (id === null) return false;\n\t\treturn conf.has(id);\n\t});\n\tdefineProperties(memoized, {\n\t\t__memoized__: d(true),\n\t\tdelete: d(extDel),\n\t\tclear: d(conf.clear),\n\t\t_get: d(extGet),\n\t\t_has: d(extHas),\n\t});\n\treturn conf;\n};\n", "\"use strict\";\n\nvar callable      = require(\"es5-ext/object/valid-callable\")\n  , forEach       = require(\"es5-ext/object/for-each\")\n  , extensions    = require(\"./lib/registered-extensions\")\n  , configure     = require(\"./lib/configure-map\")\n  , resolveLength = require(\"./lib/resolve-length\");\n\nmodule.exports = function self(fn/*, options */) {\n\tvar options, length, conf;\n\n\tcallable(fn);\n\toptions = Object(arguments[1]);\n\n\tif (options.async && options.promise) {\n\t\tthrow new Error(\"Options 'async' and 'promise' cannot be used together\");\n\t}\n\n\t// Do not memoize already memoized function\n\tif (hasOwnProperty.call(fn, \"__memoized__\") && !options.force) return fn;\n\n\t// Resolve length;\n\tlength = resolveLength(options.length, fn.length, options.async && extensions.async);\n\n\t// Configure cache map\n\tconf = configure(fn, length, options);\n\n\t// Bind eventual extensions\n\tforEach(extensions, function (extFn, name) {\n\t\tif (options[name]) extFn(options[name], conf, options);\n\t});\n\n\tif (self.__profiler__) self.__profiler__(conf);\n\n\tconf.updateEnv();\n\treturn conf.memoized;\n};\n", "\"use strict\";\n\nmodule.exports = function (args) {\n\tvar id, i, length = args.length;\n\tif (!length) return \"\\u0002\";\n\tid = String(args[(i = 0)]);\n\twhile (--length) id += \"\\u0001\" + args[++i];\n\treturn id;\n};\n", "\"use strict\";\n\nmodule.exports = function (length) {\n\tif (!length) {\n\t\treturn function () { return \"\"; };\n\t}\n\treturn function (args) {\n\t\tvar id = String(args[0]), i = 0, currentLength = length;\n\t\twhile (--currentLength) {\n\t\t\tid += \"\\u0001\" + args[++i];\n\t\t}\n\t\treturn id;\n\t};\n};\n", "\"use strict\";\n\nmodule.exports = function () {\n\tvar numberIsNaN = Number.isNaN;\n\tif (typeof numberIsNaN !== \"function\") return false;\n\treturn !numberIsNaN({}) && numberIsNaN(NaN) && !numberIsNaN(34);\n};\n", "\"use strict\";\n\nmodule.exports = function (value) {\n\t// eslint-disable-next-line no-self-compare\n\treturn value !== value;\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Number.isNaN : require(\"./shim\");\n", "\"use strict\";\n\nvar numberIsNaN       = require(\"../../number/is-nan\")\n  , toPosInt          = require(\"../../number/to-pos-integer\")\n  , value             = require(\"../../object/valid-value\")\n  , indexOf           = Array.prototype.indexOf\n  , objHasOwnProperty = Object.prototype.hasOwnProperty\n  , abs               = Math.abs\n  , floor             = Math.floor;\n\nmodule.exports = function (searchElement /*, fromIndex*/) {\n\tvar i, length, fromIndex, val;\n\tif (!numberIsNaN(searchElement)) return indexOf.apply(this, arguments);\n\n\tlength = toPosInt(value(this).length);\n\tfromIndex = arguments[1];\n\tif (isNaN(fromIndex)) fromIndex = 0;\n\telse if (fromIndex >= 0) fromIndex = floor(fromIndex);\n\telse fromIndex = toPosInt(this.length) - floor(abs(fromIndex));\n\n\tfor (i = fromIndex; i < length; ++i) {\n\t\tif (objHasOwnProperty.call(this, i)) {\n\t\t\tval = this[i];\n\t\t\tif (numberIsNaN(val)) return i; // Jslint: ignore\n\t\t}\n\t}\n\treturn -1;\n};\n", "/* eslint max-statements: 0 */\n\n\"use strict\";\n\nvar indexOf = require(\"es5-ext/array/#/e-index-of\");\n\nvar create = Object.create;\n\nmodule.exports = function () {\n\tvar lastId = 0, map = [], cache = create(null);\n\treturn {\n\t\tget: function (args) {\n\t\t\tvar index = 0, set = map, i, length = args.length;\n\t\t\tif (length === 0) return set[length] || null;\n\t\t\tif ((set = set[length])) {\n\t\t\t\twhile (index < length - 1) {\n\t\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\t\tif (i === -1) return null;\n\t\t\t\t\tset = set[1][i];\n\t\t\t\t\t++index;\n\t\t\t\t}\n\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\tif (i === -1) return null;\n\t\t\t\treturn set[1][i] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function (args) {\n\t\t\tvar index = 0, set = map, i, length = args.length;\n\t\t\tif (length === 0) {\n\t\t\t\tset[length] = ++lastId;\n\t\t\t} else {\n\t\t\t\tif (!set[length]) {\n\t\t\t\t\tset[length] = [[], []];\n\t\t\t\t}\n\t\t\t\tset = set[length];\n\t\t\t\twhile (index < length - 1) {\n\t\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\t\tif (i === -1) {\n\t\t\t\t\t\ti = set[0].push(args[index]) - 1;\n\t\t\t\t\t\tset[1].push([[], []]);\n\t\t\t\t\t}\n\t\t\t\t\tset = set[1][i];\n\t\t\t\t\t++index;\n\t\t\t\t}\n\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\tif (i === -1) {\n\t\t\t\t\ti = set[0].push(args[index]) - 1;\n\t\t\t\t}\n\t\t\t\tset[1][i] = ++lastId;\n\t\t\t}\n\t\t\tcache[lastId] = args;\n\t\t\treturn lastId;\n\t\t},\n\t\tdelete: function (id) {\n\t\t\tvar index = 0, set = map, i, args = cache[id], length = args.length, path = [];\n\t\t\tif (length === 0) {\n\t\t\t\tdelete set[length];\n\t\t\t} else if ((set = set[length])) {\n\t\t\t\twhile (index < length - 1) {\n\t\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\t\tif (i === -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tpath.push(set, i);\n\t\t\t\t\tset = set[1][i];\n\t\t\t\t\t++index;\n\t\t\t\t}\n\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\tif (i === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tid = set[1][i];\n\t\t\t\tset[0].splice(i, 1);\n\t\t\t\tset[1].splice(i, 1);\n\t\t\t\twhile (!set[0].length && path.length) {\n\t\t\t\t\ti = path.pop();\n\t\t\t\t\tset = path.pop();\n\t\t\t\t\tset[0].splice(i, 1);\n\t\t\t\t\tset[1].splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdelete cache[id];\n\t\t},\n\t\tclear: function () {\n\t\t\tmap = [];\n\t\t\tcache = create(null);\n\t\t},\n\t};\n};\n", "\"use strict\";\n\nvar indexOf = require(\"es5-ext/array/#/e-index-of\");\n\nmodule.exports = function () {\n\tvar lastId = 0, argsMap = [], cache = [];\n\treturn {\n\t\tget: function (args) {\n\t\t\tvar index = indexOf.call(argsMap, args[0]);\n\t\t\treturn index === -1 ? null : cache[index];\n\t\t},\n\t\tset: function (args) {\n\t\t\targsMap.push(args[0]);\n\t\t\tcache.push(++lastId);\n\t\t\treturn lastId;\n\t\t},\n\t\tdelete: function (id) {\n\t\t\tvar index = indexOf.call(cache, id);\n\t\t\tif (index !== -1) {\n\t\t\t\targsMap.splice(index, 1);\n\t\t\t\tcache.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\tclear: function () {\n\t\t\targsMap = [];\n\t\t\tcache = [];\n\t\t},\n\t};\n};\n", "\"use strict\";\n\nvar indexOf = require(\"es5-ext/array/#/e-index-of\")\n  , create  = Object.create;\n\nmodule.exports = function (length) {\n\tvar lastId = 0, map = [[], []], cache = create(null);\n\treturn {\n\t\tget: function (args) {\n\t\t\tvar index = 0, set = map, i;\n\t\t\twhile (index < length - 1) {\n\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\tif (i === -1) return null;\n\t\t\t\tset = set[1][i];\n\t\t\t\t++index;\n\t\t\t}\n\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\tif (i === -1) return null;\n\t\t\treturn set[1][i] || null;\n\t\t},\n\t\tset: function (args) {\n\t\t\tvar index = 0, set = map, i;\n\t\t\twhile (index < length - 1) {\n\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\tif (i === -1) {\n\t\t\t\t\ti = set[0].push(args[index]) - 1;\n\t\t\t\t\tset[1].push([[], []]);\n\t\t\t\t}\n\t\t\t\tset = set[1][i];\n\t\t\t\t++index;\n\t\t\t}\n\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\tif (i === -1) {\n\t\t\t\ti = set[0].push(args[index]) - 1;\n\t\t\t}\n\t\t\tset[1][i] = ++lastId;\n\t\t\tcache[lastId] = args;\n\t\t\treturn lastId;\n\t\t},\n\t\tdelete: function (id) {\n\t\t\tvar index = 0, set = map, i, path = [], args = cache[id];\n\t\t\twhile (index < length - 1) {\n\t\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\t\tif (i === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tpath.push(set, i);\n\t\t\t\tset = set[1][i];\n\t\t\t\t++index;\n\t\t\t}\n\t\t\ti = indexOf.call(set[0], args[index]);\n\t\t\tif (i === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tid = set[1][i];\n\t\t\tset[0].splice(i, 1);\n\t\t\tset[1].splice(i, 1);\n\t\t\twhile (!set[0].length && path.length) {\n\t\t\t\ti = path.pop();\n\t\t\t\tset = path.pop();\n\t\t\t\tset[0].splice(i, 1);\n\t\t\t\tset[1].splice(i, 1);\n\t\t\t}\n\t\t\tdelete cache[id];\n\t\t},\n\t\tclear: function () {\n\t\t\tmap = [[], []];\n\t\t\tcache = create(null);\n\t\t},\n\t};\n};\n", "'use strict';\n\nvar ensureCallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nvar byObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, currentQueue, i = 0;\n\tnew Observer(function () {\n\t\tvar callback;\n\t\tif (!queue) {\n\t\t\tif (!currentQueue) return;\n\t\t\tqueue = currentQueue;\n\t\t} else if (currentQueue) {\n\t\t\tqueue = currentQueue.concat(queue);\n\t\t}\n\t\tcurrentQueue = queue;\n\t\tqueue = null;\n\t\tif (typeof currentQueue === 'function') {\n\t\t\tcallback = currentQueue;\n\t\t\tcurrentQueue = null;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tnode.data = (i = ++i % 2); // Invoke other batch, to handle leftover callbacks in case of crash\n\t\twhile (currentQueue) {\n\t\t\tcallback = currentQueue.shift();\n\t\t\tif (!currentQueue.length) currentQueue = null;\n\t\t\tcallback();\n\t\t}\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tensureCallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process === 'object') && process && (typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// queueMicrotask\n\tif (typeof queueMicrotask === \"function\") {\n\t\treturn function (cb) { queueMicrotask(ensureCallable(cb)); };\n\t}\n\n\t// MutationObserver\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') return byObserver(MutationObserver);\n\t\tif (typeof WebKitMutationObserver === 'function') return byObserver(WebKitMutationObserver);\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(ensureCallable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif ((typeof setTimeout === 'function') || (typeof setTimeout === 'object')) {\n\t\treturn function (cb) { setTimeout(ensureCallable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n", "/* eslint consistent-this: 0, no-shadow:0, no-eq-null: 0, eqeqeq: 0, no-unused-vars: 0 */\n\n// Support for asynchronous functions\n\n\"use strict\";\n\nvar aFrom        = require(\"es5-ext/array/from\")\n  , objectMap    = require(\"es5-ext/object/map\")\n  , mixin        = require(\"es5-ext/object/mixin\")\n  , defineLength = require(\"es5-ext/function/_define-length\")\n  , nextTick     = require(\"next-tick\");\n\nvar slice = Array.prototype.slice, apply = Function.prototype.apply, create = Object.create;\n\nrequire(\"../lib/registered-extensions\").async = function (tbi, conf) {\n\tvar waiting = create(null)\n\t  , cache = create(null)\n\t  , base = conf.memoized\n\t  , original = conf.original\n\t  , currentCallback\n\t  , currentContext\n\t  , currentArgs;\n\n\t// Initial\n\tconf.memoized = defineLength(function (arg) {\n\t\tvar args = arguments, last = args[args.length - 1];\n\t\tif (typeof last === \"function\") {\n\t\t\tcurrentCallback = last;\n\t\t\targs = slice.call(args, 0, -1);\n\t\t}\n\t\treturn base.apply((currentContext = this), (currentArgs = args));\n\t}, base);\n\ttry { mixin(conf.memoized, base); }\n\tcatch (ignore) {}\n\n\t// From cache (sync)\n\tconf.on(\"get\", function (id) {\n\t\tvar cb, context, args;\n\t\tif (!currentCallback) return;\n\n\t\t// Unresolved\n\t\tif (waiting[id]) {\n\t\t\tif (typeof waiting[id] === \"function\") waiting[id] = [waiting[id], currentCallback];\n\t\t\telse waiting[id].push(currentCallback);\n\t\t\tcurrentCallback = null;\n\t\t\treturn;\n\t\t}\n\n\t\t// Resolved, assure next tick invocation\n\t\tcb = currentCallback;\n\t\tcontext = currentContext;\n\t\targs = currentArgs;\n\t\tcurrentCallback = currentContext = currentArgs = null;\n\t\tnextTick(function () {\n\t\t\tvar data;\n\t\t\tif (hasOwnProperty.call(cache, id)) {\n\t\t\t\tdata = cache[id];\n\t\t\t\tconf.emit(\"getasync\", id, args, context);\n\t\t\t\tapply.call(cb, data.context, data.args);\n\t\t\t} else {\n\t\t\t\t// Purged in a meantime, we shouldn't rely on cached value, recall\n\t\t\t\tcurrentCallback = cb;\n\t\t\t\tcurrentContext = context;\n\t\t\t\tcurrentArgs = args;\n\t\t\t\tbase.apply(context, args);\n\t\t\t}\n\t\t});\n\t});\n\n\t// Not from cache\n\tconf.original = function () {\n\t\tvar args, cb, origCb, result;\n\t\tif (!currentCallback) return apply.call(original, this, arguments);\n\t\targs = aFrom(arguments);\n\t\tcb = function self(err) {\n\t\t\tvar cb, args, id = self.id;\n\t\t\tif (id == null) {\n\t\t\t\t// Shouldn't happen, means async callback was called sync way\n\t\t\t\tnextTick(apply.bind(self, this, arguments));\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tdelete self.id;\n\t\t\tcb = waiting[id];\n\t\t\tdelete waiting[id];\n\t\t\tif (!cb) {\n\t\t\t\t// Already processed,\n\t\t\t\t// outcome of race condition: asyncFn(1, cb), asyncFn.clear(), asyncFn(1, cb)\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\targs = aFrom(arguments);\n\t\t\tif (conf.has(id)) {\n\t\t\t\tif (err) {\n\t\t\t\t\tconf.delete(id);\n\t\t\t\t} else {\n\t\t\t\t\tcache[id] = { context: this, args: args };\n\t\t\t\t\tconf.emit(\"setasync\", id, typeof cb === \"function\" ? 1 : cb.length);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof cb === \"function\") {\n\t\t\t\tresult = apply.call(cb, this, args);\n\t\t\t} else {\n\t\t\t\tcb.forEach(function (cb) { result = apply.call(cb, this, args); }, this);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\torigCb = currentCallback;\n\t\tcurrentCallback = currentContext = currentArgs = null;\n\t\targs.push(cb);\n\t\tresult = apply.call(original, this, args);\n\t\tcb.cb = origCb;\n\t\tcurrentCallback = cb;\n\t\treturn result;\n\t};\n\n\t// After not from cache call\n\tconf.on(\"set\", function (id) {\n\t\tif (!currentCallback) {\n\t\t\tconf.delete(id);\n\t\t\treturn;\n\t\t}\n\t\tif (waiting[id]) {\n\t\t\t// Race condition: asyncFn(1, cb), asyncFn.clear(), asyncFn(1, cb)\n\t\t\tif (typeof waiting[id] === \"function\") waiting[id] = [waiting[id], currentCallback.cb];\n\t\t\telse waiting[id].push(currentCallback.cb);\n\t\t} else {\n\t\t\twaiting[id] = currentCallback.cb;\n\t\t}\n\t\tdelete currentCallback.cb;\n\t\tcurrentCallback.id = id;\n\t\tcurrentCallback = null;\n\t});\n\n\t// On delete\n\tconf.on(\"delete\", function (id) {\n\t\tvar result;\n\t\t// If false, we don't have value yet, so we assume that intention is not\n\t\t// to memoize this call. After value is obtained we don't cache it but\n\t\t// gracefully pass to callback\n\t\tif (hasOwnProperty.call(waiting, id)) return;\n\t\tif (!cache[id]) return;\n\t\tresult = cache[id];\n\t\tdelete cache[id];\n\t\tconf.emit(\"deleteasync\", id, slice.call(result.args, 1));\n\t});\n\n\t// On clear\n\tconf.on(\"clear\", function () {\n\t\tvar oldCache = cache;\n\t\tcache = create(null);\n\t\tconf.emit(\n\t\t\t\"clearasync\", objectMap(oldCache, function (data) { return slice.call(data.args, 1); })\n\t\t);\n\t});\n};\n", "// Deprecated\n\n\"use strict\";\n\nmodule.exports = function (obj) { return typeof obj === \"function\"; };\n", "\"use strict\";\n\nvar isCallable = require(\"./is-callable\");\n\nmodule.exports = function (stringifiable) {\n\ttry {\n\t\tif (stringifiable && isCallable(stringifiable.toString)) return stringifiable.toString();\n\t\treturn String(stringifiable);\n\t} catch (e) {\n\t\tthrow new TypeError(\"Passed argument cannot be stringifed\");\n\t}\n};\n", "\"use strict\";\n\nvar ensureValue   = require(\"./valid-value\")\n  , stringifiable = require(\"./validate-stringifiable\");\n\nmodule.exports = function (value) { return stringifiable(ensureValue(value)); };\n", "\"use strict\";\n\nvar isCallable = require(\"./object/is-callable\");\n\nmodule.exports = function (value) {\n\ttry {\n\t\tif (value && isCallable(value.toString)) return value.toString();\n\t\treturn String(value);\n\t} catch (e) {\n\t\treturn \"<Non-coercible to string value>\";\n\t}\n};\n", "\"use strict\";\n\nvar safeToString = require(\"./safe-to-string\");\n\nvar reNewLine = /[\\n\\r\\u2028\\u2029]/g;\n\nmodule.exports = function (value) {\n\tvar string = safeToString(value);\n\t// Trim if too long\n\tif (string.length > 100) string = string.slice(0, 99) + \"\u2026\";\n\t// Replace eventual new lines\n\tstring = string.replace(reNewLine, function (char) {\n\t\treturn JSON.stringify(char).slice(1, -1);\n\t});\n\treturn string;\n};\n", "module.exports = isPromise;\nmodule.exports.default = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n", "/* eslint max-statements: 0 */\n\n// Support for functions returning promise\n\n\"use strict\";\n\nvar objectMap     = require(\"es5-ext/object/map\")\n  , primitiveSet  = require(\"es5-ext/object/primitive-set\")\n  , ensureString  = require(\"es5-ext/object/validate-stringifiable-value\")\n  , toShortString = require(\"es5-ext/to-short-string-representation\")\n  , isPromise     = require(\"is-promise\")\n  , nextTick      = require(\"next-tick\");\n\nvar create = Object.create\n  , supportedModes = primitiveSet(\"then\", \"then:finally\", \"done\", \"done:finally\");\n\nrequire(\"../lib/registered-extensions\").promise = function (mode, conf) {\n\tvar waiting = create(null), cache = create(null), promises = create(null);\n\n\tif (mode === true) {\n\t\tmode = null;\n\t} else {\n\t\tmode = ensureString(mode);\n\t\tif (!supportedModes[mode]) {\n\t\t\tthrow new TypeError(\"'\" + toShortString(mode) + \"' is not valid promise mode\");\n\t\t}\n\t}\n\n\t// After not from cache call\n\tconf.on(\"set\", function (id, ignore, promise) {\n\t\tvar isFailed = false;\n\n\t\tif (!isPromise(promise)) {\n\t\t\t// Non promise result\n\t\t\tcache[id] = promise;\n\t\t\tconf.emit(\"setasync\", id, 1);\n\t\t\treturn;\n\t\t}\n\t\twaiting[id] = 1;\n\t\tpromises[id] = promise;\n\t\tvar onSuccess = function (result) {\n\t\t\tvar count = waiting[id];\n\t\t\tif (isFailed) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Memoizee error: Detected unordered then|done & finally resolution, which \" +\n\t\t\t\t\t\t\"in turn makes proper detection of success/failure impossible (when in \" +\n\t\t\t\t\t\t\"'done:finally' mode)\\n\" +\n\t\t\t\t\t\t\"Consider to rely on 'then' or 'done' mode instead.\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (!count) return; // Deleted from cache before resolved\n\t\t\tdelete waiting[id];\n\t\t\tcache[id] = result;\n\t\t\tconf.emit(\"setasync\", id, count);\n\t\t};\n\t\tvar onFailure = function () {\n\t\t\tisFailed = true;\n\t\t\tif (!waiting[id]) return; // Deleted from cache (or succeed in case of finally)\n\t\t\tdelete waiting[id];\n\t\t\tdelete promises[id];\n\t\t\tconf.delete(id);\n\t\t};\n\n\t\tvar resolvedMode = mode;\n\t\tif (!resolvedMode) resolvedMode = \"then\";\n\n\t\tif (resolvedMode === \"then\") {\n\t\t\tvar nextTickFailure = function () { nextTick(onFailure); };\n\t\t\t// Eventual finally needs to be attached to non rejected promise\n\t\t\t// (so we not force propagation of unhandled rejection)\n\t\t\tpromise = promise.then(function (result) {\n\t\t\t\tnextTick(onSuccess.bind(this, result));\n\t\t\t}, nextTickFailure);\n\t\t\t// If `finally` is a function we attach to it to remove cancelled promises.\n\t\t\tif (typeof promise.finally === \"function\") {\n\t\t\t\tpromise.finally(nextTickFailure);\n\t\t\t}\n\t\t} else if (resolvedMode === \"done\") {\n\t\t\t// Not recommended, as it may mute any eventual \"Unhandled error\" events\n\t\t\tif (typeof promise.done !== \"function\") {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Memoizee error: Retrieved promise does not implement 'done' \" +\n\t\t\t\t\t\t\"in 'done' mode\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tpromise.done(onSuccess, onFailure);\n\t\t} else if (resolvedMode === \"done:finally\") {\n\t\t\t// The only mode with no side effects assuming library does not throw unconditionally\n\t\t\t// for rejected promises.\n\t\t\tif (typeof promise.done !== \"function\") {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Memoizee error: Retrieved promise does not implement 'done' \" +\n\t\t\t\t\t\t\"in 'done:finally' mode\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (typeof promise.finally !== \"function\") {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Memoizee error: Retrieved promise does not implement 'finally' \" +\n\t\t\t\t\t\t\"in 'done:finally' mode\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tpromise.done(onSuccess);\n\t\t\tpromise.finally(onFailure);\n\t\t}\n\t});\n\n\t// From cache (sync)\n\tconf.on(\"get\", function (id, args, context) {\n\t\tvar promise;\n\t\tif (waiting[id]) {\n\t\t\t++waiting[id]; // Still waiting\n\t\t\treturn;\n\t\t}\n\t\tpromise = promises[id];\n\t\tvar emit = function () { conf.emit(\"getasync\", id, args, context); };\n\t\tif (isPromise(promise)) {\n\t\t\tif (typeof promise.done === \"function\") promise.done(emit);\n\t\t\telse {\n\t\t\t\tpromise.then(function () { nextTick(emit); });\n\t\t\t}\n\t\t} else {\n\t\t\temit();\n\t\t}\n\t});\n\n\t// On delete\n\tconf.on(\"delete\", function (id) {\n\t\tdelete promises[id];\n\t\tif (waiting[id]) {\n\t\t\tdelete waiting[id];\n\t\t\treturn; // Not yet resolved\n\t\t}\n\t\tif (!hasOwnProperty.call(cache, id)) return;\n\t\tvar result = cache[id];\n\t\tdelete cache[id];\n\t\tconf.emit(\"deleteasync\", id, [result]);\n\t});\n\n\t// On clear\n\tconf.on(\"clear\", function () {\n\t\tvar oldCache = cache;\n\t\tcache = create(null);\n\t\twaiting = create(null);\n\t\tpromises = create(null);\n\t\tconf.emit(\"clearasync\", objectMap(oldCache, function (data) { return [data]; }));\n\t});\n};\n", "// Call dispose callback on each cache purge\n\n\"use strict\";\n\nvar callable   = require(\"es5-ext/object/valid-callable\")\n  , forEach    = require(\"es5-ext/object/for-each\")\n  , extensions = require(\"../lib/registered-extensions\")\n  , apply      = Function.prototype.apply;\n\nextensions.dispose = function (dispose, conf, options) {\n\tvar del;\n\tcallable(dispose);\n\tif ((options.async && extensions.async) || (options.promise && extensions.promise)) {\n\t\tconf.on(\n\t\t\t\"deleteasync\",\n\t\t\t(del = function (id, resultArray) { apply.call(dispose, null, resultArray); })\n\t\t);\n\t\tconf.on(\"clearasync\", function (cache) {\n\t\t\tforEach(cache, function (result, id) { del(id, result); });\n\t\t});\n\t\treturn;\n\t}\n\tconf.on(\"delete\", (del = function (id, result) { dispose(result); }));\n\tconf.on(\"clear\", function (cache) {\n\t\tforEach(cache, function (result, id) { del(id, result); });\n\t});\n};\n", "\"use strict\";\n\nmodule.exports = 2147483647;\n", "\"use strict\";\n\nvar toPosInt   = require(\"es5-ext/number/to-pos-integer\")\n  , maxTimeout = require(\"./max-timeout\");\n\nmodule.exports = function (value) {\n\tvalue = toPosInt(value);\n\tif (value > maxTimeout) throw new TypeError(value + \" exceeds maximum possible timeout\");\n\treturn value;\n};\n", "/* eslint consistent-this: 0 */\n\n// Timeout cached values\n\n\"use strict\";\n\nvar aFrom      = require(\"es5-ext/array/from\")\n  , forEach    = require(\"es5-ext/object/for-each\")\n  , nextTick   = require(\"next-tick\")\n  , isPromise  = require(\"is-promise\")\n  , timeout    = require(\"timers-ext/valid-timeout\")\n  , extensions = require(\"../lib/registered-extensions\");\n\nvar noop = Function.prototype, max = Math.max, min = Math.min, create = Object.create;\n\nextensions.maxAge = function (maxAge, conf, options) {\n\tvar timeouts, postfix, preFetchAge, preFetchTimeouts;\n\n\tmaxAge = timeout(maxAge);\n\tif (!maxAge) return;\n\n\ttimeouts = create(null);\n\tpostfix =\n\t\t(options.async && extensions.async) || (options.promise && extensions.promise)\n\t\t\t? \"async\"\n\t\t\t: \"\";\n\tconf.on(\"set\" + postfix, function (id) {\n\t\ttimeouts[id] = setTimeout(function () { conf.delete(id); }, maxAge);\n\t\tif (typeof timeouts[id].unref === \"function\") timeouts[id].unref();\n\t\tif (!preFetchTimeouts) return;\n\t\tif (preFetchTimeouts[id]) {\n\t\t\tif (preFetchTimeouts[id] !== \"nextTick\") clearTimeout(preFetchTimeouts[id]);\n\t\t}\n\t\tpreFetchTimeouts[id] = setTimeout(function () {\n\t\t\tdelete preFetchTimeouts[id];\n\t\t}, preFetchAge);\n\t\tif (typeof preFetchTimeouts[id].unref === \"function\") preFetchTimeouts[id].unref();\n\t});\n\tconf.on(\"delete\" + postfix, function (id) {\n\t\tclearTimeout(timeouts[id]);\n\t\tdelete timeouts[id];\n\t\tif (!preFetchTimeouts) return;\n\t\tif (preFetchTimeouts[id] !== \"nextTick\") clearTimeout(preFetchTimeouts[id]);\n\t\tdelete preFetchTimeouts[id];\n\t});\n\n\tif (options.preFetch) {\n\t\tif (options.preFetch === true || isNaN(options.preFetch)) {\n\t\t\tpreFetchAge = 0.333;\n\t\t} else {\n\t\t\tpreFetchAge = max(min(Number(options.preFetch), 1), 0);\n\t\t}\n\t\tif (preFetchAge) {\n\t\t\tpreFetchTimeouts = {};\n\t\t\tpreFetchAge = (1 - preFetchAge) * maxAge;\n\t\t\tconf.on(\"get\" + postfix, function (id, args, context) {\n\t\t\t\tif (!preFetchTimeouts[id]) {\n\t\t\t\t\tpreFetchTimeouts[id] = \"nextTick\";\n\t\t\t\t\tnextTick(function () {\n\t\t\t\t\t\tvar result;\n\t\t\t\t\t\tif (preFetchTimeouts[id] !== \"nextTick\") return;\n\t\t\t\t\t\tdelete preFetchTimeouts[id];\n\t\t\t\t\t\tconf.delete(id);\n\t\t\t\t\t\tif (options.async) {\n\t\t\t\t\t\t\targs = aFrom(args);\n\t\t\t\t\t\t\targs.push(noop);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = conf.memoized.apply(context, args);\n\t\t\t\t\t\tif (options.promise) {\n\t\t\t\t\t\t\t// Supress eventual error warnings\n\t\t\t\t\t\t\tif (isPromise(result)) {\n\t\t\t\t\t\t\t\tif (typeof result.done === \"function\") result.done(noop, noop);\n\t\t\t\t\t\t\t\telse result.then(noop, noop);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tconf.on(\"clear\" + postfix, function () {\n\t\tforEach(timeouts, function (id) { clearTimeout(id); });\n\t\ttimeouts = {};\n\t\tif (preFetchTimeouts) {\n\t\t\tforEach(preFetchTimeouts, function (id) { if (id !== \"nextTick\") clearTimeout(id); });\n\t\t\tpreFetchTimeouts = {};\n\t\t}\n\t});\n};\n", "'use strict';\n\nvar toPosInt = require('es5-ext/number/to-pos-integer')\n\n  , create = Object.create, hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (limit) {\n\tvar size = 0, base = 1, queue = create(null), map = create(null), index = 0, del;\n\tlimit = toPosInt(limit);\n\treturn {\n\t\thit: function (id) {\n\t\t\tvar oldIndex = map[id], nuIndex = ++index;\n\t\t\tqueue[nuIndex] = id;\n\t\t\tmap[id] = nuIndex;\n\t\t\tif (!oldIndex) {\n\t\t\t\t++size;\n\t\t\t\tif (size <= limit) return;\n\t\t\t\tid = queue[base];\n\t\t\t\tdel(id);\n\t\t\t\treturn id;\n\t\t\t}\n\t\t\tdelete queue[oldIndex];\n\t\t\tif (base !== oldIndex) return;\n\t\t\twhile (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\t\t},\n\t\tdelete: del = function (id) {\n\t\t\tvar oldIndex = map[id];\n\t\t\tif (!oldIndex) return;\n\t\t\tdelete queue[oldIndex];\n\t\t\tdelete map[id];\n\t\t\t--size;\n\t\t\tif (base !== oldIndex) return;\n\t\t\tif (!size) {\n\t\t\t\tindex = 0;\n\t\t\t\tbase = 1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\t\t},\n\t\tclear: function () {\n\t\t\tsize = 0;\n\t\t\tbase = 1;\n\t\t\tqueue = create(null);\n\t\t\tmap = create(null);\n\t\t\tindex = 0;\n\t\t}\n\t};\n};\n", "// Limit cache size, LRU (least recently used) algorithm.\n\n\"use strict\";\n\nvar toPosInteger = require(\"es5-ext/number/to-pos-integer\")\n  , lruQueue     = require(\"lru-queue\")\n  , extensions   = require(\"../lib/registered-extensions\");\n\nextensions.max = function (max, conf, options) {\n\tvar postfix, queue, hit;\n\n\tmax = toPosInteger(max);\n\tif (!max) return;\n\n\tqueue = lruQueue(max);\n\tpostfix =\n\t\t(options.async && extensions.async) || (options.promise && extensions.promise)\n\t\t\t? \"async\"\n\t\t\t: \"\";\n\n\tconf.on(\n\t\t\"set\" + postfix,\n\t\t(hit = function (id) {\n\t\t\tid = queue.hit(id);\n\t\t\tif (id === undefined) return;\n\t\t\tconf.delete(id);\n\t\t})\n\t);\n\tconf.on(\"get\" + postfix, hit);\n\tconf.on(\"delete\" + postfix, queue.delete);\n\tconf.on(\"clear\" + postfix, queue.clear);\n};\n", "// Reference counter, useful for garbage collector like functionality\n\n\"use strict\";\n\nvar d                = require(\"d\")\n  , extensions       = require(\"../lib/registered-extensions\")\n  , create           = Object.create\n  , defineProperties = Object.defineProperties;\n\nextensions.refCounter = function (ignore, conf, options) {\n\tvar cache, postfix;\n\n\tcache = create(null);\n\tpostfix =\n\t\t(options.async && extensions.async) || (options.promise && extensions.promise)\n\t\t\t? \"async\"\n\t\t\t: \"\";\n\n\tconf.on(\"set\" + postfix, function (id, length) { cache[id] = length || 1; });\n\tconf.on(\"get\" + postfix, function (id) { ++cache[id]; });\n\tconf.on(\"delete\" + postfix, function (id) { delete cache[id]; });\n\tconf.on(\"clear\" + postfix, function () { cache = {}; });\n\n\tdefineProperties(conf.memoized, {\n\t\tdeleteRef: d(function () {\n\t\t\tvar id = conf.get(arguments);\n\t\t\tif (id === null) return null;\n\t\t\tif (!cache[id]) return null;\n\t\t\tif (!--cache[id]) {\n\t\t\t\tconf.delete(id);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}),\n\t\tgetRefCount: d(function () {\n\t\t\tvar id = conf.get(arguments);\n\t\t\tif (id === null) return 0;\n\t\t\tif (!cache[id]) return 0;\n\t\t\treturn cache[id];\n\t\t}),\n\t});\n};\n", "\"use strict\";\n\nvar normalizeOpts = require(\"es5-ext/object/normalize-options\")\n  , resolveLength = require(\"./lib/resolve-length\")\n  , plain         = require(\"./plain\");\n\nmodule.exports = function (fn/*, options*/) {\n\tvar options = normalizeOpts(arguments[1]), length;\n\n\tif (!options.normalizer) {\n\t\tlength = options.length = resolveLength(options.length, fn.length, options.async);\n\t\tif (length !== 0) {\n\t\t\tif (options.primitive) {\n\t\t\t\tif (length === false) {\n\t\t\t\t\toptions.normalizer = require(\"./normalizers/primitive\");\n\t\t\t\t} else if (length > 1) {\n\t\t\t\t\toptions.normalizer = require(\"./normalizers/get-primitive-fixed\")(length);\n\t\t\t\t}\n\t\t\t} else if (length === false) options.normalizer = require(\"./normalizers/get\")();\n\t\t\telse if (length === 1) options.normalizer = require(\"./normalizers/get-1\")();\n\t\t\telse options.normalizer = require(\"./normalizers/get-fixed\")(length);\n\t\t}\n\t}\n\n\t// Assure extensions\n\tif (options.async) require(\"./ext/async\");\n\tif (options.promise) require(\"./ext/promise\");\n\tif (options.dispose) require(\"./ext/dispose\");\n\tif (options.maxAge) require(\"./ext/max-age\");\n\tif (options.max) require(\"./ext/max\");\n\tif (options.refCounter) require(\"./ext/ref-counter\");\n\n\treturn plain(fn, options);\n};\n", "\"use strict\";\n\nvar isValue  = require(\"../value/is\")\n  , isObject = require(\"../object/is\");\n\nvar objectToString = Object.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return null;\n\tif (isObject(value)) {\n\t\t// Reject Object.prototype.toString coercion\n\t\tvar valueToString = value.toString;\n\t\tif (typeof valueToString !== \"function\") return null;\n\t\tif (valueToString === objectToString) return null;\n\t\t// Note: It can be object coming from other realm, still as there's no ES3 and CSP compliant\n\t\t// way to resolve its realm's Object.prototype.toString it's left as not addressed edge case\n\t}\n\ttry {\n\t\treturn \"\" + value; // Ensure implicit coercion\n\t} catch (error) {\n\t\treturn null;\n\t}\n};\n", "\"use strict\";\n\nmodule.exports = function (value) {\n\ttry {\n\t\treturn value.toString();\n\t} catch (error) {\n\t\ttry { return String(value); }\n\t\tcatch (error2) { return null; }\n\t}\n};\n", "\"use strict\";\n\nvar safeToString = require(\"./safe-to-string\");\n\nvar reNewLine = /[\\n\\r\\u2028\\u2029]/g;\n\nmodule.exports = function (value) {\n\tvar string = safeToString(value);\n\tif (string === null) return \"<Non-coercible to string value>\";\n\t// Trim if too long\n\tif (string.length > 100) string = string.slice(0, 99) + \"\u2026\";\n\t// Replace eventual new lines\n\tstring = string.replace(reNewLine, function (char) {\n\t\tswitch (char) {\n\t\t\tcase \"\\n\":\n\t\t\t\treturn \"\\\\n\";\n\t\t\tcase \"\\r\":\n\t\t\t\treturn \"\\\\r\";\n\t\t\tcase \"\\u2028\":\n\t\t\t\treturn \"\\\\u2028\";\n\t\t\tcase \"\\u2029\":\n\t\t\t\treturn \"\\\\u2029\";\n\t\t\t/* istanbul ignore next */\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"Unexpected character\");\n\t\t}\n\t});\n\treturn string;\n};\n", "\"use strict\";\n\nvar stringCoerce  = require(\"../string/coerce\")\n  , toShortString = require(\"./to-short-string\");\n\nmodule.exports = function (errorMessage, value, inputOptions) {\n\tif (inputOptions && inputOptions.errorMessage) {\n\t\terrorMessage = stringCoerce(inputOptions.errorMessage);\n\t}\n\n\tvar valueInsertIndex = errorMessage.indexOf(\"%v\");\n\tvar valueToken = valueInsertIndex > -1 ? toShortString(value) : null;\n\tif (inputOptions && inputOptions.name) {\n\t\tvar nameInsertIndex = errorMessage.indexOf(\"%n\");\n\t\tif (nameInsertIndex > -1) {\n\t\t\tif (valueInsertIndex > -1) {\n\t\t\t\tvar firstToken, secondToken, firstInsertIndex, secondInsertIndex;\n\t\t\t\tif (nameInsertIndex > valueInsertIndex) {\n\t\t\t\t\tfirstToken = valueToken;\n\t\t\t\t\tfirstInsertIndex = valueInsertIndex;\n\t\t\t\t\tsecondToken = inputOptions.name;\n\t\t\t\t\tsecondInsertIndex = nameInsertIndex;\n\t\t\t\t} else {\n\t\t\t\t\tfirstToken = inputOptions.name;\n\t\t\t\t\tfirstInsertIndex = nameInsertIndex;\n\t\t\t\t\tsecondToken = valueToken;\n\t\t\t\t\tsecondInsertIndex = valueInsertIndex;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\terrorMessage.slice(0, firstInsertIndex) +\n\t\t\t\t\tfirstToken +\n\t\t\t\t\terrorMessage.slice(firstInsertIndex + 2, secondInsertIndex) +\n\t\t\t\t\tsecondToken +\n\t\t\t\t\terrorMessage.slice(secondInsertIndex + 2)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn (\n\t\t\t\terrorMessage.slice(0, nameInsertIndex) +\n\t\t\t\tinputOptions.name +\n\t\t\t\terrorMessage.slice(nameInsertIndex + 2)\n\t\t\t);\n\t\t}\n\t}\n\tif (valueInsertIndex > -1) {\n\t\treturn (\n\t\t\terrorMessage.slice(0, valueInsertIndex) +\n\t\t\tvalueToken +\n\t\t\terrorMessage.slice(valueInsertIndex + 2)\n\t\t);\n\t}\n\treturn errorMessage;\n};\n", "\"use strict\";\n\nvar isValue             = require(\"../value/is\")\n  , resolveErrorMessage = require(\"./resolve-error-message\");\n\nmodule.exports = function (value, defaultMessage, inputOptions) {\n\tif (inputOptions && !isValue(value)) {\n\t\tif (\"default\" in inputOptions) return inputOptions[\"default\"];\n\t\tif (inputOptions.isOptional) return null;\n\t}\n\tvar ErrorConstructor = (inputOptions && inputOptions.Error) || TypeError;\n\tvar error = new ErrorConstructor(resolveErrorMessage(defaultMessage, value, inputOptions));\n\tif (inputOptions && inputOptions.errorCode) error.code = inputOptions.errorCode;\n\tthrow error;\n};\n", "\"use strict\";\n\nvar resolveException = require(\"../lib/resolve-exception\")\n  , is               = require(\"./is\");\n\nmodule.exports = function (value/*, options*/) {\n\tif (is(value)) return value;\n\tvar options = arguments[1];\n\tvar errorMessage =\n\t\toptions && options.name ? \"Expected a value for %n, received %v\" : \"Cannot use %v\";\n\treturn resolveException(value, errorMessage, options);\n};\n", "\"use strict\";\n\nvar isPlainFunction = require(\"type/plain-function/is\")\n  , ensureValue     = require(\"type/value/ensure\")\n  , isValue         = require(\"type/value/is\")\n  , map             = require(\"es5-ext/object/map\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar call = Function.prototype.call\n  , defineProperty = Object.defineProperty\n  , getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor\n  , getPrototypeOf = Object.getPrototypeOf\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , cacheDesc = { configurable: false, enumerable: false, writable: false, value: null }\n  , define;\n\ndefine = function (name, options) {\n\tvar value, dgs, cacheName, desc, writable = false, resolvable, flat;\n\toptions = Object(ensureValue(options));\n\tcacheName = options.cacheName;\n\tflat = options.flat;\n\tif (!isValue(cacheName)) cacheName = name;\n\tdelete options.cacheName;\n\tvalue = options.value;\n\tresolvable = isPlainFunction(value);\n\tdelete options.value;\n\tdgs = { configurable: Boolean(options.configurable), enumerable: Boolean(options.enumerable) };\n\tif (name !== cacheName) {\n\t\tdgs.get = function () {\n\t\t\tif (hasOwnProperty.call(this, cacheName)) return this[cacheName];\n\t\t\tcacheDesc.value = resolvable ? call.call(value, this, options) : value;\n\t\t\tcacheDesc.writable = writable;\n\t\t\tdefineProperty(this, cacheName, cacheDesc);\n\t\t\tcacheDesc.value = null;\n\t\t\tif (desc) defineProperty(this, name, desc);\n\t\t\treturn this[cacheName];\n\t\t};\n\t} else if (!flat) {\n\t\tdgs.get = function self() {\n\t\t\tvar ownDesc;\n\t\t\tif (hasOwnProperty.call(this, name)) {\n\t\t\t\townDesc = getOwnPropertyDescriptor(this, name);\n\t\t\t\t// It happens in Safari, that getter is still called after property\n\t\t\t\t// was defined with a value, following workarounds that\n\t\t\t\t// While in IE11 it may happen that here ownDesc is undefined (go figure)\n\t\t\t\tif (ownDesc) {\n\t\t\t\t\tif (ownDesc.hasOwnProperty(\"value\")) return ownDesc.value;\n\t\t\t\t\tif (typeof ownDesc.get === \"function\" && ownDesc.get !== self) {\n\t\t\t\t\t\treturn ownDesc.get.call(this);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdesc.value = resolvable ? call.call(value, this, options) : value;\n\t\t\tdefineProperty(this, name, desc);\n\t\t\tdesc.value = null;\n\t\t\treturn this[name];\n\t\t};\n\t} else {\n\t\tdgs.get = function self() {\n\t\t\tvar base = this, ownDesc;\n\t\t\tif (hasOwnProperty.call(this, name)) {\n\t\t\t\t// It happens in Safari, that getter is still called after property\n\t\t\t\t// was defined with a value, following workarounds that\n\t\t\t\townDesc = getOwnPropertyDescriptor(this, name);\n\t\t\t\tif (ownDesc.hasOwnProperty(\"value\")) return ownDesc.value;\n\t\t\t\tif (typeof ownDesc.get === \"function\" && ownDesc.get !== self) {\n\t\t\t\t\treturn ownDesc.get.call(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (!hasOwnProperty.call(base, name)) base = getPrototypeOf(base);\n\t\t\tdesc.value = resolvable ? call.call(value, base, options) : value;\n\t\t\tdefineProperty(base, name, desc);\n\t\t\tdesc.value = null;\n\t\t\treturn base[name];\n\t\t};\n\t}\n\tdgs.set = function (value) {\n\t\tif (hasOwnProperty.call(this, name)) {\n\t\t\tthrow new TypeError(\"Cannot assign to lazy defined '\" + name + \"' property of \" + this);\n\t\t}\n\t\tdgs.get.call(this);\n\t\tthis[cacheName] = value;\n\t};\n\tif (options.desc) {\n\t\tdesc = {\n\t\t\tconfigurable: contains.call(options.desc, \"c\"),\n\t\t\tenumerable: contains.call(options.desc, \"e\")\n\t\t};\n\t\tif (cacheName === name) {\n\t\t\tdesc.writable = contains.call(options.desc, \"w\");\n\t\t\tdesc.value = null;\n\t\t} else {\n\t\t\twritable = contains.call(options.desc, \"w\");\n\t\t\tdesc.get = dgs.get;\n\t\t\tdesc.set = dgs.set;\n\t\t}\n\t\tdelete options.desc;\n\t} else if (cacheName === name) {\n\t\tdesc = {\n\t\t\tconfigurable: Boolean(options.configurable),\n\t\t\tenumerable: Boolean(options.enumerable),\n\t\t\twritable: Boolean(options.writable),\n\t\t\tvalue: null\n\t\t};\n\t}\n\tdelete options.configurable;\n\tdelete options.enumerable;\n\tdelete options.writable;\n\treturn dgs;\n};\n\nmodule.exports = function (props) {\n\treturn map(props, function (desc, name) { return define(name, desc); });\n};\n", "\"use strict\";\n\nvar forEach       = require(\"es5-ext/object/for-each\")\n  , normalizeOpts = require(\"es5-ext/object/normalize-options\")\n  , callable      = require(\"es5-ext/object/valid-callable\")\n  , lazy          = require(\"d/lazy\")\n  , resolveLength = require(\"./resolve-length\")\n  , extensions    = require(\"./registered-extensions\");\n\nmodule.exports = function (memoize) {\n\treturn function (props) {\n\t\tforEach(props, function (desc) {\n\t\t\tvar fn = callable(desc.value), length;\n\t\t\tdesc.value = function (options) {\n\t\t\t\tif (options.getNormalizer) {\n\t\t\t\t\toptions = normalizeOpts(options);\n\t\t\t\t\tif (length === undefined) {\n\t\t\t\t\t\tlength = resolveLength(\n\t\t\t\t\t\t\toptions.length, fn.length, options.async && extensions.async\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\toptions.normalizer = options.getNormalizer(length);\n\t\t\t\t\tdelete options.getNormalizer;\n\t\t\t\t}\n\t\t\t\treturn memoize(fn.bind(this), options);\n\t\t\t};\n\t\t});\n\t\treturn lazy(props);\n\t};\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./lib/methods\")(require(\"./\"));\n", "\"use strict\";\n\nvar value                   = require(\"./valid-value\")\n  , objPropertyIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nmodule.exports = function (obj) {\n\tvar i;\n\tvalue(obj);\n\tfor (i in obj) {\n\t\tif (objPropertyIsEnumerable.call(obj, i)) return i;\n\t}\n\treturn null;\n};\n", "\"use strict\";\n\nvar toPosInt          = require(\"../../number/to-pos-integer\")\n  , callable          = require(\"../../object/valid-callable\")\n  , value             = require(\"../../object/valid-value\")\n  , objHasOwnProperty = Object.prototype.hasOwnProperty\n  , call              = Function.prototype.call;\n\nmodule.exports = function (cb /*, thisArg*/) {\n\tvar i, self, thisArg;\n\n\tself = Object(value(this));\n\tcallable(cb);\n\tthisArg = arguments[1];\n\n\tfor (i = toPosInt(self.length) - 1; i >= 0; --i) {\n\t\tif (objHasOwnProperty.call(self, i)) call.call(cb, thisArg, self[i], i, self);\n\t}\n};\n", "\"use strict\";\n\nvar indexOf = require(\"./e-index-of\")\n  , filter  = Array.prototype.filter\n  , isFirst;\n\nisFirst = function (value, index) { return indexOf.call(this, value) === index; };\n\nmodule.exports = function () { return filter.call(this, isFirst, this); };\n", "\"use strict\";\n\n/* CSI - control sequence introducer */\n/* SGR - set graphic rendition */\n\nvar assign       = require(\"es5-ext/object/assign\")\n  , includes     = require(\"es5-ext/string/#/contains\")\n  , forOwn       = require(\"es5-ext/object/for-each\")\n  , onlyKey      = require(\"es5-ext/object/first-key\")\n  , forEachRight = require(\"es5-ext/array/#/for-each-right\")\n  , uniq         = require(\"es5-ext/array/#/uniq.js\");\n\nvar CSI = \"\\x1b[\";\n\nvar sgr = function (code) { return CSI + code + \"m\"; };\n\nsgr.CSI = CSI;\n\nvar mods = assign(\n\t{\n\t\t// Style\n\t\tbold: { _bold: [1, 22] },\n\t\titalic: { _italic: [3, 23] },\n\t\tunderline: { _underline: [4, 24] },\n\t\tblink: { _blink: [5, 25] },\n\t\tinverse: { _inverse: [7, 27] },\n\t\tstrike: { _strike: [9, 29] }\n\n\t\t// Color\n\t},\n\t[\"black\", \"red\", \"green\", \"yellow\", \"blue\", \"magenta\", \"cyan\", \"white\"].reduce(function (\n\t\tobj,\n\t\tcolor,\n\t\tindex\n\t) {\n\t\t// foreground\n\t\tobj[color] = { _fg: [30 + index, 39] };\n\t\tobj[color + \"Bright\"] = { _fg: [90 + index, 39] };\n\n\t\t// background\n\t\tobj[\"bg\" + color[0].toUpperCase() + color.slice(1)] = { _bg: [40 + index, 49] };\n\t\tobj[\"bg\" + color[0].toUpperCase() + color.slice(1) + \"Bright\"] = { _bg: [100 + index, 49] };\n\n\t\treturn obj;\n\t}, {})\n);\n\nsgr.mods = mods;\n\nsgr.openers = {};\nsgr.closers = {};\n\nforOwn(mods, function (mod) {\n\tvar modPair = mod[onlyKey(mod)];\n\n\tsgr.openers[modPair[0]] = modPair;\n\tsgr.closers[modPair[1]] = modPair;\n});\n\nsgr.openStyle = function (openedMods, code) { openedMods.push(sgr.openers[code]); };\n\nsgr.closeStyle = function (openedMods, code) {\n\tforEachRight.call(openedMods, function (modPair, index) {\n\t\tif (modPair[1] === code) {\n\t\t\topenedMods.splice(index, 1);\n\t\t}\n\t});\n};\n\n/* prepend openers */\nsgr.prepend = function (currentMods) {\n\treturn currentMods.map(function (modPair) { return sgr(modPair[0]); });\n};\n\n/* complete non-closed openers with corresponding closers */\nsgr.complete = function (openedMods, closerCodes) {\n\tcloserCodes.forEach(function (code) { sgr.closeStyle(openedMods, code); });\n\n\t// mods must be closed from the last opened to first opened\n\topenedMods = openedMods.reverse();\n\n\topenedMods = openedMods.map(function (modPair) { return modPair[1]; });\n\n\t// one closer can close many openers (31, 32 -> 39)\n\topenedMods = uniq.call(openedMods);\n\n\treturn openedMods.map(sgr);\n};\n\nvar hasCSI = function (str) { return includes.call(str, CSI); };\n\nsgr.hasCSI = hasCSI;\n\nvar extractCode = function (csi) {\n\tvar code = csi.slice(2, -1);\n\tcode = Number(code);\n\treturn code;\n};\n\nsgr.extractCode = extractCode;\n\nmodule.exports = sgr;\n", "\"use strict\";\n\n// store whether supports-color mode is enabled or not.\nvar state = null;\n\n// force supports-color mode\nvar enableColor = function () { state = true; };\n\n// disable supports-color mode\nvar disableColor = function () { state = false; };\n\n// use the NO_COLOR environment variable (default)\nvar autoDetectSupport = function () { state = null; };\n\n// determine whether supports-color mode is enabled.\nvar isColorSupported = function () { return state === null ? !process.env.NO_COLOR : state; };\n\nmodule.exports = {\n\tenableColor: enableColor,\n\tdisableColor: disableColor,\n\tautoDetectSupport: autoDetectSupport,\n\tisColorSupported: isColorSupported\n};\n", "\"use strict\";\n\nmodule.exports = [\n\t\"000000\", \"800000\", \"008000\", \"808000\", \"000080\", \"800080\", \"008080\", \"c0c0c0\", \"808080\",\n\t\"ff0000\", \"00ff00\", \"ffff00\", \"0000ff\", \"ff00ff\", \"00ffff\", \"ffffff\", \"000000\", \"00005f\",\n\t\"000087\", \"0000af\", \"0000d7\", \"0000ff\", \"005f00\", \"005f5f\", \"005f87\", \"005faf\", \"005fd7\",\n\t\"005fff\", \"008700\", \"00875f\", \"008787\", \"0087af\", \"0087d7\", \"0087ff\", \"00af00\", \"00af5f\",\n\t\"00af87\", \"00afaf\", \"00afd7\", \"00afff\", \"00d700\", \"00d75f\", \"00d787\", \"00d7af\", \"00d7d7\",\n\t\"00d7ff\", \"00ff00\", \"00ff5f\", \"00ff87\", \"00ffaf\", \"00ffd7\", \"00ffff\", \"5f0000\", \"5f005f\",\n\t\"5f0087\", \"5f00af\", \"5f00d7\", \"5f00ff\", \"5f5f00\", \"5f5f5f\", \"5f5f87\", \"5f5faf\", \"5f5fd7\",\n\t\"5f5fff\", \"5f8700\", \"5f875f\", \"5f8787\", \"5f87af\", \"5f87d7\", \"5f87ff\", \"5faf00\", \"5faf5f\",\n\t\"5faf87\", \"5fafaf\", \"5fafd7\", \"5fafff\", \"5fd700\", \"5fd75f\", \"5fd787\", \"5fd7af\", \"5fd7d7\",\n\t\"5fd7ff\", \"5fff00\", \"5fff5f\", \"5fff87\", \"5fffaf\", \"5fffd7\", \"5fffff\", \"870000\", \"87005f\",\n\t\"870087\", \"8700af\", \"8700d7\", \"8700ff\", \"875f00\", \"875f5f\", \"875f87\", \"875faf\", \"875fd7\",\n\t\"875fff\", \"878700\", \"87875f\", \"878787\", \"8787af\", \"8787d7\", \"8787ff\", \"87af00\", \"87af5f\",\n\t\"87af87\", \"87afaf\", \"87afd7\", \"87afff\", \"87d700\", \"87d75f\", \"87d787\", \"87d7af\", \"87d7d7\",\n\t\"87d7ff\", \"87ff00\", \"87ff5f\", \"87ff87\", \"87ffaf\", \"87ffd7\", \"87ffff\", \"af0000\", \"af005f\",\n\t\"af0087\", \"af00af\", \"af00d7\", \"af00ff\", \"af5f00\", \"af5f5f\", \"af5f87\", \"af5faf\", \"af5fd7\",\n\t\"af5fff\", \"af8700\", \"af875f\", \"af8787\", \"af87af\", \"af87d7\", \"af87ff\", \"afaf00\", \"afaf5f\",\n\t\"afaf87\", \"afafaf\", \"afafd7\", \"afafff\", \"afd700\", \"afd75f\", \"afd787\", \"afd7af\", \"afd7d7\",\n\t\"afd7ff\", \"afff00\", \"afff5f\", \"afff87\", \"afffaf\", \"afffd7\", \"afffff\", \"d70000\", \"d7005f\",\n\t\"d70087\", \"d700af\", \"d700d7\", \"d700ff\", \"d75f00\", \"d75f5f\", \"d75f87\", \"d75faf\", \"d75fd7\",\n\t\"d75fff\", \"d78700\", \"d7875f\", \"d78787\", \"d787af\", \"d787d7\", \"d787ff\", \"d7af00\", \"d7af5f\",\n\t\"d7af87\", \"d7afaf\", \"d7afd7\", \"d7afff\", \"d7d700\", \"d7d75f\", \"d7d787\", \"d7d7af\", \"d7d7d7\",\n\t\"d7d7ff\", \"d7ff00\", \"d7ff5f\", \"d7ff87\", \"d7ffaf\", \"d7ffd7\", \"d7ffff\", \"ff0000\", \"ff005f\",\n\t\"ff0087\", \"ff00af\", \"ff00d7\", \"ff00ff\", \"ff5f00\", \"ff5f5f\", \"ff5f87\", \"ff5faf\", \"ff5fd7\",\n\t\"ff5fff\", \"ff8700\", \"ff875f\", \"ff8787\", \"ff87af\", \"ff87d7\", \"ff87ff\", \"ffaf00\", \"ffaf5f\",\n\t\"ffaf87\", \"ffafaf\", \"ffafd7\", \"ffafff\", \"ffd700\", \"ffd75f\", \"ffd787\", \"ffd7af\", \"ffd7d7\",\n\t\"ffd7ff\", \"ffff00\", \"ffff5f\", \"ffff87\", \"ffffaf\", \"ffffd7\", \"ffffff\", \"080808\", \"121212\",\n\t\"1c1c1c\", \"262626\", \"303030\", \"3a3a3a\", \"444444\", \"4e4e4e\", \"585858\", \"626262\", \"6c6c6c\",\n\t\"767676\", \"808080\", \"8a8a8a\", \"949494\", \"9e9e9e\", \"a8a8a8\", \"b2b2b2\", \"bcbcbc\", \"c6c6c6\",\n\t\"d0d0d0\", \"dadada\", \"e4e4e4\", \"eeeeee\"\n];\n", "\"use strict\";\n\nvar push = Array.prototype.push\n  , reduce = Array.prototype.reduce\n  , abs = Math.abs\n  , colors\n  , match\n  , result\n  , i;\n\ncolors = require(\"./xterm-colors\").map(function (color) {\n\treturn {\n\t\tr: parseInt(color.slice(0, 2), 16),\n\t\tg: parseInt(color.slice(2, 4), 16),\n\t\tb: parseInt(color.slice(4), 16)\n\t};\n});\n\nmatch = colors.slice(0, 16);\n\nmodule.exports = result = [];\n\ni = 0;\nwhile (i < 8) {\n\tresult.push(30 + i++);\n}\ni = 0;\nwhile (i < 8) {\n\tresult.push(90 + i++);\n}\npush.apply(\n\tresult,\n\tcolors.slice(16).map(function (data) {\n\t\tvar index, diff = Infinity;\n\t\tmatch.every(function (innerMatch, currentIndex) {\n\t\t\tvar ndiff = reduce.call(\n\t\t\t\t\"rgb\",\n\t\t\t\tfunction (currentDiff, channel) {\n\t\t\t\t\tcurrentDiff += abs(innerMatch[channel] - data[channel]);\n\t\t\t\t\treturn currentDiff;\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t);\n\t\t\tif (ndiff < diff) {\n\t\t\t\tindex = currentIndex;\n\t\t\t\tdiff = ndiff;\n\t\t\t}\n\t\t\treturn ndiff;\n\t\t});\n\t\treturn result[index];\n\t})\n);\n", "\"use strict\";\n\nvar d              = require(\"d\")\n  , assign         = require(\"es5-ext/object/assign\")\n  , forEach        = require(\"es5-ext/object/for-each\")\n  , map            = require(\"es5-ext/object/map\")\n  , primitiveSet   = require(\"es5-ext/object/primitive-set\")\n  , setPrototypeOf = require(\"es5-ext/object/set-prototype-of\")\n  , memoize        = require(\"memoizee\")\n  , memoizeMethods = require(\"memoizee/methods\")\n  , sgr            = require(\"./lib/sgr\")\n  , supportsColor  = require(\"./lib/supports-color\");\n\nvar mods           = sgr.mods\n  , join           = Array.prototype.join\n  , defineProperty = Object.defineProperty\n  , max            = Math.max\n  , min            = Math.min\n  , variantModes   = primitiveSet(\"_fg\", \"_bg\")\n  , xtermMatch     = process.platform === \"win32\" ? require(\"./lib/xterm-match\") : null;\n\nvar getFn;\n\n// Some use cli-color as: console.log(clc.red('Error!'));\n// Which is inefficient as on each call it configures new clc object\n// with memoization we reuse once created object\nvar memoized = memoize(function (scope, mod) {\n\treturn defineProperty(getFn(), \"_cliColorData\", d(assign({}, scope._cliColorData, mod)));\n});\n\nvar proto = Object.create(\n\tFunction.prototype,\n\tassign(\n\t\tmap(mods, function (mod) {\n\t\t\treturn d.gs(function () { return memoized(this, mod); });\n\t\t}),\n\t\tmemoizeMethods({\n\t\t\t// xterm (255) color\n\t\t\txterm: d(function (code) {\n\t\t\t\tcode = isNaN(code) ? 255 : min(max(code, 0), 255);\n\t\t\t\treturn defineProperty(\n\t\t\t\t\tgetFn(), \"_cliColorData\",\n\t\t\t\t\td(\n\t\t\t\t\t\tassign({}, this._cliColorData, {\n\t\t\t\t\t\t\t_fg: [xtermMatch ? xtermMatch[code] : \"38;5;\" + code, 39]\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}),\n\t\t\tbgXterm: d(function (code) {\n\t\t\t\tcode = isNaN(code) ? 255 : min(max(code, 0), 255);\n\t\t\t\treturn defineProperty(\n\t\t\t\t\tgetFn(), \"_cliColorData\",\n\t\t\t\t\td(\n\t\t\t\t\t\tassign({}, this._cliColorData, {\n\t\t\t\t\t\t\t_bg: [xtermMatch ? xtermMatch[code] + 10 : \"48;5;\" + code, 49]\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t})\n\t\t})\n\t)\n);\n\nvar getEndRe = memoize(function (code) { return new RegExp(\"\\x1b\\\\[\" + code + \"m\", \"g\"); }, {\n\tprimitive: true\n});\n\ngetFn = function () {\n\treturn setPrototypeOf(\n\t\tfunction self(/* \u2026msg*/) {\n\t\t\tvar start = \"\"\n\t\t\t  , end = \"\"\n\t\t\t  , msg = join.call(arguments, \" \")\n\t\t\t  , conf = self._cliColorData\n\t\t\t  , hasAnsi = sgr.hasCSI(msg);\n\t\t\tforEach(\n\t\t\t\tconf,\n\t\t\t\tfunction (mod, key) {\n\t\t\t\t\tend = sgr(mod[1]) + end;\n\t\t\t\t\tstart += sgr(mod[0]);\n\t\t\t\t\tif (hasAnsi) {\n\t\t\t\t\t\tmsg = msg.replace(getEndRe(mod[1]), variantModes[key] ? sgr(mod[0]) : \"\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tnull,\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tif (!supportsColor.isColorSupported()) return msg;\n\t\t\treturn start + msg + end;\n\t\t},\n\t\tproto\n\t);\n};\n\nmodule.exports = Object.defineProperties(getFn(), {\n\txtermSupported: d(!xtermMatch),\n\t_cliColorData: d(\"\", {})\n});\n", "\"use strict\";\n\nvar d = require(\"d\");\n\nObject.defineProperties(exports, {\n\twidth: d.gs(\"ce\", function () { return process.stdout.columns || 0; }),\n\theight: d.gs(\"ce\", function () { return process.stdout.rows || 0; })\n});\n", "\"use strict\";\n\nmodule.exports = {\n\tscreen: \"\\x1b[2J\",\n\tscreenLeft: \"\\x1b[1J\",\n\tscreenRight: \"\\x1b[J\",\n\tline: \"\\x1b[2K\",\n\tlineLeft: \"\\x1b[1K\",\n\tlineRight: \"\\x1b[K\"\n};\n", "\"use strict\";\n\nmodule.exports = function () {\n\tvar trunc = Math.trunc;\n\tif (typeof trunc !== \"function\") return false;\n\treturn trunc(13.67) === 13 && trunc(-13.67) === -13;\n};\n", "\"use strict\";\n\nvar floor = Math.floor;\n\nmodule.exports = function (value) {\n\tif (isNaN(value)) return NaN;\n\tvalue = Number(value);\n\tif (value === 0) return value;\n\tif (value === Infinity) return Infinity;\n\tif (value === -Infinity) return -Infinity;\n\tif (value > 0) return floor(value);\n\treturn -floor(-value);\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Math.trunc : require(\"./shim\");\n", "\"use strict\";\n\nvar d     = require(\"d\")\n  , trunc = require(\"es5-ext/math/trunc\");\n\nvar up, down, right, left, abs = Math.abs, floor = Math.floor, max = Math.max;\n\nvar getMove = function (control) {\n\treturn function (num) {\n\t\tnum = isNaN(num) ? 0 : max(floor(num), 0);\n\t\treturn num ? \"\\x1b[\" + num + control : \"\";\n\t};\n};\n\nmodule.exports = Object.defineProperties(\n\tfunction (x, y) {\n\t\tx = isNaN(x) ? 0 : floor(x);\n\t\ty = isNaN(y) ? 0 : floor(y);\n\t\treturn (x > 0 ? right(x) : left(-x)) + (y > 0 ? down(y) : up(-y));\n\t},\n\t{\n\t\tup: d((up = getMove(\"A\"))),\n\t\tdown: d((down = getMove(\"B\"))),\n\t\tright: d((right = getMove(\"C\"))),\n\t\tleft: d((left = getMove(\"D\"))),\n\t\tto: d(function (x, y) {\n\t\t\tx = isNaN(x) ? 1 : max(floor(x), 0) + 1;\n\t\t\ty = isNaN(y) ? 1 : max(floor(y), 0) + 1;\n\t\t\treturn \"\\x1b[\" + y + \";\" + x + \"H\";\n\t\t}),\n\t\tlines: d(function (n) {\n\t\t\tvar dir;\n\t\t\tn = trunc(n) || 0;\n\t\t\tdir = n >= 0 ? \"B\" : \"A\";\n\t\t\tn = floor(abs(n));\n\t\t\treturn \"\\x1b[\" + n + dir + \"\\x1b[1G\";\n\t\t}),\n\t\ttop: d(\"\\x1b[5000F\"),\n\t\tbottom: d(\"\\x1b[5000B\"),\n\t\tlineBegin: d(\"\\x1b[5000D\"),\n\t\tlineEnd: d(\"\\x1b[5000C\")\n\t}\n);\n", "\"use strict\";\n\nmodule.exports = \"\\x07\";\n", "\"use strict\";\n\nvar toPosInt = require(\"../number/to-pos-integer\")\n  , value    = require(\"../object/valid-value\")\n  , slice    = Array.prototype.slice;\n\nmodule.exports = function (length /*, \u2026fill*/) {\n\tvar arr, currentLength;\n\tlength = toPosInt(value(length));\n\tif (length === 0) return [];\n\n\tarr = arguments.length < 2 ? [undefined] : slice.call(arguments, 1, 1 + length);\n\n\twhile ((currentLength = arr.length) < length) {\n\t\tarr = arr.concat(arr.slice(0, length - currentLength));\n\t}\n\treturn arr;\n};\n", "\"use strict\";\n\nvar isFunction = require(\"../function/is-function\")\n  , isObject   = require(\"./is-object\")\n  , isValue    = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\treturn (\n\t\t(isValue(value) &&\n\t\t\ttypeof value.length === \"number\" &&\n\t\t\t// Just checking ((typeof x === 'object') && (typeof x !== 'function'))\n\t\t\t// won't work right for some cases, e.g.:\n\t\t\t// type of instance of NodeList in Safari is a 'function'\n\t\t\t((isObject(value) && !isFunction(value)) || typeof value === \"string\")) ||\n\t\tfalse\n\t);\n};\n", "\"use strict\";\n\nvar iteratorSymbol = require(\"es6-symbol\").iterator\n  , isValue        = require(\"../object/is-value\")\n  , isArrayLike    = require(\"../object/is-array-like\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\tif (typeof value[iteratorSymbol] === \"function\") return true;\n\treturn isArrayLike(value);\n};\n", "\"use strict\";\n\nvar isObject = require(\"../object/is-object\")\n  , is       = require(\"./is\");\n\nmodule.exports = function (value) {\n\tif (is(value) && isObject(value)) return value;\n\tthrow new TypeError(value + \" is not an iterable or array-like object\");\n};\n", "\"use strict\";\n\nvar str = \"foo\";\n\nmodule.exports = function () {\n\tif (typeof str.repeat !== \"function\") return false;\n\treturn str.repeat(2) === \"foofoo\";\n};\n", "// Thanks\n// @rauchma http://www.2ality.com/2014/01/efficient-string-repeat.html\n// @mathiasbynens https://github.com/mathiasbynens/String.prototype.repeat/blob/4a4b567def/repeat.js\n\n\"use strict\";\n\nvar value     = require(\"../../../object/valid-value\")\n  , toInteger = require(\"../../../number/to-integer\");\n\nmodule.exports = function (count) {\n\tvar str = String(value(this)), result;\n\tcount = toInteger(count);\n\tif (count < 0) throw new RangeError(\"Count must be >= 0\");\n\tif (!isFinite(count)) throw new RangeError(\"Count must be < \u221E\");\n\n\tresult = \"\";\n\twhile (count) {\n\t\tif (count % 2) result += str;\n\t\tif (count > 1) str += str;\n\t\t// eslint-disable-next-line no-bitwise\n\t\tcount >>= 1;\n\t}\n\treturn result;\n};\n", "\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.repeat : require(\"./shim\");\n", "\"use strict\";\n\nmodule.exports = function () {\n\t// Borrowed from ansi-regex package\n\t// https://github.com/chalk/ansi-regex/blob/a28b8e7ee67aa9996ba44bf123f0436eea62d285/index.js\n\n\treturn new RegExp(\n\t\t\"[\\\\u001B\\\\u009B][[\\\\]()#;?]\" +\n\t\t\t\"*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]\" +\n\t\t\t\"+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)\" +\n\t\t\t\"|\" +\n\t\t\t\"(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))\",\n\t\t\"g\"\n\t);\n};\n", "// Strip ANSI formatting from string\n\n\"use strict\";\n\nvar stringifiable = require(\"es5-ext/object/validate-stringifiable\")\n  , r             = require(\"./regex-ansi\")();\n\nmodule.exports = function (str) { return stringifiable(str).replace(r, \"\"); };\n", "\"use strict\";\n\n/*\n * get actual length of ANSI-formatted string\n */\n\nvar strip = require(\"./strip\");\n\nmodule.exports = function (str) { return strip(str).length; };\n", "\"use strict\";\n\nvar generate          = require(\"es5-ext/array/generate\")\n  , from              = require(\"es5-ext/array/from\")\n  , iterable          = require(\"es5-ext/iterable/validate-object\")\n  , isValue           = require(\"es5-ext/object/is-value\")\n  , stringifiable     = require(\"es5-ext/object/validate-stringifiable\")\n  , repeat            = require(\"es5-ext/string/#/repeat\")\n  , getStrippedLength = require(\"./get-stripped-length\");\n\nvar push = Array.prototype.push;\n\nmodule.exports = function (inputRows /*, options*/) {\n\tvar options = Object(arguments[1])\n\t  , colsMeta = []\n\t  , colsOptions = options.columns || []\n\t  , rows = [];\n\n\tfrom(iterable(inputRows), function (row) {\n\t\tvar rowRows = [[]];\n\t\tfrom(iterable(row), function (cellStr, columnIndex) {\n\t\t\tvar cellRows = stringifiable(cellStr).split(\"\\n\");\n\t\t\twhile (cellRows.length > rowRows.length) rowRows.push(generate(columnIndex, \"\"));\n\t\t\tcellRows.forEach(function (cellRow, rowRowIndex) {\n\t\t\t\trowRows[rowRowIndex][columnIndex] = cellRow;\n\t\t\t});\n\t\t});\n\t\tpush.apply(rows, rowRows);\n\t});\n\n\treturn (\n\t\trows\n\t\t\t.map(function (row) {\n\t\t\t\treturn from(iterable(row), function (str, index) {\n\t\t\t\t\tvar col = colsMeta[index], strLength;\n\t\t\t\t\tif (!col) col = colsMeta[index] = { width: 0 };\n\t\t\t\t\tstr = stringifiable(str);\n\t\t\t\t\tstrLength = getStrippedLength(str);\n\t\t\t\t\tif (strLength > col.width) col.width = strLength;\n\t\t\t\t\treturn { str: str, length: strLength };\n\t\t\t\t});\n\t\t\t})\n\t\t\t.map(function (row) {\n\t\t\t\treturn row\n\t\t\t\t\t.map(function (item, index) {\n\t\t\t\t\t\tvar pad, align = \"left\", colOptions = colsOptions && colsOptions[index];\n\t\t\t\t\t\talign = colOptions && colOptions.align === \"right\" ? \"right\" : \"left\";\n\t\t\t\t\t\tpad = repeat.call(\" \", colsMeta[index].width - item.length);\n\t\t\t\t\t\tif (align === \"left\") return item.str + pad;\n\t\t\t\t\t\treturn pad + item.str;\n\t\t\t\t\t})\n\t\t\t\t\t.join(isValue(options.sep) ? options.sep : \" | \");\n\t\t\t})\n\t\t\t.join(\"\\n\") + \"\\n\"\n\t);\n};\n", "/* eslint max-lines: \"off\" */\n\n\"use strict\";\n\nvar reAnsi        = require(\"./regex-ansi\")\n  , stringifiable = require(\"es5-ext/object/validate-stringifiable-value\")\n  , length        = require(\"./get-stripped-length\")\n  , sgr           = require(\"./lib/sgr\")\n  , max           = Math.max;\n\nvar Token = function (token) { this.token = token; };\n\nvar tokenize = function (str) {\n\tvar match = reAnsi().exec(str);\n\n\tif (!match) {\n\t\treturn [str];\n\t}\n\n\tvar index = match.index, head, prehead, tail;\n\n\tif (index === 0) {\n\t\thead = match[0];\n\t\ttail = str.slice(head.length);\n\n\t\treturn [new Token(head)].concat(tokenize(tail));\n\t}\n\n\tprehead = str.slice(0, index);\n\thead = match[0];\n\ttail = str.slice(index + head.length);\n\n\treturn [prehead, new Token(head)].concat(tokenize(tail));\n};\n\nvar isChunkInSlice = function (chunk, index, begin, end) {\n\tvar endIndex = chunk.length + index;\n\n\tif (begin > endIndex) return false;\n\tif (end < index) return false;\n\treturn true;\n};\n\n// eslint-disable-next-line max-lines-per-function\nvar sliceSeq = function (seq, begin, end) {\n\tvar sliced = seq.reduce(\n\t\tfunction (state, chunk) {\n\t\t\tvar index = state.index;\n\n\t\t\tif (chunk instanceof Token) {\n\t\t\t\tvar code = sgr.extractCode(chunk.token);\n\n\t\t\t\tif (index <= begin) {\n\t\t\t\t\tif (code in sgr.openers) {\n\t\t\t\t\t\tsgr.openStyle(state.preOpeners, code);\n\t\t\t\t\t}\n\t\t\t\t\tif (code in sgr.closers) {\n\t\t\t\t\t\tsgr.closeStyle(state.preOpeners, code);\n\t\t\t\t\t}\n\t\t\t\t} else if (index < end) {\n\t\t\t\t\tif (code in sgr.openers) {\n\t\t\t\t\t\tsgr.openStyle(state.inOpeners, code);\n\t\t\t\t\t\tstate.seq.push(chunk);\n\t\t\t\t\t} else if (code in sgr.closers) {\n\t\t\t\t\t\tstate.inClosers.push(code);\n\t\t\t\t\t\tstate.seq.push(chunk);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar nextChunk = \"\";\n\n\t\t\t\tif (isChunkInSlice(chunk, index, begin, end)) {\n\t\t\t\t\tvar relBegin = Math.max(begin - index, 0)\n\t\t\t\t\t  , relEnd = Math.min(end - index, chunk.length);\n\n\t\t\t\t\tnextChunk = chunk.slice(relBegin, relEnd);\n\t\t\t\t}\n\n\t\t\t\tstate.seq.push(nextChunk);\n\t\t\t\tstate.index = index + chunk.length;\n\t\t\t}\n\n\t\t\treturn state;\n\t\t},\n\t\t{\n\t\t\tindex: 0,\n\t\t\tseq: [],\n\n\t\t\t// preOpeners -> [ mod ]\n\t\t\t// preOpeners must be prepended to the slice if they wasn't closed til the end of it\n\t\t\t// preOpeners must be closed if they wasn't closed til the end of the slice\n\t\t\tpreOpeners: [],\n\n\t\t\t// inOpeners  -> [ mod ]\n\t\t\t// inOpeners already in the slice and must not be prepended to the slice\n\t\t\t// inOpeners must be closed if they wasn't closed til the end of the slice\n\t\t\tinOpeners: [], // opener CSI inside slice\n\n\t\t\t// inClosers -> [ code ]\n\t\t\t// closer CSIs for determining which pre/in-Openers must be closed\n\t\t\tinClosers: []\n\t\t}\n\t);\n\n\tsliced.seq = [].concat(\n\t\tsgr.prepend(sliced.preOpeners), sliced.seq,\n\t\tsgr.complete([].concat(sliced.preOpeners, sliced.inOpeners), sliced.inClosers)\n\t);\n\n\treturn sliced.seq;\n};\n\nmodule.exports = function (str /*, begin, end*/) {\n\tvar seq, begin = Number(arguments[1]), end = Number(arguments[2]), len;\n\n\tstr = stringifiable(str);\n\tlen = length(str);\n\n\tif (isNaN(begin)) {\n\t\tbegin = 0;\n\t}\n\tif (isNaN(end)) {\n\t\tend = len;\n\t}\n\tif (begin < 0) {\n\t\tbegin = max(len + begin, 0);\n\t}\n\tif (end < 0) {\n\t\tend = max(len + end, 0);\n\t}\n\n\tseq = tokenize(str);\n\tseq = sliceSeq(seq, begin, end);\n\treturn seq\n\t\t.map(function (chunk) {\n\t\t\tif (chunk instanceof Token) {\n\t\t\t\treturn chunk.token;\n\t\t\t}\n\n\t\t\treturn chunk;\n\t\t})\n\t\t.join(\"\");\n};\n", "\"use strict\";\n\nvar isValue  = require(\"../../object/is-value\")\n  , callable = require(\"../../object/valid-callable\")\n  , aFrom    = require(\"../../array/from\");\n\nvar apply = Function.prototype.apply\n  , call = Function.prototype.call\n  , callFn = function (arg, fn) { return call.call(fn, this, arg); };\n\nmodule.exports = function (fnIgnored /*, \u2026fnn*/) {\n\tvar fns, first;\n\tvar args = aFrom(arguments);\n\tfns = isValue(this) ? [this].concat(args) : args;\n\tfns.forEach(callable);\n\tfns = fns.reverse();\n\tfirst = fns[0];\n\tfns = fns.slice(1);\n\treturn function (argIgnored) { return fns.reduce(callFn, apply.call(first, this, arguments)); };\n};\n", "\"use strict\";\n\nvar compose      = require(\"es5-ext/function/#/compose\")\n  , callable     = require(\"es5-ext/object/valid-callable\")\n  , d            = require(\"d\")\n  , validTimeout = require(\"timers-ext/valid-timeout\");\n\nvar chars = \"-\\\\|/\", l = chars.length, ThrobberIterator;\n\nThrobberIterator = function () {\n\t// no setup needed\n};\nObject.defineProperties(ThrobberIterator.prototype, {\n\tindex: d(-1),\n\trunning: d(false),\n\tnext: d(function () {\n\t\tvar str = this.running ? \"\\u0008\" : \"\";\n\t\tif (!this.running) this.running = true;\n\t\treturn str + chars[(this.index = (this.index + 1) % l)];\n\t}),\n\treset: d(function () {\n\t\tif (!this.running) return \"\";\n\t\tthis.index = -1;\n\t\tthis.running = false;\n\t\treturn \"\\u0008\";\n\t})\n});\n\nmodule.exports = exports = function (write, interval /*, format*/) {\n\tvar format = arguments[2], token, iterator = new ThrobberIterator();\n\tcallable(write);\n\tinterval = validTimeout(interval);\n\tif (format !== undefined) write = compose.call(write, callable(format));\n\treturn {\n\t\tstart: function () {\n\t\t\tif (token) return;\n\t\t\ttoken = setInterval(function () { write(iterator.next()); }, interval);\n\t\t},\n\t\trestart: function () {\n\t\t\tthis.stop();\n\t\t\tthis.start();\n\t\t},\n\t\tstop: function () {\n\t\t\tif (!token) return;\n\t\t\tclearInterval(token);\n\t\t\ttoken = null;\n\t\t\twrite(iterator.reset());\n\t\t}\n\t};\n};\n\nObject.defineProperty(exports, \"Iterator\", d(ThrobberIterator));\n", "\"use strict\";\n\nmodule.exports = \"\\x1b[2J\\x1b[0;0H\";\n", "\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n", "// Inspired by Google Closure:\n// http://closure-library.googlecode.com/svn/docs/\n// closure_goog_array_array.js.html#goog.array.clear\n\n\"use strict\";\n\nvar value = require(\"../../object/valid-value\");\n\nmodule.exports = function () {\n\tvalue(this).length = 0;\n\treturn this;\n};\n", "\"use strict\";\n\nvar resolveException = require(\"../lib/resolve-exception\")\n  , is               = require(\"./is\");\n\nmodule.exports = function (value/*, options*/) {\n\tif (is(value)) return value;\n\tvar options = arguments[1];\n\tvar errorMessage =\n\t\toptions && options.name\n\t\t\t? \"Expected a plain function for %n, received %v\"\n\t\t\t: \"%v is not a plain function\";\n\treturn resolveException(value, errorMessage, options);\n};\n", "\"use strict\";\n\nvar aFrom  = require(\"../array/from\")\n  , assign = require(\"./assign\")\n  , value  = require(\"./valid-value\");\n\nmodule.exports = function (obj /*, propertyNames, options*/) {\n\tvar copy = Object(value(obj)), propertyNames = arguments[1], options = Object(arguments[2]);\n\tif (copy !== obj && !propertyNames) return copy;\n\tvar result = {};\n\tif (propertyNames) {\n\t\taFrom(propertyNames, function (propertyName) {\n\t\t\tif (options.ensure || propertyName in obj) result[propertyName] = obj[propertyName];\n\t\t});\n\t} else {\n\t\tassign(result, obj);\n\t}\n\treturn result;\n};\n", "\"use strict\";\n\nvar isValue             = require(\"type/value/is\")\n  , ensureValue         = require(\"type/value/ensure\")\n  , ensurePlainFunction = require(\"type/plain-function/ensure\")\n  , copy                = require(\"es5-ext/object/copy\")\n  , normalizeOptions    = require(\"es5-ext/object/normalize-options\")\n  , map                 = require(\"es5-ext/object/map\");\n\nvar bind = Function.prototype.bind\n  , defineProperty = Object.defineProperty\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , define;\n\ndefine = function (name, desc, options) {\n\tvar value = ensureValue(desc) && ensurePlainFunction(desc.value), dgs;\n\tdgs = copy(desc);\n\tdelete dgs.writable;\n\tdelete dgs.value;\n\tdgs.get = function () {\n\t\tif (!options.overwriteDefinition && hasOwnProperty.call(this, name)) return value;\n\t\tdesc.value = bind.call(value, options.resolveContext ? options.resolveContext(this) : this);\n\t\tdefineProperty(this, name, desc);\n\t\treturn this[name];\n\t};\n\treturn dgs;\n};\n\nmodule.exports = function (props/*, options*/) {\n\tvar options = normalizeOptions(arguments[1]);\n\tif (isValue(options.resolveContext)) ensurePlainFunction(options.resolveContext);\n\treturn map(props, function (desc, name) { return define(name, desc, options); });\n};\n", "\"use strict\";\n\nvar clear    = require(\"es5-ext/array/#/clear\")\n  , assign   = require(\"es5-ext/object/assign\")\n  , callable = require(\"es5-ext/object/valid-callable\")\n  , value    = require(\"es5-ext/object/valid-value\")\n  , d        = require(\"d\")\n  , autoBind = require(\"d/auto-bind\")\n  , Symbol   = require(\"es6-symbol\");\n\nvar defineProperty = Object.defineProperty, defineProperties = Object.defineProperties, Iterator;\n\nmodule.exports = Iterator = function (list, context) {\n\tif (!(this instanceof Iterator)) throw new TypeError(\"Constructor requires 'new'\");\n\tdefineProperties(this, {\n\t\t__list__: d(\"w\", value(list)),\n\t\t__context__: d(\"w\", context),\n\t\t__nextIndex__: d(\"w\", 0)\n\t});\n\tif (!context) return;\n\tcallable(context.on);\n\tcontext.on(\"_add\", this._onAdd);\n\tcontext.on(\"_delete\", this._onDelete);\n\tcontext.on(\"_clear\", this._onClear);\n};\n\n// Internal %IteratorPrototype% doesn't expose its constructor\ndelete Iterator.prototype.constructor;\n\ndefineProperties(\n\tIterator.prototype,\n\tassign(\n\t\t{\n\t\t\t_next: d(function () {\n\t\t\t\tvar i;\n\t\t\t\tif (!this.__list__) return undefined;\n\t\t\t\tif (this.__redo__) {\n\t\t\t\t\ti = this.__redo__.shift();\n\t\t\t\t\tif (i !== undefined) return i;\n\t\t\t\t}\n\t\t\t\tif (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;\n\t\t\t\tthis._unBind();\n\t\t\t\treturn undefined;\n\t\t\t}),\n\t\t\tnext: d(function () {\n\t\t\t\treturn this._createResult(this._next());\n\t\t\t}),\n\t\t\t_createResult: d(function (i) {\n\t\t\t\tif (i === undefined) return { done: true, value: undefined };\n\t\t\t\treturn { done: false, value: this._resolve(i) };\n\t\t\t}),\n\t\t\t_resolve: d(function (i) {\n\t\t\t\treturn this.__list__[i];\n\t\t\t}),\n\t\t\t_unBind: d(function () {\n\t\t\t\tthis.__list__ = null;\n\t\t\t\tdelete this.__redo__;\n\t\t\t\tif (!this.__context__) return;\n\t\t\t\tthis.__context__.off(\"_add\", this._onAdd);\n\t\t\t\tthis.__context__.off(\"_delete\", this._onDelete);\n\t\t\t\tthis.__context__.off(\"_clear\", this._onClear);\n\t\t\t\tthis.__context__ = null;\n\t\t\t}),\n\t\t\ttoString: d(function () {\n\t\t\t\treturn \"[object \" + (this[Symbol.toStringTag] || \"Object\") + \"]\";\n\t\t\t})\n\t\t},\n\t\tautoBind({\n\t\t\t_onAdd: d(function (index) {\n\t\t\t\tif (index >= this.__nextIndex__) return;\n\t\t\t\t++this.__nextIndex__;\n\t\t\t\tif (!this.__redo__) {\n\t\t\t\t\tdefineProperty(this, \"__redo__\", d(\"c\", [index]));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.__redo__.forEach(function (redo, i) {\n\t\t\t\t\tif (redo >= index) this.__redo__[i] = ++redo;\n\t\t\t\t}, this);\n\t\t\t\tthis.__redo__.push(index);\n\t\t\t}),\n\t\t\t_onDelete: d(function (index) {\n\t\t\t\tvar i;\n\t\t\t\tif (index >= this.__nextIndex__) return;\n\t\t\t\t--this.__nextIndex__;\n\t\t\t\tif (!this.__redo__) return;\n\t\t\t\ti = this.__redo__.indexOf(index);\n\t\t\t\tif (i !== -1) this.__redo__.splice(i, 1);\n\t\t\t\tthis.__redo__.forEach(function (redo, j) {\n\t\t\t\t\tif (redo > index) this.__redo__[j] = --redo;\n\t\t\t\t}, this);\n\t\t\t}),\n\t\t\t_onClear: d(function () {\n\t\t\t\tif (this.__redo__) clear.call(this.__redo__);\n\t\t\t\tthis.__nextIndex__ = 0;\n\t\t\t})\n\t\t})\n\t)\n);\n\ndefineProperty(\n\tIterator.prototype,\n\tSymbol.iterator,\n\td(function () {\n\t\treturn this;\n\t})\n);\n", "\"use strict\";\n\nvar setPrototypeOf = require(\"es5-ext/object/set-prototype-of\")\n  , contains       = require(\"es5-ext/string/#/contains\")\n  , d              = require(\"d\")\n  , Symbol         = require(\"es6-symbol\")\n  , Iterator       = require(\"./\");\n\nvar defineProperty = Object.defineProperty, ArrayIterator;\n\nArrayIterator = module.exports = function (arr, kind) {\n\tif (!(this instanceof ArrayIterator)) throw new TypeError(\"Constructor requires 'new'\");\n\tIterator.call(this, arr);\n\tif (!kind) kind = \"value\";\n\telse if (contains.call(kind, \"key+value\")) kind = \"key+value\";\n\telse if (contains.call(kind, \"key\")) kind = \"key\";\n\telse kind = \"value\";\n\tdefineProperty(this, \"__kind__\", d(\"\", kind));\n};\nif (setPrototypeOf) setPrototypeOf(ArrayIterator, Iterator);\n\n// Internal %ArrayIteratorPrototype% doesn't expose its constructor\ndelete ArrayIterator.prototype.constructor;\n\nArrayIterator.prototype = Object.create(Iterator.prototype, {\n\t_resolve: d(function (i) {\n\t\tif (this.__kind__ === \"value\") return this.__list__[i];\n\t\tif (this.__kind__ === \"key+value\") return [i, this.__list__[i]];\n\t\treturn i;\n\t})\n});\ndefineProperty(ArrayIterator.prototype, Symbol.toStringTag, d(\"c\", \"Array Iterator\"));\n", "// Thanks @mathiasbynens\n// http://mathiasbynens.be/notes/javascript-unicode#iterating-over-symbols\n\n\"use strict\";\n\nvar setPrototypeOf = require(\"es5-ext/object/set-prototype-of\")\n  , d              = require(\"d\")\n  , Symbol         = require(\"es6-symbol\")\n  , Iterator       = require(\"./\");\n\nvar defineProperty = Object.defineProperty, StringIterator;\n\nStringIterator = module.exports = function (str) {\n\tif (!(this instanceof StringIterator)) throw new TypeError(\"Constructor requires 'new'\");\n\tstr = String(str);\n\tIterator.call(this, str);\n\tdefineProperty(this, \"__length__\", d(\"\", str.length));\n};\nif (setPrototypeOf) setPrototypeOf(StringIterator, Iterator);\n\n// Internal %ArrayIteratorPrototype% doesn't expose its constructor\ndelete StringIterator.prototype.constructor;\n\nStringIterator.prototype = Object.create(Iterator.prototype, {\n\t_next: d(function () {\n\t\tif (!this.__list__) return undefined;\n\t\tif (this.__nextIndex__ < this.__length__) return this.__nextIndex__++;\n\t\tthis._unBind();\n\t\treturn undefined;\n\t}),\n\t_resolve: d(function (i) {\n\t\tvar char = this.__list__[i], code;\n\t\tif (this.__nextIndex__ === this.__length__) return char;\n\t\tcode = char.charCodeAt(0);\n\t\tif (code >= 0xd800 && code <= 0xdbff) return char + this.__list__[this.__nextIndex__++];\n\t\treturn char;\n\t})\n});\ndefineProperty(StringIterator.prototype, Symbol.toStringTag, d(\"c\", \"String Iterator\"));\n", "\"use strict\";\n\nvar isArguments = require(\"es5-ext/function/is-arguments\")\n  , isValue     = require(\"es5-ext/object/is-value\")\n  , isString    = require(\"es5-ext/string/is-string\");\n\nvar iteratorSymbol = require(\"es6-symbol\").iterator\n  , isArray        = Array.isArray;\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\tif (isArray(value)) return true;\n\tif (isString(value)) return true;\n\tif (isArguments(value)) return true;\n\treturn typeof value[iteratorSymbol] === \"function\";\n};\n", "\"use strict\";\n\nvar isIterable = require(\"./is-iterable\");\n\nmodule.exports = function (value) {\n\tif (!isIterable(value)) throw new TypeError(value + \" is not iterable\");\n\treturn value;\n};\n", "\"use strict\";\n\nvar isArguments    = require(\"es5-ext/function/is-arguments\")\n  , isString       = require(\"es5-ext/string/is-string\")\n  , ArrayIterator  = require(\"./array\")\n  , StringIterator = require(\"./string\")\n  , iterable       = require(\"./valid-iterable\")\n  , iteratorSymbol = require(\"es6-symbol\").iterator;\n\nmodule.exports = function (obj) {\n\tif (typeof iterable(obj)[iteratorSymbol] === \"function\") return obj[iteratorSymbol]();\n\tif (isArguments(obj)) return new ArrayIterator(obj);\n\tif (isString(obj)) return new StringIterator(obj);\n\treturn new ArrayIterator(obj);\n};\n", "\"use strict\";\n\nvar isArguments = require(\"es5-ext/function/is-arguments\")\n  , callable    = require(\"es5-ext/object/valid-callable\")\n  , isString    = require(\"es5-ext/string/is-string\")\n  , get         = require(\"./get\");\n\nvar isArray = Array.isArray, call = Function.prototype.call, some = Array.prototype.some;\n\nmodule.exports = function (iterable, cb /*, thisArg*/) {\n\tvar mode, thisArg = arguments[2], result, doBreak, broken, i, length, char, code;\n\tif (isArray(iterable) || isArguments(iterable)) mode = \"array\";\n\telse if (isString(iterable)) mode = \"string\";\n\telse iterable = get(iterable);\n\n\tcallable(cb);\n\tdoBreak = function () {\n\t\tbroken = true;\n\t};\n\tif (mode === \"array\") {\n\t\tsome.call(iterable, function (value) {\n\t\t\tcall.call(cb, thisArg, value, doBreak);\n\t\t\treturn broken;\n\t\t});\n\t\treturn;\n\t}\n\tif (mode === \"string\") {\n\t\tlength = iterable.length;\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\tchar = iterable[i];\n\t\t\tif (i + 1 < length) {\n\t\t\t\tcode = char.charCodeAt(0);\n\t\t\t\tif (code >= 0xd800 && code <= 0xdbff) char += iterable[++i];\n\t\t\t}\n\t\t\tcall.call(cb, thisArg, char, doBreak);\n\t\t\tif (broken) break;\n\t\t}\n\t\treturn;\n\t}\n\tresult = iterable.next();\n\n\twhile (!result.done) {\n\t\tcall.call(cb, thisArg, result.value, doBreak);\n\t\tif (broken) return;\n\t\tresult = iterable.next();\n\t}\n};\n", "\"use strict\";\n\nvar object        = require(\"es5-ext/object/valid-object\")\n  , stringifiable = require(\"es5-ext/object/validate-stringifiable-value\")\n  , forOf         = require(\"es6-iterator/for-of\");\n\nmodule.exports = function (text, style) {\n\tvar result = \"\";\n\ttext = stringifiable(text);\n\tobject(style);\n\tforOf(text, function (char) { result += style[char] || char; });\n\treturn result;\n};\n", "\"use strict\";\n\nvar d = require(\"d\");\n\nmodule.exports = Object.defineProperties(require(\"./bare\"), {\n\twindowSize: d(require(\"./window-size\")),\n\terase: d(require(\"./erase\")),\n\tmove: d(require(\"./move\")),\n\tbeep: d(require(\"./beep\")),\n\tcolumns: d(require(\"./columns\")),\n\tstrip: d(require(\"./strip\")),\n\tgetStrippedLength: d(require(\"./get-stripped-length\")),\n\tslice: d(require(\"./slice\")),\n\tthrobber: d(require(\"./throbber\")),\n\treset: d(require(\"./reset\")),\n\tart: d(require(\"./art\"))\n});\n", "[\n  \"|/-\\\\\",\n  \"\u2802-\u2013\u2014\u2013-\",\n  \"\u25D0\u25D3\u25D1\u25D2\",\n  \"\u25F4\u25F7\u25F6\u25F5\",\n  \"\u25F0\u25F3\u25F2\u25F1\",\n  \"\u2596\u2598\u259D\u2597\",\n  \"\u25A0\u25A1\u25AA\u25AB\",\n  \"\u258C\u2580\u2590\u2584\",\n  \"\u2589\u258A\u258B\u258C\u258D\u258E\u258F\u258E\u258D\u258C\u258B\u258A\u2589\",\n  \"\u2581\u2583\u2584\u2585\u2586\u2587\u2588\u2587\u2586\u2585\u2584\u2583\",\n  \"\u2190\u2196\u2191\u2197\u2192\u2198\u2193\u2199\",\n  \"\u2524\u2518\u2534\u2514\u251C\u250C\u252C\u2510\",\n  \"\u25E2\u25E3\u25E4\u25E5\",\n  \".oO\u00B0Oo.\",\n  \".oO@*\",\n  [\"\uD83C\uDF0D\", \"\uD83C\uDF0E\", \"\uD83C\uDF0F\"],\n  \"\u25E1\u25E1 \u2299\u2299 \u25E0\u25E0\",\n  \"\u2631\u2632\u2634\",\n  \"\u280B\u2819\u2839\u2838\u283C\u2834\u2826\u2827\u2807\u280F\",\n  \"\u280B\u2819\u281A\u281E\u2816\u2826\u2834\u2832\u2833\u2813\",\n  \"\u2804\u2806\u2807\u280B\u2819\u2838\u2830\u2820\u2830\u2838\u2819\u280B\u2807\u2806\",\n  \"\u280B\u2819\u281A\u2812\u2802\u2802\u2812\u2832\u2834\u2826\u2816\u2812\u2810\u2810\u2812\u2813\u280B\",\n  \"\u2801\u2809\u2819\u281A\u2812\u2802\u2802\u2812\u2832\u2834\u2824\u2804\u2804\u2824\u2834\u2832\u2812\u2802\u2802\u2812\u281A\u2819\u2809\u2801\",\n  \"\u2808\u2809\u280B\u2813\u2812\u2810\u2810\u2812\u2816\u2826\u2824\u2820\u2820\u2824\u2826\u2816\u2812\u2810\u2810\u2812\u2813\u280B\u2809\u2808\",\n  \"\u2801\u2801\u2809\u2819\u281A\u2812\u2802\u2802\u2812\u2832\u2834\u2824\u2804\u2804\u2824\u2820\u2820\u2824\u2826\u2816\u2812\u2810\u2810\u2812\u2813\u280B\u2809\u2808\u2808\",\n  \"\u2884\u2882\u2881\u2841\u2848\u2850\u2860\",\n  \"\u28B9\u28BA\u28BC\u28F8\u28C7\u2867\u2857\u284F\",\n  \"\u28FE\u28FD\u28FB\u28BF\u287F\u28DF\u28EF\u28F7\",\n  \"\u2801\u2802\u2804\u2840\u2880\u2820\u2810\u2808\",\n  [\"\uD83C\uDF11\", \"\uD83C\uDF12\", \"\uD83C\uDF13\", \"\uD83C\uDF14\", \"\uD83C\uDF15\", \"\uD83C\uDF1D\", \"\uD83C\uDF16\", \"\uD83C\uDF17\", \"\uD83C\uDF18\", \"\uD83C\uDF1A\"],\n  [\"\uD83D\uDD5B\", \"\uD83D\uDD50\", \"\uD83D\uDD51\", \"\uD83D\uDD52\", \"\uD83D\uDD53\", \"\uD83D\uDD54\", \"\uD83D\uDD55\", \"\uD83D\uDD56\", \"\uD83D\uDD57\", \"\uD83D\uDD58\", \"\uD83D\uDD59\", \"\uD83D\uDD5A\"]\n]\n", "var readline = require('readline');\n\nvar defaultSpinnerString = 0;\nvar defaultSpinnerDelay = 60;\n\nfunction defaultOnTick(msg) {\n  this.clearLine(this.stream);\n  this.stream.write(msg);\n};\n\nvar Spinner = function(options){\n  if(!(this instanceof Spinner)) return new Spinner(options)\n\n  if(typeof options === \"string\"){\n    options = { text: options };\n  } else if(!options){\n    options = {};\n  }\n\n  this.text = options.text || '';\n  this.setSpinnerString(defaultSpinnerString);\n  this.setSpinnerDelay(defaultSpinnerDelay);\n  this.onTick = options.onTick || defaultOnTick;\n  this.stream = options.stream || process.stdout;\n};\n\nSpinner.spinners = require('./spinners.json');\n\nSpinner.setDefaultSpinnerString = function(value) {\n  defaultSpinnerString = value;\n\n  return this;\n};\n\nSpinner.setDefaultSpinnerDelay = function(value) {\n  defaultSpinnerDelay = value;\n\n  return this;\n};\n\nSpinner.prototype.start = function() {\n  if(this.stream === process.stdout && this.stream.isTTY !== true) {\n    return this;\n  }\n\n  var current = 0;\n  var self = this;\n\n  var iteration = function() {\n    var msg = self.text.indexOf('%s') > -1\n      ? self.text.replace('%s', self.chars[current])\n      : self.chars[current] + ' ' + self.text;\n\n    self.onTick(msg);\n\n    current = ++current % self.chars.length;\n  };\n\n  iteration();\n  this.id = setInterval(iteration, this.delay);\n\n  return this;\n};\n\nSpinner.prototype.isSpinning = function() {\n  return this.id !== undefined;\n}\n\nSpinner.prototype.setSpinnerDelay = function(n) {\n  this.delay = n;\n\n  return this;\n};\n\nSpinner.prototype.setSpinnerString = function(str) {\n  const map = mapToSpinner(str, this.spinners);\n  this.chars = Array.isArray(map) ? map : map.split('');\n\n  return this;\n};\n\nSpinner.prototype.setSpinnerTitle = function(str) {\n  this.text = str;\n\n  return this;\n}\n\nSpinner.prototype.stop = function(clear) {\n  if(this.isSpinning === false) {\n    return this;\n  }\n\n  clearInterval(this.id);\n  this.id = undefined;\n\n  if (clear) {\n    this.clearLine(this.stream);\n  }\n\n  return this;\n};\n\nSpinner.prototype.clearLine = function(stream) {\n  readline.clearLine(stream, 0);\n  readline.cursorTo(stream, 0);\n\n  return this;\n}\n\n// Helpers\n\nfunction isInt(value) {\n  return (typeof value==='number' && (value%1)===0);\n}\n\nfunction mapToSpinner(value, spinners) {\n  // Not an integer, return as strng\n  if (!isInt(value)) {\n    return value + '';\n  }\n\n  var length = Spinner.spinners.length;\n\n  // Check if index is within bounds\n  value = (value >= length) ? 0 : value;\n  // If negative, count from the end\n  value = (value < 0) ? length + value : value;\n\n  return Spinner.spinners[value];\n}\n\nexports.Spinner = Spinner;\n", "/*\n    FIGlet.js (a FIGDriver for FIGlet fonts)\n    Written by https://github.com/patorjk/figlet.js/graphs/contributors\n    Originally Written For: http://patorjk.com/software/taag/\n    License: MIT (with this header staying intact)\n\n    This JavaScript code aims to fully implement the FIGlet spec.\n    Full FIGlet spec: http://patorjk.com/software/taag/docs/figfont.txt\n\n    FIGlet fonts are actually kind of complex, which is why you will see\n    a lot of code about parsing and interpreting rules. The actual generation\n    code is pretty simple and is done near the bottom of the code.\n*/\n\n\"use strict\";\n\nconst figlet = (() => {\n  // ---------------------------------------------------------------------\n  // Private static variables\n\n  const FULL_WIDTH = 0,\n    FITTING = 1,\n    SMUSHING = 2,\n    CONTROLLED_SMUSHING = 3;\n\n  // ---------------------------------------------------------------------\n  // Variable that will hold information about the fonts\n\n  const figFonts = {}; // What stores all of the FIGlet font data\n  const figDefaults = {\n    font: \"Standard\",\n    fontPath: \"./fonts\",\n  };\n\n  // ---------------------------------------------------------------------\n  // Private static methods\n\n  /*\n        This method takes in the oldLayout and newLayout data from the FIGfont header file and returns\n        the layout information.\n    */\n  function getSmushingRules(oldLayout, newLayout) {\n    let rules = {};\n    let val, index, len, code;\n    let codes = [\n      [16384, \"vLayout\", SMUSHING],\n      [8192, \"vLayout\", FITTING],\n      [4096, \"vRule5\", true],\n      [2048, \"vRule4\", true],\n      [1024, \"vRule3\", true],\n      [512, \"vRule2\", true],\n      [256, \"vRule1\", true],\n      [128, \"hLayout\", SMUSHING],\n      [64, \"hLayout\", FITTING],\n      [32, \"hRule6\", true],\n      [16, \"hRule5\", true],\n      [8, \"hRule4\", true],\n      [4, \"hRule3\", true],\n      [2, \"hRule2\", true],\n      [1, \"hRule1\", true],\n    ];\n\n    val = newLayout !== null ? newLayout : oldLayout;\n    index = 0;\n    len = codes.length;\n    while (index < len) {\n      code = codes[index];\n      if (val >= code[0]) {\n        val = val - code[0];\n        rules[code[1]] =\n          typeof rules[code[1]] === \"undefined\" ? code[2] : rules[code[1]];\n      } else if (code[1] !== \"vLayout\" && code[1] !== \"hLayout\") {\n        rules[code[1]] = false;\n      }\n      index++;\n    }\n\n    if (typeof rules[\"hLayout\"] === \"undefined\") {\n      if (oldLayout === 0) {\n        rules[\"hLayout\"] = FITTING;\n      } else if (oldLayout === -1) {\n        rules[\"hLayout\"] = FULL_WIDTH;\n      } else {\n        if (\n          rules[\"hRule1\"] ||\n          rules[\"hRule2\"] ||\n          rules[\"hRule3\"] ||\n          rules[\"hRule4\"] ||\n          rules[\"hRule5\"] ||\n          rules[\"hRule6\"]\n        ) {\n          rules[\"hLayout\"] = CONTROLLED_SMUSHING;\n        } else {\n          rules[\"hLayout\"] = SMUSHING;\n        }\n      }\n    } else if (rules[\"hLayout\"] === SMUSHING) {\n      if (\n        rules[\"hRule1\"] ||\n        rules[\"hRule2\"] ||\n        rules[\"hRule3\"] ||\n        rules[\"hRule4\"] ||\n        rules[\"hRule5\"] ||\n        rules[\"hRule6\"]\n      ) {\n        rules[\"hLayout\"] = CONTROLLED_SMUSHING;\n      }\n    }\n\n    if (typeof rules[\"vLayout\"] === \"undefined\") {\n      if (\n        rules[\"vRule1\"] ||\n        rules[\"vRule2\"] ||\n        rules[\"vRule3\"] ||\n        rules[\"vRule4\"] ||\n        rules[\"vRule5\"]\n      ) {\n        rules[\"vLayout\"] = CONTROLLED_SMUSHING;\n      } else {\n        rules[\"vLayout\"] = FULL_WIDTH;\n      }\n    } else if (rules[\"vLayout\"] === SMUSHING) {\n      if (\n        rules[\"vRule1\"] ||\n        rules[\"vRule2\"] ||\n        rules[\"vRule3\"] ||\n        rules[\"vRule4\"] ||\n        rules[\"vRule5\"]\n      ) {\n        rules[\"vLayout\"] = CONTROLLED_SMUSHING;\n      }\n    }\n\n    return rules;\n  }\n\n  /* The [vh]Rule[1-6]_Smush functions return the smushed character OR false if the two characters can't be smushed */\n\n  /*\n        Rule 1: EQUAL CHARACTER SMUSHING (code value 1)\n\n            Two sub-characters are smushed into a single sub-character\n            if they are the same.  This rule does not smush\n            hardblanks.  (See rule 6 on hardblanks below)\n    */\n  function hRule1_Smush(ch1, ch2, hardBlank) {\n    if (ch1 === ch2 && ch1 !== hardBlank) {\n      return ch1;\n    }\n    return false;\n  }\n\n  /*\n        Rule 2: UNDERSCORE SMUSHING (code value 2)\n\n            An underscore (\"_\") will be replaced by any of: \"|\", \"/\",\n            \"\\\", \"[\", \"]\", \"{\", \"}\", \"(\", \")\", \"<\" or \">\".\n    */\n  function hRule2_Smush(ch1, ch2) {\n    let rule2Str = \"|/\\\\[]{}()<>\";\n    if (ch1 === \"_\") {\n      if (rule2Str.indexOf(ch2) !== -1) {\n        return ch2;\n      }\n    } else if (ch2 === \"_\") {\n      if (rule2Str.indexOf(ch1) !== -1) {\n        return ch1;\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 3: HIERARCHY SMUSHING (code value 4)\n\n            A hierarchy of six classes is used: \"|\", \"/\\\", \"[]\", \"{}\",\n            \"()\", and \"<>\".  When two smushing sub-characters are\n            from different classes, the one from the latter class\n            will be used.\n    */\n  function hRule3_Smush(ch1, ch2) {\n    let rule3Classes = \"| /\\\\ [] {} () <>\";\n    let r3_pos1 = rule3Classes.indexOf(ch1);\n    let r3_pos2 = rule3Classes.indexOf(ch2);\n    if (r3_pos1 !== -1 && r3_pos2 !== -1) {\n      if (r3_pos1 !== r3_pos2 && Math.abs(r3_pos1 - r3_pos2) !== 1) {\n        const startPos = Math.max(r3_pos1, r3_pos2);\n        const endPos = startPos + 1;\n        return rule3Classes.substring(startPos, endPos);\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 4: OPPOSITE PAIR SMUSHING (code value 8)\n\n            Smushes opposing brackets (\"[]\" or \"][\"), braces (\"{}\" or\n            \"}{\") and parentheses (\"()\" or \")(\") together, replacing\n            any such pair with a vertical bar (\"|\").\n    */\n  function hRule4_Smush(ch1, ch2) {\n    let rule4Str = \"[] {} ()\";\n    let r4_pos1 = rule4Str.indexOf(ch1);\n    let r4_pos2 = rule4Str.indexOf(ch2);\n    if (r4_pos1 !== -1 && r4_pos2 !== -1) {\n      if (Math.abs(r4_pos1 - r4_pos2) <= 1) {\n        return \"|\";\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 5: BIG X SMUSHING (code value 16)\n\n            Smushes \"/\\\" into \"|\", \"\\/\" into \"Y\", and \"><\" into \"X\".\n            Note that \"<>\" is not smushed in any way by this rule.\n            The name \"BIG X\" is historical; originally all three pairs\n            were smushed into \"X\".\n    */\n  function hRule5_Smush(ch1, ch2) {\n    let rule5Str = \"/\\\\ \\\\/ ><\";\n    let rule5Hash = { 0: \"|\", 3: \"Y\", 6: \"X\" };\n    let r5_pos1 = rule5Str.indexOf(ch1);\n    let r5_pos2 = rule5Str.indexOf(ch2);\n    if (r5_pos1 !== -1 && r5_pos2 !== -1) {\n      if (r5_pos2 - r5_pos1 === 1) {\n        return rule5Hash[r5_pos1];\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 6: HARDBLANK SMUSHING (code value 32)\n\n            Smushes two hardblanks together, replacing them with a\n            single hardblank.  (See \"Hardblanks\" below.)\n    */\n  function hRule6_Smush(ch1, ch2, hardBlank) {\n    if (ch1 === hardBlank && ch2 === hardBlank) {\n      return hardBlank;\n    }\n    return false;\n  }\n\n  /*\n        Rule 1: EQUAL CHARACTER SMUSHING (code value 256)\n\n            Same as horizontal smushing rule 1.\n    */\n  function vRule1_Smush(ch1, ch2) {\n    if (ch1 === ch2) {\n      return ch1;\n    }\n    return false;\n  }\n\n  /*\n        Rule 2: UNDERSCORE SMUSHING (code value 512)\n\n            Same as horizontal smushing rule 2.\n    */\n  function vRule2_Smush(ch1, ch2) {\n    let rule2Str = \"|/\\\\[]{}()<>\";\n    if (ch1 === \"_\") {\n      if (rule2Str.indexOf(ch2) !== -1) {\n        return ch2;\n      }\n    } else if (ch2 === \"_\") {\n      if (rule2Str.indexOf(ch1) !== -1) {\n        return ch1;\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 3: HIERARCHY SMUSHING (code value 1024)\n\n            Same as horizontal smushing rule 3.\n    */\n  function vRule3_Smush(ch1, ch2) {\n    let rule3Classes = \"| /\\\\ [] {} () <>\";\n    let r3_pos1 = rule3Classes.indexOf(ch1);\n    let r3_pos2 = rule3Classes.indexOf(ch2);\n    if (r3_pos1 !== -1 && r3_pos2 !== -1) {\n      if (r3_pos1 !== r3_pos2 && Math.abs(r3_pos1 - r3_pos2) !== 1) {\n        const startPos = Math.max(r3_pos1, r3_pos2);\n        const endPos = startPos + 1;\n        return rule3Classes.substring(startPos, endPos);\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 4: HORIZONTAL LINE SMUSHING (code value 2048)\n\n            Smushes stacked pairs of \"-\" and \"_\", replacing them with\n            a single \"=\" sub-character.  It does not matter which is\n            found above the other.  Note that vertical smushing rule 1\n            will smush IDENTICAL pairs of horizontal lines, while this\n            rule smushes horizontal lines consisting of DIFFERENT\n            sub-characters.\n    */\n  function vRule4_Smush(ch1, ch2) {\n    if ((ch1 === \"-\" && ch2 === \"_\") || (ch1 === \"_\" && ch2 === \"-\")) {\n      return \"=\";\n    }\n    return false;\n  }\n\n  /*\n        Rule 5: VERTICAL LINE SUPERSMUSHING (code value 4096)\n\n            This one rule is different from all others, in that it\n            \"supersmushes\" vertical lines consisting of several\n            vertical bars (\"|\").  This creates the illusion that\n            FIGcharacters have slid vertically against each other.\n            Supersmushing continues until any sub-characters other\n            than \"|\" would have to be smushed.  Supersmushing can\n            produce impressive results, but it is seldom possible,\n            since other sub-characters would usually have to be\n            considered for smushing as soon as any such stacked\n            vertical lines are encountered.\n    */\n  function vRule5_Smush(ch1, ch2) {\n    if (ch1 === \"|\" && ch2 === \"|\") {\n      return \"|\";\n    }\n    return false;\n  }\n\n  /*\n        Universal smushing simply overrides the sub-character from the\n        earlier FIGcharacter with the sub-character from the later\n        FIGcharacter.  This produces an \"overlapping\" effect with some\n        FIGfonts, wherin the latter FIGcharacter may appear to be \"in\n        front\".\n    */\n  function uni_Smush(ch1, ch2, hardBlank) {\n    if (ch2 === \" \" || ch2 === \"\") {\n      return ch1;\n    } else if (ch2 === hardBlank && ch1 !== \" \") {\n      return ch1;\n    } else {\n      return ch2;\n    }\n  }\n\n  // --------------------------------------------------------------------------\n  // main vertical smush routines (excluding rules)\n\n  /*\n        txt1 - A line of text\n        txt2 - A line of text\n        opts - FIGlet options array\n\n        About: Takes in two lines of text and returns one of the following:\n        \"valid\" - These lines can be smushed together given the current smushing rules\n        \"end\" - The lines can be smushed, but we're at a stopping point\n        \"invalid\" - The two lines cannot be smushed together\n    */\n  function canVerticalSmush(txt1, txt2, opts) {\n    if (opts.fittingRules.vLayout === FULL_WIDTH) {\n      return \"invalid\";\n    }\n    let ii,\n      len = Math.min(txt1.length, txt2.length),\n      ch1,\n      ch2,\n      endSmush = false,\n      validSmush;\n    if (len === 0) {\n      return \"invalid\";\n    }\n\n    for (ii = 0; ii < len; ii++) {\n      ch1 = txt1.substring(ii, ii + 1);\n      ch2 = txt2.substring(ii, ii + 1);\n      if (ch1 !== \" \" && ch2 !== \" \") {\n        if (opts.fittingRules.vLayout === FITTING) {\n          return \"invalid\";\n        } else if (opts.fittingRules.vLayout === SMUSHING) {\n          return \"end\";\n        } else {\n          if (vRule5_Smush(ch1, ch2)) {\n            endSmush = endSmush || false;\n            continue;\n          } // rule 5 allow for \"super\" smushing, but only if we're not already ending this smush\n          validSmush = false;\n          validSmush = opts.fittingRules.vRule1\n            ? vRule1_Smush(ch1, ch2)\n            : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule2\n              ? vRule2_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule3\n              ? vRule3_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule4\n              ? vRule4_Smush(ch1, ch2)\n              : validSmush;\n          endSmush = true;\n          if (!validSmush) {\n            return \"invalid\";\n          }\n        }\n      }\n    }\n    if (endSmush) {\n      return \"end\";\n    } else {\n      return \"valid\";\n    }\n  }\n\n  function getVerticalSmushDist(lines1, lines2, opts) {\n    let maxDist = lines1.length;\n    let len1 = lines1.length;\n    let len2 = lines2.length;\n    let subLines1, subLines2, slen;\n    let curDist = 1;\n    let ii, ret, result;\n    while (curDist <= maxDist) {\n      subLines1 = lines1.slice(Math.max(0, len1 - curDist), len1);\n      subLines2 = lines2.slice(0, Math.min(maxDist, curDist));\n\n      slen = subLines2.length; //TODO:check this\n      result = \"\";\n      for (ii = 0; ii < slen; ii++) {\n        ret = canVerticalSmush(subLines1[ii], subLines2[ii], opts);\n        if (ret === \"end\") {\n          result = ret;\n        } else if (ret === \"invalid\") {\n          result = ret;\n          break;\n        } else {\n          if (result === \"\") {\n            result = \"valid\";\n          }\n        }\n      }\n\n      if (result === \"invalid\") {\n        curDist--;\n        break;\n      }\n      if (result === \"end\") {\n        break;\n      }\n      if (result === \"valid\") {\n        curDist++;\n      }\n    }\n\n    return Math.min(maxDist, curDist);\n  }\n\n  function verticallySmushLines(line1, line2, opts) {\n    let ii,\n      len = Math.min(line1.length, line2.length);\n    let ch1,\n      ch2,\n      result = \"\",\n      validSmush;\n\n    for (ii = 0; ii < len; ii++) {\n      ch1 = line1.substring(ii, ii + 1);\n      ch2 = line2.substring(ii, ii + 1);\n      if (ch1 !== \" \" && ch2 !== \" \") {\n        if (opts.fittingRules.vLayout === FITTING) {\n          result += uni_Smush(ch1, ch2);\n        } else if (opts.fittingRules.vLayout === SMUSHING) {\n          result += uni_Smush(ch1, ch2);\n        } else {\n          validSmush = false;\n          validSmush = opts.fittingRules.vRule5\n            ? vRule5_Smush(ch1, ch2)\n            : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule1\n              ? vRule1_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule2\n              ? vRule2_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule3\n              ? vRule3_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule4\n              ? vRule4_Smush(ch1, ch2)\n              : validSmush;\n          result += validSmush;\n        }\n      } else {\n        result += uni_Smush(ch1, ch2);\n      }\n    }\n    return result;\n  }\n\n  function verticalSmush(lines1, lines2, overlap, opts) {\n    let len1 = lines1.length;\n    let len2 = lines2.length;\n    let piece1 = lines1.slice(0, Math.max(0, len1 - overlap));\n    let piece2_1 = lines1.slice(Math.max(0, len1 - overlap), len1);\n    let piece2_2 = lines2.slice(0, Math.min(overlap, len2));\n    let ii,\n      len,\n      line,\n      piece2 = [],\n      piece3,\n      result = [];\n\n    len = piece2_1.length;\n    for (ii = 0; ii < len; ii++) {\n      if (ii >= len2) {\n        line = piece2_1[ii];\n      } else {\n        line = verticallySmushLines(piece2_1[ii], piece2_2[ii], opts);\n      }\n      piece2.push(line);\n    }\n\n    piece3 = lines2.slice(Math.min(overlap, len2), len2);\n\n    return result.concat(piece1, piece2, piece3);\n  }\n\n  function padLines(lines, numSpaces) {\n    let ii,\n      len = lines.length,\n      padding = \"\";\n    for (ii = 0; ii < numSpaces; ii++) {\n      padding += \" \";\n    }\n    for (ii = 0; ii < len; ii++) {\n      lines[ii] += padding;\n    }\n  }\n\n  function smushVerticalFigLines(output, lines, opts) {\n    let len1 = output[0].length;\n    let len2 = lines[0].length;\n    let overlap;\n    if (len1 > len2) {\n      padLines(lines, len1 - len2);\n    } else if (len2 > len1) {\n      padLines(output, len2 - len1);\n    }\n    overlap = getVerticalSmushDist(output, lines, opts);\n    return verticalSmush(output, lines, overlap, opts);\n  }\n\n  // -------------------------------------------------------------------------\n  // Main horizontal smush routines (excluding rules)\n\n  function getHorizontalSmushLength(txt1, txt2, opts) {\n    if (opts.fittingRules.hLayout === FULL_WIDTH) {\n      return 0;\n    }\n    let ii,\n      len1 = txt1.length,\n      len2 = txt2.length;\n    let maxDist = len1;\n    let curDist = 1;\n    let breakAfter = false;\n    let validSmush = false;\n    let seg1, seg2, ch1, ch2;\n    if (len1 === 0) {\n      return 0;\n    }\n\n    distCal: while (curDist <= maxDist) {\n      const seg1StartPos = len1 - curDist;\n      seg1 = txt1.substring(seg1StartPos, seg1StartPos + curDist);\n      seg2 = txt2.substring(0, Math.min(curDist, len2));\n      for (ii = 0; ii < Math.min(curDist, len2); ii++) {\n        ch1 = seg1.substring(ii, ii + 1);\n        ch2 = seg2.substring(ii, ii + 1);\n        if (ch1 !== \" \" && ch2 !== \" \") {\n          if (opts.fittingRules.hLayout === FITTING) {\n            curDist = curDist - 1;\n            break distCal;\n          } else if (opts.fittingRules.hLayout === SMUSHING) {\n            if (ch1 === opts.hardBlank || ch2 === opts.hardBlank) {\n              curDist = curDist - 1; // universal smushing does not smush hardblanks\n            }\n            break distCal;\n          } else {\n            breakAfter = true; // we know we need to break, but we need to check if our smushing rules will allow us to smush the overlapped characters\n            validSmush = false; // the below checks will let us know if we can smush these characters\n\n            validSmush = opts.fittingRules.hRule1\n              ? hRule1_Smush(ch1, ch2, opts.hardBlank)\n              : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule2\n                ? hRule2_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule3\n                ? hRule3_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule4\n                ? hRule4_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule5\n                ? hRule5_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule6\n                ? hRule6_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n\n            if (!validSmush) {\n              curDist = curDist - 1;\n              break distCal;\n            }\n          }\n        }\n      }\n      if (breakAfter) {\n        break;\n      }\n      curDist++;\n    }\n    return Math.min(maxDist, curDist);\n  }\n\n  function horizontalSmush(textBlock1, textBlock2, overlap, opts) {\n    let ii,\n      jj,\n      outputFig = [],\n      overlapStart,\n      piece1,\n      piece2,\n      piece3,\n      len1,\n      len2,\n      txt1,\n      txt2;\n\n    for (ii = 0; ii < opts.height; ii++) {\n      txt1 = textBlock1[ii];\n      txt2 = textBlock2[ii];\n      len1 = txt1.length;\n      len2 = txt2.length;\n      overlapStart = len1 - overlap;\n      piece1 = txt1.substr(0, Math.max(0, overlapStart));\n      piece2 = \"\";\n\n      // determine overlap piece\n      const seg1StartPos = Math.max(0, len1 - overlap);\n      var seg1 = txt1.substring(seg1StartPos, seg1StartPos + overlap);\n      var seg2 = txt2.substring(0, Math.min(overlap, len2));\n\n      for (jj = 0; jj < overlap; jj++) {\n        var ch1 = jj < len1 ? seg1.substring(jj, jj + 1) : \" \";\n        var ch2 = jj < len2 ? seg2.substring(jj, jj + 1) : \" \";\n\n        if (ch1 !== \" \" && ch2 !== \" \") {\n          if (opts.fittingRules.hLayout === FITTING) {\n            piece2 += uni_Smush(ch1, ch2, opts.hardBlank);\n          } else if (opts.fittingRules.hLayout === SMUSHING) {\n            piece2 += uni_Smush(ch1, ch2, opts.hardBlank);\n          } else {\n            // Controlled Smushing\n            var nextCh = \"\";\n            nextCh =\n              !nextCh && opts.fittingRules.hRule1\n                ? hRule1_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule2\n                ? hRule2_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule3\n                ? hRule3_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule4\n                ? hRule4_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule5\n                ? hRule5_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule6\n                ? hRule6_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh = nextCh || uni_Smush(ch1, ch2, opts.hardBlank);\n            piece2 += nextCh;\n          }\n        } else {\n          piece2 += uni_Smush(ch1, ch2, opts.hardBlank);\n        }\n      }\n\n      if (overlap >= len2) {\n        piece3 = \"\";\n      } else {\n        piece3 = txt2.substring(overlap, overlap + Math.max(0, len2 - overlap));\n      }\n      outputFig[ii] = piece1 + piece2 + piece3;\n    }\n    return outputFig;\n  }\n\n  /*\n        Creates new empty ASCII placeholder of give len\n        - len - number\n    */\n  function newFigChar(len) {\n    let outputFigText = [],\n      row;\n    for (row = 0; row < len; row++) {\n      outputFigText[row] = \"\";\n    }\n    return outputFigText;\n  }\n\n  /*\n        Return max line of the ASCII Art\n        - text is array of lines for text\n        - char is next character\n     */\n  const figLinesWidth = function (textLines) {\n    return Math.max.apply(\n      Math,\n      textLines.map(function (line, i) {\n        return line.length;\n      })\n    );\n  };\n\n  /*\n       join words or single characaters into single Fig line\n       - array - array of ASCII words or single characters: {fig: array, overlap: number}\n       - len - height of the Characters (number of rows)\n       - opt - options object\n    */\n  function joinFigArray(array, len, opts) {\n    return array.reduce(function (acc, data) {\n      return horizontalSmush(acc, data.fig, data.overlap, opts);\n    }, newFigChar(len));\n  }\n\n  /*\n       break long word return leftover characters and line before the break\n       - figChars - list of single ASCII characters in form {fig, overlap}\n       - len - number of rows\n       - opt - options object\n    */\n  function breakWord(figChars, len, opts) {\n    const result = {};\n    for (let i = figChars.length; --i; ) {\n      let w = joinFigArray(figChars.slice(0, i), len, opts);\n      if (figLinesWidth(w) <= opts.width) {\n        result.outputFigText = w;\n        if (i < figChars.length) {\n          result.chars = figChars.slice(i);\n        } else {\n          result.chars = [];\n        }\n        break;\n      }\n    }\n    return result;\n  }\n\n  function generateFigTextLines(txt, figChars, opts) {\n    let charIndex,\n      figChar,\n      overlap = 0,\n      row,\n      outputFigText,\n      len,\n      height = opts.height,\n      outputFigLines = [],\n      maxWidth,\n      nextFigChars,\n      figWords = [],\n      char,\n      isSpace,\n      textFigWord,\n      textFigLine,\n      tmpBreak;\n\n    outputFigText = newFigChar(height);\n    if (opts.width > 0 && opts.whitespaceBreak) {\n      // list of characters is used to break in the middle of the word when word is logner\n      // chars is array of characters with {fig, overlap} and overlap is for whole word\n      nextFigChars = {\n        chars: [],\n        overlap: overlap,\n      };\n    }\n    if (opts.printDirection === 1) {\n      txt = txt.split(\"\").reverse().join(\"\");\n    }\n    len = txt.length;\n    for (charIndex = 0; charIndex < len; charIndex++) {\n      char = txt.substring(charIndex, charIndex + 1);\n      isSpace = char.match(/\\s/);\n      figChar = figChars[char.charCodeAt(0)];\n      textFigLine = null;\n      if (figChar) {\n        if (opts.fittingRules.hLayout !== FULL_WIDTH) {\n          overlap = 10000; // a value too high to be the overlap\n          for (row = 0; row < opts.height; row++) {\n            overlap = Math.min(\n              overlap,\n              getHorizontalSmushLength(outputFigText[row], figChar[row], opts)\n            );\n          }\n          overlap = overlap === 10000 ? 0 : overlap;\n        }\n        if (opts.width > 0) {\n          if (opts.whitespaceBreak) {\n            // next character in last word (figChars have same data as words)\n            textFigWord = joinFigArray(\n              nextFigChars.chars.concat([\n                {\n                  fig: figChar,\n                  overlap: overlap,\n                },\n              ]),\n              height,\n              opts\n            );\n            textFigLine = joinFigArray(\n              figWords.concat([\n                {\n                  fig: textFigWord,\n                  overlap: nextFigChars.overlap,\n                },\n              ]),\n              height,\n              opts\n            );\n            maxWidth = figLinesWidth(textFigLine);\n          } else {\n            textFigLine = horizontalSmush(\n              outputFigText,\n              figChar,\n              overlap,\n              opts\n            );\n            maxWidth = figLinesWidth(textFigLine);\n          }\n          if (maxWidth >= opts.width && charIndex > 0) {\n            if (opts.whitespaceBreak) {\n              outputFigText = joinFigArray(figWords.slice(0, -1), height, opts);\n              if (figWords.length > 1) {\n                outputFigLines.push(outputFigText);\n                outputFigText = newFigChar(height);\n              }\n              figWords = [];\n            } else {\n              outputFigLines.push(outputFigText);\n              outputFigText = newFigChar(height);\n            }\n          }\n        }\n        if (opts.width > 0 && opts.whitespaceBreak) {\n          if (!isSpace || charIndex === len - 1) {\n            nextFigChars.chars.push({ fig: figChar, overlap: overlap });\n          }\n          if (isSpace || charIndex === len - 1) {\n            // break long words\n            tmpBreak = null;\n            while (true) {\n              textFigLine = joinFigArray(nextFigChars.chars, height, opts);\n              maxWidth = figLinesWidth(textFigLine);\n              if (maxWidth >= opts.width) {\n                tmpBreak = breakWord(nextFigChars.chars, height, opts);\n                nextFigChars = { chars: tmpBreak.chars };\n                outputFigLines.push(tmpBreak.outputFigText);\n              } else {\n                break;\n              }\n            }\n            // any leftovers\n            if (maxWidth > 0) {\n              if (tmpBreak) {\n                figWords.push({ fig: textFigLine, overlap: 1 });\n              } else {\n                figWords.push({\n                  fig: textFigLine,\n                  overlap: nextFigChars.overlap,\n                });\n              }\n            }\n            // save space character and current overlap for smush in joinFigWords\n            if (isSpace) {\n              figWords.push({ fig: figChar, overlap: overlap });\n              outputFigText = newFigChar(height);\n            }\n            if (charIndex === len - 1) {\n              // last line\n              outputFigText = joinFigArray(figWords, height, opts);\n            }\n            nextFigChars = {\n              chars: [],\n              overlap: overlap,\n            };\n            continue;\n          }\n        }\n        outputFigText = horizontalSmush(outputFigText, figChar, overlap, opts);\n      }\n    }\n    // special case when last line would be empty\n    // this may happen if text fit exactly opt.width\n    if (figLinesWidth(outputFigText) > 0) {\n      outputFigLines.push(outputFigText);\n    }\n    // remove hardblanks\n    if (opts.showHardBlanks !== true) {\n      outputFigLines.forEach(function (outputFigText) {\n        len = outputFigText.length;\n        for (row = 0; row < len; row++) {\n          outputFigText[row] = outputFigText[row].replace(\n            new RegExp(\"\\\\\" + opts.hardBlank, \"g\"),\n            \" \"\n          );\n        }\n      });\n    }\n    return outputFigLines;\n  }\n\n  // -------------------------------------------------------------------------\n  // Parsing and Generation methods\n\n  const getHorizontalFittingRules = function (layout, options) {\n    let props = [\n        \"hLayout\",\n        \"hRule1\",\n        \"hRule2\",\n        \"hRule3\",\n        \"hRule4\",\n        \"hRule5\",\n        \"hRule6\",\n      ],\n      params = {},\n      ii;\n    if (layout === \"default\") {\n      for (ii = 0; ii < props.length; ii++) {\n        params[props[ii]] = options.fittingRules[props[ii]];\n      }\n    } else if (layout === \"full\") {\n      params = {\n        hLayout: FULL_WIDTH,\n        hRule1: false,\n        hRule2: false,\n        hRule3: false,\n        hRule4: false,\n        hRule5: false,\n        hRule6: false,\n      };\n    } else if (layout === \"fitted\") {\n      params = {\n        hLayout: FITTING,\n        hRule1: false,\n        hRule2: false,\n        hRule3: false,\n        hRule4: false,\n        hRule5: false,\n        hRule6: false,\n      };\n    } else if (layout === \"controlled smushing\") {\n      params = {\n        hLayout: CONTROLLED_SMUSHING,\n        hRule1: true,\n        hRule2: true,\n        hRule3: true,\n        hRule4: true,\n        hRule5: true,\n        hRule6: true,\n      };\n    } else if (layout === \"universal smushing\") {\n      params = {\n        hLayout: SMUSHING,\n        hRule1: false,\n        hRule2: false,\n        hRule3: false,\n        hRule4: false,\n        hRule5: false,\n        hRule6: false,\n      };\n    } else {\n      return;\n    }\n    return params;\n  };\n\n  const getVerticalFittingRules = function (layout, options) {\n    let props = [\"vLayout\", \"vRule1\", \"vRule2\", \"vRule3\", \"vRule4\", \"vRule5\"],\n      params = {},\n      ii;\n    if (layout === \"default\") {\n      for (ii = 0; ii < props.length; ii++) {\n        params[props[ii]] = options.fittingRules[props[ii]];\n      }\n    } else if (layout === \"full\") {\n      params = {\n        vLayout: FULL_WIDTH,\n        vRule1: false,\n        vRule2: false,\n        vRule3: false,\n        vRule4: false,\n        vRule5: false,\n      };\n    } else if (layout === \"fitted\") {\n      params = {\n        vLayout: FITTING,\n        vRule1: false,\n        vRule2: false,\n        vRule3: false,\n        vRule4: false,\n        vRule5: false,\n      };\n    } else if (layout === \"controlled smushing\") {\n      params = {\n        vLayout: CONTROLLED_SMUSHING,\n        vRule1: true,\n        vRule2: true,\n        vRule3: true,\n        vRule4: true,\n        vRule5: true,\n      };\n    } else if (layout === \"universal smushing\") {\n      params = {\n        vLayout: SMUSHING,\n        vRule1: false,\n        vRule2: false,\n        vRule3: false,\n        vRule4: false,\n        vRule5: false,\n      };\n    } else {\n      return;\n    }\n    return params;\n  };\n\n  /*\n        Generates the ASCII Art\n        - fontName: Font to use\n        - option: Options to override the defaults\n        - txt: The text to make into ASCII Art\n    */\n  const generateText = function (fontName, options, txt) {\n    txt = txt.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\n    let lines = txt.split(\"\\n\");\n    let figLines = [];\n    let ii, len, output;\n    len = lines.length;\n    for (ii = 0; ii < len; ii++) {\n      figLines = figLines.concat(\n        generateFigTextLines(lines[ii], figFonts[fontName], options)\n      );\n    }\n    len = figLines.length;\n    output = figLines[0];\n    for (ii = 1; ii < len; ii++) {\n      output = smushVerticalFigLines(output, figLines[ii], options);\n    }\n\n    return output ? output.join(\"\\n\") : \"\";\n  };\n\n  /*\n      takes assigned options and merges them with the default options from the choosen font\n     */\n  function _reworkFontOpts(fontOpts, options) {\n    let myOpts = JSON.parse(JSON.stringify(fontOpts)), // make a copy because we may edit this (see below)\n      params,\n      prop;\n\n    /*\n         If the user is chosing to use a specific type of layout (e.g., 'full', 'fitted', etc etc)\n         Then we need to override the default font options.\n         */\n    if (typeof options.horizontalLayout !== \"undefined\") {\n      params = getHorizontalFittingRules(options.horizontalLayout, fontOpts);\n      for (prop in params) {\n        if (params.hasOwnProperty(prop)) {\n          myOpts.fittingRules[prop] = params[prop];\n        }\n      }\n    }\n    if (typeof options.verticalLayout !== \"undefined\") {\n      params = getVerticalFittingRules(options.verticalLayout, fontOpts);\n      for (prop in params) {\n        if (params.hasOwnProperty(prop)) {\n          myOpts.fittingRules[prop] = params[prop];\n        }\n      }\n    }\n    myOpts.printDirection =\n      typeof options.printDirection !== \"undefined\"\n        ? options.printDirection\n        : fontOpts.printDirection;\n    myOpts.showHardBlanks = options.showHardBlanks || false;\n    myOpts.width = options.width || -1;\n    myOpts.whitespaceBreak = options.whitespaceBreak || false;\n\n    return myOpts;\n  }\n\n  // -------------------------------------------------------------------------\n  // Public methods\n\n  /*\n        A short-cut for the figlet.text method\n\n        Parameters:\n        - txt (string): The text to make into ASCII Art\n        - options (object/string - optional): Options that will override the current font's default options.\n          If a string is provided instead of an object, it is assumed to be the font name.\n\n            * font\n            * horizontalLayout\n            * verticalLayout\n            * showHardBlanks - Wont remove hardblank characters\n\n        - next (function): A callback function, it will contained the outputted ASCII Art.\n    */\n  const me = function (txt, options, next) {\n    return me.text(txt, options, next);\n  };\n  me.text = async function (txt, options, next) {\n    let fontName = \"\";\n\n    // Validate inputs\n    txt = txt + \"\";\n\n    if (typeof arguments[1] === \"function\") {\n      next = options;\n      options = {};\n      options.font = figDefaults.font; // default font\n    }\n\n    if (typeof options === \"string\") {\n      fontName = options;\n      options = {};\n    } else {\n      options = options || {};\n      fontName = options.font || figDefaults.font;\n    }\n\n    return await new Promise((resolve, reject) => {\n      /*\n          Load the font. If it loads, it's data will be contained in the figFonts object.\n          The callback will recieve a fontsOpts object, which contains the default\n          options of the font (its fitting rules, etc etc).\n      */\n      me.loadFont(fontName, function (err, fontOpts) {\n        if (err) {\n          reject(err);\n          if (next) next(err);\n          return;\n        }\n\n        const generatedTxt = generateText(\n          fontName,\n          _reworkFontOpts(fontOpts, options),\n          txt\n        );\n\n        resolve(generatedTxt);\n        if (next) next(null, generatedTxt);\n      });\n    });\n  };\n\n  /*\n        Synchronous version of figlet.text.\n        Accepts the same parameters.\n     */\n  me.textSync = function (txt, options) {\n    let fontName = \"\";\n\n    // Validate inputs\n    txt = txt + \"\";\n\n    if (typeof options === \"string\") {\n      fontName = options;\n      options = {};\n    } else {\n      options = options || {};\n      fontName = options.font || figDefaults.font;\n    }\n\n    var fontOpts = _reworkFontOpts(me.loadFontSync(fontName), options);\n    return generateText(fontName, fontOpts, txt);\n  };\n\n  /*\n        Returns metadata about a specfic FIGlet font.\n\n        Returns:\n            next(err, options, headerComment)\n            - err: The error if an error occurred, otherwise null/falsey.\n            - options (object): The options defined for the font.\n            - headerComment (string): The font's header comment.\n    */\n  me.metadata = function (fontName, next) {\n    fontName = fontName + \"\";\n\n    /*\n            Load the font. If it loads, it's data will be contained in the figFonts object.\n            The callback will recieve a fontsOpts object, which contains the default\n            options of the font (its fitting rules, etc etc).\n        */\n    return new Promise(function(resolve, reject) {\n      me.loadFont(fontName, function (err, fontOpts) {\n        if (err) {\n          if (next) next(err);\n          reject(err);\n          return;\n        }\n\n        if (next) {\n          next(null, fontOpts, figFonts[fontName].comment);\n        }\n        resolve([fontOpts, figFonts[fontName].comment]);\n      });\n    });\n  };\n\n  /*\n        Allows you to override defaults. See the definition of the figDefaults object up above\n        to see what properties can be overridden.\n        Returns the options for the font.\n    */\n  me.defaults = function (opts) {\n    if (typeof opts === \"object\" && opts !== null) {\n      for (var prop in opts) {\n        if (opts.hasOwnProperty(prop)) {\n          figDefaults[prop] = opts[prop];\n        }\n      }\n    }\n    return JSON.parse(JSON.stringify(figDefaults));\n  };\n\n  /*\n        Parses data from a FIGlet font file and places it into the figFonts object.\n    */\n  me.parseFont = function (fontName, data) {\n    data = data.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\n    figFonts[fontName] = {};\n\n    var lines = data.split(\"\\n\");\n    var headerData = lines.splice(0, 1)[0].split(\" \");\n    var figFont = figFonts[fontName];\n    var opts = {};\n\n    opts.hardBlank = headerData[0].substr(5, 1);\n    opts.height = parseInt(headerData[1], 10);\n    opts.baseline = parseInt(headerData[2], 10);\n    opts.maxLength = parseInt(headerData[3], 10);\n    opts.oldLayout = parseInt(headerData[4], 10);\n    opts.numCommentLines = parseInt(headerData[5], 10);\n    opts.printDirection =\n      headerData.length >= 6 ? parseInt(headerData[6], 10) : 0;\n    opts.fullLayout =\n      headerData.length >= 7 ? parseInt(headerData[7], 10) : null;\n    opts.codeTagCount =\n      headerData.length >= 8 ? parseInt(headerData[8], 10) : null;\n    opts.fittingRules = getSmushingRules(opts.oldLayout, opts.fullLayout);\n\n    figFont.options = opts;\n\n    // error check\n    if (\n      opts.hardBlank.length !== 1 ||\n      isNaN(opts.height) ||\n      isNaN(opts.baseline) ||\n      isNaN(opts.maxLength) ||\n      isNaN(opts.oldLayout) ||\n      isNaN(opts.numCommentLines)\n    ) {\n      throw new Error(\"FIGlet header contains invalid values.\");\n    }\n\n    /*\n            All FIGlet fonts must contain chars 32-126, 196, 214, 220, 228, 246, 252, 223\n        */\n\n    let charNums = [],\n      ii;\n    for (ii = 32; ii <= 126; ii++) {\n      charNums.push(ii);\n    }\n    charNums = charNums.concat(196, 214, 220, 228, 246, 252, 223);\n\n    // error check - validate that there are enough lines in the file\n    if (lines.length < opts.numCommentLines + opts.height * charNums.length) {\n      throw new Error(\"FIGlet file is missing data.\");\n    }\n\n    /*\n            Parse out the context of the file and put it into our figFont object\n        */\n\n    let cNum,\n      endCharRegEx,\n      parseError = false;\n\n    figFont.comment = lines.splice(0, opts.numCommentLines).join(\"\\n\");\n    figFont.numChars = 0;\n\n    while (lines.length > 0 && figFont.numChars < charNums.length) {\n      cNum = charNums[figFont.numChars];\n      figFont[cNum] = lines.splice(0, opts.height);\n      // remove end sub-chars\n      for (ii = 0; ii < opts.height; ii++) {\n        if (typeof figFont[cNum][ii] === \"undefined\") {\n          figFont[cNum][ii] = \"\";\n        } else {\n          endCharRegEx = new RegExp(\n            \"\\\\\" +\n              figFont[cNum][ii].substr(figFont[cNum][ii].length - 1, 1) +\n              \"+$\"\n          );\n          figFont[cNum][ii] = figFont[cNum][ii].replace(endCharRegEx, \"\");\n        }\n      }\n      figFont.numChars++;\n    }\n\n    /*\n            Now we check to see if any additional characters are present\n        */\n\n    while (lines.length > 0) {\n      cNum = lines.splice(0, 1)[0].split(\" \")[0];\n      if (/^0[xX][0-9a-fA-F]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 16);\n      } else if (/^0[0-7]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 8);\n      } else if (/^[0-9]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 10);\n      } else if (/^-0[xX][0-9a-fA-F]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 16);\n      } else {\n        if (cNum === \"\") {\n          break;\n        }\n        // something's wrong\n        console.log(\"Invalid data:\" + cNum);\n        parseError = true;\n        break;\n      }\n\n      figFont[cNum] = lines.splice(0, opts.height);\n      // remove end sub-chars\n      for (ii = 0; ii < opts.height; ii++) {\n        if (typeof figFont[cNum][ii] === \"undefined\") {\n          figFont[cNum][ii] = \"\";\n        } else {\n          endCharRegEx = new RegExp(\n            \"\\\\\" +\n              figFont[cNum][ii].substr(figFont[cNum][ii].length - 1, 1) +\n              \"+$\"\n          );\n          figFont[cNum][ii] = figFont[cNum][ii].replace(endCharRegEx, \"\");\n        }\n      }\n      figFont.numChars++;\n    }\n\n    // error check\n    if (parseError === true) {\n      throw new Error(\"Error parsing data.\");\n    }\n\n    return opts;\n  };\n\n  /*\n        Loads a font.\n    */\n  me.loadFont = function (fontName, next) {\n    if (figFonts[fontName]) {\n      if (next) {\n        next(null, figFonts[fontName].options);\n      }\n      return Promise.resolve();\n    }\n\n    if (typeof fetch !== \"function\") {\n      console.error(\n        \"figlet.js requires the fetch API or a fetch polyfill such as https://cdnjs.com/libraries/fetch\"\n      );\n      throw new Error(\"fetch is required for figlet.js to work.\");\n    }\n\n    return fetch(figDefaults.fontPath + \"/\" + fontName + \".flf\")\n      .then(function (response) {\n        if (response.ok) {\n          return response.text();\n        }\n\n        console.log(\"Unexpected response\", response);\n        throw new Error(\"Network response was not ok.\");\n      })\n      .then(function (text) {\n        if (next) {\n          next(null, me.parseFont(fontName, text));\n        }\n      })\n      .catch(next);\n  };\n\n  /*\n        loads a font synchronously, not implemented for the browser\n     */\n  me.loadFontSync = function (name) {\n    if (figFonts[name]) {\n      return figFonts[name].options;\n    }\n    throw new Error(\n      \"synchronous font loading is not implemented for the browser\"\n    );\n  };\n\n  /*\n        preloads a list of fonts prior to using textSync\n        - fonts: an array of font names (i.e. [\"Standard\",\"Soft\"])\n        - next: callback function\n     */\n  me.preloadFonts = function (fonts, next) {\n    let fontData = [];\n\n    return fonts\n      .reduce(function (promise, name) {\n        return promise.then(function () {\n          return fetch(figDefaults.fontPath + \"/\" + name + \".flf\")\n            .then((response) => {\n              return response.text();\n            })\n            .then(function (data) {\n              fontData.push(data);\n            });\n        });\n      }, Promise.resolve())\n      .then(function (res) {\n        for (var i in fonts) {\n          if (fonts.hasOwnProperty(i)) {\n            me.parseFont(fonts[i], fontData[i]);\n          }\n        }\n\n        if (next) next();\n      });\n  };\n\n  me.figFonts = figFonts;\n\n  return me;\n})();\n\n// for node.js\nif (typeof module !== \"undefined\") {\n  if (typeof module.exports !== \"undefined\") {\n    module.exports = figlet;\n  }\n}\n", "/*\n\tNode plugin for figlet.js\n*/\n\nconst figlet = require(\"./figlet.js\"),\n  fs = require(\"fs\"),\n  path = require(\"path\"),\n  fontDir = path.join(__dirname, \"/../fonts/\");\n\n/*\n    Loads a font into the figlet object.\n\n    Parameters:\n    - name (string): Name of the font to load.\n    - next (function): Callback function.\n*/\nfiglet.loadFont = function (name, next) {\n  return new Promise(function(resolve, reject) {\n    if (figlet.figFonts[name]) {\n      next && next(null, figlet.figFonts[name].options);\n      resolve(figlet.figFonts[name].options);\n      return;\n    }\n\n    fs.readFile(\n      path.join(fontDir, name + \".flf\"),\n      { encoding: \"utf-8\" },\n      function (err, fontData) {\n        if (err) {\n          next && next(err);\n          reject(err);\n          return;\n        }\n\n        fontData = fontData + \"\";\n        try {\n          var font = figlet.parseFont(name, fontData);\n          next && next(null, font);\n          resolve(font);\n        } catch (error) {\n          next && next(error);\n          reject(error);\n        }\n      }\n    );\n  });\n};\n\n/*\n Loads a font synchronously into the figlet object.\n\n Parameters:\n - name (string): Name of the font to load.\n */\nfiglet.loadFontSync = function (name) {\n  if (figlet.figFonts[name]) {\n    return figlet.figFonts[name].options;\n  }\n\n  var fontData = fs.readFileSync(path.join(fontDir, name + \".flf\"), {\n    encoding: \"utf-8\",\n  });\n\n  fontData = fontData + \"\";\n  return figlet.parseFont(name, fontData);\n};\n\n/*\n    Returns an array containing all of the font names\n*/\nfiglet.fonts = function (next) {\n  return new Promise(function(resolve, reject) {\n    var fontList = [];\n    fs.readdir(fontDir, function (err, files) {\n      // '/' denotes the root folder\n      if (err) {\n        next && next(err);\n        reject(err);\n        return;\n      }\n\n      files.forEach(function (file) {\n        if (/\\.flf$/.test(file)) {\n          fontList.push(file.replace(/\\.flf$/, \"\"));\n        }\n      });\n\n      next && next(null, fontList);\n      resolve(fontList);\n    });\n  });\n};\n\nfiglet.fontsSync = function () {\n  var fontList = [];\n  fs.readdirSync(fontDir).forEach(function (file) {\n    if (/\\.flf$/.test(file)) {\n      fontList.push(file.replace(/\\.flf$/, \"\"));\n    }\n  });\n\n  return fontList;\n};\n\nmodule.exports = figlet;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction padString(input) {\n    var segmentLength = 4;\n    var stringLength = input.length;\n    var diff = stringLength % segmentLength;\n    if (!diff) {\n        return input;\n    }\n    var position = stringLength;\n    var padLength = segmentLength - diff;\n    var paddedStringLength = stringLength + padLength;\n    var buffer = Buffer.alloc(paddedStringLength);\n    buffer.write(input);\n    while (padLength--) {\n        buffer.write(\"=\", position++);\n    }\n    return buffer.toString();\n}\nexports.default = padString;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pad_string_1 = require(\"./pad-string\");\nfunction encode(input, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    if (Buffer.isBuffer(input)) {\n        return fromBase64(input.toString(\"base64\"));\n    }\n    return fromBase64(Buffer.from(input, encoding).toString(\"base64\"));\n}\n;\nfunction decode(base64url, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    return Buffer.from(toBase64(base64url), \"base64\").toString(encoding);\n}\nfunction toBase64(base64url) {\n    base64url = base64url.toString();\n    return pad_string_1.default(base64url)\n        .replace(/\\-/g, \"+\")\n        .replace(/_/g, \"/\");\n}\nfunction fromBase64(base64) {\n    return base64\n        .replace(/=/g, \"\")\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\");\n}\nfunction toBuffer(base64url) {\n    return Buffer.from(toBase64(base64url), \"base64\");\n}\nvar base64url = encode;\nbase64url.encode = encode;\nbase64url.decode = decode;\nbase64url.toBase64 = toBase64;\nbase64url.fromBase64 = fromBase64;\nbase64url.toBuffer = toBuffer;\nexports.default = base64url;\n", "module.exports = require('./dist/base64url').default;\nmodule.exports.default = module.exports;\n", "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n", "'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n", "/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n", "/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// index.js\nvar protocol_tag_utils_exports = {};\n__export(protocol_tag_utils_exports, {\n  concat: () => concat,\n  concatUnassoc: () => concatUnassoc,\n  create: () => create,\n  findAll: () => findAll,\n  findAllByName: () => findAllByName,\n  findByName: () => findByName,\n  parse: () => parse,\n  parseAll: () => parseAll,\n  parseAllUnassoc: () => parseAllUnassoc,\n  parseUnassoc: () => parseUnassoc,\n  proto: () => proto,\n  removeAll: () => removeAll,\n  removeAllByName: () => removeAllByName,\n  update: () => update\n});\nmodule.exports = __toCommonJS(protocol_tag_utils_exports);\nvar pipe = (...fns) => (i) => fns.reduce((acc, fn) => fn(acc), i);\nvar defaultTo = (dVal) => (val) => val == null ? dVal : val;\nvar propOr = (defaultV) => (prop) => pipe(\n  (obj) => obj ? obj[prop] : obj,\n  defaultTo(defaultV)\n);\nvar mapObject = (fn) => (obj) => {\n  const res = {};\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) res[key] = fn(obj[key], key, obj);\n  }\n  return res;\n};\nvar complement = (fn) => (...args) => !fn(...args);\nvar findProtocolBoundaries = (protocol) => (tags) => {\n  const startIdx = tags.findIndex((t) => t.name === \"Data-Protocol\" && t.value === protocol);\n  if (startIdx === -1) return [0, 0];\n  let endIdx = tags.findIndex((t, idx) => idx > startIdx && t.name === \"Data-Protocol\" && t.value !== protocol);\n  if (endIdx === -1) endIdx = tags.length;\n  return [startIdx, endIdx];\n};\nvar findFirstProtocolBoundary = (tags) => {\n  let idx = tags.findIndex((t) => t.name === \"Data-Protocol\");\n  if (idx === -1) idx = tags.length;\n  return idx;\n};\nvar byName = (name) => (t) => t.name === name;\nvar findAll = (protocol, tags) => pipe(\n  findProtocolBoundaries(protocol),\n  ([start, end]) => tags.slice(start, end)\n)(tags);\nvar findAllByName = (protocol, name, tags) => pipe(\n  (tags2) => findAll(protocol, tags2),\n  (pTags) => pTags.filter(byName(name))\n)(tags);\nvar findByName = (protocol, name, tags) => pipe(\n  (tags2) => findAllByName(protocol, name, tags2),\n  (arr) => arr[0]\n)(tags);\nvar create = (protocol, pTags) => {\n  pTags = pTags.filter((t) => t.name !== \"Data-Protocol\" || t.value !== protocol);\n  if (!pTags.length) return [];\n  return [\n    { name: \"Data-Protocol\", value: protocol },\n    ...pTags\n  ];\n};\nvar concat = (protocol, pTags, tags) => {\n  const [start, end] = findProtocolBoundaries(protocol)(tags);\n  let [before, cur, after] = [\n    tags.slice(0, start),\n    tags.slice(start, end),\n    tags.slice(end)\n  ];\n  if (!cur.length) {\n    pTags = create(protocol, pTags);\n    before = after;\n    after = [];\n  }\n  return [before, cur, pTags, after].flat(1);\n};\nvar concatUnassoc = (others, tags) => {\n  const idx = findFirstProtocolBoundary(tags);\n  const [before, after] = [tags.slice(0, idx), tags.slice(idx)];\n  return [before, others, after].flat(1);\n};\nvar update = (protocol, pTags, tags) => {\n  const [start, end] = findProtocolBoundaries(protocol)(tags);\n  let [before, after] = [tags.slice(0, start), tags.slice(end)];\n  if (after.length === tags.length) {\n    before = after;\n    after = [];\n  }\n  return [before, create(protocol, pTags), after].flat(1);\n};\nvar removeAll = (protocol, tags) => update(protocol, [], tags);\nvar removeAllByName = (protocol, name, tags) => {\n  const [start, end] = findProtocolBoundaries(protocol)(tags);\n  const [before, cur, after] = [tags.slice(0, start), tags.slice(start, end), tags.slice(end)];\n  return [before, create(protocol, cur.filter(complement(byName(name)))), after].flat(1);\n};\nvar parseTags = (tags, multi = false) => pipe(\n  defaultTo([]),\n  /**\n   * Mutation is okay here, since it's\n   * an internal data structure\n   */\n  (tags2) => tags2.reduce(\n    (parsed, tag) => pipe(\n      // [value, value, ...] || []\n      propOr([])(tag.name),\n      // [value]\n      (arr) => {\n        arr.push(tag.value);\n        return arr;\n      },\n      // { [name]: [value, value, ...] }\n      (arr) => {\n        parsed[tag.name] = arr;\n        return parsed;\n      }\n    )(parsed),\n    {}\n  ),\n  mapObject((values) => multi ? values : values[0])\n)(tags);\nvar parseProtocol = (protocol, tags, multi) => pipe(\n  defaultTo([]),\n  (tags2) => findAll(protocol, tags2),\n  (tags2) => parseTags(tags2, multi)\n)(tags);\nvar parseAll = (protocol, tags) => parseProtocol(protocol, tags, true);\nvar parse = (protocol, tags) => parseProtocol(protocol, tags, false);\nvar parseUnassoc = (tags) => {\n  const idx = findFirstProtocolBoundary(tags);\n  return parseTags(tags.slice(0, idx), false);\n};\nvar parseAllUnassoc = (tags) => {\n  const idx = findFirstProtocolBoundary(tags);\n  return parseTags(tags.slice(0, idx), true);\n};\nvar proto = (p) => ({\n  /**\n   * @type {import('./types').RemoveFirstArg<findAll>}\n   */\n  findAll: (tags) => findAll(p, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<findAllByName>}\n   */\n  findAllByName: (name, tags) => findAllByName(p, name, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<findByName>}\n   */\n  findByName: (name, tags) => findByName(p, name, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<create>}\n   */\n  create: (tags) => create(p, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<update>}\n   */\n  update: (pTags, tags) => update(p, pTags, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<concat>}\n   */\n  concat: (pTags, tags) => concat(p, pTags, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<removeAll>}\n   */\n  removeAll: (tags) => removeAll(p, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<removeAllByName>}\n   */\n  removeAllByName: (name, tags) => removeAllByName(p, name, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<parse>}\n   */\n  parse: (tags) => parse(p, tags),\n  /**\n   * @type {import('./types').RemoveFirstArg<parseAll>}\n   */\n  parseAll: (tags) => parseAll(p, tags),\n  concatUnassoc,\n  parseUnassoc,\n  parseAllUnassoc\n});\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  concat,\n  concatUnassoc,\n  create,\n  findAll,\n  findAllByName,\n  findByName,\n  parse,\n  parseAll,\n  parseAllUnassoc,\n  parseUnassoc,\n  proto,\n  removeAll,\n  removeAllByName,\n  update\n});\n", "import { DataItem } from '../DataItem';\nimport { Tag } from '../tags';\n\nexport abstract class Signer {\n  readonly signer?: any;\n  readonly publicKey: Buffer;\n  readonly signatureType: number;\n  readonly signatureLength: number;\n  readonly ownerLength: number;\n  readonly pem?: string | Buffer;\n\n  abstract sign(message: Uint8Array, _opts?: any): Promise<Uint8Array> | Uint8Array;\n  abstract signDataItem?(dataItem: string | Buffer, tags: Tag[]): Promise<DataItem>;\n  abstract setPublicKey?(): Promise<void>;\n  abstract getAddress?(): Promise<string>;\n  static verify(_pk: string | Buffer, _message: Uint8Array, _signature: Uint8Array, _opts?: any): boolean {\n    throw new Error('You must implement verify method on child');\n  }\n}\n", null, "// import { createHash } from 'crypto';\nimport { getCryptoDriver, concatBuffers, stringToBuffer } from '$/utils';\n\nexport type DeepHashChunk = Uint8Array | DeepHashChunks;\nexport type DeepHashChunks = DeepHashChunk[];\n\nexport async function deepHash(data: DeepHashChunk): Promise<Uint8Array> {\n  // if (typeof data[Symbol.asyncIterator as keyof AsyncIterable<Buffer>] === 'function') {\n  //   const _data = data as AsyncIterable<Buffer>;\n\n  //   const context = createHash('sha384');\n\n  //   let length = 0;\n\n  //   for await (const chunk of _data) {\n  //     length += chunk.byteLength;\n  //     context.update(chunk);\n  //   }\n\n  //   const tag = concatBuffers([stringToBuffer('blob'), stringToBuffer(length.toString())]);\n\n  //   const taggedHash = concatBuffers([await getCryptoDriver().hash(tag, 'SHA-384'), context.digest()]);\n\n  //   return await getCryptoDriver().hash(taggedHash, 'SHA-384');\n  // } else if (Array.isArray(data)) {\n  if (Array.isArray(data)) {\n    const tag = concatBuffers([stringToBuffer('list'), stringToBuffer(data.length.toString())]);\n\n    return await deepHashChunks(data, await getCryptoDriver().hash(tag, 'SHA-384'));\n  }\n  // }\n\n  const _data = data as Uint8Array;\n\n  const tag = concatBuffers([stringToBuffer('blob'), stringToBuffer(_data.byteLength.toString())]);\n\n  const taggedHash = concatBuffers([\n    await getCryptoDriver().hash(tag, 'SHA-384'),\n    await getCryptoDriver().hash(_data, 'SHA-384'),\n  ]);\n\n  return await getCryptoDriver().hash(taggedHash, 'SHA-384');\n}\n\nexport async function deepHashChunks(chunks: DeepHashChunks, acc: Uint8Array): Promise<Uint8Array> {\n  if (chunks.length < 1) {\n    return acc;\n  }\n\n  const hashPair = concatBuffers([acc, await deepHash(chunks[0])]);\n  const newAcc = await getCryptoDriver().hash(hashPair, 'SHA-384');\n  return await deepHashChunks(chunks.slice(1), newAcc);\n}\n", "(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [ number & 0x3ffffff ];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [ 0 ];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this.strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // 'A' - 'F'\n    if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    // '0' - '9'\n    } else {\n      return (c - 48) & 0xf;\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this.strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        r += c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        r += c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r += c;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [ 0 ];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this.strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype.strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  BN.prototype.inspect = function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  };\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16);\n  };\n\n  BN.prototype.toBuffer = function toBuffer (endian, length) {\n    assert(typeof Buffer !== 'undefined');\n    return this.toArrayLike(Buffer, endian, length);\n  };\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    this.strip();\n    var littleEndian = endian === 'le';\n    var res = new ArrayType(reqLength);\n\n    var b, i;\n    var q = this.clone();\n    if (!littleEndian) {\n      // Assume big-endian\n      for (i = 0; i < reqLength - byteLength; i++) {\n        res[i] = 0;\n      }\n\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[reqLength - i - 1] = b;\n      }\n    } else {\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[i] = b;\n      }\n\n      for (; i < reqLength; i++) {\n        res[i] = 0;\n      }\n    }\n\n    return res;\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] & (1 << wbit)) >>> wbit;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this.strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this.strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this.strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    var fftm = new FFTM();\n    return fftm.mulp(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out.strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this.strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) < num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this.strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this.strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q.strip();\n    }\n    a.strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modn = function modn (num) {\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return acc;\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this.strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is BN v4 instance\n        r.strip();\n      } else {\n        // r is BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n    return a.umod(this.m)._forceRed(this);\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n", "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n", "try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n", "/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n", "'use strict';\n\nconst inherits = require('inherits');\n\nfunction Reporter(options) {\n  this._reporterState = {\n    obj: null,\n    path: [],\n    options: options || {},\n    errors: []\n  };\n}\nexports.Reporter = Reporter;\n\nReporter.prototype.isError = function isError(obj) {\n  return obj instanceof ReporterError;\n};\n\nReporter.prototype.save = function save() {\n  const state = this._reporterState;\n\n  return { obj: state.obj, pathLen: state.path.length };\n};\n\nReporter.prototype.restore = function restore(data) {\n  const state = this._reporterState;\n\n  state.obj = data.obj;\n  state.path = state.path.slice(0, data.pathLen);\n};\n\nReporter.prototype.enterKey = function enterKey(key) {\n  return this._reporterState.path.push(key);\n};\n\nReporter.prototype.exitKey = function exitKey(index) {\n  const state = this._reporterState;\n\n  state.path = state.path.slice(0, index - 1);\n};\n\nReporter.prototype.leaveKey = function leaveKey(index, key, value) {\n  const state = this._reporterState;\n\n  this.exitKey(index);\n  if (state.obj !== null)\n    state.obj[key] = value;\n};\n\nReporter.prototype.path = function path() {\n  return this._reporterState.path.join('/');\n};\n\nReporter.prototype.enterObject = function enterObject() {\n  const state = this._reporterState;\n\n  const prev = state.obj;\n  state.obj = {};\n  return prev;\n};\n\nReporter.prototype.leaveObject = function leaveObject(prev) {\n  const state = this._reporterState;\n\n  const now = state.obj;\n  state.obj = prev;\n  return now;\n};\n\nReporter.prototype.error = function error(msg) {\n  let err;\n  const state = this._reporterState;\n\n  const inherited = msg instanceof ReporterError;\n  if (inherited) {\n    err = msg;\n  } else {\n    err = new ReporterError(state.path.map(function(elem) {\n      return '[' + JSON.stringify(elem) + ']';\n    }).join(''), msg.message || msg, msg.stack);\n  }\n\n  if (!state.options.partial)\n    throw err;\n\n  if (!inherited)\n    state.errors.push(err);\n\n  return err;\n};\n\nReporter.prototype.wrapResult = function wrapResult(result) {\n  const state = this._reporterState;\n  if (!state.options.partial)\n    return result;\n\n  return {\n    result: this.isError(result) ? null : result,\n    errors: state.errors\n  };\n};\n\nfunction ReporterError(path, msg) {\n  this.path = path;\n  this.rethrow(msg);\n}\ninherits(ReporterError, Error);\n\nReporterError.prototype.rethrow = function rethrow(msg) {\n  this.message = msg + ' at: ' + (this.path || '(shallow)');\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, ReporterError);\n\n  if (!this.stack) {\n    try {\n      // IE only adds stack when thrown\n      throw new Error(this.message);\n    } catch (e) {\n      this.stack = e.stack;\n    }\n  }\n  return this;\n};\n", "'use strict';\n\nconst inherits = require('inherits');\nconst Reporter = require('../base/reporter').Reporter;\nconst Buffer = require('safer-buffer').Buffer;\n\nfunction DecoderBuffer(base, options) {\n  Reporter.call(this, options);\n  if (!Buffer.isBuffer(base)) {\n    this.error('Input not Buffer');\n    return;\n  }\n\n  this.base = base;\n  this.offset = 0;\n  this.length = base.length;\n}\ninherits(DecoderBuffer, Reporter);\nexports.DecoderBuffer = DecoderBuffer;\n\nDecoderBuffer.isDecoderBuffer = function isDecoderBuffer(data) {\n  if (data instanceof DecoderBuffer) {\n    return true;\n  }\n\n  // Or accept compatible API\n  const isCompatible = typeof data === 'object' &&\n    Buffer.isBuffer(data.base) &&\n    data.constructor.name === 'DecoderBuffer' &&\n    typeof data.offset === 'number' &&\n    typeof data.length === 'number' &&\n    typeof data.save === 'function' &&\n    typeof data.restore === 'function' &&\n    typeof data.isEmpty === 'function' &&\n    typeof data.readUInt8 === 'function' &&\n    typeof data.skip === 'function' &&\n    typeof data.raw === 'function';\n\n  return isCompatible;\n};\n\nDecoderBuffer.prototype.save = function save() {\n  return { offset: this.offset, reporter: Reporter.prototype.save.call(this) };\n};\n\nDecoderBuffer.prototype.restore = function restore(save) {\n  // Return skipped data\n  const res = new DecoderBuffer(this.base);\n  res.offset = save.offset;\n  res.length = this.offset;\n\n  this.offset = save.offset;\n  Reporter.prototype.restore.call(this, save.reporter);\n\n  return res;\n};\n\nDecoderBuffer.prototype.isEmpty = function isEmpty() {\n  return this.offset === this.length;\n};\n\nDecoderBuffer.prototype.readUInt8 = function readUInt8(fail) {\n  if (this.offset + 1 <= this.length)\n    return this.base.readUInt8(this.offset++, true);\n  else\n    return this.error(fail || 'DecoderBuffer overrun');\n};\n\nDecoderBuffer.prototype.skip = function skip(bytes, fail) {\n  if (!(this.offset + bytes <= this.length))\n    return this.error(fail || 'DecoderBuffer overrun');\n\n  const res = new DecoderBuffer(this.base);\n\n  // Share reporter state\n  res._reporterState = this._reporterState;\n\n  res.offset = this.offset;\n  res.length = this.offset + bytes;\n  this.offset += bytes;\n  return res;\n};\n\nDecoderBuffer.prototype.raw = function raw(save) {\n  return this.base.slice(save ? save.offset : this.offset, this.length);\n};\n\nfunction EncoderBuffer(value, reporter) {\n  if (Array.isArray(value)) {\n    this.length = 0;\n    this.value = value.map(function(item) {\n      if (!EncoderBuffer.isEncoderBuffer(item))\n        item = new EncoderBuffer(item, reporter);\n      this.length += item.length;\n      return item;\n    }, this);\n  } else if (typeof value === 'number') {\n    if (!(0 <= value && value <= 0xff))\n      return reporter.error('non-byte EncoderBuffer value');\n    this.value = value;\n    this.length = 1;\n  } else if (typeof value === 'string') {\n    this.value = value;\n    this.length = Buffer.byteLength(value);\n  } else if (Buffer.isBuffer(value)) {\n    this.value = value;\n    this.length = value.length;\n  } else {\n    return reporter.error('Unsupported type: ' + typeof value);\n  }\n}\nexports.EncoderBuffer = EncoderBuffer;\n\nEncoderBuffer.isEncoderBuffer = function isEncoderBuffer(data) {\n  if (data instanceof EncoderBuffer) {\n    return true;\n  }\n\n  // Or accept compatible API\n  const isCompatible = typeof data === 'object' &&\n    data.constructor.name === 'EncoderBuffer' &&\n    typeof data.length === 'number' &&\n    typeof data.join === 'function';\n\n  return isCompatible;\n};\n\nEncoderBuffer.prototype.join = function join(out, offset) {\n  if (!out)\n    out = Buffer.alloc(this.length);\n  if (!offset)\n    offset = 0;\n\n  if (this.length === 0)\n    return out;\n\n  if (Array.isArray(this.value)) {\n    this.value.forEach(function(item) {\n      item.join(out, offset);\n      offset += item.length;\n    });\n  } else {\n    if (typeof this.value === 'number')\n      out[offset] = this.value;\n    else if (typeof this.value === 'string')\n      out.write(this.value, offset);\n    else if (Buffer.isBuffer(this.value))\n      this.value.copy(out, offset);\n    offset += this.length;\n  }\n\n  return out;\n};\n", "module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n", "'use strict';\n\nconst Reporter = require('../base/reporter').Reporter;\nconst EncoderBuffer = require('../base/buffer').EncoderBuffer;\nconst DecoderBuffer = require('../base/buffer').DecoderBuffer;\nconst assert = require('minimalistic-assert');\n\n// Supported tags\nconst tags = [\n  'seq', 'seqof', 'set', 'setof', 'objid', 'bool',\n  'gentime', 'utctime', 'null_', 'enum', 'int', 'objDesc',\n  'bitstr', 'bmpstr', 'charstr', 'genstr', 'graphstr', 'ia5str', 'iso646str',\n  'numstr', 'octstr', 'printstr', 't61str', 'unistr', 'utf8str', 'videostr'\n];\n\n// Public methods list\nconst methods = [\n  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',\n  'any', 'contains'\n].concat(tags);\n\n// Overrided methods list\nconst overrided = [\n  '_peekTag', '_decodeTag', '_use',\n  '_decodeStr', '_decodeObjid', '_decodeTime',\n  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',\n\n  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',\n  '_encodeNull', '_encodeInt', '_encodeBool'\n];\n\nfunction Node(enc, parent, name) {\n  const state = {};\n  this._baseState = state;\n\n  state.name = name;\n  state.enc = enc;\n\n  state.parent = parent || null;\n  state.children = null;\n\n  // State\n  state.tag = null;\n  state.args = null;\n  state.reverseArgs = null;\n  state.choice = null;\n  state.optional = false;\n  state.any = false;\n  state.obj = false;\n  state.use = null;\n  state.useDecoder = null;\n  state.key = null;\n  state['default'] = null;\n  state.explicit = null;\n  state.implicit = null;\n  state.contains = null;\n\n  // Should create new instance on each method\n  if (!state.parent) {\n    state.children = [];\n    this._wrap();\n  }\n}\nmodule.exports = Node;\n\nconst stateProps = [\n  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',\n  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',\n  'implicit', 'contains'\n];\n\nNode.prototype.clone = function clone() {\n  const state = this._baseState;\n  const cstate = {};\n  stateProps.forEach(function(prop) {\n    cstate[prop] = state[prop];\n  });\n  const res = new this.constructor(cstate.parent);\n  res._baseState = cstate;\n  return res;\n};\n\nNode.prototype._wrap = function wrap() {\n  const state = this._baseState;\n  methods.forEach(function(method) {\n    this[method] = function _wrappedMethod() {\n      const clone = new this.constructor(this);\n      state.children.push(clone);\n      return clone[method].apply(clone, arguments);\n    };\n  }, this);\n};\n\nNode.prototype._init = function init(body) {\n  const state = this._baseState;\n\n  assert(state.parent === null);\n  body.call(this);\n\n  // Filter children\n  state.children = state.children.filter(function(child) {\n    return child._baseState.parent === this;\n  }, this);\n  assert.equal(state.children.length, 1, 'Root node can have only one child');\n};\n\nNode.prototype._useArgs = function useArgs(args) {\n  const state = this._baseState;\n\n  // Filter children and args\n  const children = args.filter(function(arg) {\n    return arg instanceof this.constructor;\n  }, this);\n  args = args.filter(function(arg) {\n    return !(arg instanceof this.constructor);\n  }, this);\n\n  if (children.length !== 0) {\n    assert(state.children === null);\n    state.children = children;\n\n    // Replace parent to maintain backward link\n    children.forEach(function(child) {\n      child._baseState.parent = this;\n    }, this);\n  }\n  if (args.length !== 0) {\n    assert(state.args === null);\n    state.args = args;\n    state.reverseArgs = args.map(function(arg) {\n      if (typeof arg !== 'object' || arg.constructor !== Object)\n        return arg;\n\n      const res = {};\n      Object.keys(arg).forEach(function(key) {\n        if (key == (key | 0))\n          key |= 0;\n        const value = arg[key];\n        res[value] = key;\n      });\n      return res;\n    });\n  }\n};\n\n//\n// Overrided methods\n//\n\noverrided.forEach(function(method) {\n  Node.prototype[method] = function _overrided() {\n    const state = this._baseState;\n    throw new Error(method + ' not implemented for encoding: ' + state.enc);\n  };\n});\n\n//\n// Public methods\n//\n\ntags.forEach(function(tag) {\n  Node.prototype[tag] = function _tagMethod() {\n    const state = this._baseState;\n    const args = Array.prototype.slice.call(arguments);\n\n    assert(state.tag === null);\n    state.tag = tag;\n\n    this._useArgs(args);\n\n    return this;\n  };\n});\n\nNode.prototype.use = function use(item) {\n  assert(item);\n  const state = this._baseState;\n\n  assert(state.use === null);\n  state.use = item;\n\n  return this;\n};\n\nNode.prototype.optional = function optional() {\n  const state = this._baseState;\n\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.def = function def(val) {\n  const state = this._baseState;\n\n  assert(state['default'] === null);\n  state['default'] = val;\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.explicit = function explicit(num) {\n  const state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.explicit = num;\n\n  return this;\n};\n\nNode.prototype.implicit = function implicit(num) {\n  const state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.implicit = num;\n\n  return this;\n};\n\nNode.prototype.obj = function obj() {\n  const state = this._baseState;\n  const args = Array.prototype.slice.call(arguments);\n\n  state.obj = true;\n\n  if (args.length !== 0)\n    this._useArgs(args);\n\n  return this;\n};\n\nNode.prototype.key = function key(newKey) {\n  const state = this._baseState;\n\n  assert(state.key === null);\n  state.key = newKey;\n\n  return this;\n};\n\nNode.prototype.any = function any() {\n  const state = this._baseState;\n\n  state.any = true;\n\n  return this;\n};\n\nNode.prototype.choice = function choice(obj) {\n  const state = this._baseState;\n\n  assert(state.choice === null);\n  state.choice = obj;\n  this._useArgs(Object.keys(obj).map(function(key) {\n    return obj[key];\n  }));\n\n  return this;\n};\n\nNode.prototype.contains = function contains(item) {\n  const state = this._baseState;\n\n  assert(state.use === null);\n  state.contains = item;\n\n  return this;\n};\n\n//\n// Decoding\n//\n\nNode.prototype._decode = function decode(input, options) {\n  const state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return input.wrapResult(state.children[0]._decode(input, options));\n\n  let result = state['default'];\n  let present = true;\n\n  let prevKey = null;\n  if (state.key !== null)\n    prevKey = input.enterKey(state.key);\n\n  // Check if tag is there\n  if (state.optional) {\n    let tag = null;\n    if (state.explicit !== null)\n      tag = state.explicit;\n    else if (state.implicit !== null)\n      tag = state.implicit;\n    else if (state.tag !== null)\n      tag = state.tag;\n\n    if (tag === null && !state.any) {\n      // Trial and Error\n      const save = input.save();\n      try {\n        if (state.choice === null)\n          this._decodeGeneric(state.tag, input, options);\n        else\n          this._decodeChoice(input, options);\n        present = true;\n      } catch (e) {\n        present = false;\n      }\n      input.restore(save);\n    } else {\n      present = this._peekTag(input, tag, state.any);\n\n      if (input.isError(present))\n        return present;\n    }\n  }\n\n  // Push object on stack\n  let prevObj;\n  if (state.obj && present)\n    prevObj = input.enterObject();\n\n  if (present) {\n    // Unwrap explicit values\n    if (state.explicit !== null) {\n      const explicit = this._decodeTag(input, state.explicit);\n      if (input.isError(explicit))\n        return explicit;\n      input = explicit;\n    }\n\n    const start = input.offset;\n\n    // Unwrap implicit and normal values\n    if (state.use === null && state.choice === null) {\n      let save;\n      if (state.any)\n        save = input.save();\n      const body = this._decodeTag(\n        input,\n        state.implicit !== null ? state.implicit : state.tag,\n        state.any\n      );\n      if (input.isError(body))\n        return body;\n\n      if (state.any)\n        result = input.raw(save);\n      else\n        input = body;\n    }\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), start, input.length, 'tagged');\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), input.offset, input.length, 'content');\n\n    // Select proper method for tag\n    if (state.any) {\n      // no-op\n    } else if (state.choice === null) {\n      result = this._decodeGeneric(state.tag, input, options);\n    } else {\n      result = this._decodeChoice(input, options);\n    }\n\n    if (input.isError(result))\n      return result;\n\n    // Decode children\n    if (!state.any && state.choice === null && state.children !== null) {\n      state.children.forEach(function decodeChildren(child) {\n        // NOTE: We are ignoring errors here, to let parser continue with other\n        // parts of encoded data\n        child._decode(input, options);\n      });\n    }\n\n    // Decode contained/encoded by schema, only in bit or octet strings\n    if (state.contains && (state.tag === 'octstr' || state.tag === 'bitstr')) {\n      const data = new DecoderBuffer(result);\n      result = this._getUse(state.contains, input._reporterState.obj)\n        ._decode(data, options);\n    }\n  }\n\n  // Pop object\n  if (state.obj && present)\n    result = input.leaveObject(prevObj);\n\n  // Set key\n  if (state.key !== null && (result !== null || present === true))\n    input.leaveKey(prevKey, state.key, result);\n  else if (prevKey !== null)\n    input.exitKey(prevKey);\n\n  return result;\n};\n\nNode.prototype._decodeGeneric = function decodeGeneric(tag, input, options) {\n  const state = this._baseState;\n\n  if (tag === 'seq' || tag === 'set')\n    return null;\n  if (tag === 'seqof' || tag === 'setof')\n    return this._decodeList(input, tag, state.args[0], options);\n  else if (/str$/.test(tag))\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'objid' && state.args)\n    return this._decodeObjid(input, state.args[0], state.args[1], options);\n  else if (tag === 'objid')\n    return this._decodeObjid(input, null, null, options);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._decodeTime(input, tag, options);\n  else if (tag === 'null_')\n    return this._decodeNull(input, options);\n  else if (tag === 'bool')\n    return this._decodeBool(input, options);\n  else if (tag === 'objDesc')\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'int' || tag === 'enum')\n    return this._decodeInt(input, state.args && state.args[0], options);\n\n  if (state.use !== null) {\n    return this._getUse(state.use, input._reporterState.obj)\n      ._decode(input, options);\n  } else {\n    return input.error('unknown tag: ' + tag);\n  }\n};\n\nNode.prototype._getUse = function _getUse(entity, obj) {\n\n  const state = this._baseState;\n  // Create altered use decoder if implicit is set\n  state.useDecoder = this._use(entity, obj);\n  assert(state.useDecoder._baseState.parent === null);\n  state.useDecoder = state.useDecoder._baseState.children[0];\n  if (state.implicit !== state.useDecoder._baseState.implicit) {\n    state.useDecoder = state.useDecoder.clone();\n    state.useDecoder._baseState.implicit = state.implicit;\n  }\n  return state.useDecoder;\n};\n\nNode.prototype._decodeChoice = function decodeChoice(input, options) {\n  const state = this._baseState;\n  let result = null;\n  let match = false;\n\n  Object.keys(state.choice).some(function(key) {\n    const save = input.save();\n    const node = state.choice[key];\n    try {\n      const value = node._decode(input, options);\n      if (input.isError(value))\n        return false;\n\n      result = { type: key, value: value };\n      match = true;\n    } catch (e) {\n      input.restore(save);\n      return false;\n    }\n    return true;\n  }, this);\n\n  if (!match)\n    return input.error('Choice not matched');\n\n  return result;\n};\n\n//\n// Encoding\n//\n\nNode.prototype._createEncoderBuffer = function createEncoderBuffer(data) {\n  return new EncoderBuffer(data, this.reporter);\n};\n\nNode.prototype._encode = function encode(data, reporter, parent) {\n  const state = this._baseState;\n  if (state['default'] !== null && state['default'] === data)\n    return;\n\n  const result = this._encodeValue(data, reporter, parent);\n  if (result === undefined)\n    return;\n\n  if (this._skipDefault(result, reporter, parent))\n    return;\n\n  return result;\n};\n\nNode.prototype._encodeValue = function encode(data, reporter, parent) {\n  const state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return state.children[0]._encode(data, reporter || new Reporter());\n\n  let result = null;\n\n  // Set reporter to share it with a child class\n  this.reporter = reporter;\n\n  // Check if data is there\n  if (state.optional && data === undefined) {\n    if (state['default'] !== null)\n      data = state['default'];\n    else\n      return;\n  }\n\n  // Encode children first\n  let content = null;\n  let primitive = false;\n  if (state.any) {\n    // Anything that was given is translated to buffer\n    result = this._createEncoderBuffer(data);\n  } else if (state.choice) {\n    result = this._encodeChoice(data, reporter);\n  } else if (state.contains) {\n    content = this._getUse(state.contains, parent)._encode(data, reporter);\n    primitive = true;\n  } else if (state.children) {\n    content = state.children.map(function(child) {\n      if (child._baseState.tag === 'null_')\n        return child._encode(null, reporter, data);\n\n      if (child._baseState.key === null)\n        return reporter.error('Child should have a key');\n      const prevKey = reporter.enterKey(child._baseState.key);\n\n      if (typeof data !== 'object')\n        return reporter.error('Child expected, but input is not object');\n\n      const res = child._encode(data[child._baseState.key], reporter, data);\n      reporter.leaveKey(prevKey);\n\n      return res;\n    }, this).filter(function(child) {\n      return child;\n    });\n    content = this._createEncoderBuffer(content);\n  } else {\n    if (state.tag === 'seqof' || state.tag === 'setof') {\n      // TODO(indutny): this should be thrown on DSL level\n      if (!(state.args && state.args.length === 1))\n        return reporter.error('Too many args for : ' + state.tag);\n\n      if (!Array.isArray(data))\n        return reporter.error('seqof/setof, but data is not Array');\n\n      const child = this.clone();\n      child._baseState.implicit = null;\n      content = this._createEncoderBuffer(data.map(function(item) {\n        const state = this._baseState;\n\n        return this._getUse(state.args[0], data)._encode(item, reporter);\n      }, child));\n    } else if (state.use !== null) {\n      result = this._getUse(state.use, parent)._encode(data, reporter);\n    } else {\n      content = this._encodePrimitive(state.tag, data);\n      primitive = true;\n    }\n  }\n\n  // Encode data itself\n  if (!state.any && state.choice === null) {\n    const tag = state.implicit !== null ? state.implicit : state.tag;\n    const cls = state.implicit === null ? 'universal' : 'context';\n\n    if (tag === null) {\n      if (state.use === null)\n        reporter.error('Tag could be omitted only for .use()');\n    } else {\n      if (state.use === null)\n        result = this._encodeComposite(tag, primitive, cls, content);\n    }\n  }\n\n  // Wrap in explicit\n  if (state.explicit !== null)\n    result = this._encodeComposite(state.explicit, false, 'context', result);\n\n  return result;\n};\n\nNode.prototype._encodeChoice = function encodeChoice(data, reporter) {\n  const state = this._baseState;\n\n  const node = state.choice[data.type];\n  if (!node) {\n    assert(\n      false,\n      data.type + ' not found in ' +\n            JSON.stringify(Object.keys(state.choice)));\n  }\n  return node._encode(data.value, reporter);\n};\n\nNode.prototype._encodePrimitive = function encodePrimitive(tag, data) {\n  const state = this._baseState;\n\n  if (/str$/.test(tag))\n    return this._encodeStr(data, tag);\n  else if (tag === 'objid' && state.args)\n    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);\n  else if (tag === 'objid')\n    return this._encodeObjid(data, null, null);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._encodeTime(data, tag);\n  else if (tag === 'null_')\n    return this._encodeNull();\n  else if (tag === 'int' || tag === 'enum')\n    return this._encodeInt(data, state.args && state.reverseArgs[0]);\n  else if (tag === 'bool')\n    return this._encodeBool(data);\n  else if (tag === 'objDesc')\n    return this._encodeStr(data, tag);\n  else\n    throw new Error('Unsupported tag: ' + tag);\n};\n\nNode.prototype._isNumstr = function isNumstr(str) {\n  return /^[0-9 ]*$/.test(str);\n};\n\nNode.prototype._isPrintstr = function isPrintstr(str) {\n  return /^[A-Za-z0-9 '()+,-./:=?]*$/.test(str);\n};\n", "'use strict';\n\n// Helper\nfunction reverse(map) {\n  const res = {};\n\n  Object.keys(map).forEach(function(key) {\n    // Convert key to integer if it is stringified\n    if ((key | 0) == key)\n      key = key | 0;\n\n    const value = map[key];\n    res[value] = key;\n  });\n\n  return res;\n}\n\nexports.tagClass = {\n  0: 'universal',\n  1: 'application',\n  2: 'context',\n  3: 'private'\n};\nexports.tagClassByName = reverse(exports.tagClass);\n\nexports.tag = {\n  0x00: 'end',\n  0x01: 'bool',\n  0x02: 'int',\n  0x03: 'bitstr',\n  0x04: 'octstr',\n  0x05: 'null_',\n  0x06: 'objid',\n  0x07: 'objDesc',\n  0x08: 'external',\n  0x09: 'real',\n  0x0a: 'enum',\n  0x0b: 'embed',\n  0x0c: 'utf8str',\n  0x0d: 'relativeOid',\n  0x10: 'seq',\n  0x11: 'set',\n  0x12: 'numstr',\n  0x13: 'printstr',\n  0x14: 't61str',\n  0x15: 'videostr',\n  0x16: 'ia5str',\n  0x17: 'utctime',\n  0x18: 'gentime',\n  0x19: 'graphstr',\n  0x1a: 'iso646str',\n  0x1b: 'genstr',\n  0x1c: 'unistr',\n  0x1d: 'charstr',\n  0x1e: 'bmpstr'\n};\nexports.tagByName = reverse(exports.tag);\n", "'use strict';\n\nconst inherits = require('inherits');\nconst Buffer = require('safer-buffer').Buffer;\nconst Node = require('../base/node');\n\n// Import DER constants\nconst der = require('../constants/der');\n\nfunction DEREncoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n}\nmodule.exports = DEREncoder;\n\nDEREncoder.prototype.encode = function encode(data, reporter) {\n  return this.tree._encode(data, reporter).join();\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  Node.call(this, 'der', parent);\n}\ninherits(DERNode, Node);\n\nDERNode.prototype._encodeComposite = function encodeComposite(tag,\n  primitive,\n  cls,\n  content) {\n  const encodedTag = encodeTag(tag, primitive, cls, this.reporter);\n\n  // Short form\n  if (content.length < 0x80) {\n    const header = Buffer.alloc(2);\n    header[0] = encodedTag;\n    header[1] = content.length;\n    return this._createEncoderBuffer([ header, content ]);\n  }\n\n  // Long form\n  // Count octets required to store length\n  let lenOctets = 1;\n  for (let i = content.length; i >= 0x100; i >>= 8)\n    lenOctets++;\n\n  const header = Buffer.alloc(1 + 1 + lenOctets);\n  header[0] = encodedTag;\n  header[1] = 0x80 | lenOctets;\n\n  for (let i = 1 + lenOctets, j = content.length; j > 0; i--, j >>= 8)\n    header[i] = j & 0xff;\n\n  return this._createEncoderBuffer([ header, content ]);\n};\n\nDERNode.prototype._encodeStr = function encodeStr(str, tag) {\n  if (tag === 'bitstr') {\n    return this._createEncoderBuffer([ str.unused | 0, str.data ]);\n  } else if (tag === 'bmpstr') {\n    const buf = Buffer.alloc(str.length * 2);\n    for (let i = 0; i < str.length; i++) {\n      buf.writeUInt16BE(str.charCodeAt(i), i * 2);\n    }\n    return this._createEncoderBuffer(buf);\n  } else if (tag === 'numstr') {\n    if (!this._isNumstr(str)) {\n      return this.reporter.error('Encoding of string type: numstr supports ' +\n                                 'only digits and space');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'printstr') {\n    if (!this._isPrintstr(str)) {\n      return this.reporter.error('Encoding of string type: printstr supports ' +\n                                 'only latin upper and lower case letters, ' +\n                                 'digits, space, apostrophe, left and rigth ' +\n                                 'parenthesis, plus sign, comma, hyphen, ' +\n                                 'dot, slash, colon, equal sign, ' +\n                                 'question mark');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (/str$/.test(tag)) {\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'objDesc') {\n    return this._createEncoderBuffer(str);\n  } else {\n    return this.reporter.error('Encoding of string type: ' + tag +\n                               ' unsupported');\n  }\n};\n\nDERNode.prototype._encodeObjid = function encodeObjid(id, values, relative) {\n  if (typeof id === 'string') {\n    if (!values)\n      return this.reporter.error('string objid given, but no values map found');\n    if (!values.hasOwnProperty(id))\n      return this.reporter.error('objid not found in values map');\n    id = values[id].split(/[\\s.]+/g);\n    for (let i = 0; i < id.length; i++)\n      id[i] |= 0;\n  } else if (Array.isArray(id)) {\n    id = id.slice();\n    for (let i = 0; i < id.length; i++)\n      id[i] |= 0;\n  }\n\n  if (!Array.isArray(id)) {\n    return this.reporter.error('objid() should be either array or string, ' +\n                               'got: ' + JSON.stringify(id));\n  }\n\n  if (!relative) {\n    if (id[1] >= 40)\n      return this.reporter.error('Second objid identifier OOB');\n    id.splice(0, 2, id[0] * 40 + id[1]);\n  }\n\n  // Count number of octets\n  let size = 0;\n  for (let i = 0; i < id.length; i++) {\n    let ident = id[i];\n    for (size++; ident >= 0x80; ident >>= 7)\n      size++;\n  }\n\n  const objid = Buffer.alloc(size);\n  let offset = objid.length - 1;\n  for (let i = id.length - 1; i >= 0; i--) {\n    let ident = id[i];\n    objid[offset--] = ident & 0x7f;\n    while ((ident >>= 7) > 0)\n      objid[offset--] = 0x80 | (ident & 0x7f);\n  }\n\n  return this._createEncoderBuffer(objid);\n};\n\nfunction two(num) {\n  if (num < 10)\n    return '0' + num;\n  else\n    return num;\n}\n\nDERNode.prototype._encodeTime = function encodeTime(time, tag) {\n  let str;\n  const date = new Date(time);\n\n  if (tag === 'gentime') {\n    str = [\n      two(date.getUTCFullYear()),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else if (tag === 'utctime') {\n    str = [\n      two(date.getUTCFullYear() % 100),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else {\n    this.reporter.error('Encoding ' + tag + ' time is not supported yet');\n  }\n\n  return this._encodeStr(str, 'octstr');\n};\n\nDERNode.prototype._encodeNull = function encodeNull() {\n  return this._createEncoderBuffer('');\n};\n\nDERNode.prototype._encodeInt = function encodeInt(num, values) {\n  if (typeof num === 'string') {\n    if (!values)\n      return this.reporter.error('String int or enum given, but no values map');\n    if (!values.hasOwnProperty(num)) {\n      return this.reporter.error('Values map doesn\\'t contain: ' +\n                                 JSON.stringify(num));\n    }\n    num = values[num];\n  }\n\n  // Bignum, assume big endian\n  if (typeof num !== 'number' && !Buffer.isBuffer(num)) {\n    const numArray = num.toArray();\n    if (!num.sign && numArray[0] & 0x80) {\n      numArray.unshift(0);\n    }\n    num = Buffer.from(numArray);\n  }\n\n  if (Buffer.isBuffer(num)) {\n    let size = num.length;\n    if (num.length === 0)\n      size++;\n\n    const out = Buffer.alloc(size);\n    num.copy(out);\n    if (num.length === 0)\n      out[0] = 0;\n    return this._createEncoderBuffer(out);\n  }\n\n  if (num < 0x80)\n    return this._createEncoderBuffer(num);\n\n  if (num < 0x100)\n    return this._createEncoderBuffer([0, num]);\n\n  let size = 1;\n  for (let i = num; i >= 0x100; i >>= 8)\n    size++;\n\n  const out = new Array(size);\n  for (let i = out.length - 1; i >= 0; i--) {\n    out[i] = num & 0xff;\n    num >>= 8;\n  }\n  if(out[0] & 0x80) {\n    out.unshift(0);\n  }\n\n  return this._createEncoderBuffer(Buffer.from(out));\n};\n\nDERNode.prototype._encodeBool = function encodeBool(value) {\n  return this._createEncoderBuffer(value ? 0xff : 0);\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getEncoder('der').tree;\n};\n\nDERNode.prototype._skipDefault = function skipDefault(dataBuffer, reporter, parent) {\n  const state = this._baseState;\n  let i;\n  if (state['default'] === null)\n    return false;\n\n  const data = dataBuffer.join();\n  if (state.defaultBuffer === undefined)\n    state.defaultBuffer = this._encodeValue(state['default'], reporter, parent).join();\n\n  if (data.length !== state.defaultBuffer.length)\n    return false;\n\n  for (i=0; i < data.length; i++)\n    if (data[i] !== state.defaultBuffer[i])\n      return false;\n\n  return true;\n};\n\n// Utility methods\n\nfunction encodeTag(tag, primitive, cls, reporter) {\n  let res;\n\n  if (tag === 'seqof')\n    tag = 'seq';\n  else if (tag === 'setof')\n    tag = 'set';\n\n  if (der.tagByName.hasOwnProperty(tag))\n    res = der.tagByName[tag];\n  else if (typeof tag === 'number' && (tag | 0) === tag)\n    res = tag;\n  else\n    return reporter.error('Unknown tag: ' + tag);\n\n  if (res >= 0x1f)\n    return reporter.error('Multi-octet tag encoding unsupported');\n\n  if (!primitive)\n    res |= 0x20;\n\n  res |= (der.tagClassByName[cls || 'universal'] << 6);\n\n  return res;\n}\n", "'use strict';\n\nconst inherits = require('inherits');\n\nconst DEREncoder = require('./der');\n\nfunction PEMEncoder(entity) {\n  DEREncoder.call(this, entity);\n  this.enc = 'pem';\n}\ninherits(PEMEncoder, DEREncoder);\nmodule.exports = PEMEncoder;\n\nPEMEncoder.prototype.encode = function encode(data, options) {\n  const buf = DEREncoder.prototype.encode.call(this, data);\n\n  const p = buf.toString('base64');\n  const out = [ '-----BEGIN ' + options.label + '-----' ];\n  for (let i = 0; i < p.length; i += 64)\n    out.push(p.slice(i, i + 64));\n  out.push('-----END ' + options.label + '-----');\n  return out.join('\\n');\n};\n", "'use strict';\n\nconst encoders = exports;\n\nencoders.der = require('./der');\nencoders.pem = require('./pem');\n", "'use strict';\n\nconst inherits = require('inherits');\n\nconst bignum = require('bn.js');\nconst DecoderBuffer = require('../base/buffer').DecoderBuffer;\nconst Node = require('../base/node');\n\n// Import DER constants\nconst der = require('../constants/der');\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n}\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!DecoderBuffer.isDecoderBuffer(data)) {\n    data = new DecoderBuffer(data, options);\n  }\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  Node.call(this, 'der', parent);\n}\ninherits(DERNode, Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  const state = buffer.save();\n  const decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  const decodedTag = derDecodeTag(buffer,\n    'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  let len = derDecodeLen(buffer,\n    decodedTag.primitive,\n    'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  const state = buffer.save();\n  const res = this._skipUntilEnd(\n    buffer,\n    'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  for (;;) {\n    const tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    const len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    let res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len);\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n  options) {\n  const result = [];\n  while (!buffer.isEmpty()) {\n    const possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    const res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    const unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    const raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    let str = '';\n    for (let i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    const numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    const printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  let result;\n  const identifiers = [];\n  let ident = 0;\n  let subident = 0;\n  while (!buffer.isEmpty()) {\n    subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  const first = (identifiers[0] / 40) | 0;\n  const second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    let tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  const str = buffer.raw().toString();\n\n  let year;\n  let mon;\n  let day;\n  let hour;\n  let min;\n  let sec;\n  if (tag === 'gentime') {\n    year = str.slice(0, 4) | 0;\n    mon = str.slice(4, 6) | 0;\n    day = str.slice(6, 8) | 0;\n    hour = str.slice(8, 10) | 0;\n    min = str.slice(10, 12) | 0;\n    sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    year = str.slice(0, 2) | 0;\n    mon = str.slice(2, 4) | 0;\n    day = str.slice(4, 6) | 0;\n    hour = str.slice(6, 8) | 0;\n    min = str.slice(8, 10) | 0;\n    sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull() {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  const res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  const raw = buffer.raw();\n  let res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  let tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  const cls = der.tagClass[tag >> 6];\n  const primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    let oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  const tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  let len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  const num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (let i = 0; i < num; i++) {\n    len <<= 8;\n    const j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n", "'use strict';\n\nconst inherits = require('inherits');\nconst Buffer = require('safer-buffer').Buffer;\n\nconst DERDecoder = require('./der');\n\nfunction PEMDecoder(entity) {\n  DERDecoder.call(this, entity);\n  this.enc = 'pem';\n}\ninherits(PEMDecoder, DERDecoder);\nmodule.exports = PEMDecoder;\n\nPEMDecoder.prototype.decode = function decode(data, options) {\n  const lines = data.toString().split(/[\\r\\n]+/g);\n\n  const label = options.label.toUpperCase();\n\n  const re = /^-----(BEGIN|END) ([^-]+)-----$/;\n  let start = -1;\n  let end = -1;\n  for (let i = 0; i < lines.length; i++) {\n    const match = lines[i].match(re);\n    if (match === null)\n      continue;\n\n    if (match[2] !== label)\n      continue;\n\n    if (start === -1) {\n      if (match[1] !== 'BEGIN')\n        break;\n      start = i;\n    } else {\n      if (match[1] !== 'END')\n        break;\n      end = i;\n      break;\n    }\n  }\n  if (start === -1 || end === -1)\n    throw new Error('PEM section not found for: ' + label);\n\n  const base64 = lines.slice(start + 1, end).join('');\n  // Remove excessive symbols\n  base64.replace(/[^a-z0-9+/=]+/gi, '');\n\n  const input = Buffer.from(base64, 'base64');\n  return DERDecoder.prototype.decode.call(this, input, options);\n};\n", "'use strict';\n\nconst decoders = exports;\n\ndecoders.der = require('./der');\ndecoders.pem = require('./pem');\n", "'use strict';\n\nconst encoders = require('./encoders');\nconst decoders = require('./decoders');\nconst inherits = require('inherits');\n\nconst api = exports;\n\napi.define = function define(name, body) {\n  return new Entity(name, body);\n};\n\nfunction Entity(name, body) {\n  this.name = name;\n  this.body = body;\n\n  this.decoders = {};\n  this.encoders = {};\n}\n\nEntity.prototype._createNamed = function createNamed(Base) {\n  const name = this.name;\n\n  function Generated(entity) {\n    this._initNamed(entity, name);\n  }\n  inherits(Generated, Base);\n  Generated.prototype._initNamed = function _initNamed(entity, name) {\n    Base.call(this, entity, name);\n  };\n\n  return new Generated(this);\n};\n\nEntity.prototype._getDecoder = function _getDecoder(enc) {\n  enc = enc || 'der';\n  // Lazily create decoder\n  if (!this.decoders.hasOwnProperty(enc))\n    this.decoders[enc] = this._createNamed(decoders[enc]);\n  return this.decoders[enc];\n};\n\nEntity.prototype.decode = function decode(data, enc, options) {\n  return this._getDecoder(enc).decode(data, options);\n};\n\nEntity.prototype._getEncoder = function _getEncoder(enc) {\n  enc = enc || 'der';\n  // Lazily create encoder\n  if (!this.encoders.hasOwnProperty(enc))\n    this.encoders[enc] = this._createNamed(encoders[enc]);\n  return this.encoders[enc];\n};\n\nEntity.prototype.encode = function encode(data, enc, /* internal */ reporter) {\n  return this._getEncoder(enc).encode(data, reporter);\n};\n", "'use strict';\n\nconst base = exports;\n\nbase.Reporter = require('./reporter').Reporter;\nbase.DecoderBuffer = require('./buffer').DecoderBuffer;\nbase.EncoderBuffer = require('./buffer').EncoderBuffer;\nbase.Node = require('./node');\n", "'use strict';\n\nconst constants = exports;\n\n// Helper\nconstants._reverse = function reverse(map) {\n  const res = {};\n\n  Object.keys(map).forEach(function(key) {\n    // Convert key to integer if it is stringified\n    if ((key | 0) == key)\n      key = key | 0;\n\n    const value = map[key];\n    res[value] = key;\n  });\n\n  return res;\n};\n\nconstants.der = require('./der');\n", "'use strict';\n\nconst asn1 = exports;\n\nasn1.bignum = require('bn.js');\n\nasn1.define = require('./asn1/api').define;\nasn1.base = require('./asn1/base');\nasn1.constants = require('./asn1/constants');\nasn1.decoders = require('./asn1/decoders');\nasn1.encoders = require('./asn1/encoders');\n", null, null, "export { stringToBuffer, concatBuffers } from 'arweave/node/lib/utils';\nexport { deepHash } from './deepHash';\nimport { default as nodeDriver } from 'arweave/node/lib/crypto/node-driver';\nimport { createPublicKey } from 'crypto';\nimport type { JWKInterface } from './interface-jwk';\n\nconst driver: typeof nodeDriver = nodeDriver['default'] ? nodeDriver['default'] : nodeDriver;\n\nexport class CryptoDriver extends driver {\n  public getPublicKey(jwk: JWKInterface): string {\n    return createPublicKey({\n      key: this.jwkToPem(jwk),\n      type: 'pkcs1',\n      format: 'pem',\n    })\n      .export({\n        format: 'pem',\n        type: 'pkcs1',\n      })\n      .toString();\n  }\n}\n\nlet driverInstance: CryptoDriver;\nexport function getCryptoDriver(): CryptoDriver {\n  return (driverInstance ??= new CryptoDriver());\n}\n", "export enum SignatureConfig {\n  ARWEAVE = 1,\n  ED25519,\n  ETHEREUM,\n  SOLANA,\n  INJECTEDAPTOS = 5,\n  MULTIAPTOS = 6,\n  TYPEDETHEREUM = 7,\n}\n\nexport interface SignatureMeta {\n  sigLength: number;\n  pubLength: number;\n  sigName: string;\n}\n\nexport const SIG_CONFIG: Record<SignatureConfig, SignatureMeta> = {\n  [SignatureConfig.ARWEAVE]: {\n    sigLength: 512,\n    pubLength: 512,\n    sigName: 'arweave',\n  },\n  [SignatureConfig.ED25519]: {\n    sigLength: 64,\n    pubLength: 32,\n    sigName: 'ed25519',\n  },\n  [SignatureConfig.ETHEREUM]: {\n    sigLength: 65,\n    pubLength: 65,\n    sigName: 'ethereum',\n  },\n  [SignatureConfig.SOLANA]: {\n    sigLength: 64,\n    pubLength: 32,\n    sigName: 'solana',\n  },\n  [SignatureConfig.INJECTEDAPTOS]: {\n    sigLength: 64,\n    pubLength: 32,\n    sigName: 'injectedAptos',\n  },\n  [SignatureConfig.MULTIAPTOS]: {\n    sigLength: 64 * 32 + 4, // max 32 64 byte signatures, +4 for 32-bit bitmap\n    pubLength: 32 * 32 + 1, // max 64 32 byte keys, +1 for 8-bit threshold value\n    sigName: 'multiAptos',\n  },\n  [SignatureConfig.TYPEDETHEREUM]: {\n    sigLength: 65,\n    pubLength: 42,\n    sigName: 'typedEthereum',\n  },\n};\n", "import type { JWKInterface } from '../../interface-jwk';\nimport base64url from 'base64url';\nimport { getCryptoDriver } from '$/utils';\nimport { SIG_CONFIG } from '../../constants';\nimport { Signer } from '../Signer';\n\nexport default class ArweaveSigner implements Signer {\n  readonly signatureType: number = 1;\n  readonly ownerLength: number = SIG_CONFIG[1].pubLength;\n  readonly signatureLength: number = SIG_CONFIG[1].sigLength;\n  protected jwk: JWKInterface;\n  public pk: string;\n\n  constructor(jwk: JWKInterface) {\n    this.pk = jwk.n;\n    this.jwk = jwk;\n  }\n\n  get publicKey(): Buffer {\n    return base64url.toBuffer(this.pk);\n  }\n\n  sign(message: Uint8Array): Uint8Array {\n    return getCryptoDriver().sign(this.jwk, message) as any;\n  }\n\n  static async verify(pk: string, message: Uint8Array, signature: Uint8Array): Promise<boolean> {\n    return await getCryptoDriver().verify(pk, message, signature);\n  }\n}\n", "import { Signer } from './Signer';\nimport ArweaveSigner from './chains/ArweaveSigner';\nexport type IndexToType = Record<\n  number,\n  {\n    new (...args): Signer;\n    readonly signatureLength: number;\n    readonly ownerLength: number;\n    verify(pk: string | Uint8Array, message: Uint8Array, signature: Uint8Array): Promise<boolean>;\n  }\n>;\n\nexport const indexToType: IndexToType = {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  1: ArweaveSigner,\n  // // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // 2: Curve25519,\n  // // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // // @ts-expect-error\n  // 3: EthereumSigner,\n  // // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // // @ts-expect-error\n  // 4: HexInjectedSolanaSigner,\n  // // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // // @ts-expect-error\n  // 5: InjectedAptosSigner,\n  // // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // // @ts-expect-error\n  // 6: MultiSignatureAptosSigner,\n  // // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // // @ts-expect-error\n  // 7: TypedEthereumSigner,\n};\n", "export { default as ArweaveSigner } from './ArweaveSigner';\n", "export * from './Signer';\nexport * from './constants';\nexport * from './chains/index';\n", "import { DataItem } from './DataItem';\nimport { deepHash, stringToBuffer } from '$/utils';\n\nexport async function getSignatureData(item: DataItem): Promise<Uint8Array> {\n  return deepHash([\n    stringToBuffer('dataitem'),\n    stringToBuffer('1'),\n    stringToBuffer(item.signatureType.toString()),\n    item.rawOwner,\n    item.rawTarget,\n    item.rawAnchor,\n    item.rawTags,\n    item.rawData,\n  ]);\n}\n", "import { getSignatureData } from './ar-data-base';\nimport { DataItem } from './DataItem';\nimport { Signer } from './signing/Signer';\nimport { getCryptoDriver } from '$/utils';\n\nexport async function getSignatureAndId(item: DataItem, signer: Signer): Promise<{ signature: Buffer; id: Buffer }> {\n  const signatureData = await getSignatureData(item);\n\n  const signatureBytes = await signer.sign(signatureData);\n  const idBytes = await getCryptoDriver().hash(signatureBytes);\n\n  return { signature: Buffer.from(signatureBytes), id: Buffer.from(idBytes) };\n}\n\nexport async function sign(item: DataItem, signer: Signer): Promise<Buffer> {\n  const { signature, id } = await getSignatureAndId(item, signer);\n  item.getRaw().set(signature, 2);\n  return id;\n}\n", "import { MAX_TAG_BYTES } from './DataItem';\n\nexport interface Tag {\n  name: string;\n  value: string;\n}\n\nexport class AVSCTap {\n  protected buf: Buffer;\n  protected pos: number;\n\n  constructor(buf = Buffer.alloc(MAX_TAG_BYTES), pos = 0) {\n    this.buf = buf;\n    this.pos = pos;\n  }\n\n  public writeTags(tags: Tag[]): void {\n    if (!Array.isArray(tags)) {\n      throw new Error('input must be array');\n    }\n\n    const n = tags.length;\n    let i;\n    if (n) {\n      this.writeLong(n);\n      for (i = 0; i < n; i++) {\n        // for this use case, assume tags/strings.\n        const tag = tags[i];\n        if (tag?.name === undefined || tag?.value === undefined)\n          throw new Error(`Invalid tag format for ${tag}, expected {name:string, value: string}`);\n        this.writeString(tag.name);\n        this.writeString(tag.value);\n        // this.itemsType._write(tap, val[i]);\n      }\n    }\n    this.writeLong(0);\n  }\n\n  public toBuffer(): Buffer {\n    const buffer = Buffer.alloc(this.pos);\n    if (this.pos > this.buf.length) throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);\n    this.buf.copy(buffer, 0, 0, this.pos);\n    return buffer;\n  }\n\n  public tagsExceedLimit(): boolean {\n    return this.pos > this.buf.length;\n  }\n\n  protected writeLong(n: number): void {\n    const buf = this.buf;\n    let f, m;\n\n    if (n >= -1073741824 && n < 1073741824) {\n      // Won't overflow, we can use integer arithmetic.\n      m = n >= 0 ? n << 1 : (~n << 1) | 1;\n      do {\n        buf[this.pos] = m & 0x7f;\n        m >>= 7;\n      } while (m && (buf[this.pos++] |= 0x80));\n    } else {\n      // We have to use slower floating arithmetic.\n      f = n >= 0 ? n * 2 : -n * 2 - 1;\n      do {\n        buf[this.pos] = f & 0x7f;\n        f /= 128;\n      } while (f >= 1 && (buf[this.pos++] |= 0x80));\n    }\n    this.pos++;\n    this.buf = buf;\n  }\n\n  // for some reason using setters/getters with ++ doesn't work right.\n  // set pos(newPos: number) {\n  //   const d = newPos + 1 - this.buf.length;\n  //   if (d > 0) this.buf = Buffer.concat([this.buf, Buffer.alloc(d)]);\n  //   this._pos = newPos;\n  // }\n\n  // get pos(): number {\n  //   return this._pos;\n  // }\n\n  // protected safeRead(position): number {\n  //   return position > this.buf.length ? 0 : this.buf[position];\n  // }\n  // protected safeWrite(position, value): Buffer {\n  //   if (position > this.buf.length) this.buf = Buffer.concat([this.buf, Buffer.alloc(1)]);\n  //   this.buf[position] = value;\n  //   return this.buf;\n  // }\n\n  protected writeString(s: string): void {\n    const len = Buffer.byteLength(s);\n    const buf = this.buf;\n    this.writeLong(len);\n    let pos = this.pos;\n    this.pos += len;\n    if (this.pos > buf.length) {\n      return;\n    }\n    if (len > 64) {\n      // this._writeUtf8(s, len);\n      this.buf.write(s, this.pos - len, len, 'utf8');\n    } else {\n      let i, l, c1, c2;\n      for (i = 0, l = len; i < l; i++) {\n        c1 = s.charCodeAt(i);\n        if (c1 < 0x80) {\n          buf[pos++] = c1;\n        } else if (c1 < 0x800) {\n          buf[pos++] = (c1 >> 6) | 0xc0;\n          buf[pos++] = (c1 & 0x3f) | 0x80;\n        } else if ((c1 & 0xfc00) === 0xd800 && ((c2 = s.charCodeAt(i + 1)) & 0xfc00) === 0xdc00) {\n          c1 = 0x10000 + ((c1 & 0x03ff) << 10) + (c2 & 0x03ff);\n          i++;\n          buf[pos++] = (c1 >> 18) | 0xf0;\n          buf[pos++] = ((c1 >> 12) & 0x3f) | 0x80;\n          buf[pos++] = ((c1 >> 6) & 0x3f) | 0x80;\n          buf[pos++] = (c1 & 0x3f) | 0x80;\n        } else {\n          buf[pos++] = (c1 >> 12) | 0xe0;\n          buf[pos++] = ((c1 >> 6) & 0x3f) | 0x80;\n          buf[pos++] = (c1 & 0x3f) | 0x80;\n        }\n      }\n    }\n    this.buf = buf;\n  }\n\n  protected readLong(): number {\n    let n = 0;\n    let k = 0;\n    const buf = this.buf;\n    let b, h, f, fk;\n\n    do {\n      b = buf[this.pos++];\n      h = b & 0x80;\n      n |= (b & 0x7f) << k;\n      k += 7;\n    } while (h && k < 28);\n\n    if (h) {\n      // Switch to float arithmetic, otherwise we might overflow.\n      f = n;\n      fk = 268435456; // 2 ** 28.\n      do {\n        b = buf[this.pos++];\n        f += (b & 0x7f) * fk;\n        fk *= 128;\n      } while (b & 0x80);\n      return (f % 2 ? -(f + 1) : f) / 2;\n    }\n\n    return (n >> 1) ^ -(n & 1);\n  }\n\n  protected skipLong(): void {\n    const buf = this.buf;\n    while (buf[this.pos++] & 0x80) {}\n  }\n\n  public readTags(): Tag[] {\n    // var items = this.itemsType;\n    const val = [];\n    let n;\n    while ((n = this.readLong())) {\n      if (n < 0) {\n        n = -n;\n        this.skipLong(); // Skip size.\n      }\n      while (n--) {\n        const name = this.readString();\n        const value = this.readString();\n        val.push(/* items._read(tap) */ { name, value });\n      }\n    }\n    return val;\n  }\n\n  protected readString(): string | undefined {\n    const len = this.readLong();\n    const pos = this.pos;\n    const buf = this.buf;\n    this.pos += len;\n    if (this.pos > buf.length) {\n      return undefined;\n    }\n    return this.buf.slice(pos, pos + len).toString();\n  }\n}\n\nexport function serializeTags(tags: Tag[]): Buffer {\n  const tap = new AVSCTap();\n  tap.writeTags(tags);\n  return tap.toBuffer();\n}\n\nexport function tagsExceedLimit(tags: Tag[]): boolean {\n  const tap = new AVSCTap();\n  tap.writeTags(tags);\n  return tap.tagsExceedLimit();\n}\n\nexport function deserializeTags(tagsBuffer: Buffer): Tag[] {\n  const tap = new AVSCTap(tagsBuffer);\n  return tap.readTags();\n}\n", "export function byteArrayToLong(byteArray: Uint8Array): number {\n  let value = 0;\n  for (let i = byteArray.length - 1; i >= 0; i--) {\n    value = value * 256 + byteArray[i];\n  }\n  return value;\n}\n\nexport function shortTo2ByteArray(long: number): Uint8Array {\n  if (long > (2 ^ (32 - 1))) throw new Error('Short too long');\n  // we want to represent the input as a 8-bytes array\n  const byteArray = [0, 0];\n\n  for (let index = 0; index < byteArray.length; index++) {\n    const byte = long & 0xff;\n    byteArray[index] = byte;\n    long = (long - byte) / 256;\n  }\n\n  return Uint8Array.from(byteArray);\n}\n\nexport function longTo8ByteArray(long: number): Uint8Array {\n  // we want to represent the input as a 8-bytes array\n  const byteArray = [0, 0, 0, 0, 0, 0, 0, 0];\n\n  for (let index = 0; index < byteArray.length; index++) {\n    const byte = long & 0xff;\n    byteArray[index] = byte;\n    long = (long - byte) / 256;\n  }\n\n  return Uint8Array.from(byteArray);\n}\n", "module.exports = {\n  kClose: Symbol('close'),\n  kDestroy: Symbol('destroy'),\n  kDispatch: Symbol('dispatch'),\n  kUrl: Symbol('url'),\n  kWriting: Symbol('writing'),\n  kResuming: Symbol('resuming'),\n  kQueue: Symbol('queue'),\n  kConnect: Symbol('connect'),\n  kConnecting: Symbol('connecting'),\n  kHeadersList: Symbol('headers list'),\n  kKeepAliveDefaultTimeout: Symbol('default keep alive timeout'),\n  kKeepAliveMaxTimeout: Symbol('max keep alive timeout'),\n  kKeepAliveTimeoutThreshold: Symbol('keep alive timeout threshold'),\n  kKeepAliveTimeoutValue: Symbol('keep alive timeout'),\n  kKeepAlive: Symbol('keep alive'),\n  kHeadersTimeout: Symbol('headers timeout'),\n  kBodyTimeout: Symbol('body timeout'),\n  kServerName: Symbol('server name'),\n  kLocalAddress: Symbol('local address'),\n  kHost: Symbol('host'),\n  kNoRef: Symbol('no ref'),\n  kBodyUsed: Symbol('used'),\n  kRunning: Symbol('running'),\n  kBlocking: Symbol('blocking'),\n  kPending: Symbol('pending'),\n  kSize: Symbol('size'),\n  kBusy: Symbol('busy'),\n  kQueued: Symbol('queued'),\n  kFree: Symbol('free'),\n  kConnected: Symbol('connected'),\n  kClosed: Symbol('closed'),\n  kNeedDrain: Symbol('need drain'),\n  kReset: Symbol('reset'),\n  kDestroyed: Symbol.for('nodejs.stream.destroyed'),\n  kMaxHeadersSize: Symbol('max headers size'),\n  kRunningIdx: Symbol('running index'),\n  kPendingIdx: Symbol('pending index'),\n  kError: Symbol('error'),\n  kClients: Symbol('clients'),\n  kClient: Symbol('client'),\n  kParser: Symbol('parser'),\n  kOnDestroyed: Symbol('destroy callbacks'),\n  kPipelining: Symbol('pipelining'),\n  kSocket: Symbol('socket'),\n  kHostHeader: Symbol('host header'),\n  kConnector: Symbol('connector'),\n  kStrictContentLength: Symbol('strict content length'),\n  kMaxRedirections: Symbol('maxRedirections'),\n  kMaxRequests: Symbol('maxRequestsPerClient'),\n  kProxy: Symbol('proxy agent options'),\n  kCounter: Symbol('socket request counter'),\n  kInterceptors: Symbol('dispatch interceptors'),\n  kMaxResponseSize: Symbol('max response size'),\n  kHTTP2Session: Symbol('http2Session'),\n  kHTTP2SessionState: Symbol('http2Session state'),\n  kHTTP2BuildRequest: Symbol('http2 build request'),\n  kHTTP1BuildRequest: Symbol('http1 build request'),\n  kHTTP2CopyHeaders: Symbol('http2 copy headers'),\n  kHTTPConnVersion: Symbol('http connection version'),\n  kRetryHandlerDefaultRetry: Symbol('retry agent default retry'),\n  kConstruct: Symbol('constructable')\n}\n", "'use strict'\n\nclass UndiciError extends Error {\n  constructor (message) {\n    super(message)\n    this.name = 'UndiciError'\n    this.code = 'UND_ERR'\n  }\n}\n\nclass ConnectTimeoutError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ConnectTimeoutError)\n    this.name = 'ConnectTimeoutError'\n    this.message = message || 'Connect Timeout Error'\n    this.code = 'UND_ERR_CONNECT_TIMEOUT'\n  }\n}\n\nclass HeadersTimeoutError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, HeadersTimeoutError)\n    this.name = 'HeadersTimeoutError'\n    this.message = message || 'Headers Timeout Error'\n    this.code = 'UND_ERR_HEADERS_TIMEOUT'\n  }\n}\n\nclass HeadersOverflowError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, HeadersOverflowError)\n    this.name = 'HeadersOverflowError'\n    this.message = message || 'Headers Overflow Error'\n    this.code = 'UND_ERR_HEADERS_OVERFLOW'\n  }\n}\n\nclass BodyTimeoutError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, BodyTimeoutError)\n    this.name = 'BodyTimeoutError'\n    this.message = message || 'Body Timeout Error'\n    this.code = 'UND_ERR_BODY_TIMEOUT'\n  }\n}\n\nclass ResponseStatusCodeError extends UndiciError {\n  constructor (message, statusCode, headers, body) {\n    super(message)\n    Error.captureStackTrace(this, ResponseStatusCodeError)\n    this.name = 'ResponseStatusCodeError'\n    this.message = message || 'Response Status Code Error'\n    this.code = 'UND_ERR_RESPONSE_STATUS_CODE'\n    this.body = body\n    this.status = statusCode\n    this.statusCode = statusCode\n    this.headers = headers\n  }\n}\n\nclass InvalidArgumentError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, InvalidArgumentError)\n    this.name = 'InvalidArgumentError'\n    this.message = message || 'Invalid Argument Error'\n    this.code = 'UND_ERR_INVALID_ARG'\n  }\n}\n\nclass InvalidReturnValueError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, InvalidReturnValueError)\n    this.name = 'InvalidReturnValueError'\n    this.message = message || 'Invalid Return Value Error'\n    this.code = 'UND_ERR_INVALID_RETURN_VALUE'\n  }\n}\n\nclass RequestAbortedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, RequestAbortedError)\n    this.name = 'AbortError'\n    this.message = message || 'Request aborted'\n    this.code = 'UND_ERR_ABORTED'\n  }\n}\n\nclass InformationalError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, InformationalError)\n    this.name = 'InformationalError'\n    this.message = message || 'Request information'\n    this.code = 'UND_ERR_INFO'\n  }\n}\n\nclass RequestContentLengthMismatchError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, RequestContentLengthMismatchError)\n    this.name = 'RequestContentLengthMismatchError'\n    this.message = message || 'Request body length does not match content-length header'\n    this.code = 'UND_ERR_REQ_CONTENT_LENGTH_MISMATCH'\n  }\n}\n\nclass ResponseContentLengthMismatchError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ResponseContentLengthMismatchError)\n    this.name = 'ResponseContentLengthMismatchError'\n    this.message = message || 'Response body length does not match content-length header'\n    this.code = 'UND_ERR_RES_CONTENT_LENGTH_MISMATCH'\n  }\n}\n\nclass ClientDestroyedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ClientDestroyedError)\n    this.name = 'ClientDestroyedError'\n    this.message = message || 'The client is destroyed'\n    this.code = 'UND_ERR_DESTROYED'\n  }\n}\n\nclass ClientClosedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ClientClosedError)\n    this.name = 'ClientClosedError'\n    this.message = message || 'The client is closed'\n    this.code = 'UND_ERR_CLOSED'\n  }\n}\n\nclass SocketError extends UndiciError {\n  constructor (message, socket) {\n    super(message)\n    Error.captureStackTrace(this, SocketError)\n    this.name = 'SocketError'\n    this.message = message || 'Socket error'\n    this.code = 'UND_ERR_SOCKET'\n    this.socket = socket\n  }\n}\n\nclass NotSupportedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, NotSupportedError)\n    this.name = 'NotSupportedError'\n    this.message = message || 'Not supported error'\n    this.code = 'UND_ERR_NOT_SUPPORTED'\n  }\n}\n\nclass BalancedPoolMissingUpstreamError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, NotSupportedError)\n    this.name = 'MissingUpstreamError'\n    this.message = message || 'No upstream has been added to the BalancedPool'\n    this.code = 'UND_ERR_BPL_MISSING_UPSTREAM'\n  }\n}\n\nclass HTTPParserError extends Error {\n  constructor (message, code, data) {\n    super(message)\n    Error.captureStackTrace(this, HTTPParserError)\n    this.name = 'HTTPParserError'\n    this.code = code ? `HPE_${code}` : undefined\n    this.data = data ? data.toString() : undefined\n  }\n}\n\nclass ResponseExceededMaxSizeError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, ResponseExceededMaxSizeError)\n    this.name = 'ResponseExceededMaxSizeError'\n    this.message = message || 'Response content exceeded max size'\n    this.code = 'UND_ERR_RES_EXCEEDED_MAX_SIZE'\n  }\n}\n\nclass RequestRetryError extends UndiciError {\n  constructor (message, code, { headers, data }) {\n    super(message)\n    Error.captureStackTrace(this, RequestRetryError)\n    this.name = 'RequestRetryError'\n    this.message = message || 'Request retry error'\n    this.code = 'UND_ERR_REQ_RETRY'\n    this.statusCode = code\n    this.data = data\n    this.headers = headers\n  }\n}\n\nmodule.exports = {\n  HTTPParserError,\n  UndiciError,\n  HeadersTimeoutError,\n  HeadersOverflowError,\n  BodyTimeoutError,\n  RequestContentLengthMismatchError,\n  ConnectTimeoutError,\n  ResponseStatusCodeError,\n  InvalidArgumentError,\n  InvalidReturnValueError,\n  RequestAbortedError,\n  ClientDestroyedError,\n  ClientClosedError,\n  InformationalError,\n  SocketError,\n  NotSupportedError,\n  ResponseContentLengthMismatchError,\n  BalancedPoolMissingUpstreamError,\n  ResponseExceededMaxSizeError,\n  RequestRetryError\n}\n", "'use strict'\n\n/** @type {Record<string, string | undefined>} */\nconst headerNameLowerCasedRecord = {}\n\n// https://developer.mozilla.org/docs/Web/HTTP/Headers\nconst wellknownHeaderNames = [\n  'Accept',\n  'Accept-Encoding',\n  'Accept-Language',\n  'Accept-Ranges',\n  'Access-Control-Allow-Credentials',\n  'Access-Control-Allow-Headers',\n  'Access-Control-Allow-Methods',\n  'Access-Control-Allow-Origin',\n  'Access-Control-Expose-Headers',\n  'Access-Control-Max-Age',\n  'Access-Control-Request-Headers',\n  'Access-Control-Request-Method',\n  'Age',\n  'Allow',\n  'Alt-Svc',\n  'Alt-Used',\n  'Authorization',\n  'Cache-Control',\n  'Clear-Site-Data',\n  'Connection',\n  'Content-Disposition',\n  'Content-Encoding',\n  'Content-Language',\n  'Content-Length',\n  'Content-Location',\n  'Content-Range',\n  'Content-Security-Policy',\n  'Content-Security-Policy-Report-Only',\n  'Content-Type',\n  'Cookie',\n  'Cross-Origin-Embedder-Policy',\n  'Cross-Origin-Opener-Policy',\n  'Cross-Origin-Resource-Policy',\n  'Date',\n  'Device-Memory',\n  'Downlink',\n  'ECT',\n  'ETag',\n  'Expect',\n  'Expect-CT',\n  'Expires',\n  'Forwarded',\n  'From',\n  'Host',\n  'If-Match',\n  'If-Modified-Since',\n  'If-None-Match',\n  'If-Range',\n  'If-Unmodified-Since',\n  'Keep-Alive',\n  'Last-Modified',\n  'Link',\n  'Location',\n  'Max-Forwards',\n  'Origin',\n  'Permissions-Policy',\n  'Pragma',\n  'Proxy-Authenticate',\n  'Proxy-Authorization',\n  'RTT',\n  'Range',\n  'Referer',\n  'Referrer-Policy',\n  'Refresh',\n  'Retry-After',\n  'Sec-WebSocket-Accept',\n  'Sec-WebSocket-Extensions',\n  'Sec-WebSocket-Key',\n  'Sec-WebSocket-Protocol',\n  'Sec-WebSocket-Version',\n  'Server',\n  'Server-Timing',\n  'Service-Worker-Allowed',\n  'Service-Worker-Navigation-Preload',\n  'Set-Cookie',\n  'SourceMap',\n  'Strict-Transport-Security',\n  'Supports-Loading-Mode',\n  'TE',\n  'Timing-Allow-Origin',\n  'Trailer',\n  'Transfer-Encoding',\n  'Upgrade',\n  'Upgrade-Insecure-Requests',\n  'User-Agent',\n  'Vary',\n  'Via',\n  'WWW-Authenticate',\n  'X-Content-Type-Options',\n  'X-DNS-Prefetch-Control',\n  'X-Frame-Options',\n  'X-Permitted-Cross-Domain-Policies',\n  'X-Powered-By',\n  'X-Requested-With',\n  'X-XSS-Protection'\n]\n\nfor (let i = 0; i < wellknownHeaderNames.length; ++i) {\n  const key = wellknownHeaderNames[i]\n  const lowerCasedKey = key.toLowerCase()\n  headerNameLowerCasedRecord[key] = headerNameLowerCasedRecord[lowerCasedKey] =\n    lowerCasedKey\n}\n\n// Note: object prototypes should not be able to be referenced. e.g. `Object#hasOwnProperty`.\nObject.setPrototypeOf(headerNameLowerCasedRecord, null)\n\nmodule.exports = {\n  wellknownHeaderNames,\n  headerNameLowerCasedRecord\n}\n", "'use strict'\n\nconst assert = require('assert')\nconst { kDestroyed, kBodyUsed } = require('./symbols')\nconst { IncomingMessage } = require('http')\nconst stream = require('stream')\nconst net = require('net')\nconst { InvalidArgumentError } = require('./errors')\nconst { Blob } = require('buffer')\nconst nodeUtil = require('util')\nconst { stringify } = require('querystring')\nconst { headerNameLowerCasedRecord } = require('./constants')\n\nconst [nodeMajor, nodeMinor] = process.versions.node.split('.').map(v => Number(v))\n\nfunction nop () {}\n\nfunction isStream (obj) {\n  return obj && typeof obj === 'object' && typeof obj.pipe === 'function' && typeof obj.on === 'function'\n}\n\n// based on https://github.com/node-fetch/fetch-blob/blob/8ab587d34080de94140b54f07168451e7d0b655e/index.js#L229-L241 (MIT License)\nfunction isBlobLike (object) {\n  return (Blob && object instanceof Blob) || (\n    object &&\n    typeof object === 'object' &&\n    (typeof object.stream === 'function' ||\n      typeof object.arrayBuffer === 'function') &&\n    /^(Blob|File)$/.test(object[Symbol.toStringTag])\n  )\n}\n\nfunction buildURL (url, queryParams) {\n  if (url.includes('?') || url.includes('#')) {\n    throw new Error('Query params cannot be passed when url already contains \"?\" or \"#\".')\n  }\n\n  const stringified = stringify(queryParams)\n\n  if (stringified) {\n    url += '?' + stringified\n  }\n\n  return url\n}\n\nfunction parseURL (url) {\n  if (typeof url === 'string') {\n    url = new URL(url)\n\n    if (!/^https?:/.test(url.origin || url.protocol)) {\n      throw new InvalidArgumentError('Invalid URL protocol: the URL must start with `http:` or `https:`.')\n    }\n\n    return url\n  }\n\n  if (!url || typeof url !== 'object') {\n    throw new InvalidArgumentError('Invalid URL: The URL argument must be a non-null object.')\n  }\n\n  if (!/^https?:/.test(url.origin || url.protocol)) {\n    throw new InvalidArgumentError('Invalid URL protocol: the URL must start with `http:` or `https:`.')\n  }\n\n  if (!(url instanceof URL)) {\n    if (url.port != null && url.port !== '' && !Number.isFinite(parseInt(url.port))) {\n      throw new InvalidArgumentError('Invalid URL: port must be a valid integer or a string representation of an integer.')\n    }\n\n    if (url.path != null && typeof url.path !== 'string') {\n      throw new InvalidArgumentError('Invalid URL path: the path must be a string or null/undefined.')\n    }\n\n    if (url.pathname != null && typeof url.pathname !== 'string') {\n      throw new InvalidArgumentError('Invalid URL pathname: the pathname must be a string or null/undefined.')\n    }\n\n    if (url.hostname != null && typeof url.hostname !== 'string') {\n      throw new InvalidArgumentError('Invalid URL hostname: the hostname must be a string or null/undefined.')\n    }\n\n    if (url.origin != null && typeof url.origin !== 'string') {\n      throw new InvalidArgumentError('Invalid URL origin: the origin must be a string or null/undefined.')\n    }\n\n    const port = url.port != null\n      ? url.port\n      : (url.protocol === 'https:' ? 443 : 80)\n    let origin = url.origin != null\n      ? url.origin\n      : `${url.protocol}//${url.hostname}:${port}`\n    let path = url.path != null\n      ? url.path\n      : `${url.pathname || ''}${url.search || ''}`\n\n    if (origin.endsWith('/')) {\n      origin = origin.substring(0, origin.length - 1)\n    }\n\n    if (path && !path.startsWith('/')) {\n      path = `/${path}`\n    }\n    // new URL(path, origin) is unsafe when `path` contains an absolute URL\n    // From https://developer.mozilla.org/en-US/docs/Web/API/URL/URL:\n    // If first parameter is a relative URL, second param is required, and will be used as the base URL.\n    // If first parameter is an absolute URL, a given second param will be ignored.\n    url = new URL(origin + path)\n  }\n\n  return url\n}\n\nfunction parseOrigin (url) {\n  url = parseURL(url)\n\n  if (url.pathname !== '/' || url.search || url.hash) {\n    throw new InvalidArgumentError('invalid url')\n  }\n\n  return url\n}\n\nfunction getHostname (host) {\n  if (host[0] === '[') {\n    const idx = host.indexOf(']')\n\n    assert(idx !== -1)\n    return host.substring(1, idx)\n  }\n\n  const idx = host.indexOf(':')\n  if (idx === -1) return host\n\n  return host.substring(0, idx)\n}\n\n// IP addresses are not valid server names per RFC6066\n// > Currently, the only server names supported are DNS hostnames\nfunction getServerName (host) {\n  if (!host) {\n    return null\n  }\n\n  assert.strictEqual(typeof host, 'string')\n\n  const servername = getHostname(host)\n  if (net.isIP(servername)) {\n    return ''\n  }\n\n  return servername\n}\n\nfunction deepClone (obj) {\n  return JSON.parse(JSON.stringify(obj))\n}\n\nfunction isAsyncIterable (obj) {\n  return !!(obj != null && typeof obj[Symbol.asyncIterator] === 'function')\n}\n\nfunction isIterable (obj) {\n  return !!(obj != null && (typeof obj[Symbol.iterator] === 'function' || typeof obj[Symbol.asyncIterator] === 'function'))\n}\n\nfunction bodyLength (body) {\n  if (body == null) {\n    return 0\n  } else if (isStream(body)) {\n    const state = body._readableState\n    return state && state.objectMode === false && state.ended === true && Number.isFinite(state.length)\n      ? state.length\n      : null\n  } else if (isBlobLike(body)) {\n    return body.size != null ? body.size : null\n  } else if (isBuffer(body)) {\n    return body.byteLength\n  }\n\n  return null\n}\n\nfunction isDestroyed (stream) {\n  return !stream || !!(stream.destroyed || stream[kDestroyed])\n}\n\nfunction isReadableAborted (stream) {\n  const state = stream && stream._readableState\n  return isDestroyed(stream) && state && !state.endEmitted\n}\n\nfunction destroy (stream, err) {\n  if (stream == null || !isStream(stream) || isDestroyed(stream)) {\n    return\n  }\n\n  if (typeof stream.destroy === 'function') {\n    if (Object.getPrototypeOf(stream).constructor === IncomingMessage) {\n      // See: https://github.com/nodejs/node/pull/38505/files\n      stream.socket = null\n    }\n\n    stream.destroy(err)\n  } else if (err) {\n    process.nextTick((stream, err) => {\n      stream.emit('error', err)\n    }, stream, err)\n  }\n\n  if (stream.destroyed !== true) {\n    stream[kDestroyed] = true\n  }\n}\n\nconst KEEPALIVE_TIMEOUT_EXPR = /timeout=(\\d+)/\nfunction parseKeepAliveTimeout (val) {\n  const m = val.toString().match(KEEPALIVE_TIMEOUT_EXPR)\n  return m ? parseInt(m[1], 10) * 1000 : null\n}\n\n/**\n * Retrieves a header name and returns its lowercase value.\n * @param {string | Buffer} value Header name\n * @returns {string}\n */\nfunction headerNameToString (value) {\n  return headerNameLowerCasedRecord[value] || value.toLowerCase()\n}\n\nfunction parseHeaders (headers, obj = {}) {\n  // For H2 support\n  if (!Array.isArray(headers)) return headers\n\n  for (let i = 0; i < headers.length; i += 2) {\n    const key = headers[i].toString().toLowerCase()\n    let val = obj[key]\n\n    if (!val) {\n      if (Array.isArray(headers[i + 1])) {\n        obj[key] = headers[i + 1].map(x => x.toString('utf8'))\n      } else {\n        obj[key] = headers[i + 1].toString('utf8')\n      }\n    } else {\n      if (!Array.isArray(val)) {\n        val = [val]\n        obj[key] = val\n      }\n      val.push(headers[i + 1].toString('utf8'))\n    }\n  }\n\n  // See https://github.com/nodejs/node/pull/46528\n  if ('content-length' in obj && 'content-disposition' in obj) {\n    obj['content-disposition'] = Buffer.from(obj['content-disposition']).toString('latin1')\n  }\n\n  return obj\n}\n\nfunction parseRawHeaders (headers) {\n  const ret = []\n  let hasContentLength = false\n  let contentDispositionIdx = -1\n\n  for (let n = 0; n < headers.length; n += 2) {\n    const key = headers[n + 0].toString()\n    const val = headers[n + 1].toString('utf8')\n\n    if (key.length === 14 && (key === 'content-length' || key.toLowerCase() === 'content-length')) {\n      ret.push(key, val)\n      hasContentLength = true\n    } else if (key.length === 19 && (key === 'content-disposition' || key.toLowerCase() === 'content-disposition')) {\n      contentDispositionIdx = ret.push(key, val) - 1\n    } else {\n      ret.push(key, val)\n    }\n  }\n\n  // See https://github.com/nodejs/node/pull/46528\n  if (hasContentLength && contentDispositionIdx !== -1) {\n    ret[contentDispositionIdx] = Buffer.from(ret[contentDispositionIdx]).toString('latin1')\n  }\n\n  return ret\n}\n\nfunction isBuffer (buffer) {\n  // See, https://github.com/mcollina/undici/pull/319\n  return buffer instanceof Uint8Array || Buffer.isBuffer(buffer)\n}\n\nfunction validateHandler (handler, method, upgrade) {\n  if (!handler || typeof handler !== 'object') {\n    throw new InvalidArgumentError('handler must be an object')\n  }\n\n  if (typeof handler.onConnect !== 'function') {\n    throw new InvalidArgumentError('invalid onConnect method')\n  }\n\n  if (typeof handler.onError !== 'function') {\n    throw new InvalidArgumentError('invalid onError method')\n  }\n\n  if (typeof handler.onBodySent !== 'function' && handler.onBodySent !== undefined) {\n    throw new InvalidArgumentError('invalid onBodySent method')\n  }\n\n  if (upgrade || method === 'CONNECT') {\n    if (typeof handler.onUpgrade !== 'function') {\n      throw new InvalidArgumentError('invalid onUpgrade method')\n    }\n  } else {\n    if (typeof handler.onHeaders !== 'function') {\n      throw new InvalidArgumentError('invalid onHeaders method')\n    }\n\n    if (typeof handler.onData !== 'function') {\n      throw new InvalidArgumentError('invalid onData method')\n    }\n\n    if (typeof handler.onComplete !== 'function') {\n      throw new InvalidArgumentError('invalid onComplete method')\n    }\n  }\n}\n\n// A body is disturbed if it has been read from and it cannot\n// be re-used without losing state or data.\nfunction isDisturbed (body) {\n  return !!(body && (\n    stream.isDisturbed\n      ? stream.isDisturbed(body) || body[kBodyUsed] // TODO (fix): Why is body[kBodyUsed] needed?\n      : body[kBodyUsed] ||\n        body.readableDidRead ||\n        (body._readableState && body._readableState.dataEmitted) ||\n        isReadableAborted(body)\n  ))\n}\n\nfunction isErrored (body) {\n  return !!(body && (\n    stream.isErrored\n      ? stream.isErrored(body)\n      : /state: 'errored'/.test(nodeUtil.inspect(body)\n      )))\n}\n\nfunction isReadable (body) {\n  return !!(body && (\n    stream.isReadable\n      ? stream.isReadable(body)\n      : /state: 'readable'/.test(nodeUtil.inspect(body)\n      )))\n}\n\nfunction getSocketInfo (socket) {\n  return {\n    localAddress: socket.localAddress,\n    localPort: socket.localPort,\n    remoteAddress: socket.remoteAddress,\n    remotePort: socket.remotePort,\n    remoteFamily: socket.remoteFamily,\n    timeout: socket.timeout,\n    bytesWritten: socket.bytesWritten,\n    bytesRead: socket.bytesRead\n  }\n}\n\nasync function * convertIterableToBuffer (iterable) {\n  for await (const chunk of iterable) {\n    yield Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk)\n  }\n}\n\nlet ReadableStream\nfunction ReadableStreamFrom (iterable) {\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  if (ReadableStream.from) {\n    return ReadableStream.from(convertIterableToBuffer(iterable))\n  }\n\n  let iterator\n  return new ReadableStream(\n    {\n      async start () {\n        iterator = iterable[Symbol.asyncIterator]()\n      },\n      async pull (controller) {\n        const { done, value } = await iterator.next()\n        if (done) {\n          queueMicrotask(() => {\n            controller.close()\n          })\n        } else {\n          const buf = Buffer.isBuffer(value) ? value : Buffer.from(value)\n          controller.enqueue(new Uint8Array(buf))\n        }\n        return controller.desiredSize > 0\n      },\n      async cancel (reason) {\n        await iterator.return()\n      }\n    },\n    0\n  )\n}\n\n// The chunk should be a FormData instance and contains\n// all the required methods.\nfunction isFormDataLike (object) {\n  return (\n    object &&\n    typeof object === 'object' &&\n    typeof object.append === 'function' &&\n    typeof object.delete === 'function' &&\n    typeof object.get === 'function' &&\n    typeof object.getAll === 'function' &&\n    typeof object.has === 'function' &&\n    typeof object.set === 'function' &&\n    object[Symbol.toStringTag] === 'FormData'\n  )\n}\n\nfunction throwIfAborted (signal) {\n  if (!signal) { return }\n  if (typeof signal.throwIfAborted === 'function') {\n    signal.throwIfAborted()\n  } else {\n    if (signal.aborted) {\n      // DOMException not available < v17.0.0\n      const err = new Error('The operation was aborted')\n      err.name = 'AbortError'\n      throw err\n    }\n  }\n}\n\nfunction addAbortListener (signal, listener) {\n  if ('addEventListener' in signal) {\n    signal.addEventListener('abort', listener, { once: true })\n    return () => signal.removeEventListener('abort', listener)\n  }\n  signal.addListener('abort', listener)\n  return () => signal.removeListener('abort', listener)\n}\n\nconst hasToWellFormed = !!String.prototype.toWellFormed\n\n/**\n * @param {string} val\n */\nfunction toUSVString (val) {\n  if (hasToWellFormed) {\n    return `${val}`.toWellFormed()\n  } else if (nodeUtil.toUSVString) {\n    return nodeUtil.toUSVString(val)\n  }\n\n  return `${val}`\n}\n\n// Parsed accordingly to RFC 9110\n// https://www.rfc-editor.org/rfc/rfc9110#field.content-range\nfunction parseRangeHeader (range) {\n  if (range == null || range === '') return { start: 0, end: null, size: null }\n\n  const m = range ? range.match(/^bytes (\\d+)-(\\d+)\\/(\\d+)?$/) : null\n  return m\n    ? {\n        start: parseInt(m[1]),\n        end: m[2] ? parseInt(m[2]) : null,\n        size: m[3] ? parseInt(m[3]) : null\n      }\n    : null\n}\n\nconst kEnumerableProperty = Object.create(null)\nkEnumerableProperty.enumerable = true\n\nmodule.exports = {\n  kEnumerableProperty,\n  nop,\n  isDisturbed,\n  isErrored,\n  isReadable,\n  toUSVString,\n  isReadableAborted,\n  isBlobLike,\n  parseOrigin,\n  parseURL,\n  getServerName,\n  isStream,\n  isIterable,\n  isAsyncIterable,\n  isDestroyed,\n  headerNameToString,\n  parseRawHeaders,\n  parseHeaders,\n  parseKeepAliveTimeout,\n  destroy,\n  bodyLength,\n  deepClone,\n  ReadableStreamFrom,\n  isBuffer,\n  validateHandler,\n  getSocketInfo,\n  isFormDataLike,\n  buildURL,\n  throwIfAborted,\n  addAbortListener,\n  parseRangeHeader,\n  nodeMajor,\n  nodeMinor,\n  nodeHasAutoSelectFamily: nodeMajor > 18 || (nodeMajor === 18 && nodeMinor >= 13),\n  safeHTTPMethods: ['GET', 'HEAD', 'OPTIONS', 'TRACE']\n}\n", "'use strict'\n\nlet fastNow = Date.now()\nlet fastNowTimeout\n\nconst fastTimers = []\n\nfunction onTimeout () {\n  fastNow = Date.now()\n\n  let len = fastTimers.length\n  let idx = 0\n  while (idx < len) {\n    const timer = fastTimers[idx]\n\n    if (timer.state === 0) {\n      timer.state = fastNow + timer.delay\n    } else if (timer.state > 0 && fastNow >= timer.state) {\n      timer.state = -1\n      timer.callback(timer.opaque)\n    }\n\n    if (timer.state === -1) {\n      timer.state = -2\n      if (idx !== len - 1) {\n        fastTimers[idx] = fastTimers.pop()\n      } else {\n        fastTimers.pop()\n      }\n      len -= 1\n    } else {\n      idx += 1\n    }\n  }\n\n  if (fastTimers.length > 0) {\n    refreshTimeout()\n  }\n}\n\nfunction refreshTimeout () {\n  if (fastNowTimeout && fastNowTimeout.refresh) {\n    fastNowTimeout.refresh()\n  } else {\n    clearTimeout(fastNowTimeout)\n    fastNowTimeout = setTimeout(onTimeout, 1e3)\n    if (fastNowTimeout.unref) {\n      fastNowTimeout.unref()\n    }\n  }\n}\n\nclass Timeout {\n  constructor (callback, delay, opaque) {\n    this.callback = callback\n    this.delay = delay\n    this.opaque = opaque\n\n    //  -2 not in timer list\n    //  -1 in timer list but inactive\n    //   0 in timer list waiting for time\n    // > 0 in timer list waiting for time to expire\n    this.state = -2\n\n    this.refresh()\n  }\n\n  refresh () {\n    if (this.state === -2) {\n      fastTimers.push(this)\n      if (!fastNowTimeout || fastTimers.length === 1) {\n        refreshTimeout()\n      }\n    }\n\n    this.state = 0\n  }\n\n  clear () {\n    this.state = -1\n  }\n}\n\nmodule.exports = {\n  setTimeout (callback, delay, opaque) {\n    return delay < 1e3\n      ? setTimeout(callback, delay, opaque)\n      : new Timeout(callback, delay, opaque)\n  },\n  clearTimeout (timeout) {\n    if (timeout instanceof Timeout) {\n      timeout.clear()\n    } else {\n      clearTimeout(timeout)\n    }\n  }\n}\n", "'use strict'\n\n/**\n * Copyright Brian White. All rights reserved.\n *\n * @see https://github.com/mscdex/streamsearch\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n *\n * Based heavily on the Streaming Boyer-Moore-Horspool C++ implementation\n * by Hongli Lai at: https://github.com/FooBarWidget/boyer-moore-horspool\n */\nconst EventEmitter = require('node:events').EventEmitter\nconst inherits = require('node:util').inherits\n\nfunction SBMH (needle) {\n  if (typeof needle === 'string') {\n    needle = Buffer.from(needle)\n  }\n\n  if (!Buffer.isBuffer(needle)) {\n    throw new TypeError('The needle has to be a String or a Buffer.')\n  }\n\n  const needleLength = needle.length\n\n  if (needleLength === 0) {\n    throw new Error('The needle cannot be an empty String/Buffer.')\n  }\n\n  if (needleLength > 256) {\n    throw new Error('The needle cannot have a length bigger than 256.')\n  }\n\n  this.maxMatches = Infinity\n  this.matches = 0\n\n  this._occ = new Array(256)\n    .fill(needleLength) // Initialize occurrence table.\n  this._lookbehind_size = 0\n  this._needle = needle\n  this._bufpos = 0\n\n  this._lookbehind = Buffer.alloc(needleLength)\n\n  // Populate occurrence table with analysis of the needle,\n  // ignoring last letter.\n  for (var i = 0; i < needleLength - 1; ++i) { // eslint-disable-line no-var\n    this._occ[needle[i]] = needleLength - 1 - i\n  }\n}\ninherits(SBMH, EventEmitter)\n\nSBMH.prototype.reset = function () {\n  this._lookbehind_size = 0\n  this.matches = 0\n  this._bufpos = 0\n}\n\nSBMH.prototype.push = function (chunk, pos) {\n  if (!Buffer.isBuffer(chunk)) {\n    chunk = Buffer.from(chunk, 'binary')\n  }\n  const chlen = chunk.length\n  this._bufpos = pos || 0\n  let r\n  while (r !== chlen && this.matches < this.maxMatches) { r = this._sbmh_feed(chunk) }\n  return r\n}\n\nSBMH.prototype._sbmh_feed = function (data) {\n  const len = data.length\n  const needle = this._needle\n  const needleLength = needle.length\n  const lastNeedleChar = needle[needleLength - 1]\n\n  // Positive: points to a position in `data`\n  //           pos == 3 points to data[3]\n  // Negative: points to a position in the lookbehind buffer\n  //           pos == -2 points to lookbehind[lookbehind_size - 2]\n  let pos = -this._lookbehind_size\n  let ch\n\n  if (pos < 0) {\n    // Lookbehind buffer is not empty. Perform Boyer-Moore-Horspool\n    // search with character lookup code that considers both the\n    // lookbehind buffer and the current round's haystack data.\n    //\n    // Loop until\n    //   there is a match.\n    // or until\n    //   we've moved past the position that requires the\n    //   lookbehind buffer. In this case we switch to the\n    //   optimized loop.\n    // or until\n    //   the character to look at lies outside the haystack.\n    while (pos < 0 && pos <= len - needleLength) {\n      ch = this._sbmh_lookup_char(data, pos + needleLength - 1)\n\n      if (\n        ch === lastNeedleChar &&\n        this._sbmh_memcmp(data, pos, needleLength - 1)\n      ) {\n        this._lookbehind_size = 0\n        ++this.matches\n        this.emit('info', true)\n\n        return (this._bufpos = pos + needleLength)\n      }\n      pos += this._occ[ch]\n    }\n\n    // No match.\n\n    if (pos < 0) {\n      // There's too few data for Boyer-Moore-Horspool to run,\n      // so let's use a different algorithm to skip as much as\n      // we can.\n      // Forward pos until\n      //   the trailing part of lookbehind + data\n      //   looks like the beginning of the needle\n      // or until\n      //   pos == 0\n      while (pos < 0 && !this._sbmh_memcmp(data, pos, len - pos)) { ++pos }\n    }\n\n    if (pos >= 0) {\n      // Discard lookbehind buffer.\n      this.emit('info', false, this._lookbehind, 0, this._lookbehind_size)\n      this._lookbehind_size = 0\n    } else {\n      // Cut off part of the lookbehind buffer that has\n      // been processed and append the entire haystack\n      // into it.\n      const bytesToCutOff = this._lookbehind_size + pos\n      if (bytesToCutOff > 0) {\n        // The cut off data is guaranteed not to contain the needle.\n        this.emit('info', false, this._lookbehind, 0, bytesToCutOff)\n      }\n\n      this._lookbehind.copy(this._lookbehind, 0, bytesToCutOff,\n        this._lookbehind_size - bytesToCutOff)\n      this._lookbehind_size -= bytesToCutOff\n\n      data.copy(this._lookbehind, this._lookbehind_size)\n      this._lookbehind_size += len\n\n      this._bufpos = len\n      return len\n    }\n  }\n\n  pos += (pos >= 0) * this._bufpos\n\n  // Lookbehind buffer is now empty. We only need to check if the\n  // needle is in the haystack.\n  if (data.indexOf(needle, pos) !== -1) {\n    pos = data.indexOf(needle, pos)\n    ++this.matches\n    if (pos > 0) { this.emit('info', true, data, this._bufpos, pos) } else { this.emit('info', true) }\n\n    return (this._bufpos = pos + needleLength)\n  } else {\n    pos = len - needleLength\n  }\n\n  // There was no match. If there's trailing haystack data that we cannot\n  // match yet using the Boyer-Moore-Horspool algorithm (because the trailing\n  // data is less than the needle size) then match using a modified\n  // algorithm that starts matching from the beginning instead of the end.\n  // Whatever trailing data is left after running this algorithm is added to\n  // the lookbehind buffer.\n  while (\n    pos < len &&\n    (\n      data[pos] !== needle[0] ||\n      (\n        (Buffer.compare(\n          data.subarray(pos, pos + len - pos),\n          needle.subarray(0, len - pos)\n        ) !== 0)\n      )\n    )\n  ) {\n    ++pos\n  }\n  if (pos < len) {\n    data.copy(this._lookbehind, 0, pos, pos + (len - pos))\n    this._lookbehind_size = len - pos\n  }\n\n  // Everything until pos is guaranteed not to contain needle data.\n  if (pos > 0) { this.emit('info', false, data, this._bufpos, pos < len ? pos : len) }\n\n  this._bufpos = len\n  return len\n}\n\nSBMH.prototype._sbmh_lookup_char = function (data, pos) {\n  return (pos < 0)\n    ? this._lookbehind[this._lookbehind_size + pos]\n    : data[pos]\n}\n\nSBMH.prototype._sbmh_memcmp = function (data, pos, len) {\n  for (var i = 0; i < len; ++i) { // eslint-disable-line no-var\n    if (this._sbmh_lookup_char(data, pos + i) !== this._needle[i]) { return false }\n  }\n  return true\n}\n\nmodule.exports = SBMH\n", "'use strict'\n\nconst inherits = require('node:util').inherits\nconst ReadableStream = require('node:stream').Readable\n\nfunction PartStream (opts) {\n  ReadableStream.call(this, opts)\n}\ninherits(PartStream, ReadableStream)\n\nPartStream.prototype._read = function (n) {}\n\nmodule.exports = PartStream\n", "'use strict'\n\nmodule.exports = function getLimit (limits, name, defaultLimit) {\n  if (\n    !limits ||\n    limits[name] === undefined ||\n    limits[name] === null\n  ) { return defaultLimit }\n\n  if (\n    typeof limits[name] !== 'number' ||\n    isNaN(limits[name])\n  ) { throw new TypeError('Limit ' + name + ' is not a valid number') }\n\n  return limits[name]\n}\n", "'use strict'\n\nconst EventEmitter = require('node:events').EventEmitter\nconst inherits = require('node:util').inherits\nconst getLimit = require('../../../lib/utils/getLimit')\n\nconst StreamSearch = require('../../streamsearch/sbmh')\n\nconst B_DCRLF = Buffer.from('\\r\\n\\r\\n')\nconst RE_CRLF = /\\r\\n/g\nconst RE_HDR = /^([^:]+):[ \\t]?([\\x00-\\xFF]+)?$/ // eslint-disable-line no-control-regex\n\nfunction HeaderParser (cfg) {\n  EventEmitter.call(this)\n\n  cfg = cfg || {}\n  const self = this\n  this.nread = 0\n  this.maxed = false\n  this.npairs = 0\n  this.maxHeaderPairs = getLimit(cfg, 'maxHeaderPairs', 2000)\n  this.maxHeaderSize = getLimit(cfg, 'maxHeaderSize', 80 * 1024)\n  this.buffer = ''\n  this.header = {}\n  this.finished = false\n  this.ss = new StreamSearch(B_DCRLF)\n  this.ss.on('info', function (isMatch, data, start, end) {\n    if (data && !self.maxed) {\n      if (self.nread + end - start >= self.maxHeaderSize) {\n        end = self.maxHeaderSize - self.nread + start\n        self.nread = self.maxHeaderSize\n        self.maxed = true\n      } else { self.nread += (end - start) }\n\n      self.buffer += data.toString('binary', start, end)\n    }\n    if (isMatch) { self._finish() }\n  })\n}\ninherits(HeaderParser, EventEmitter)\n\nHeaderParser.prototype.push = function (data) {\n  const r = this.ss.push(data)\n  if (this.finished) { return r }\n}\n\nHeaderParser.prototype.reset = function () {\n  this.finished = false\n  this.buffer = ''\n  this.header = {}\n  this.ss.reset()\n}\n\nHeaderParser.prototype._finish = function () {\n  if (this.buffer) { this._parseHeader() }\n  this.ss.matches = this.ss.maxMatches\n  const header = this.header\n  this.header = {}\n  this.buffer = ''\n  this.finished = true\n  this.nread = this.npairs = 0\n  this.maxed = false\n  this.emit('header', header)\n}\n\nHeaderParser.prototype._parseHeader = function () {\n  if (this.npairs === this.maxHeaderPairs) { return }\n\n  const lines = this.buffer.split(RE_CRLF)\n  const len = lines.length\n  let m, h\n\n  for (var i = 0; i < len; ++i) { // eslint-disable-line no-var\n    if (lines[i].length === 0) { continue }\n    if (lines[i][0] === '\\t' || lines[i][0] === ' ') {\n      // folded header content\n      // RFC2822 says to just remove the CRLF and not the whitespace following\n      // it, so we follow the RFC and include the leading whitespace ...\n      if (h) {\n        this.header[h][this.header[h].length - 1] += lines[i]\n        continue\n      }\n    }\n\n    const posColon = lines[i].indexOf(':')\n    if (\n      posColon === -1 ||\n      posColon === 0\n    ) {\n      return\n    }\n    m = RE_HDR.exec(lines[i])\n    h = m[1].toLowerCase()\n    this.header[h] = this.header[h] || []\n    this.header[h].push((m[2] || ''))\n    if (++this.npairs === this.maxHeaderPairs) { break }\n  }\n}\n\nmodule.exports = HeaderParser\n", "'use strict'\n\nconst WritableStream = require('node:stream').Writable\nconst inherits = require('node:util').inherits\n\nconst StreamSearch = require('../../streamsearch/sbmh')\n\nconst PartStream = require('./PartStream')\nconst HeaderParser = require('./HeaderParser')\n\nconst DASH = 45\nconst B_ONEDASH = Buffer.from('-')\nconst B_CRLF = Buffer.from('\\r\\n')\nconst EMPTY_FN = function () {}\n\nfunction Dicer (cfg) {\n  if (!(this instanceof Dicer)) { return new Dicer(cfg) }\n  WritableStream.call(this, cfg)\n\n  if (!cfg || (!cfg.headerFirst && typeof cfg.boundary !== 'string')) { throw new TypeError('Boundary required') }\n\n  if (typeof cfg.boundary === 'string') { this.setBoundary(cfg.boundary) } else { this._bparser = undefined }\n\n  this._headerFirst = cfg.headerFirst\n\n  this._dashes = 0\n  this._parts = 0\n  this._finished = false\n  this._realFinish = false\n  this._isPreamble = true\n  this._justMatched = false\n  this._firstWrite = true\n  this._inHeader = true\n  this._part = undefined\n  this._cb = undefined\n  this._ignoreData = false\n  this._partOpts = { highWaterMark: cfg.partHwm }\n  this._pause = false\n\n  const self = this\n  this._hparser = new HeaderParser(cfg)\n  this._hparser.on('header', function (header) {\n    self._inHeader = false\n    self._part.emit('header', header)\n  })\n}\ninherits(Dicer, WritableStream)\n\nDicer.prototype.emit = function (ev) {\n  if (ev === 'finish' && !this._realFinish) {\n    if (!this._finished) {\n      const self = this\n      process.nextTick(function () {\n        self.emit('error', new Error('Unexpected end of multipart data'))\n        if (self._part && !self._ignoreData) {\n          const type = (self._isPreamble ? 'Preamble' : 'Part')\n          self._part.emit('error', new Error(type + ' terminated early due to unexpected end of multipart data'))\n          self._part.push(null)\n          process.nextTick(function () {\n            self._realFinish = true\n            self.emit('finish')\n            self._realFinish = false\n          })\n          return\n        }\n        self._realFinish = true\n        self.emit('finish')\n        self._realFinish = false\n      })\n    }\n  } else { WritableStream.prototype.emit.apply(this, arguments) }\n}\n\nDicer.prototype._write = function (data, encoding, cb) {\n  // ignore unexpected data (e.g. extra trailer data after finished)\n  if (!this._hparser && !this._bparser) { return cb() }\n\n  if (this._headerFirst && this._isPreamble) {\n    if (!this._part) {\n      this._part = new PartStream(this._partOpts)\n      if (this.listenerCount('preamble') !== 0) { this.emit('preamble', this._part) } else { this._ignore() }\n    }\n    const r = this._hparser.push(data)\n    if (!this._inHeader && r !== undefined && r < data.length) { data = data.slice(r) } else { return cb() }\n  }\n\n  // allows for \"easier\" testing\n  if (this._firstWrite) {\n    this._bparser.push(B_CRLF)\n    this._firstWrite = false\n  }\n\n  this._bparser.push(data)\n\n  if (this._pause) { this._cb = cb } else { cb() }\n}\n\nDicer.prototype.reset = function () {\n  this._part = undefined\n  this._bparser = undefined\n  this._hparser = undefined\n}\n\nDicer.prototype.setBoundary = function (boundary) {\n  const self = this\n  this._bparser = new StreamSearch('\\r\\n--' + boundary)\n  this._bparser.on('info', function (isMatch, data, start, end) {\n    self._oninfo(isMatch, data, start, end)\n  })\n}\n\nDicer.prototype._ignore = function () {\n  if (this._part && !this._ignoreData) {\n    this._ignoreData = true\n    this._part.on('error', EMPTY_FN)\n    // we must perform some kind of read on the stream even though we are\n    // ignoring the data, otherwise node's Readable stream will not emit 'end'\n    // after pushing null to the stream\n    this._part.resume()\n  }\n}\n\nDicer.prototype._oninfo = function (isMatch, data, start, end) {\n  let buf; const self = this; let i = 0; let r; let shouldWriteMore = true\n\n  if (!this._part && this._justMatched && data) {\n    while (this._dashes < 2 && (start + i) < end) {\n      if (data[start + i] === DASH) {\n        ++i\n        ++this._dashes\n      } else {\n        if (this._dashes) { buf = B_ONEDASH }\n        this._dashes = 0\n        break\n      }\n    }\n    if (this._dashes === 2) {\n      if ((start + i) < end && this.listenerCount('trailer') !== 0) { this.emit('trailer', data.slice(start + i, end)) }\n      this.reset()\n      this._finished = true\n      // no more parts will be added\n      if (self._parts === 0) {\n        self._realFinish = true\n        self.emit('finish')\n        self._realFinish = false\n      }\n    }\n    if (this._dashes) { return }\n  }\n  if (this._justMatched) { this._justMatched = false }\n  if (!this._part) {\n    this._part = new PartStream(this._partOpts)\n    this._part._read = function (n) {\n      self._unpause()\n    }\n    if (this._isPreamble && this.listenerCount('preamble') !== 0) {\n      this.emit('preamble', this._part)\n    } else if (this._isPreamble !== true && this.listenerCount('part') !== 0) {\n      this.emit('part', this._part)\n    } else {\n      this._ignore()\n    }\n    if (!this._isPreamble) { this._inHeader = true }\n  }\n  if (data && start < end && !this._ignoreData) {\n    if (this._isPreamble || !this._inHeader) {\n      if (buf) { shouldWriteMore = this._part.push(buf) }\n      shouldWriteMore = this._part.push(data.slice(start, end))\n      if (!shouldWriteMore) { this._pause = true }\n    } else if (!this._isPreamble && this._inHeader) {\n      if (buf) { this._hparser.push(buf) }\n      r = this._hparser.push(data.slice(start, end))\n      if (!this._inHeader && r !== undefined && r < end) { this._oninfo(false, data, start + r, end) }\n    }\n  }\n  if (isMatch) {\n    this._hparser.reset()\n    if (this._isPreamble) { this._isPreamble = false } else {\n      if (start !== end) {\n        ++this._parts\n        this._part.on('end', function () {\n          if (--self._parts === 0) {\n            if (self._finished) {\n              self._realFinish = true\n              self.emit('finish')\n              self._realFinish = false\n            } else {\n              self._unpause()\n            }\n          }\n        })\n      }\n    }\n    this._part.push(null)\n    this._part = undefined\n    this._ignoreData = false\n    this._justMatched = true\n    this._dashes = 0\n  }\n}\n\nDicer.prototype._unpause = function () {\n  if (!this._pause) { return }\n\n  this._pause = false\n  if (this._cb) {\n    const cb = this._cb\n    this._cb = undefined\n    cb()\n  }\n}\n\nmodule.exports = Dicer\n", "'use strict'\n\n// Node has always utf-8\nconst utf8Decoder = new TextDecoder('utf-8')\nconst textDecoders = new Map([\n  ['utf-8', utf8Decoder],\n  ['utf8', utf8Decoder]\n])\n\nfunction getDecoder (charset) {\n  let lc\n  while (true) {\n    switch (charset) {\n      case 'utf-8':\n      case 'utf8':\n        return decoders.utf8\n      case 'latin1':\n      case 'ascii': // TODO: Make these a separate, strict decoder?\n      case 'us-ascii':\n      case 'iso-8859-1':\n      case 'iso8859-1':\n      case 'iso88591':\n      case 'iso_8859-1':\n      case 'windows-1252':\n      case 'iso_8859-1:1987':\n      case 'cp1252':\n      case 'x-cp1252':\n        return decoders.latin1\n      case 'utf16le':\n      case 'utf-16le':\n      case 'ucs2':\n      case 'ucs-2':\n        return decoders.utf16le\n      case 'base64':\n        return decoders.base64\n      default:\n        if (lc === undefined) {\n          lc = true\n          charset = charset.toLowerCase()\n          continue\n        }\n        return decoders.other.bind(charset)\n    }\n  }\n}\n\nconst decoders = {\n  utf8: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n    return data.utf8Slice(0, data.length)\n  },\n\n  latin1: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      return data\n    }\n    return data.latin1Slice(0, data.length)\n  },\n\n  utf16le: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n    return data.ucs2Slice(0, data.length)\n  },\n\n  base64: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n    return data.base64Slice(0, data.length)\n  },\n\n  other: (data, sourceEncoding) => {\n    if (data.length === 0) {\n      return ''\n    }\n    if (typeof data === 'string') {\n      data = Buffer.from(data, sourceEncoding)\n    }\n\n    if (textDecoders.has(this.toString())) {\n      try {\n        return textDecoders.get(this).decode(data)\n      } catch {}\n    }\n    return typeof data === 'string'\n      ? data\n      : data.toString()\n  }\n}\n\nfunction decodeText (text, sourceEncoding, destEncoding) {\n  if (text) {\n    return getDecoder(destEncoding)(text, sourceEncoding)\n  }\n  return text\n}\n\nmodule.exports = decodeText\n", "/* eslint-disable object-property-newline */\n'use strict'\n\nconst decodeText = require('./decodeText')\n\nconst RE_ENCODED = /%[a-fA-F0-9][a-fA-F0-9]/g\n\nconst EncodedLookup = {\n  '%00': '\\x00', '%01': '\\x01', '%02': '\\x02', '%03': '\\x03', '%04': '\\x04',\n  '%05': '\\x05', '%06': '\\x06', '%07': '\\x07', '%08': '\\x08', '%09': '\\x09',\n  '%0a': '\\x0a', '%0A': '\\x0a', '%0b': '\\x0b', '%0B': '\\x0b', '%0c': '\\x0c',\n  '%0C': '\\x0c', '%0d': '\\x0d', '%0D': '\\x0d', '%0e': '\\x0e', '%0E': '\\x0e',\n  '%0f': '\\x0f', '%0F': '\\x0f', '%10': '\\x10', '%11': '\\x11', '%12': '\\x12',\n  '%13': '\\x13', '%14': '\\x14', '%15': '\\x15', '%16': '\\x16', '%17': '\\x17',\n  '%18': '\\x18', '%19': '\\x19', '%1a': '\\x1a', '%1A': '\\x1a', '%1b': '\\x1b',\n  '%1B': '\\x1b', '%1c': '\\x1c', '%1C': '\\x1c', '%1d': '\\x1d', '%1D': '\\x1d',\n  '%1e': '\\x1e', '%1E': '\\x1e', '%1f': '\\x1f', '%1F': '\\x1f', '%20': '\\x20',\n  '%21': '\\x21', '%22': '\\x22', '%23': '\\x23', '%24': '\\x24', '%25': '\\x25',\n  '%26': '\\x26', '%27': '\\x27', '%28': '\\x28', '%29': '\\x29', '%2a': '\\x2a',\n  '%2A': '\\x2a', '%2b': '\\x2b', '%2B': '\\x2b', '%2c': '\\x2c', '%2C': '\\x2c',\n  '%2d': '\\x2d', '%2D': '\\x2d', '%2e': '\\x2e', '%2E': '\\x2e', '%2f': '\\x2f',\n  '%2F': '\\x2f', '%30': '\\x30', '%31': '\\x31', '%32': '\\x32', '%33': '\\x33',\n  '%34': '\\x34', '%35': '\\x35', '%36': '\\x36', '%37': '\\x37', '%38': '\\x38',\n  '%39': '\\x39', '%3a': '\\x3a', '%3A': '\\x3a', '%3b': '\\x3b', '%3B': '\\x3b',\n  '%3c': '\\x3c', '%3C': '\\x3c', '%3d': '\\x3d', '%3D': '\\x3d', '%3e': '\\x3e',\n  '%3E': '\\x3e', '%3f': '\\x3f', '%3F': '\\x3f', '%40': '\\x40', '%41': '\\x41',\n  '%42': '\\x42', '%43': '\\x43', '%44': '\\x44', '%45': '\\x45', '%46': '\\x46',\n  '%47': '\\x47', '%48': '\\x48', '%49': '\\x49', '%4a': '\\x4a', '%4A': '\\x4a',\n  '%4b': '\\x4b', '%4B': '\\x4b', '%4c': '\\x4c', '%4C': '\\x4c', '%4d': '\\x4d',\n  '%4D': '\\x4d', '%4e': '\\x4e', '%4E': '\\x4e', '%4f': '\\x4f', '%4F': '\\x4f',\n  '%50': '\\x50', '%51': '\\x51', '%52': '\\x52', '%53': '\\x53', '%54': '\\x54',\n  '%55': '\\x55', '%56': '\\x56', '%57': '\\x57', '%58': '\\x58', '%59': '\\x59',\n  '%5a': '\\x5a', '%5A': '\\x5a', '%5b': '\\x5b', '%5B': '\\x5b', '%5c': '\\x5c',\n  '%5C': '\\x5c', '%5d': '\\x5d', '%5D': '\\x5d', '%5e': '\\x5e', '%5E': '\\x5e',\n  '%5f': '\\x5f', '%5F': '\\x5f', '%60': '\\x60', '%61': '\\x61', '%62': '\\x62',\n  '%63': '\\x63', '%64': '\\x64', '%65': '\\x65', '%66': '\\x66', '%67': '\\x67',\n  '%68': '\\x68', '%69': '\\x69', '%6a': '\\x6a', '%6A': '\\x6a', '%6b': '\\x6b',\n  '%6B': '\\x6b', '%6c': '\\x6c', '%6C': '\\x6c', '%6d': '\\x6d', '%6D': '\\x6d',\n  '%6e': '\\x6e', '%6E': '\\x6e', '%6f': '\\x6f', '%6F': '\\x6f', '%70': '\\x70',\n  '%71': '\\x71', '%72': '\\x72', '%73': '\\x73', '%74': '\\x74', '%75': '\\x75',\n  '%76': '\\x76', '%77': '\\x77', '%78': '\\x78', '%79': '\\x79', '%7a': '\\x7a',\n  '%7A': '\\x7a', '%7b': '\\x7b', '%7B': '\\x7b', '%7c': '\\x7c', '%7C': '\\x7c',\n  '%7d': '\\x7d', '%7D': '\\x7d', '%7e': '\\x7e', '%7E': '\\x7e', '%7f': '\\x7f',\n  '%7F': '\\x7f', '%80': '\\x80', '%81': '\\x81', '%82': '\\x82', '%83': '\\x83',\n  '%84': '\\x84', '%85': '\\x85', '%86': '\\x86', '%87': '\\x87', '%88': '\\x88',\n  '%89': '\\x89', '%8a': '\\x8a', '%8A': '\\x8a', '%8b': '\\x8b', '%8B': '\\x8b',\n  '%8c': '\\x8c', '%8C': '\\x8c', '%8d': '\\x8d', '%8D': '\\x8d', '%8e': '\\x8e',\n  '%8E': '\\x8e', '%8f': '\\x8f', '%8F': '\\x8f', '%90': '\\x90', '%91': '\\x91',\n  '%92': '\\x92', '%93': '\\x93', '%94': '\\x94', '%95': '\\x95', '%96': '\\x96',\n  '%97': '\\x97', '%98': '\\x98', '%99': '\\x99', '%9a': '\\x9a', '%9A': '\\x9a',\n  '%9b': '\\x9b', '%9B': '\\x9b', '%9c': '\\x9c', '%9C': '\\x9c', '%9d': '\\x9d',\n  '%9D': '\\x9d', '%9e': '\\x9e', '%9E': '\\x9e', '%9f': '\\x9f', '%9F': '\\x9f',\n  '%a0': '\\xa0', '%A0': '\\xa0', '%a1': '\\xa1', '%A1': '\\xa1', '%a2': '\\xa2',\n  '%A2': '\\xa2', '%a3': '\\xa3', '%A3': '\\xa3', '%a4': '\\xa4', '%A4': '\\xa4',\n  '%a5': '\\xa5', '%A5': '\\xa5', '%a6': '\\xa6', '%A6': '\\xa6', '%a7': '\\xa7',\n  '%A7': '\\xa7', '%a8': '\\xa8', '%A8': '\\xa8', '%a9': '\\xa9', '%A9': '\\xa9',\n  '%aa': '\\xaa', '%Aa': '\\xaa', '%aA': '\\xaa', '%AA': '\\xaa', '%ab': '\\xab',\n  '%Ab': '\\xab', '%aB': '\\xab', '%AB': '\\xab', '%ac': '\\xac', '%Ac': '\\xac',\n  '%aC': '\\xac', '%AC': '\\xac', '%ad': '\\xad', '%Ad': '\\xad', '%aD': '\\xad',\n  '%AD': '\\xad', '%ae': '\\xae', '%Ae': '\\xae', '%aE': '\\xae', '%AE': '\\xae',\n  '%af': '\\xaf', '%Af': '\\xaf', '%aF': '\\xaf', '%AF': '\\xaf', '%b0': '\\xb0',\n  '%B0': '\\xb0', '%b1': '\\xb1', '%B1': '\\xb1', '%b2': '\\xb2', '%B2': '\\xb2',\n  '%b3': '\\xb3', '%B3': '\\xb3', '%b4': '\\xb4', '%B4': '\\xb4', '%b5': '\\xb5',\n  '%B5': '\\xb5', '%b6': '\\xb6', '%B6': '\\xb6', '%b7': '\\xb7', '%B7': '\\xb7',\n  '%b8': '\\xb8', '%B8': '\\xb8', '%b9': '\\xb9', '%B9': '\\xb9', '%ba': '\\xba',\n  '%Ba': '\\xba', '%bA': '\\xba', '%BA': '\\xba', '%bb': '\\xbb', '%Bb': '\\xbb',\n  '%bB': '\\xbb', '%BB': '\\xbb', '%bc': '\\xbc', '%Bc': '\\xbc', '%bC': '\\xbc',\n  '%BC': '\\xbc', '%bd': '\\xbd', '%Bd': '\\xbd', '%bD': '\\xbd', '%BD': '\\xbd',\n  '%be': '\\xbe', '%Be': '\\xbe', '%bE': '\\xbe', '%BE': '\\xbe', '%bf': '\\xbf',\n  '%Bf': '\\xbf', '%bF': '\\xbf', '%BF': '\\xbf', '%c0': '\\xc0', '%C0': '\\xc0',\n  '%c1': '\\xc1', '%C1': '\\xc1', '%c2': '\\xc2', '%C2': '\\xc2', '%c3': '\\xc3',\n  '%C3': '\\xc3', '%c4': '\\xc4', '%C4': '\\xc4', '%c5': '\\xc5', '%C5': '\\xc5',\n  '%c6': '\\xc6', '%C6': '\\xc6', '%c7': '\\xc7', '%C7': '\\xc7', '%c8': '\\xc8',\n  '%C8': '\\xc8', '%c9': '\\xc9', '%C9': '\\xc9', '%ca': '\\xca', '%Ca': '\\xca',\n  '%cA': '\\xca', '%CA': '\\xca', '%cb': '\\xcb', '%Cb': '\\xcb', '%cB': '\\xcb',\n  '%CB': '\\xcb', '%cc': '\\xcc', '%Cc': '\\xcc', '%cC': '\\xcc', '%CC': '\\xcc',\n  '%cd': '\\xcd', '%Cd': '\\xcd', '%cD': '\\xcd', '%CD': '\\xcd', '%ce': '\\xce',\n  '%Ce': '\\xce', '%cE': '\\xce', '%CE': '\\xce', '%cf': '\\xcf', '%Cf': '\\xcf',\n  '%cF': '\\xcf', '%CF': '\\xcf', '%d0': '\\xd0', '%D0': '\\xd0', '%d1': '\\xd1',\n  '%D1': '\\xd1', '%d2': '\\xd2', '%D2': '\\xd2', '%d3': '\\xd3', '%D3': '\\xd3',\n  '%d4': '\\xd4', '%D4': '\\xd4', '%d5': '\\xd5', '%D5': '\\xd5', '%d6': '\\xd6',\n  '%D6': '\\xd6', '%d7': '\\xd7', '%D7': '\\xd7', '%d8': '\\xd8', '%D8': '\\xd8',\n  '%d9': '\\xd9', '%D9': '\\xd9', '%da': '\\xda', '%Da': '\\xda', '%dA': '\\xda',\n  '%DA': '\\xda', '%db': '\\xdb', '%Db': '\\xdb', '%dB': '\\xdb', '%DB': '\\xdb',\n  '%dc': '\\xdc', '%Dc': '\\xdc', '%dC': '\\xdc', '%DC': '\\xdc', '%dd': '\\xdd',\n  '%Dd': '\\xdd', '%dD': '\\xdd', '%DD': '\\xdd', '%de': '\\xde', '%De': '\\xde',\n  '%dE': '\\xde', '%DE': '\\xde', '%df': '\\xdf', '%Df': '\\xdf', '%dF': '\\xdf',\n  '%DF': '\\xdf', '%e0': '\\xe0', '%E0': '\\xe0', '%e1': '\\xe1', '%E1': '\\xe1',\n  '%e2': '\\xe2', '%E2': '\\xe2', '%e3': '\\xe3', '%E3': '\\xe3', '%e4': '\\xe4',\n  '%E4': '\\xe4', '%e5': '\\xe5', '%E5': '\\xe5', '%e6': '\\xe6', '%E6': '\\xe6',\n  '%e7': '\\xe7', '%E7': '\\xe7', '%e8': '\\xe8', '%E8': '\\xe8', '%e9': '\\xe9',\n  '%E9': '\\xe9', '%ea': '\\xea', '%Ea': '\\xea', '%eA': '\\xea', '%EA': '\\xea',\n  '%eb': '\\xeb', '%Eb': '\\xeb', '%eB': '\\xeb', '%EB': '\\xeb', '%ec': '\\xec',\n  '%Ec': '\\xec', '%eC': '\\xec', '%EC': '\\xec', '%ed': '\\xed', '%Ed': '\\xed',\n  '%eD': '\\xed', '%ED': '\\xed', '%ee': '\\xee', '%Ee': '\\xee', '%eE': '\\xee',\n  '%EE': '\\xee', '%ef': '\\xef', '%Ef': '\\xef', '%eF': '\\xef', '%EF': '\\xef',\n  '%f0': '\\xf0', '%F0': '\\xf0', '%f1': '\\xf1', '%F1': '\\xf1', '%f2': '\\xf2',\n  '%F2': '\\xf2', '%f3': '\\xf3', '%F3': '\\xf3', '%f4': '\\xf4', '%F4': '\\xf4',\n  '%f5': '\\xf5', '%F5': '\\xf5', '%f6': '\\xf6', '%F6': '\\xf6', '%f7': '\\xf7',\n  '%F7': '\\xf7', '%f8': '\\xf8', '%F8': '\\xf8', '%f9': '\\xf9', '%F9': '\\xf9',\n  '%fa': '\\xfa', '%Fa': '\\xfa', '%fA': '\\xfa', '%FA': '\\xfa', '%fb': '\\xfb',\n  '%Fb': '\\xfb', '%fB': '\\xfb', '%FB': '\\xfb', '%fc': '\\xfc', '%Fc': '\\xfc',\n  '%fC': '\\xfc', '%FC': '\\xfc', '%fd': '\\xfd', '%Fd': '\\xfd', '%fD': '\\xfd',\n  '%FD': '\\xfd', '%fe': '\\xfe', '%Fe': '\\xfe', '%fE': '\\xfe', '%FE': '\\xfe',\n  '%ff': '\\xff', '%Ff': '\\xff', '%fF': '\\xff', '%FF': '\\xff'\n}\n\nfunction encodedReplacer (match) {\n  return EncodedLookup[match]\n}\n\nconst STATE_KEY = 0\nconst STATE_VALUE = 1\nconst STATE_CHARSET = 2\nconst STATE_LANG = 3\n\nfunction parseParams (str) {\n  const res = []\n  let state = STATE_KEY\n  let charset = ''\n  let inquote = false\n  let escaping = false\n  let p = 0\n  let tmp = ''\n  const len = str.length\n\n  for (var i = 0; i < len; ++i) { // eslint-disable-line no-var\n    const char = str[i]\n    if (char === '\\\\' && inquote) {\n      if (escaping) { escaping = false } else {\n        escaping = true\n        continue\n      }\n    } else if (char === '\"') {\n      if (!escaping) {\n        if (inquote) {\n          inquote = false\n          state = STATE_KEY\n        } else { inquote = true }\n        continue\n      } else { escaping = false }\n    } else {\n      if (escaping && inquote) { tmp += '\\\\' }\n      escaping = false\n      if ((state === STATE_CHARSET || state === STATE_LANG) && char === \"'\") {\n        if (state === STATE_CHARSET) {\n          state = STATE_LANG\n          charset = tmp.substring(1)\n        } else { state = STATE_VALUE }\n        tmp = ''\n        continue\n      } else if (state === STATE_KEY &&\n        (char === '*' || char === '=') &&\n        res.length) {\n        state = char === '*'\n          ? STATE_CHARSET\n          : STATE_VALUE\n        res[p] = [tmp, undefined]\n        tmp = ''\n        continue\n      } else if (!inquote && char === ';') {\n        state = STATE_KEY\n        if (charset) {\n          if (tmp.length) {\n            tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer),\n              'binary',\n              charset)\n          }\n          charset = ''\n        } else if (tmp.length) {\n          tmp = decodeText(tmp, 'binary', 'utf8')\n        }\n        if (res[p] === undefined) { res[p] = tmp } else { res[p][1] = tmp }\n        tmp = ''\n        ++p\n        continue\n      } else if (!inquote && (char === ' ' || char === '\\t')) { continue }\n    }\n    tmp += char\n  }\n  if (charset && tmp.length) {\n    tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer),\n      'binary',\n      charset)\n  } else if (tmp) {\n    tmp = decodeText(tmp, 'binary', 'utf8')\n  }\n\n  if (res[p] === undefined) {\n    if (tmp) { res[p] = tmp }\n  } else { res[p][1] = tmp }\n\n  return res\n}\n\nmodule.exports = parseParams\n", "'use strict'\n\nmodule.exports = function basename (path) {\n  if (typeof path !== 'string') { return '' }\n  for (var i = path.length - 1; i >= 0; --i) { // eslint-disable-line no-var\n    switch (path.charCodeAt(i)) {\n      case 0x2F: // '/'\n      case 0x5C: // '\\'\n        path = path.slice(i + 1)\n        return (path === '..' || path === '.' ? '' : path)\n    }\n  }\n  return (path === '..' || path === '.' ? '' : path)\n}\n", "'use strict'\n\n// TODO:\n//  * support 1 nested multipart level\n//    (see second multipart example here:\n//     http://www.w3.org/TR/html401/interact/forms.html#didx-multipartform-data)\n//  * support limits.fieldNameSize\n//     -- this will require modifications to utils.parseParams\n\nconst { Readable } = require('node:stream')\nconst { inherits } = require('node:util')\n\nconst Dicer = require('../../deps/dicer/lib/Dicer')\n\nconst parseParams = require('../utils/parseParams')\nconst decodeText = require('../utils/decodeText')\nconst basename = require('../utils/basename')\nconst getLimit = require('../utils/getLimit')\n\nconst RE_BOUNDARY = /^boundary$/i\nconst RE_FIELD = /^form-data$/i\nconst RE_CHARSET = /^charset$/i\nconst RE_FILENAME = /^filename$/i\nconst RE_NAME = /^name$/i\n\nMultipart.detect = /^multipart\\/form-data/i\nfunction Multipart (boy, cfg) {\n  let i\n  let len\n  const self = this\n  let boundary\n  const limits = cfg.limits\n  const isPartAFile = cfg.isPartAFile || ((fieldName, contentType, fileName) => (contentType === 'application/octet-stream' || fileName !== undefined))\n  const parsedConType = cfg.parsedConType || []\n  const defCharset = cfg.defCharset || 'utf8'\n  const preservePath = cfg.preservePath\n  const fileOpts = { highWaterMark: cfg.fileHwm }\n\n  for (i = 0, len = parsedConType.length; i < len; ++i) {\n    if (Array.isArray(parsedConType[i]) &&\n      RE_BOUNDARY.test(parsedConType[i][0])) {\n      boundary = parsedConType[i][1]\n      break\n    }\n  }\n\n  function checkFinished () {\n    if (nends === 0 && finished && !boy._done) {\n      finished = false\n      self.end()\n    }\n  }\n\n  if (typeof boundary !== 'string') { throw new Error('Multipart: Boundary not found') }\n\n  const fieldSizeLimit = getLimit(limits, 'fieldSize', 1 * 1024 * 1024)\n  const fileSizeLimit = getLimit(limits, 'fileSize', Infinity)\n  const filesLimit = getLimit(limits, 'files', Infinity)\n  const fieldsLimit = getLimit(limits, 'fields', Infinity)\n  const partsLimit = getLimit(limits, 'parts', Infinity)\n  const headerPairsLimit = getLimit(limits, 'headerPairs', 2000)\n  const headerSizeLimit = getLimit(limits, 'headerSize', 80 * 1024)\n\n  let nfiles = 0\n  let nfields = 0\n  let nends = 0\n  let curFile\n  let curField\n  let finished = false\n\n  this._needDrain = false\n  this._pause = false\n  this._cb = undefined\n  this._nparts = 0\n  this._boy = boy\n\n  const parserCfg = {\n    boundary,\n    maxHeaderPairs: headerPairsLimit,\n    maxHeaderSize: headerSizeLimit,\n    partHwm: fileOpts.highWaterMark,\n    highWaterMark: cfg.highWaterMark\n  }\n\n  this.parser = new Dicer(parserCfg)\n  this.parser.on('drain', function () {\n    self._needDrain = false\n    if (self._cb && !self._pause) {\n      const cb = self._cb\n      self._cb = undefined\n      cb()\n    }\n  }).on('part', function onPart (part) {\n    if (++self._nparts > partsLimit) {\n      self.parser.removeListener('part', onPart)\n      self.parser.on('part', skipPart)\n      boy.hitPartsLimit = true\n      boy.emit('partsLimit')\n      return skipPart(part)\n    }\n\n    // hack because streams2 _always_ doesn't emit 'end' until nextTick, so let\n    // us emit 'end' early since we know the part has ended if we are already\n    // seeing the next part\n    if (curField) {\n      const field = curField\n      field.emit('end')\n      field.removeAllListeners('end')\n    }\n\n    part.on('header', function (header) {\n      let contype\n      let fieldname\n      let parsed\n      let charset\n      let encoding\n      let filename\n      let nsize = 0\n\n      if (header['content-type']) {\n        parsed = parseParams(header['content-type'][0])\n        if (parsed[0]) {\n          contype = parsed[0].toLowerCase()\n          for (i = 0, len = parsed.length; i < len; ++i) {\n            if (RE_CHARSET.test(parsed[i][0])) {\n              charset = parsed[i][1].toLowerCase()\n              break\n            }\n          }\n        }\n      }\n\n      if (contype === undefined) { contype = 'text/plain' }\n      if (charset === undefined) { charset = defCharset }\n\n      if (header['content-disposition']) {\n        parsed = parseParams(header['content-disposition'][0])\n        if (!RE_FIELD.test(parsed[0])) { return skipPart(part) }\n        for (i = 0, len = parsed.length; i < len; ++i) {\n          if (RE_NAME.test(parsed[i][0])) {\n            fieldname = parsed[i][1]\n          } else if (RE_FILENAME.test(parsed[i][0])) {\n            filename = parsed[i][1]\n            if (!preservePath) { filename = basename(filename) }\n          }\n        }\n      } else { return skipPart(part) }\n\n      if (header['content-transfer-encoding']) { encoding = header['content-transfer-encoding'][0].toLowerCase() } else { encoding = '7bit' }\n\n      let onData,\n        onEnd\n\n      if (isPartAFile(fieldname, contype, filename)) {\n        // file/binary field\n        if (nfiles === filesLimit) {\n          if (!boy.hitFilesLimit) {\n            boy.hitFilesLimit = true\n            boy.emit('filesLimit')\n          }\n          return skipPart(part)\n        }\n\n        ++nfiles\n\n        if (boy.listenerCount('file') === 0) {\n          self.parser._ignore()\n          return\n        }\n\n        ++nends\n        const file = new FileStream(fileOpts)\n        curFile = file\n        file.on('end', function () {\n          --nends\n          self._pause = false\n          checkFinished()\n          if (self._cb && !self._needDrain) {\n            const cb = self._cb\n            self._cb = undefined\n            cb()\n          }\n        })\n        file._read = function (n) {\n          if (!self._pause) { return }\n          self._pause = false\n          if (self._cb && !self._needDrain) {\n            const cb = self._cb\n            self._cb = undefined\n            cb()\n          }\n        }\n        boy.emit('file', fieldname, file, filename, encoding, contype)\n\n        onData = function (data) {\n          if ((nsize += data.length) > fileSizeLimit) {\n            const extralen = fileSizeLimit - nsize + data.length\n            if (extralen > 0) { file.push(data.slice(0, extralen)) }\n            file.truncated = true\n            file.bytesRead = fileSizeLimit\n            part.removeAllListeners('data')\n            file.emit('limit')\n            return\n          } else if (!file.push(data)) { self._pause = true }\n\n          file.bytesRead = nsize\n        }\n\n        onEnd = function () {\n          curFile = undefined\n          file.push(null)\n        }\n      } else {\n        // non-file field\n        if (nfields === fieldsLimit) {\n          if (!boy.hitFieldsLimit) {\n            boy.hitFieldsLimit = true\n            boy.emit('fieldsLimit')\n          }\n          return skipPart(part)\n        }\n\n        ++nfields\n        ++nends\n        let buffer = ''\n        let truncated = false\n        curField = part\n\n        onData = function (data) {\n          if ((nsize += data.length) > fieldSizeLimit) {\n            const extralen = (fieldSizeLimit - (nsize - data.length))\n            buffer += data.toString('binary', 0, extralen)\n            truncated = true\n            part.removeAllListeners('data')\n          } else { buffer += data.toString('binary') }\n        }\n\n        onEnd = function () {\n          curField = undefined\n          if (buffer.length) { buffer = decodeText(buffer, 'binary', charset) }\n          boy.emit('field', fieldname, buffer, false, truncated, encoding, contype)\n          --nends\n          checkFinished()\n        }\n      }\n\n      /* As of node@2efe4ab761666 (v0.10.29+/v0.11.14+), busboy had become\n         broken. Streams2/streams3 is a huge black box of confusion, but\n         somehow overriding the sync state seems to fix things again (and still\n         seems to work for previous node versions).\n      */\n      part._readableState.sync = false\n\n      part.on('data', onData)\n      part.on('end', onEnd)\n    }).on('error', function (err) {\n      if (curFile) { curFile.emit('error', err) }\n    })\n  }).on('error', function (err) {\n    boy.emit('error', err)\n  }).on('finish', function () {\n    finished = true\n    checkFinished()\n  })\n}\n\nMultipart.prototype.write = function (chunk, cb) {\n  const r = this.parser.write(chunk)\n  if (r && !this._pause) {\n    cb()\n  } else {\n    this._needDrain = !r\n    this._cb = cb\n  }\n}\n\nMultipart.prototype.end = function () {\n  const self = this\n\n  if (self.parser.writable) {\n    self.parser.end()\n  } else if (!self._boy._done) {\n    process.nextTick(function () {\n      self._boy._done = true\n      self._boy.emit('finish')\n    })\n  }\n}\n\nfunction skipPart (part) {\n  part.resume()\n}\n\nfunction FileStream (opts) {\n  Readable.call(this, opts)\n\n  this.bytesRead = 0\n\n  this.truncated = false\n}\n\ninherits(FileStream, Readable)\n\nFileStream.prototype._read = function (n) {}\n\nmodule.exports = Multipart\n", "'use strict'\n\nconst RE_PLUS = /\\+/g\n\nconst HEX = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,\n  0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n]\n\nfunction Decoder () {\n  this.buffer = undefined\n}\nDecoder.prototype.write = function (str) {\n  // Replace '+' with ' ' before decoding\n  str = str.replace(RE_PLUS, ' ')\n  let res = ''\n  let i = 0; let p = 0; const len = str.length\n  for (; i < len; ++i) {\n    if (this.buffer !== undefined) {\n      if (!HEX[str.charCodeAt(i)]) {\n        res += '%' + this.buffer\n        this.buffer = undefined\n        --i // retry character\n      } else {\n        this.buffer += str[i]\n        ++p\n        if (this.buffer.length === 2) {\n          res += String.fromCharCode(parseInt(this.buffer, 16))\n          this.buffer = undefined\n        }\n      }\n    } else if (str[i] === '%') {\n      if (i > p) {\n        res += str.substring(p, i)\n        p = i\n      }\n      this.buffer = ''\n      ++p\n    }\n  }\n  if (p < len && this.buffer === undefined) { res += str.substring(p) }\n  return res\n}\nDecoder.prototype.reset = function () {\n  this.buffer = undefined\n}\n\nmodule.exports = Decoder\n", "'use strict'\n\nconst Decoder = require('../utils/Decoder')\nconst decodeText = require('../utils/decodeText')\nconst getLimit = require('../utils/getLimit')\n\nconst RE_CHARSET = /^charset$/i\n\nUrlEncoded.detect = /^application\\/x-www-form-urlencoded/i\nfunction UrlEncoded (boy, cfg) {\n  const limits = cfg.limits\n  const parsedConType = cfg.parsedConType\n  this.boy = boy\n\n  this.fieldSizeLimit = getLimit(limits, 'fieldSize', 1 * 1024 * 1024)\n  this.fieldNameSizeLimit = getLimit(limits, 'fieldNameSize', 100)\n  this.fieldsLimit = getLimit(limits, 'fields', Infinity)\n\n  let charset\n  for (var i = 0, len = parsedConType.length; i < len; ++i) { // eslint-disable-line no-var\n    if (Array.isArray(parsedConType[i]) &&\n        RE_CHARSET.test(parsedConType[i][0])) {\n      charset = parsedConType[i][1].toLowerCase()\n      break\n    }\n  }\n\n  if (charset === undefined) { charset = cfg.defCharset || 'utf8' }\n\n  this.decoder = new Decoder()\n  this.charset = charset\n  this._fields = 0\n  this._state = 'key'\n  this._checkingBytes = true\n  this._bytesKey = 0\n  this._bytesVal = 0\n  this._key = ''\n  this._val = ''\n  this._keyTrunc = false\n  this._valTrunc = false\n  this._hitLimit = false\n}\n\nUrlEncoded.prototype.write = function (data, cb) {\n  if (this._fields === this.fieldsLimit) {\n    if (!this.boy.hitFieldsLimit) {\n      this.boy.hitFieldsLimit = true\n      this.boy.emit('fieldsLimit')\n    }\n    return cb()\n  }\n\n  let idxeq; let idxamp; let i; let p = 0; const len = data.length\n\n  while (p < len) {\n    if (this._state === 'key') {\n      idxeq = idxamp = undefined\n      for (i = p; i < len; ++i) {\n        if (!this._checkingBytes) { ++p }\n        if (data[i] === 0x3D/* = */) {\n          idxeq = i\n          break\n        } else if (data[i] === 0x26/* & */) {\n          idxamp = i\n          break\n        }\n        if (this._checkingBytes && this._bytesKey === this.fieldNameSizeLimit) {\n          this._hitLimit = true\n          break\n        } else if (this._checkingBytes) { ++this._bytesKey }\n      }\n\n      if (idxeq !== undefined) {\n        // key with assignment\n        if (idxeq > p) { this._key += this.decoder.write(data.toString('binary', p, idxeq)) }\n        this._state = 'val'\n\n        this._hitLimit = false\n        this._checkingBytes = true\n        this._val = ''\n        this._bytesVal = 0\n        this._valTrunc = false\n        this.decoder.reset()\n\n        p = idxeq + 1\n      } else if (idxamp !== undefined) {\n        // key with no assignment\n        ++this._fields\n        let key; const keyTrunc = this._keyTrunc\n        if (idxamp > p) { key = (this._key += this.decoder.write(data.toString('binary', p, idxamp))) } else { key = this._key }\n\n        this._hitLimit = false\n        this._checkingBytes = true\n        this._key = ''\n        this._bytesKey = 0\n        this._keyTrunc = false\n        this.decoder.reset()\n\n        if (key.length) {\n          this.boy.emit('field', decodeText(key, 'binary', this.charset),\n            '',\n            keyTrunc,\n            false)\n        }\n\n        p = idxamp + 1\n        if (this._fields === this.fieldsLimit) { return cb() }\n      } else if (this._hitLimit) {\n        // we may not have hit the actual limit if there are encoded bytes...\n        if (i > p) { this._key += this.decoder.write(data.toString('binary', p, i)) }\n        p = i\n        if ((this._bytesKey = this._key.length) === this.fieldNameSizeLimit) {\n          // yep, we actually did hit the limit\n          this._checkingBytes = false\n          this._keyTrunc = true\n        }\n      } else {\n        if (p < len) { this._key += this.decoder.write(data.toString('binary', p)) }\n        p = len\n      }\n    } else {\n      idxamp = undefined\n      for (i = p; i < len; ++i) {\n        if (!this._checkingBytes) { ++p }\n        if (data[i] === 0x26/* & */) {\n          idxamp = i\n          break\n        }\n        if (this._checkingBytes && this._bytesVal === this.fieldSizeLimit) {\n          this._hitLimit = true\n          break\n        } else if (this._checkingBytes) { ++this._bytesVal }\n      }\n\n      if (idxamp !== undefined) {\n        ++this._fields\n        if (idxamp > p) { this._val += this.decoder.write(data.toString('binary', p, idxamp)) }\n        this.boy.emit('field', decodeText(this._key, 'binary', this.charset),\n          decodeText(this._val, 'binary', this.charset),\n          this._keyTrunc,\n          this._valTrunc)\n        this._state = 'key'\n\n        this._hitLimit = false\n        this._checkingBytes = true\n        this._key = ''\n        this._bytesKey = 0\n        this._keyTrunc = false\n        this.decoder.reset()\n\n        p = idxamp + 1\n        if (this._fields === this.fieldsLimit) { return cb() }\n      } else if (this._hitLimit) {\n        // we may not have hit the actual limit if there are encoded bytes...\n        if (i > p) { this._val += this.decoder.write(data.toString('binary', p, i)) }\n        p = i\n        if ((this._val === '' && this.fieldSizeLimit === 0) ||\n            (this._bytesVal = this._val.length) === this.fieldSizeLimit) {\n          // yep, we actually did hit the limit\n          this._checkingBytes = false\n          this._valTrunc = true\n        }\n      } else {\n        if (p < len) { this._val += this.decoder.write(data.toString('binary', p)) }\n        p = len\n      }\n    }\n  }\n  cb()\n}\n\nUrlEncoded.prototype.end = function () {\n  if (this.boy._done) { return }\n\n  if (this._state === 'key' && this._key.length > 0) {\n    this.boy.emit('field', decodeText(this._key, 'binary', this.charset),\n      '',\n      this._keyTrunc,\n      false)\n  } else if (this._state === 'val') {\n    this.boy.emit('field', decodeText(this._key, 'binary', this.charset),\n      decodeText(this._val, 'binary', this.charset),\n      this._keyTrunc,\n      this._valTrunc)\n  }\n  this.boy._done = true\n  this.boy.emit('finish')\n}\n\nmodule.exports = UrlEncoded\n", "'use strict'\n\nconst WritableStream = require('node:stream').Writable\nconst { inherits } = require('node:util')\nconst Dicer = require('../deps/dicer/lib/Dicer')\n\nconst MultipartParser = require('./types/multipart')\nconst UrlencodedParser = require('./types/urlencoded')\nconst parseParams = require('./utils/parseParams')\n\nfunction Busboy (opts) {\n  if (!(this instanceof Busboy)) { return new Busboy(opts) }\n\n  if (typeof opts !== 'object') {\n    throw new TypeError('Busboy expected an options-Object.')\n  }\n  if (typeof opts.headers !== 'object') {\n    throw new TypeError('Busboy expected an options-Object with headers-attribute.')\n  }\n  if (typeof opts.headers['content-type'] !== 'string') {\n    throw new TypeError('Missing Content-Type-header.')\n  }\n\n  const {\n    headers,\n    ...streamOptions\n  } = opts\n\n  this.opts = {\n    autoDestroy: false,\n    ...streamOptions\n  }\n  WritableStream.call(this, this.opts)\n\n  this._done = false\n  this._parser = this.getParserByHeaders(headers)\n  this._finished = false\n}\ninherits(Busboy, WritableStream)\n\nBusboy.prototype.emit = function (ev) {\n  if (ev === 'finish') {\n    if (!this._done) {\n      this._parser?.end()\n      return\n    } else if (this._finished) {\n      return\n    }\n    this._finished = true\n  }\n  WritableStream.prototype.emit.apply(this, arguments)\n}\n\nBusboy.prototype.getParserByHeaders = function (headers) {\n  const parsed = parseParams(headers['content-type'])\n\n  const cfg = {\n    defCharset: this.opts.defCharset,\n    fileHwm: this.opts.fileHwm,\n    headers,\n    highWaterMark: this.opts.highWaterMark,\n    isPartAFile: this.opts.isPartAFile,\n    limits: this.opts.limits,\n    parsedConType: parsed,\n    preservePath: this.opts.preservePath\n  }\n\n  if (MultipartParser.detect.test(parsed[0])) {\n    return new MultipartParser(this, cfg)\n  }\n  if (UrlencodedParser.detect.test(parsed[0])) {\n    return new UrlencodedParser(this, cfg)\n  }\n  throw new Error('Unsupported Content-Type.')\n}\n\nBusboy.prototype._write = function (chunk, encoding, cb) {\n  this._parser.write(chunk, cb)\n}\n\nmodule.exports = Busboy\nmodule.exports.default = Busboy\nmodule.exports.Busboy = Busboy\n\nmodule.exports.Dicer = Dicer\n", "'use strict'\n\nconst { MessageChannel, receiveMessageOnPort } = require('worker_threads')\n\nconst corsSafeListedMethods = ['GET', 'HEAD', 'POST']\nconst corsSafeListedMethodsSet = new Set(corsSafeListedMethods)\n\nconst nullBodyStatus = [101, 204, 205, 304]\n\nconst redirectStatus = [301, 302, 303, 307, 308]\nconst redirectStatusSet = new Set(redirectStatus)\n\n// https://fetch.spec.whatwg.org/#block-bad-port\nconst badPorts = [\n  '1', '7', '9', '11', '13', '15', '17', '19', '20', '21', '22', '23', '25', '37', '42', '43', '53', '69', '77', '79',\n  '87', '95', '101', '102', '103', '104', '109', '110', '111', '113', '115', '117', '119', '123', '135', '137',\n  '139', '143', '161', '179', '389', '427', '465', '512', '513', '514', '515', '526', '530', '531', '532',\n  '540', '548', '554', '556', '563', '587', '601', '636', '989', '990', '993', '995', '1719', '1720', '1723',\n  '2049', '3659', '4045', '5060', '5061', '6000', '6566', '6665', '6666', '6667', '6668', '6669', '6697',\n  '10080'\n]\n\nconst badPortsSet = new Set(badPorts)\n\n// https://w3c.github.io/webappsec-referrer-policy/#referrer-policies\nconst referrerPolicy = [\n  '',\n  'no-referrer',\n  'no-referrer-when-downgrade',\n  'same-origin',\n  'origin',\n  'strict-origin',\n  'origin-when-cross-origin',\n  'strict-origin-when-cross-origin',\n  'unsafe-url'\n]\nconst referrerPolicySet = new Set(referrerPolicy)\n\nconst requestRedirect = ['follow', 'manual', 'error']\n\nconst safeMethods = ['GET', 'HEAD', 'OPTIONS', 'TRACE']\nconst safeMethodsSet = new Set(safeMethods)\n\nconst requestMode = ['navigate', 'same-origin', 'no-cors', 'cors']\n\nconst requestCredentials = ['omit', 'same-origin', 'include']\n\nconst requestCache = [\n  'default',\n  'no-store',\n  'reload',\n  'no-cache',\n  'force-cache',\n  'only-if-cached'\n]\n\n// https://fetch.spec.whatwg.org/#request-body-header-name\nconst requestBodyHeader = [\n  'content-encoding',\n  'content-language',\n  'content-location',\n  'content-type',\n  // See https://github.com/nodejs/undici/issues/2021\n  // 'Content-Length' is a forbidden header name, which is typically\n  // removed in the Headers implementation. However, undici doesn't\n  // filter out headers, so we add it here.\n  'content-length'\n]\n\n// https://fetch.spec.whatwg.org/#enumdef-requestduplex\nconst requestDuplex = [\n  'half'\n]\n\n// http://fetch.spec.whatwg.org/#forbidden-method\nconst forbiddenMethods = ['CONNECT', 'TRACE', 'TRACK']\nconst forbiddenMethodsSet = new Set(forbiddenMethods)\n\nconst subresource = [\n  'audio',\n  'audioworklet',\n  'font',\n  'image',\n  'manifest',\n  'paintworklet',\n  'script',\n  'style',\n  'track',\n  'video',\n  'xslt',\n  ''\n]\nconst subresourceSet = new Set(subresource)\n\n/** @type {globalThis['DOMException']} */\nconst DOMException = globalThis.DOMException ?? (() => {\n  // DOMException was only made a global in Node v17.0.0,\n  // but fetch supports >= v16.8.\n  try {\n    atob('~')\n  } catch (err) {\n    return Object.getPrototypeOf(err).constructor\n  }\n})()\n\nlet channel\n\n/** @type {globalThis['structuredClone']} */\nconst structuredClone =\n  globalThis.structuredClone ??\n  // https://github.com/nodejs/node/blob/b27ae24dcc4251bad726d9d84baf678d1f707fed/lib/internal/structured_clone.js\n  // structuredClone was added in v17.0.0, but fetch supports v16.8\n  function structuredClone (value, options = undefined) {\n    if (arguments.length === 0) {\n      throw new TypeError('missing argument')\n    }\n\n    if (!channel) {\n      channel = new MessageChannel()\n    }\n    channel.port1.unref()\n    channel.port2.unref()\n    channel.port1.postMessage(value, options?.transfer)\n    return receiveMessageOnPort(channel.port2).message\n  }\n\nmodule.exports = {\n  DOMException,\n  structuredClone,\n  subresource,\n  forbiddenMethods,\n  requestBodyHeader,\n  referrerPolicy,\n  requestRedirect,\n  requestMode,\n  requestCredentials,\n  requestCache,\n  redirectStatus,\n  corsSafeListedMethods,\n  nullBodyStatus,\n  safeMethods,\n  badPorts,\n  requestDuplex,\n  subresourceSet,\n  badPortsSet,\n  redirectStatusSet,\n  corsSafeListedMethodsSet,\n  safeMethodsSet,\n  forbiddenMethodsSet,\n  referrerPolicySet\n}\n", "'use strict'\n\n// In case of breaking changes, increase the version\n// number to avoid conflicts.\nconst globalOrigin = Symbol.for('undici.globalOrigin.1')\n\nfunction getGlobalOrigin () {\n  return globalThis[globalOrigin]\n}\n\nfunction setGlobalOrigin (newOrigin) {\n  if (newOrigin === undefined) {\n    Object.defineProperty(globalThis, globalOrigin, {\n      value: undefined,\n      writable: true,\n      enumerable: false,\n      configurable: false\n    })\n\n    return\n  }\n\n  const parsedURL = new URL(newOrigin)\n\n  if (parsedURL.protocol !== 'http:' && parsedURL.protocol !== 'https:') {\n    throw new TypeError(`Only http & https urls are allowed, received ${parsedURL.protocol}`)\n  }\n\n  Object.defineProperty(globalThis, globalOrigin, {\n    value: parsedURL,\n    writable: true,\n    enumerable: false,\n    configurable: false\n  })\n}\n\nmodule.exports = {\n  getGlobalOrigin,\n  setGlobalOrigin\n}\n", "'use strict'\n\nconst { redirectStatusSet, referrerPolicySet: referrerPolicyTokens, badPortsSet } = require('./constants')\nconst { getGlobalOrigin } = require('./global')\nconst { performance } = require('perf_hooks')\nconst { isBlobLike, toUSVString, ReadableStreamFrom } = require('../core/util')\nconst assert = require('assert')\nconst { isUint8Array } = require('util/types')\n\nlet supportedHashes = []\n\n// https://nodejs.org/api/crypto.html#determining-if-crypto-support-is-unavailable\n/** @type {import('crypto')|undefined} */\nlet crypto\n\ntry {\n  crypto = require('crypto')\n  const possibleRelevantHashes = ['sha256', 'sha384', 'sha512']\n  supportedHashes = crypto.getHashes().filter((hash) => possibleRelevantHashes.includes(hash))\n/* c8 ignore next 3 */\n} catch {\n}\n\nfunction responseURL (response) {\n  // https://fetch.spec.whatwg.org/#responses\n  // A response has an associated URL. It is a pointer to the last URL\n  // in response\u2019s URL list and null if response\u2019s URL list is empty.\n  const urlList = response.urlList\n  const length = urlList.length\n  return length === 0 ? null : urlList[length - 1].toString()\n}\n\n// https://fetch.spec.whatwg.org/#concept-response-location-url\nfunction responseLocationURL (response, requestFragment) {\n  // 1. If response\u2019s status is not a redirect status, then return null.\n  if (!redirectStatusSet.has(response.status)) {\n    return null\n  }\n\n  // 2. Let location be the result of extracting header list values given\n  // `Location` and response\u2019s header list.\n  let location = response.headersList.get('location')\n\n  // 3. If location is a header value, then set location to the result of\n  //    parsing location with response\u2019s URL.\n  if (location !== null && isValidHeaderValue(location)) {\n    location = new URL(location, responseURL(response))\n  }\n\n  // 4. If location is a URL whose fragment is null, then set location\u2019s\n  // fragment to requestFragment.\n  if (location && !location.hash) {\n    location.hash = requestFragment\n  }\n\n  // 5. Return location.\n  return location\n}\n\n/** @returns {URL} */\nfunction requestCurrentURL (request) {\n  return request.urlList[request.urlList.length - 1]\n}\n\nfunction requestBadPort (request) {\n  // 1. Let url be request\u2019s current URL.\n  const url = requestCurrentURL(request)\n\n  // 2. If url\u2019s scheme is an HTTP(S) scheme and url\u2019s port is a bad port,\n  // then return blocked.\n  if (urlIsHttpHttpsScheme(url) && badPortsSet.has(url.port)) {\n    return 'blocked'\n  }\n\n  // 3. Return allowed.\n  return 'allowed'\n}\n\nfunction isErrorLike (object) {\n  return object instanceof Error || (\n    object?.constructor?.name === 'Error' ||\n    object?.constructor?.name === 'DOMException'\n  )\n}\n\n// Check whether |statusText| is a ByteString and\n// matches the Reason-Phrase token production.\n// RFC 2616: https://tools.ietf.org/html/rfc2616\n// RFC 7230: https://tools.ietf.org/html/rfc7230\n// \"reason-phrase = *( HTAB / SP / VCHAR / obs-text )\"\n// https://github.com/chromium/chromium/blob/94.0.4604.1/third_party/blink/renderer/core/fetch/response.cc#L116\nfunction isValidReasonPhrase (statusText) {\n  for (let i = 0; i < statusText.length; ++i) {\n    const c = statusText.charCodeAt(i)\n    if (\n      !(\n        (\n          c === 0x09 || // HTAB\n          (c >= 0x20 && c <= 0x7e) || // SP / VCHAR\n          (c >= 0x80 && c <= 0xff)\n        ) // obs-text\n      )\n    ) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * @see https://tools.ietf.org/html/rfc7230#section-3.2.6\n * @param {number} c\n */\nfunction isTokenCharCode (c) {\n  switch (c) {\n    case 0x22:\n    case 0x28:\n    case 0x29:\n    case 0x2c:\n    case 0x2f:\n    case 0x3a:\n    case 0x3b:\n    case 0x3c:\n    case 0x3d:\n    case 0x3e:\n    case 0x3f:\n    case 0x40:\n    case 0x5b:\n    case 0x5c:\n    case 0x5d:\n    case 0x7b:\n    case 0x7d:\n      // DQUOTE and \"(),/:;<=>?@[\\]{}\"\n      return false\n    default:\n      // VCHAR %x21-7E\n      return c >= 0x21 && c <= 0x7e\n  }\n}\n\n/**\n * @param {string} characters\n */\nfunction isValidHTTPToken (characters) {\n  if (characters.length === 0) {\n    return false\n  }\n  for (let i = 0; i < characters.length; ++i) {\n    if (!isTokenCharCode(characters.charCodeAt(i))) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#header-name\n * @param {string} potentialValue\n */\nfunction isValidHeaderName (potentialValue) {\n  return isValidHTTPToken(potentialValue)\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#header-value\n * @param {string} potentialValue\n */\nfunction isValidHeaderValue (potentialValue) {\n  // - Has no leading or trailing HTTP tab or space bytes.\n  // - Contains no 0x00 (NUL) or HTTP newline bytes.\n  if (\n    potentialValue.startsWith('\\t') ||\n    potentialValue.startsWith(' ') ||\n    potentialValue.endsWith('\\t') ||\n    potentialValue.endsWith(' ')\n  ) {\n    return false\n  }\n\n  if (\n    potentialValue.includes('\\0') ||\n    potentialValue.includes('\\r') ||\n    potentialValue.includes('\\n')\n  ) {\n    return false\n  }\n\n  return true\n}\n\n// https://w3c.github.io/webappsec-referrer-policy/#set-requests-referrer-policy-on-redirect\nfunction setRequestReferrerPolicyOnRedirect (request, actualResponse) {\n  //  Given a request request and a response actualResponse, this algorithm\n  //  updates request\u2019s referrer policy according to the Referrer-Policy\n  //  header (if any) in actualResponse.\n\n  // 1. Let policy be the result of executing \u00A7 8.1 Parse a referrer policy\n  // from a Referrer-Policy header on actualResponse.\n\n  // 8.1 Parse a referrer policy from a Referrer-Policy header\n  // 1. Let policy-tokens be the result of extracting header list values given `Referrer-Policy` and response\u2019s header list.\n  const { headersList } = actualResponse\n  // 2. Let policy be the empty string.\n  // 3. For each token in policy-tokens, if token is a referrer policy and token is not the empty string, then set policy to token.\n  // 4. Return policy.\n  const policyHeader = (headersList.get('referrer-policy') ?? '').split(',')\n\n  // Note: As the referrer-policy can contain multiple policies\n  // separated by comma, we need to loop through all of them\n  // and pick the first valid one.\n  // Ref: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy#specify_a_fallback_policy\n  let policy = ''\n  if (policyHeader.length > 0) {\n    // The right-most policy takes precedence.\n    // The left-most policy is the fallback.\n    for (let i = policyHeader.length; i !== 0; i--) {\n      const token = policyHeader[i - 1].trim()\n      if (referrerPolicyTokens.has(token)) {\n        policy = token\n        break\n      }\n    }\n  }\n\n  // 2. If policy is not the empty string, then set request\u2019s referrer policy to policy.\n  if (policy !== '') {\n    request.referrerPolicy = policy\n  }\n}\n\n// https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check\nfunction crossOriginResourcePolicyCheck () {\n  // TODO\n  return 'allowed'\n}\n\n// https://fetch.spec.whatwg.org/#concept-cors-check\nfunction corsCheck () {\n  // TODO\n  return 'success'\n}\n\n// https://fetch.spec.whatwg.org/#concept-tao-check\nfunction TAOCheck () {\n  // TODO\n  return 'success'\n}\n\nfunction appendFetchMetadata (httpRequest) {\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-dest-header\n  //  TODO\n\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-mode-header\n\n  //  1. Assert: r\u2019s url is a potentially trustworthy URL.\n  //  TODO\n\n  //  2. Let header be a Structured Header whose value is a token.\n  let header = null\n\n  //  3. Set header\u2019s value to r\u2019s mode.\n  header = httpRequest.mode\n\n  //  4. Set a structured field value `Sec-Fetch-Mode`/header in r\u2019s header list.\n  httpRequest.headersList.set('sec-fetch-mode', header)\n\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-site-header\n  //  TODO\n\n  //  https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-user-header\n  //  TODO\n}\n\n// https://fetch.spec.whatwg.org/#append-a-request-origin-header\nfunction appendRequestOriginHeader (request) {\n  // 1. Let serializedOrigin be the result of byte-serializing a request origin with request.\n  let serializedOrigin = request.origin\n\n  // 2. If request\u2019s response tainting is \"cors\" or request\u2019s mode is \"websocket\", then append (`Origin`, serializedOrigin) to request\u2019s header list.\n  if (request.responseTainting === 'cors' || request.mode === 'websocket') {\n    if (serializedOrigin) {\n      request.headersList.append('origin', serializedOrigin)\n    }\n\n  // 3. Otherwise, if request\u2019s method is neither `GET` nor `HEAD`, then:\n  } else if (request.method !== 'GET' && request.method !== 'HEAD') {\n    // 1. Switch on request\u2019s referrer policy:\n    switch (request.referrerPolicy) {\n      case 'no-referrer':\n        // Set serializedOrigin to `null`.\n        serializedOrigin = null\n        break\n      case 'no-referrer-when-downgrade':\n      case 'strict-origin':\n      case 'strict-origin-when-cross-origin':\n        // If request\u2019s origin is a tuple origin, its scheme is \"https\", and request\u2019s current URL\u2019s scheme is not \"https\", then set serializedOrigin to `null`.\n        if (request.origin && urlHasHttpsScheme(request.origin) && !urlHasHttpsScheme(requestCurrentURL(request))) {\n          serializedOrigin = null\n        }\n        break\n      case 'same-origin':\n        // If request\u2019s origin is not same origin with request\u2019s current URL\u2019s origin, then set serializedOrigin to `null`.\n        if (!sameOrigin(request, requestCurrentURL(request))) {\n          serializedOrigin = null\n        }\n        break\n      default:\n        // Do nothing.\n    }\n\n    if (serializedOrigin) {\n      // 2. Append (`Origin`, serializedOrigin) to request\u2019s header list.\n      request.headersList.append('origin', serializedOrigin)\n    }\n  }\n}\n\nfunction coarsenedSharedCurrentTime (crossOriginIsolatedCapability) {\n  // TODO\n  return performance.now()\n}\n\n// https://fetch.spec.whatwg.org/#create-an-opaque-timing-info\nfunction createOpaqueTimingInfo (timingInfo) {\n  return {\n    startTime: timingInfo.startTime ?? 0,\n    redirectStartTime: 0,\n    redirectEndTime: 0,\n    postRedirectStartTime: timingInfo.startTime ?? 0,\n    finalServiceWorkerStartTime: 0,\n    finalNetworkResponseStartTime: 0,\n    finalNetworkRequestStartTime: 0,\n    endTime: 0,\n    encodedBodySize: 0,\n    decodedBodySize: 0,\n    finalConnectionTimingInfo: null\n  }\n}\n\n// https://html.spec.whatwg.org/multipage/origin.html#policy-container\nfunction makePolicyContainer () {\n  // Note: the fetch spec doesn't make use of embedder policy or CSP list\n  return {\n    referrerPolicy: 'strict-origin-when-cross-origin'\n  }\n}\n\n// https://html.spec.whatwg.org/multipage/origin.html#clone-a-policy-container\nfunction clonePolicyContainer (policyContainer) {\n  return {\n    referrerPolicy: policyContainer.referrerPolicy\n  }\n}\n\n// https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer\nfunction determineRequestsReferrer (request) {\n  // 1. Let policy be request's referrer policy.\n  const policy = request.referrerPolicy\n\n  // Note: policy cannot (shouldn't) be null or an empty string.\n  assert(policy)\n\n  // 2. Let environment be request\u2019s client.\n\n  let referrerSource = null\n\n  // 3. Switch on request\u2019s referrer:\n  if (request.referrer === 'client') {\n    // Note: node isn't a browser and doesn't implement document/iframes,\n    // so we bypass this step and replace it with our own.\n\n    const globalOrigin = getGlobalOrigin()\n\n    if (!globalOrigin || globalOrigin.origin === 'null') {\n      return 'no-referrer'\n    }\n\n    // note: we need to clone it as it's mutated\n    referrerSource = new URL(globalOrigin)\n  } else if (request.referrer instanceof URL) {\n    // Let referrerSource be request\u2019s referrer.\n    referrerSource = request.referrer\n  }\n\n  // 4. Let request\u2019s referrerURL be the result of stripping referrerSource for\n  //    use as a referrer.\n  let referrerURL = stripURLForReferrer(referrerSource)\n\n  // 5. Let referrerOrigin be the result of stripping referrerSource for use as\n  //    a referrer, with the origin-only flag set to true.\n  const referrerOrigin = stripURLForReferrer(referrerSource, true)\n\n  // 6. If the result of serializing referrerURL is a string whose length is\n  //    greater than 4096, set referrerURL to referrerOrigin.\n  if (referrerURL.toString().length > 4096) {\n    referrerURL = referrerOrigin\n  }\n\n  const areSameOrigin = sameOrigin(request, referrerURL)\n  const isNonPotentiallyTrustWorthy = isURLPotentiallyTrustworthy(referrerURL) &&\n    !isURLPotentiallyTrustworthy(request.url)\n\n  // 8. Execute the switch statements corresponding to the value of policy:\n  switch (policy) {\n    case 'origin': return referrerOrigin != null ? referrerOrigin : stripURLForReferrer(referrerSource, true)\n    case 'unsafe-url': return referrerURL\n    case 'same-origin':\n      return areSameOrigin ? referrerOrigin : 'no-referrer'\n    case 'origin-when-cross-origin':\n      return areSameOrigin ? referrerURL : referrerOrigin\n    case 'strict-origin-when-cross-origin': {\n      const currentURL = requestCurrentURL(request)\n\n      // 1. If the origin of referrerURL and the origin of request\u2019s current\n      //    URL are the same, then return referrerURL.\n      if (sameOrigin(referrerURL, currentURL)) {\n        return referrerURL\n      }\n\n      // 2. If referrerURL is a potentially trustworthy URL and request\u2019s\n      //    current URL is not a potentially trustworthy URL, then return no\n      //    referrer.\n      if (isURLPotentiallyTrustworthy(referrerURL) && !isURLPotentiallyTrustworthy(currentURL)) {\n        return 'no-referrer'\n      }\n\n      // 3. Return referrerOrigin.\n      return referrerOrigin\n    }\n    case 'strict-origin': // eslint-disable-line\n      /**\n         * 1. If referrerURL is a potentially trustworthy URL and\n         * request\u2019s current URL is not a potentially trustworthy URL,\n         * then return no referrer.\n         * 2. Return referrerOrigin\n        */\n    case 'no-referrer-when-downgrade': // eslint-disable-line\n      /**\n       * 1. If referrerURL is a potentially trustworthy URL and\n       * request\u2019s current URL is not a potentially trustworthy URL,\n       * then return no referrer.\n       * 2. Return referrerOrigin\n      */\n\n    default: // eslint-disable-line\n      return isNonPotentiallyTrustWorthy ? 'no-referrer' : referrerOrigin\n  }\n}\n\n/**\n * @see https://w3c.github.io/webappsec-referrer-policy/#strip-url\n * @param {URL} url\n * @param {boolean|undefined} originOnly\n */\nfunction stripURLForReferrer (url, originOnly) {\n  // 1. Assert: url is a URL.\n  assert(url instanceof URL)\n\n  // 2. If url\u2019s scheme is a local scheme, then return no referrer.\n  if (url.protocol === 'file:' || url.protocol === 'about:' || url.protocol === 'blank:') {\n    return 'no-referrer'\n  }\n\n  // 3. Set url\u2019s username to the empty string.\n  url.username = ''\n\n  // 4. Set url\u2019s password to the empty string.\n  url.password = ''\n\n  // 5. Set url\u2019s fragment to null.\n  url.hash = ''\n\n  // 6. If the origin-only flag is true, then:\n  if (originOnly) {\n    // 1. Set url\u2019s path to \u00AB the empty string \u00BB.\n    url.pathname = ''\n\n    // 2. Set url\u2019s query to null.\n    url.search = ''\n  }\n\n  // 7. Return url.\n  return url\n}\n\nfunction isURLPotentiallyTrustworthy (url) {\n  if (!(url instanceof URL)) {\n    return false\n  }\n\n  // If child of about, return true\n  if (url.href === 'about:blank' || url.href === 'about:srcdoc') {\n    return true\n  }\n\n  // If scheme is data, return true\n  if (url.protocol === 'data:') return true\n\n  // If file, return true\n  if (url.protocol === 'file:') return true\n\n  return isOriginPotentiallyTrustworthy(url.origin)\n\n  function isOriginPotentiallyTrustworthy (origin) {\n    // If origin is explicitly null, return false\n    if (origin == null || origin === 'null') return false\n\n    const originAsURL = new URL(origin)\n\n    // If secure, return true\n    if (originAsURL.protocol === 'https:' || originAsURL.protocol === 'wss:') {\n      return true\n    }\n\n    // If localhost or variants, return true\n    if (/^127(?:\\.[0-9]+){0,2}\\.[0-9]+$|^\\[(?:0*:)*?:?0*1\\]$/.test(originAsURL.hostname) ||\n     (originAsURL.hostname === 'localhost' || originAsURL.hostname.includes('localhost.')) ||\n     (originAsURL.hostname.endsWith('.localhost'))) {\n      return true\n    }\n\n    // If any other, return false\n    return false\n  }\n}\n\n/**\n * @see https://w3c.github.io/webappsec-subresource-integrity/#does-response-match-metadatalist\n * @param {Uint8Array} bytes\n * @param {string} metadataList\n */\nfunction bytesMatch (bytes, metadataList) {\n  // If node is not built with OpenSSL support, we cannot check\n  // a request's integrity, so allow it by default (the spec will\n  // allow requests if an invalid hash is given, as precedence).\n  /* istanbul ignore if: only if node is built with --without-ssl */\n  if (crypto === undefined) {\n    return true\n  }\n\n  // 1. Let parsedMetadata be the result of parsing metadataList.\n  const parsedMetadata = parseMetadata(metadataList)\n\n  // 2. If parsedMetadata is no metadata, return true.\n  if (parsedMetadata === 'no metadata') {\n    return true\n  }\n\n  // 3. If response is not eligible for integrity validation, return false.\n  // TODO\n\n  // 4. If parsedMetadata is the empty set, return true.\n  if (parsedMetadata.length === 0) {\n    return true\n  }\n\n  // 5. Let metadata be the result of getting the strongest\n  //    metadata from parsedMetadata.\n  const strongest = getStrongestMetadata(parsedMetadata)\n  const metadata = filterMetadataListByAlgorithm(parsedMetadata, strongest)\n\n  // 6. For each item in metadata:\n  for (const item of metadata) {\n    // 1. Let algorithm be the alg component of item.\n    const algorithm = item.algo\n\n    // 2. Let expectedValue be the val component of item.\n    const expectedValue = item.hash\n\n    // See https://github.com/web-platform-tests/wpt/commit/e4c5cc7a5e48093220528dfdd1c4012dc3837a0e\n    // \"be liberal with padding\". This is annoying, and it's not even in the spec.\n\n    // 3. Let actualValue be the result of applying algorithm to bytes.\n    let actualValue = crypto.createHash(algorithm).update(bytes).digest('base64')\n\n    if (actualValue[actualValue.length - 1] === '=') {\n      if (actualValue[actualValue.length - 2] === '=') {\n        actualValue = actualValue.slice(0, -2)\n      } else {\n        actualValue = actualValue.slice(0, -1)\n      }\n    }\n\n    // 4. If actualValue is a case-sensitive match for expectedValue,\n    //    return true.\n    if (compareBase64Mixed(actualValue, expectedValue)) {\n      return true\n    }\n  }\n\n  // 7. Return false.\n  return false\n}\n\n// https://w3c.github.io/webappsec-subresource-integrity/#grammardef-hash-with-options\n// https://www.w3.org/TR/CSP2/#source-list-syntax\n// https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\nconst parseHashWithOptions = /(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\\s|$)( +[!-~]*)?)?/i\n\n/**\n * @see https://w3c.github.io/webappsec-subresource-integrity/#parse-metadata\n * @param {string} metadata\n */\nfunction parseMetadata (metadata) {\n  // 1. Let result be the empty set.\n  /** @type {{ algo: string, hash: string }[]} */\n  const result = []\n\n  // 2. Let empty be equal to true.\n  let empty = true\n\n  // 3. For each token returned by splitting metadata on spaces:\n  for (const token of metadata.split(' ')) {\n    // 1. Set empty to false.\n    empty = false\n\n    // 2. Parse token as a hash-with-options.\n    const parsedToken = parseHashWithOptions.exec(token)\n\n    // 3. If token does not parse, continue to the next token.\n    if (\n      parsedToken === null ||\n      parsedToken.groups === undefined ||\n      parsedToken.groups.algo === undefined\n    ) {\n      // Note: Chromium blocks the request at this point, but Firefox\n      // gives a warning that an invalid integrity was given. The\n      // correct behavior is to ignore these, and subsequently not\n      // check the integrity of the resource.\n      continue\n    }\n\n    // 4. Let algorithm be the hash-algo component of token.\n    const algorithm = parsedToken.groups.algo.toLowerCase()\n\n    // 5. If algorithm is a hash function recognized by the user\n    //    agent, add the parsed token to result.\n    if (supportedHashes.includes(algorithm)) {\n      result.push(parsedToken.groups)\n    }\n  }\n\n  // 4. Return no metadata if empty is true, otherwise return result.\n  if (empty === true) {\n    return 'no metadata'\n  }\n\n  return result\n}\n\n/**\n * @param {{ algo: 'sha256' | 'sha384' | 'sha512' }[]} metadataList\n */\nfunction getStrongestMetadata (metadataList) {\n  // Let algorithm be the algo component of the first item in metadataList.\n  // Can be sha256\n  let algorithm = metadataList[0].algo\n  // If the algorithm is sha512, then it is the strongest\n  // and we can return immediately\n  if (algorithm[3] === '5') {\n    return algorithm\n  }\n\n  for (let i = 1; i < metadataList.length; ++i) {\n    const metadata = metadataList[i]\n    // If the algorithm is sha512, then it is the strongest\n    // and we can break the loop immediately\n    if (metadata.algo[3] === '5') {\n      algorithm = 'sha512'\n      break\n    // If the algorithm is sha384, then a potential sha256 or sha384 is ignored\n    } else if (algorithm[3] === '3') {\n      continue\n    // algorithm is sha256, check if algorithm is sha384 and if so, set it as\n    // the strongest\n    } else if (metadata.algo[3] === '3') {\n      algorithm = 'sha384'\n    }\n  }\n  return algorithm\n}\n\nfunction filterMetadataListByAlgorithm (metadataList, algorithm) {\n  if (metadataList.length === 1) {\n    return metadataList\n  }\n\n  let pos = 0\n  for (let i = 0; i < metadataList.length; ++i) {\n    if (metadataList[i].algo === algorithm) {\n      metadataList[pos++] = metadataList[i]\n    }\n  }\n\n  metadataList.length = pos\n\n  return metadataList\n}\n\n/**\n * Compares two base64 strings, allowing for base64url\n * in the second string.\n *\n* @param {string} actualValue always base64\n * @param {string} expectedValue base64 or base64url\n * @returns {boolean}\n */\nfunction compareBase64Mixed (actualValue, expectedValue) {\n  if (actualValue.length !== expectedValue.length) {\n    return false\n  }\n  for (let i = 0; i < actualValue.length; ++i) {\n    if (actualValue[i] !== expectedValue[i]) {\n      if (\n        (actualValue[i] === '+' && expectedValue[i] === '-') ||\n        (actualValue[i] === '/' && expectedValue[i] === '_')\n      ) {\n        continue\n      }\n      return false\n    }\n  }\n\n  return true\n}\n\n// https://w3c.github.io/webappsec-upgrade-insecure-requests/#upgrade-request\nfunction tryUpgradeRequestToAPotentiallyTrustworthyURL (request) {\n  // TODO\n}\n\n/**\n * @link {https://html.spec.whatwg.org/multipage/origin.html#same-origin}\n * @param {URL} A\n * @param {URL} B\n */\nfunction sameOrigin (A, B) {\n  // 1. If A and B are the same opaque origin, then return true.\n  if (A.origin === B.origin && A.origin === 'null') {\n    return true\n  }\n\n  // 2. If A and B are both tuple origins and their schemes,\n  //    hosts, and port are identical, then return true.\n  if (A.protocol === B.protocol && A.hostname === B.hostname && A.port === B.port) {\n    return true\n  }\n\n  // 3. Return false.\n  return false\n}\n\nfunction createDeferredPromise () {\n  let res\n  let rej\n  const promise = new Promise((resolve, reject) => {\n    res = resolve\n    rej = reject\n  })\n\n  return { promise, resolve: res, reject: rej }\n}\n\nfunction isAborted (fetchParams) {\n  return fetchParams.controller.state === 'aborted'\n}\n\nfunction isCancelled (fetchParams) {\n  return fetchParams.controller.state === 'aborted' ||\n    fetchParams.controller.state === 'terminated'\n}\n\nconst normalizeMethodRecord = {\n  delete: 'DELETE',\n  DELETE: 'DELETE',\n  get: 'GET',\n  GET: 'GET',\n  head: 'HEAD',\n  HEAD: 'HEAD',\n  options: 'OPTIONS',\n  OPTIONS: 'OPTIONS',\n  post: 'POST',\n  POST: 'POST',\n  put: 'PUT',\n  PUT: 'PUT'\n}\n\n// Note: object prototypes should not be able to be referenced. e.g. `Object#hasOwnProperty`.\nObject.setPrototypeOf(normalizeMethodRecord, null)\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-method-normalize\n * @param {string} method\n */\nfunction normalizeMethod (method) {\n  return normalizeMethodRecord[method.toLowerCase()] ?? method\n}\n\n// https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string\nfunction serializeJavascriptValueToJSONString (value) {\n  // 1. Let result be ? Call(%JSON.stringify%, undefined, \u00AB value \u00BB).\n  const result = JSON.stringify(value)\n\n  // 2. If result is undefined, then throw a TypeError.\n  if (result === undefined) {\n    throw new TypeError('Value is not JSON serializable')\n  }\n\n  // 3. Assert: result is a string.\n  assert(typeof result === 'string')\n\n  // 4. Return result.\n  return result\n}\n\n// https://tc39.es/ecma262/#sec-%25iteratorprototype%25-object\nconst esIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()))\n\n/**\n * @see https://webidl.spec.whatwg.org/#dfn-iterator-prototype-object\n * @param {() => unknown[]} iterator\n * @param {string} name name of the instance\n * @param {'key'|'value'|'key+value'} kind\n */\nfunction makeIterator (iterator, name, kind) {\n  const object = {\n    index: 0,\n    kind,\n    target: iterator\n  }\n\n  const i = {\n    next () {\n      // 1. Let interface be the interface for which the iterator prototype object exists.\n\n      // 2. Let thisValue be the this value.\n\n      // 3. Let object be ? ToObject(thisValue).\n\n      // 4. If object is a platform object, then perform a security\n      //    check, passing:\n\n      // 5. If object is not a default iterator object for interface,\n      //    then throw a TypeError.\n      if (Object.getPrototypeOf(this) !== i) {\n        throw new TypeError(\n          `'next' called on an object that does not implement interface ${name} Iterator.`\n        )\n      }\n\n      // 6. Let index be object\u2019s index.\n      // 7. Let kind be object\u2019s kind.\n      // 8. Let values be object\u2019s target's value pairs to iterate over.\n      const { index, kind, target } = object\n      const values = target()\n\n      // 9. Let len be the length of values.\n      const len = values.length\n\n      // 10. If index is greater than or equal to len, then return\n      //     CreateIterResultObject(undefined, true).\n      if (index >= len) {\n        return { value: undefined, done: true }\n      }\n\n      // 11. Let pair be the entry in values at index index.\n      const pair = values[index]\n\n      // 12. Set object\u2019s index to index + 1.\n      object.index = index + 1\n\n      // 13. Return the iterator result for pair and kind.\n      return iteratorResult(pair, kind)\n    },\n    // The class string of an iterator prototype object for a given interface is the\n    // result of concatenating the identifier of the interface and the string \" Iterator\".\n    [Symbol.toStringTag]: `${name} Iterator`\n  }\n\n  // The [[Prototype]] internal slot of an iterator prototype object must be %IteratorPrototype%.\n  Object.setPrototypeOf(i, esIteratorPrototype)\n  // esIteratorPrototype needs to be the prototype of i\n  // which is the prototype of an empty object. Yes, it's confusing.\n  return Object.setPrototypeOf({}, i)\n}\n\n// https://webidl.spec.whatwg.org/#iterator-result\nfunction iteratorResult (pair, kind) {\n  let result\n\n  // 1. Let result be a value determined by the value of kind:\n  switch (kind) {\n    case 'key': {\n      // 1. Let idlKey be pair\u2019s key.\n      // 2. Let key be the result of converting idlKey to an\n      //    ECMAScript value.\n      // 3. result is key.\n      result = pair[0]\n      break\n    }\n    case 'value': {\n      // 1. Let idlValue be pair\u2019s value.\n      // 2. Let value be the result of converting idlValue to\n      //    an ECMAScript value.\n      // 3. result is value.\n      result = pair[1]\n      break\n    }\n    case 'key+value': {\n      // 1. Let idlKey be pair\u2019s key.\n      // 2. Let idlValue be pair\u2019s value.\n      // 3. Let key be the result of converting idlKey to an\n      //    ECMAScript value.\n      // 4. Let value be the result of converting idlValue to\n      //    an ECMAScript value.\n      // 5. Let array be ! ArrayCreate(2).\n      // 6. Call ! CreateDataProperty(array, \"0\", key).\n      // 7. Call ! CreateDataProperty(array, \"1\", value).\n      // 8. result is array.\n      result = pair\n      break\n    }\n  }\n\n  // 2. Return CreateIterResultObject(result, false).\n  return { value: result, done: false }\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#body-fully-read\n */\nasync function fullyReadBody (body, processBody, processBodyError) {\n  // 1. If taskDestination is null, then set taskDestination to\n  //    the result of starting a new parallel queue.\n\n  // 2. Let successSteps given a byte sequence bytes be to queue a\n  //    fetch task to run processBody given bytes, with taskDestination.\n  const successSteps = processBody\n\n  // 3. Let errorSteps be to queue a fetch task to run processBodyError,\n  //    with taskDestination.\n  const errorSteps = processBodyError\n\n  // 4. Let reader be the result of getting a reader for body\u2019s stream.\n  //    If that threw an exception, then run errorSteps with that\n  //    exception and return.\n  let reader\n\n  try {\n    reader = body.stream.getReader()\n  } catch (e) {\n    errorSteps(e)\n    return\n  }\n\n  // 5. Read all bytes from reader, given successSteps and errorSteps.\n  try {\n    const result = await readAllBytes(reader)\n    successSteps(result)\n  } catch (e) {\n    errorSteps(e)\n  }\n}\n\n/** @type {ReadableStream} */\nlet ReadableStream = globalThis.ReadableStream\n\nfunction isReadableStreamLike (stream) {\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  return stream instanceof ReadableStream || (\n    stream[Symbol.toStringTag] === 'ReadableStream' &&\n    typeof stream.tee === 'function'\n  )\n}\n\nconst MAXIMUM_ARGUMENT_LENGTH = 65535\n\n/**\n * @see https://infra.spec.whatwg.org/#isomorphic-decode\n * @param {number[]|Uint8Array} input\n */\nfunction isomorphicDecode (input) {\n  // 1. To isomorphic decode a byte sequence input, return a string whose code point\n  //    length is equal to input\u2019s length and whose code points have the same values\n  //    as the values of input\u2019s bytes, in the same order.\n\n  if (input.length < MAXIMUM_ARGUMENT_LENGTH) {\n    return String.fromCharCode(...input)\n  }\n\n  return input.reduce((previous, current) => previous + String.fromCharCode(current), '')\n}\n\n/**\n * @param {ReadableStreamController<Uint8Array>} controller\n */\nfunction readableStreamClose (controller) {\n  try {\n    controller.close()\n  } catch (err) {\n    // TODO: add comment explaining why this error occurs.\n    if (!err.message.includes('Controller is already closed')) {\n      throw err\n    }\n  }\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#isomorphic-encode\n * @param {string} input\n */\nfunction isomorphicEncode (input) {\n  // 1. Assert: input contains no code points greater than U+00FF.\n  for (let i = 0; i < input.length; i++) {\n    assert(input.charCodeAt(i) <= 0xFF)\n  }\n\n  // 2. Return a byte sequence whose length is equal to input\u2019s code\n  //    point length and whose bytes have the same values as the\n  //    values of input\u2019s code points, in the same order\n  return input\n}\n\n/**\n * @see https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes\n * @see https://streams.spec.whatwg.org/#read-loop\n * @param {ReadableStreamDefaultReader} reader\n */\nasync function readAllBytes (reader) {\n  const bytes = []\n  let byteLength = 0\n\n  while (true) {\n    const { done, value: chunk } = await reader.read()\n\n    if (done) {\n      // 1. Call successSteps with bytes.\n      return Buffer.concat(bytes, byteLength)\n    }\n\n    // 1. If chunk is not a Uint8Array object, call failureSteps\n    //    with a TypeError and abort these steps.\n    if (!isUint8Array(chunk)) {\n      throw new TypeError('Received non-Uint8Array chunk')\n    }\n\n    // 2. Append the bytes represented by chunk to bytes.\n    bytes.push(chunk)\n    byteLength += chunk.length\n\n    // 3. Read-loop given reader, bytes, successSteps, and failureSteps.\n  }\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#is-local\n * @param {URL} url\n */\nfunction urlIsLocal (url) {\n  assert('protocol' in url) // ensure it's a url object\n\n  const protocol = url.protocol\n\n  return protocol === 'about:' || protocol === 'blob:' || protocol === 'data:'\n}\n\n/**\n * @param {string|URL} url\n */\nfunction urlHasHttpsScheme (url) {\n  if (typeof url === 'string') {\n    return url.startsWith('https:')\n  }\n\n  return url.protocol === 'https:'\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#http-scheme\n * @param {URL} url\n */\nfunction urlIsHttpHttpsScheme (url) {\n  assert('protocol' in url) // ensure it's a url object\n\n  const protocol = url.protocol\n\n  return protocol === 'http:' || protocol === 'https:'\n}\n\n/**\n * Fetch supports node >= 16.8.0, but Object.hasOwn was added in v16.9.0.\n */\nconst hasOwn = Object.hasOwn || ((dict, key) => Object.prototype.hasOwnProperty.call(dict, key))\n\nmodule.exports = {\n  isAborted,\n  isCancelled,\n  createDeferredPromise,\n  ReadableStreamFrom,\n  toUSVString,\n  tryUpgradeRequestToAPotentiallyTrustworthyURL,\n  coarsenedSharedCurrentTime,\n  determineRequestsReferrer,\n  makePolicyContainer,\n  clonePolicyContainer,\n  appendFetchMetadata,\n  appendRequestOriginHeader,\n  TAOCheck,\n  corsCheck,\n  crossOriginResourcePolicyCheck,\n  createOpaqueTimingInfo,\n  setRequestReferrerPolicyOnRedirect,\n  isValidHTTPToken,\n  requestBadPort,\n  requestCurrentURL,\n  responseURL,\n  responseLocationURL,\n  isBlobLike,\n  isURLPotentiallyTrustworthy,\n  isValidReasonPhrase,\n  sameOrigin,\n  normalizeMethod,\n  serializeJavascriptValueToJSONString,\n  makeIterator,\n  isValidHeaderName,\n  isValidHeaderValue,\n  hasOwn,\n  isErrorLike,\n  fullyReadBody,\n  bytesMatch,\n  isReadableStreamLike,\n  readableStreamClose,\n  isomorphicEncode,\n  isomorphicDecode,\n  urlIsLocal,\n  urlHasHttpsScheme,\n  urlIsHttpHttpsScheme,\n  readAllBytes,\n  normalizeMethodRecord,\n  parseMetadata\n}\n", "'use strict'\n\nmodule.exports = {\n  kUrl: Symbol('url'),\n  kHeaders: Symbol('headers'),\n  kSignal: Symbol('signal'),\n  kState: Symbol('state'),\n  kGuard: Symbol('guard'),\n  kRealm: Symbol('realm')\n}\n", "'use strict'\n\nconst { types } = require('util')\nconst { hasOwn, toUSVString } = require('./util')\n\n/** @type {import('../../types/webidl').Webidl} */\nconst webidl = {}\nwebidl.converters = {}\nwebidl.util = {}\nwebidl.errors = {}\n\nwebidl.errors.exception = function (message) {\n  return new TypeError(`${message.header}: ${message.message}`)\n}\n\nwebidl.errors.conversionFailed = function (context) {\n  const plural = context.types.length === 1 ? '' : ' one of'\n  const message =\n    `${context.argument} could not be converted to` +\n    `${plural}: ${context.types.join(', ')}.`\n\n  return webidl.errors.exception({\n    header: context.prefix,\n    message\n  })\n}\n\nwebidl.errors.invalidArgument = function (context) {\n  return webidl.errors.exception({\n    header: context.prefix,\n    message: `\"${context.value}\" is an invalid ${context.type}.`\n  })\n}\n\n// https://webidl.spec.whatwg.org/#implements\nwebidl.brandCheck = function (V, I, opts = undefined) {\n  if (opts?.strict !== false && !(V instanceof I)) {\n    throw new TypeError('Illegal invocation')\n  } else {\n    return V?.[Symbol.toStringTag] === I.prototype[Symbol.toStringTag]\n  }\n}\n\nwebidl.argumentLengthCheck = function ({ length }, min, ctx) {\n  if (length < min) {\n    throw webidl.errors.exception({\n      message: `${min} argument${min !== 1 ? 's' : ''} required, ` +\n               `but${length ? ' only' : ''} ${length} found.`,\n      ...ctx\n    })\n  }\n}\n\nwebidl.illegalConstructor = function () {\n  throw webidl.errors.exception({\n    header: 'TypeError',\n    message: 'Illegal constructor'\n  })\n}\n\n// https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values\nwebidl.util.Type = function (V) {\n  switch (typeof V) {\n    case 'undefined': return 'Undefined'\n    case 'boolean': return 'Boolean'\n    case 'string': return 'String'\n    case 'symbol': return 'Symbol'\n    case 'number': return 'Number'\n    case 'bigint': return 'BigInt'\n    case 'function':\n    case 'object': {\n      if (V === null) {\n        return 'Null'\n      }\n\n      return 'Object'\n    }\n  }\n}\n\n// https://webidl.spec.whatwg.org/#abstract-opdef-converttoint\nwebidl.util.ConvertToInt = function (V, bitLength, signedness, opts = {}) {\n  let upperBound\n  let lowerBound\n\n  // 1. If bitLength is 64, then:\n  if (bitLength === 64) {\n    // 1. Let upperBound be 2^53 \u2212 1.\n    upperBound = Math.pow(2, 53) - 1\n\n    // 2. If signedness is \"unsigned\", then let lowerBound be 0.\n    if (signedness === 'unsigned') {\n      lowerBound = 0\n    } else {\n      // 3. Otherwise let lowerBound be \u22122^53 + 1.\n      lowerBound = Math.pow(-2, 53) + 1\n    }\n  } else if (signedness === 'unsigned') {\n    // 2. Otherwise, if signedness is \"unsigned\", then:\n\n    // 1. Let lowerBound be 0.\n    lowerBound = 0\n\n    // 2. Let upperBound be 2^bitLength \u2212 1.\n    upperBound = Math.pow(2, bitLength) - 1\n  } else {\n    // 3. Otherwise:\n\n    // 1. Let lowerBound be -2^bitLength \u2212 1.\n    lowerBound = Math.pow(-2, bitLength) - 1\n\n    // 2. Let upperBound be 2^bitLength \u2212 1 \u2212 1.\n    upperBound = Math.pow(2, bitLength - 1) - 1\n  }\n\n  // 4. Let x be ? ToNumber(V).\n  let x = Number(V)\n\n  // 5. If x is \u22120, then set x to +0.\n  if (x === 0) {\n    x = 0\n  }\n\n  // 6. If the conversion is to an IDL type associated\n  //    with the [EnforceRange] extended attribute, then:\n  if (opts.enforceRange === true) {\n    // 1. If x is NaN, +\u221E, or \u2212\u221E, then throw a TypeError.\n    if (\n      Number.isNaN(x) ||\n      x === Number.POSITIVE_INFINITY ||\n      x === Number.NEGATIVE_INFINITY\n    ) {\n      throw webidl.errors.exception({\n        header: 'Integer conversion',\n        message: `Could not convert ${V} to an integer.`\n      })\n    }\n\n    // 2. Set x to IntegerPart(x).\n    x = webidl.util.IntegerPart(x)\n\n    // 3. If x < lowerBound or x > upperBound, then\n    //    throw a TypeError.\n    if (x < lowerBound || x > upperBound) {\n      throw webidl.errors.exception({\n        header: 'Integer conversion',\n        message: `Value must be between ${lowerBound}-${upperBound}, got ${x}.`\n      })\n    }\n\n    // 4. Return x.\n    return x\n  }\n\n  // 7. If x is not NaN and the conversion is to an IDL\n  //    type associated with the [Clamp] extended\n  //    attribute, then:\n  if (!Number.isNaN(x) && opts.clamp === true) {\n    // 1. Set x to min(max(x, lowerBound), upperBound).\n    x = Math.min(Math.max(x, lowerBound), upperBound)\n\n    // 2. Round x to the nearest integer, choosing the\n    //    even integer if it lies halfway between two,\n    //    and choosing +0 rather than \u22120.\n    if (Math.floor(x) % 2 === 0) {\n      x = Math.floor(x)\n    } else {\n      x = Math.ceil(x)\n    }\n\n    // 3. Return x.\n    return x\n  }\n\n  // 8. If x is NaN, +0, +\u221E, or \u2212\u221E, then return +0.\n  if (\n    Number.isNaN(x) ||\n    (x === 0 && Object.is(0, x)) ||\n    x === Number.POSITIVE_INFINITY ||\n    x === Number.NEGATIVE_INFINITY\n  ) {\n    return 0\n  }\n\n  // 9. Set x to IntegerPart(x).\n  x = webidl.util.IntegerPart(x)\n\n  // 10. Set x to x modulo 2^bitLength.\n  x = x % Math.pow(2, bitLength)\n\n  // 11. If signedness is \"signed\" and x \u2265 2^bitLength \u2212 1,\n  //    then return x \u2212 2^bitLength.\n  if (signedness === 'signed' && x >= Math.pow(2, bitLength) - 1) {\n    return x - Math.pow(2, bitLength)\n  }\n\n  // 12. Otherwise, return x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#abstract-opdef-integerpart\nwebidl.util.IntegerPart = function (n) {\n  // 1. Let r be floor(abs(n)).\n  const r = Math.floor(Math.abs(n))\n\n  // 2. If n < 0, then return -1 \u00D7 r.\n  if (n < 0) {\n    return -1 * r\n  }\n\n  // 3. Otherwise, return r.\n  return r\n}\n\n// https://webidl.spec.whatwg.org/#es-sequence\nwebidl.sequenceConverter = function (converter) {\n  return (V) => {\n    // 1. If Type(V) is not Object, throw a TypeError.\n    if (webidl.util.Type(V) !== 'Object') {\n      throw webidl.errors.exception({\n        header: 'Sequence',\n        message: `Value of type ${webidl.util.Type(V)} is not an Object.`\n      })\n    }\n\n    // 2. Let method be ? GetMethod(V, @@iterator).\n    /** @type {Generator} */\n    const method = V?.[Symbol.iterator]?.()\n    const seq = []\n\n    // 3. If method is undefined, throw a TypeError.\n    if (\n      method === undefined ||\n      typeof method.next !== 'function'\n    ) {\n      throw webidl.errors.exception({\n        header: 'Sequence',\n        message: 'Object is not an iterator.'\n      })\n    }\n\n    // https://webidl.spec.whatwg.org/#create-sequence-from-iterable\n    while (true) {\n      const { done, value } = method.next()\n\n      if (done) {\n        break\n      }\n\n      seq.push(converter(value))\n    }\n\n    return seq\n  }\n}\n\n// https://webidl.spec.whatwg.org/#es-to-record\nwebidl.recordConverter = function (keyConverter, valueConverter) {\n  return (O) => {\n    // 1. If Type(O) is not Object, throw a TypeError.\n    if (webidl.util.Type(O) !== 'Object') {\n      throw webidl.errors.exception({\n        header: 'Record',\n        message: `Value of type ${webidl.util.Type(O)} is not an Object.`\n      })\n    }\n\n    // 2. Let result be a new empty instance of record<K, V>.\n    const result = {}\n\n    if (!types.isProxy(O)) {\n      // Object.keys only returns enumerable properties\n      const keys = Object.keys(O)\n\n      for (const key of keys) {\n        // 1. Let typedKey be key converted to an IDL value of type K.\n        const typedKey = keyConverter(key)\n\n        // 2. Let value be ? Get(O, key).\n        // 3. Let typedValue be value converted to an IDL value of type V.\n        const typedValue = valueConverter(O[key])\n\n        // 4. Set result[typedKey] to typedValue.\n        result[typedKey] = typedValue\n      }\n\n      // 5. Return result.\n      return result\n    }\n\n    // 3. Let keys be ? O.[[OwnPropertyKeys]]().\n    const keys = Reflect.ownKeys(O)\n\n    // 4. For each key of keys.\n    for (const key of keys) {\n      // 1. Let desc be ? O.[[GetOwnProperty]](key).\n      const desc = Reflect.getOwnPropertyDescriptor(O, key)\n\n      // 2. If desc is not undefined and desc.[[Enumerable]] is true:\n      if (desc?.enumerable) {\n        // 1. Let typedKey be key converted to an IDL value of type K.\n        const typedKey = keyConverter(key)\n\n        // 2. Let value be ? Get(O, key).\n        // 3. Let typedValue be value converted to an IDL value of type V.\n        const typedValue = valueConverter(O[key])\n\n        // 4. Set result[typedKey] to typedValue.\n        result[typedKey] = typedValue\n      }\n    }\n\n    // 5. Return result.\n    return result\n  }\n}\n\nwebidl.interfaceConverter = function (i) {\n  return (V, opts = {}) => {\n    if (opts.strict !== false && !(V instanceof i)) {\n      throw webidl.errors.exception({\n        header: i.name,\n        message: `Expected ${V} to be an instance of ${i.name}.`\n      })\n    }\n\n    return V\n  }\n}\n\nwebidl.dictionaryConverter = function (converters) {\n  return (dictionary) => {\n    const type = webidl.util.Type(dictionary)\n    const dict = {}\n\n    if (type === 'Null' || type === 'Undefined') {\n      return dict\n    } else if (type !== 'Object') {\n      throw webidl.errors.exception({\n        header: 'Dictionary',\n        message: `Expected ${dictionary} to be one of: Null, Undefined, Object.`\n      })\n    }\n\n    for (const options of converters) {\n      const { key, defaultValue, required, converter } = options\n\n      if (required === true) {\n        if (!hasOwn(dictionary, key)) {\n          throw webidl.errors.exception({\n            header: 'Dictionary',\n            message: `Missing required key \"${key}\".`\n          })\n        }\n      }\n\n      let value = dictionary[key]\n      const hasDefault = hasOwn(options, 'defaultValue')\n\n      // Only use defaultValue if value is undefined and\n      // a defaultValue options was provided.\n      if (hasDefault && value !== null) {\n        value = value ?? defaultValue\n      }\n\n      // A key can be optional and have no default value.\n      // When this happens, do not perform a conversion,\n      // and do not assign the key a value.\n      if (required || hasDefault || value !== undefined) {\n        value = converter(value)\n\n        if (\n          options.allowedValues &&\n          !options.allowedValues.includes(value)\n        ) {\n          throw webidl.errors.exception({\n            header: 'Dictionary',\n            message: `${value} is not an accepted type. Expected one of ${options.allowedValues.join(', ')}.`\n          })\n        }\n\n        dict[key] = value\n      }\n    }\n\n    return dict\n  }\n}\n\nwebidl.nullableConverter = function (converter) {\n  return (V) => {\n    if (V === null) {\n      return V\n    }\n\n    return converter(V)\n  }\n}\n\n// https://webidl.spec.whatwg.org/#es-DOMString\nwebidl.converters.DOMString = function (V, opts = {}) {\n  // 1. If V is null and the conversion is to an IDL type\n  //    associated with the [LegacyNullToEmptyString]\n  //    extended attribute, then return the DOMString value\n  //    that represents the empty string.\n  if (V === null && opts.legacyNullToEmptyString) {\n    return ''\n  }\n\n  // 2. Let x be ? ToString(V).\n  if (typeof V === 'symbol') {\n    throw new TypeError('Could not convert argument of type symbol to string.')\n  }\n\n  // 3. Return the IDL DOMString value that represents the\n  //    same sequence of code units as the one the\n  //    ECMAScript String value x represents.\n  return String(V)\n}\n\n// https://webidl.spec.whatwg.org/#es-ByteString\nwebidl.converters.ByteString = function (V) {\n  // 1. Let x be ? ToString(V).\n  // Note: DOMString converter perform ? ToString(V)\n  const x = webidl.converters.DOMString(V)\n\n  // 2. If the value of any element of x is greater than\n  //    255, then throw a TypeError.\n  for (let index = 0; index < x.length; index++) {\n    if (x.charCodeAt(index) > 255) {\n      throw new TypeError(\n        'Cannot convert argument to a ByteString because the character at ' +\n        `index ${index} has a value of ${x.charCodeAt(index)} which is greater than 255.`\n      )\n    }\n  }\n\n  // 3. Return an IDL ByteString value whose length is the\n  //    length of x, and where the value of each element is\n  //    the value of the corresponding element of x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-USVString\nwebidl.converters.USVString = toUSVString\n\n// https://webidl.spec.whatwg.org/#es-boolean\nwebidl.converters.boolean = function (V) {\n  // 1. Let x be the result of computing ToBoolean(V).\n  const x = Boolean(V)\n\n  // 2. Return the IDL boolean value that is the one that represents\n  //    the same truth value as the ECMAScript Boolean value x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-any\nwebidl.converters.any = function (V) {\n  return V\n}\n\n// https://webidl.spec.whatwg.org/#es-long-long\nwebidl.converters['long long'] = function (V) {\n  // 1. Let x be ? ConvertToInt(V, 64, \"signed\").\n  const x = webidl.util.ConvertToInt(V, 64, 'signed')\n\n  // 2. Return the IDL long long value that represents\n  //    the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-unsigned-long-long\nwebidl.converters['unsigned long long'] = function (V) {\n  // 1. Let x be ? ConvertToInt(V, 64, \"unsigned\").\n  const x = webidl.util.ConvertToInt(V, 64, 'unsigned')\n\n  // 2. Return the IDL unsigned long long value that\n  //    represents the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-unsigned-long\nwebidl.converters['unsigned long'] = function (V) {\n  // 1. Let x be ? ConvertToInt(V, 32, \"unsigned\").\n  const x = webidl.util.ConvertToInt(V, 32, 'unsigned')\n\n  // 2. Return the IDL unsigned long value that\n  //    represents the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#es-unsigned-short\nwebidl.converters['unsigned short'] = function (V, opts) {\n  // 1. Let x be ? ConvertToInt(V, 16, \"unsigned\").\n  const x = webidl.util.ConvertToInt(V, 16, 'unsigned', opts)\n\n  // 2. Return the IDL unsigned short value that represents\n  //    the same numeric value as x.\n  return x\n}\n\n// https://webidl.spec.whatwg.org/#idl-ArrayBuffer\nwebidl.converters.ArrayBuffer = function (V, opts = {}) {\n  // 1. If Type(V) is not Object, or V does not have an\n  //    [[ArrayBufferData]] internal slot, then throw a\n  //    TypeError.\n  // see: https://tc39.es/ecma262/#sec-properties-of-the-arraybuffer-instances\n  // see: https://tc39.es/ecma262/#sec-properties-of-the-sharedarraybuffer-instances\n  if (\n    webidl.util.Type(V) !== 'Object' ||\n    !types.isAnyArrayBuffer(V)\n  ) {\n    throw webidl.errors.conversionFailed({\n      prefix: `${V}`,\n      argument: `${V}`,\n      types: ['ArrayBuffer']\n    })\n  }\n\n  // 2. If the conversion is not to an IDL type associated\n  //    with the [AllowShared] extended attribute, and\n  //    IsSharedArrayBuffer(V) is true, then throw a\n  //    TypeError.\n  if (opts.allowShared === false && types.isSharedArrayBuffer(V)) {\n    throw webidl.errors.exception({\n      header: 'ArrayBuffer',\n      message: 'SharedArrayBuffer is not allowed.'\n    })\n  }\n\n  // 3. If the conversion is not to an IDL type associated\n  //    with the [AllowResizable] extended attribute, and\n  //    IsResizableArrayBuffer(V) is true, then throw a\n  //    TypeError.\n  // Note: resizable ArrayBuffers are currently a proposal.\n\n  // 4. Return the IDL ArrayBuffer value that is a\n  //    reference to the same object as V.\n  return V\n}\n\nwebidl.converters.TypedArray = function (V, T, opts = {}) {\n  // 1. Let T be the IDL type V is being converted to.\n\n  // 2. If Type(V) is not Object, or V does not have a\n  //    [[TypedArrayName]] internal slot with a value\n  //    equal to T\u2019s name, then throw a TypeError.\n  if (\n    webidl.util.Type(V) !== 'Object' ||\n    !types.isTypedArray(V) ||\n    V.constructor.name !== T.name\n  ) {\n    throw webidl.errors.conversionFailed({\n      prefix: `${T.name}`,\n      argument: `${V}`,\n      types: [T.name]\n    })\n  }\n\n  // 3. If the conversion is not to an IDL type associated\n  //    with the [AllowShared] extended attribute, and\n  //    IsSharedArrayBuffer(V.[[ViewedArrayBuffer]]) is\n  //    true, then throw a TypeError.\n  if (opts.allowShared === false && types.isSharedArrayBuffer(V.buffer)) {\n    throw webidl.errors.exception({\n      header: 'ArrayBuffer',\n      message: 'SharedArrayBuffer is not allowed.'\n    })\n  }\n\n  // 4. If the conversion is not to an IDL type associated\n  //    with the [AllowResizable] extended attribute, and\n  //    IsResizableArrayBuffer(V.[[ViewedArrayBuffer]]) is\n  //    true, then throw a TypeError.\n  // Note: resizable array buffers are currently a proposal\n\n  // 5. Return the IDL value of type T that is a reference\n  //    to the same object as V.\n  return V\n}\n\nwebidl.converters.DataView = function (V, opts = {}) {\n  // 1. If Type(V) is not Object, or V does not have a\n  //    [[DataView]] internal slot, then throw a TypeError.\n  if (webidl.util.Type(V) !== 'Object' || !types.isDataView(V)) {\n    throw webidl.errors.exception({\n      header: 'DataView',\n      message: 'Object is not a DataView.'\n    })\n  }\n\n  // 2. If the conversion is not to an IDL type associated\n  //    with the [AllowShared] extended attribute, and\n  //    IsSharedArrayBuffer(V.[[ViewedArrayBuffer]]) is true,\n  //    then throw a TypeError.\n  if (opts.allowShared === false && types.isSharedArrayBuffer(V.buffer)) {\n    throw webidl.errors.exception({\n      header: 'ArrayBuffer',\n      message: 'SharedArrayBuffer is not allowed.'\n    })\n  }\n\n  // 3. If the conversion is not to an IDL type associated\n  //    with the [AllowResizable] extended attribute, and\n  //    IsResizableArrayBuffer(V.[[ViewedArrayBuffer]]) is\n  //    true, then throw a TypeError.\n  // Note: resizable ArrayBuffers are currently a proposal\n\n  // 4. Return the IDL DataView value that is a reference\n  //    to the same object as V.\n  return V\n}\n\n// https://webidl.spec.whatwg.org/#BufferSource\nwebidl.converters.BufferSource = function (V, opts = {}) {\n  if (types.isAnyArrayBuffer(V)) {\n    return webidl.converters.ArrayBuffer(V, opts)\n  }\n\n  if (types.isTypedArray(V)) {\n    return webidl.converters.TypedArray(V, V.constructor)\n  }\n\n  if (types.isDataView(V)) {\n    return webidl.converters.DataView(V, opts)\n  }\n\n  throw new TypeError(`Could not convert ${V} to a BufferSource.`)\n}\n\nwebidl.converters['sequence<ByteString>'] = webidl.sequenceConverter(\n  webidl.converters.ByteString\n)\n\nwebidl.converters['sequence<sequence<ByteString>>'] = webidl.sequenceConverter(\n  webidl.converters['sequence<ByteString>']\n)\n\nwebidl.converters['record<ByteString, ByteString>'] = webidl.recordConverter(\n  webidl.converters.ByteString,\n  webidl.converters.ByteString\n)\n\nmodule.exports = {\n  webidl\n}\n", "const assert = require('assert')\nconst { atob } = require('buffer')\nconst { isomorphicDecode } = require('./util')\n\nconst encoder = new TextEncoder()\n\n/**\n * @see https://mimesniff.spec.whatwg.org/#http-token-code-point\n */\nconst HTTP_TOKEN_CODEPOINTS = /^[!#$%&'*+-.^_|~A-Za-z0-9]+$/\nconst HTTP_WHITESPACE_REGEX = /(\\u000A|\\u000D|\\u0009|\\u0020)/ // eslint-disable-line\n/**\n * @see https://mimesniff.spec.whatwg.org/#http-quoted-string-token-code-point\n */\nconst HTTP_QUOTED_STRING_TOKENS = /[\\u0009|\\u0020-\\u007E|\\u0080-\\u00FF]/ // eslint-disable-line\n\n// https://fetch.spec.whatwg.org/#data-url-processor\n/** @param {URL} dataURL */\nfunction dataURLProcessor (dataURL) {\n  // 1. Assert: dataURL\u2019s scheme is \"data\".\n  assert(dataURL.protocol === 'data:')\n\n  // 2. Let input be the result of running the URL\n  // serializer on dataURL with exclude fragment\n  // set to true.\n  let input = URLSerializer(dataURL, true)\n\n  // 3. Remove the leading \"data:\" string from input.\n  input = input.slice(5)\n\n  // 4. Let position point at the start of input.\n  const position = { position: 0 }\n\n  // 5. Let mimeType be the result of collecting a\n  // sequence of code points that are not equal\n  // to U+002C (,), given position.\n  let mimeType = collectASequenceOfCodePointsFast(\n    ',',\n    input,\n    position\n  )\n\n  // 6. Strip leading and trailing ASCII whitespace\n  // from mimeType.\n  // Undici implementation note: we need to store the\n  // length because if the mimetype has spaces removed,\n  // the wrong amount will be sliced from the input in\n  // step #9\n  const mimeTypeLength = mimeType.length\n  mimeType = removeASCIIWhitespace(mimeType, true, true)\n\n  // 7. If position is past the end of input, then\n  // return failure\n  if (position.position >= input.length) {\n    return 'failure'\n  }\n\n  // 8. Advance position by 1.\n  position.position++\n\n  // 9. Let encodedBody be the remainder of input.\n  const encodedBody = input.slice(mimeTypeLength + 1)\n\n  // 10. Let body be the percent-decoding of encodedBody.\n  let body = stringPercentDecode(encodedBody)\n\n  // 11. If mimeType ends with U+003B (;), followed by\n  // zero or more U+0020 SPACE, followed by an ASCII\n  // case-insensitive match for \"base64\", then:\n  if (/;(\\u0020){0,}base64$/i.test(mimeType)) {\n    // 1. Let stringBody be the isomorphic decode of body.\n    const stringBody = isomorphicDecode(body)\n\n    // 2. Set body to the forgiving-base64 decode of\n    // stringBody.\n    body = forgivingBase64(stringBody)\n\n    // 3. If body is failure, then return failure.\n    if (body === 'failure') {\n      return 'failure'\n    }\n\n    // 4. Remove the last 6 code points from mimeType.\n    mimeType = mimeType.slice(0, -6)\n\n    // 5. Remove trailing U+0020 SPACE code points from mimeType,\n    // if any.\n    mimeType = mimeType.replace(/(\\u0020)+$/, '')\n\n    // 6. Remove the last U+003B (;) code point from mimeType.\n    mimeType = mimeType.slice(0, -1)\n  }\n\n  // 12. If mimeType starts with U+003B (;), then prepend\n  // \"text/plain\" to mimeType.\n  if (mimeType.startsWith(';')) {\n    mimeType = 'text/plain' + mimeType\n  }\n\n  // 13. Let mimeTypeRecord be the result of parsing\n  // mimeType.\n  let mimeTypeRecord = parseMIMEType(mimeType)\n\n  // 14. If mimeTypeRecord is failure, then set\n  // mimeTypeRecord to text/plain;charset=US-ASCII.\n  if (mimeTypeRecord === 'failure') {\n    mimeTypeRecord = parseMIMEType('text/plain;charset=US-ASCII')\n  }\n\n  // 15. Return a new data: URL struct whose MIME\n  // type is mimeTypeRecord and body is body.\n  // https://fetch.spec.whatwg.org/#data-url-struct\n  return { mimeType: mimeTypeRecord, body }\n}\n\n// https://url.spec.whatwg.org/#concept-url-serializer\n/**\n * @param {URL} url\n * @param {boolean} excludeFragment\n */\nfunction URLSerializer (url, excludeFragment = false) {\n  if (!excludeFragment) {\n    return url.href\n  }\n\n  const href = url.href\n  const hashLength = url.hash.length\n\n  return hashLength === 0 ? href : href.substring(0, href.length - hashLength)\n}\n\n// https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points\n/**\n * @param {(char: string) => boolean} condition\n * @param {string} input\n * @param {{ position: number }} position\n */\nfunction collectASequenceOfCodePoints (condition, input, position) {\n  // 1. Let result be the empty string.\n  let result = ''\n\n  // 2. While position doesn\u2019t point past the end of input and the\n  // code point at position within input meets the condition condition:\n  while (position.position < input.length && condition(input[position.position])) {\n    // 1. Append that code point to the end of result.\n    result += input[position.position]\n\n    // 2. Advance position by 1.\n    position.position++\n  }\n\n  // 3. Return result.\n  return result\n}\n\n/**\n * A faster collectASequenceOfCodePoints that only works when comparing a single character.\n * @param {string} char\n * @param {string} input\n * @param {{ position: number }} position\n */\nfunction collectASequenceOfCodePointsFast (char, input, position) {\n  const idx = input.indexOf(char, position.position)\n  const start = position.position\n\n  if (idx === -1) {\n    position.position = input.length\n    return input.slice(start)\n  }\n\n  position.position = idx\n  return input.slice(start, position.position)\n}\n\n// https://url.spec.whatwg.org/#string-percent-decode\n/** @param {string} input */\nfunction stringPercentDecode (input) {\n  // 1. Let bytes be the UTF-8 encoding of input.\n  const bytes = encoder.encode(input)\n\n  // 2. Return the percent-decoding of bytes.\n  return percentDecode(bytes)\n}\n\n// https://url.spec.whatwg.org/#percent-decode\n/** @param {Uint8Array} input */\nfunction percentDecode (input) {\n  // 1. Let output be an empty byte sequence.\n  /** @type {number[]} */\n  const output = []\n\n  // 2. For each byte byte in input:\n  for (let i = 0; i < input.length; i++) {\n    const byte = input[i]\n\n    // 1. If byte is not 0x25 (%), then append byte to output.\n    if (byte !== 0x25) {\n      output.push(byte)\n\n    // 2. Otherwise, if byte is 0x25 (%) and the next two bytes\n    // after byte in input are not in the ranges\n    // 0x30 (0) to 0x39 (9), 0x41 (A) to 0x46 (F),\n    // and 0x61 (a) to 0x66 (f), all inclusive, append byte\n    // to output.\n    } else if (\n      byte === 0x25 &&\n      !/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(input[i + 1], input[i + 2]))\n    ) {\n      output.push(0x25)\n\n    // 3. Otherwise:\n    } else {\n      // 1. Let bytePoint be the two bytes after byte in input,\n      // decoded, and then interpreted as hexadecimal number.\n      const nextTwoBytes = String.fromCharCode(input[i + 1], input[i + 2])\n      const bytePoint = Number.parseInt(nextTwoBytes, 16)\n\n      // 2. Append a byte whose value is bytePoint to output.\n      output.push(bytePoint)\n\n      // 3. Skip the next two bytes in input.\n      i += 2\n    }\n  }\n\n  // 3. Return output.\n  return Uint8Array.from(output)\n}\n\n// https://mimesniff.spec.whatwg.org/#parse-a-mime-type\n/** @param {string} input */\nfunction parseMIMEType (input) {\n  // 1. Remove any leading and trailing HTTP whitespace\n  // from input.\n  input = removeHTTPWhitespace(input, true, true)\n\n  // 2. Let position be a position variable for input,\n  // initially pointing at the start of input.\n  const position = { position: 0 }\n\n  // 3. Let type be the result of collecting a sequence\n  // of code points that are not U+002F (/) from\n  // input, given position.\n  const type = collectASequenceOfCodePointsFast(\n    '/',\n    input,\n    position\n  )\n\n  // 4. If type is the empty string or does not solely\n  // contain HTTP token code points, then return failure.\n  // https://mimesniff.spec.whatwg.org/#http-token-code-point\n  if (type.length === 0 || !HTTP_TOKEN_CODEPOINTS.test(type)) {\n    return 'failure'\n  }\n\n  // 5. If position is past the end of input, then return\n  // failure\n  if (position.position > input.length) {\n    return 'failure'\n  }\n\n  // 6. Advance position by 1. (This skips past U+002F (/).)\n  position.position++\n\n  // 7. Let subtype be the result of collecting a sequence of\n  // code points that are not U+003B (;) from input, given\n  // position.\n  let subtype = collectASequenceOfCodePointsFast(\n    ';',\n    input,\n    position\n  )\n\n  // 8. Remove any trailing HTTP whitespace from subtype.\n  subtype = removeHTTPWhitespace(subtype, false, true)\n\n  // 9. If subtype is the empty string or does not solely\n  // contain HTTP token code points, then return failure.\n  if (subtype.length === 0 || !HTTP_TOKEN_CODEPOINTS.test(subtype)) {\n    return 'failure'\n  }\n\n  const typeLowercase = type.toLowerCase()\n  const subtypeLowercase = subtype.toLowerCase()\n\n  // 10. Let mimeType be a new MIME type record whose type\n  // is type, in ASCII lowercase, and subtype is subtype,\n  // in ASCII lowercase.\n  // https://mimesniff.spec.whatwg.org/#mime-type\n  const mimeType = {\n    type: typeLowercase,\n    subtype: subtypeLowercase,\n    /** @type {Map<string, string>} */\n    parameters: new Map(),\n    // https://mimesniff.spec.whatwg.org/#mime-type-essence\n    essence: `${typeLowercase}/${subtypeLowercase}`\n  }\n\n  // 11. While position is not past the end of input:\n  while (position.position < input.length) {\n    // 1. Advance position by 1. (This skips past U+003B (;).)\n    position.position++\n\n    // 2. Collect a sequence of code points that are HTTP\n    // whitespace from input given position.\n    collectASequenceOfCodePoints(\n      // https://fetch.spec.whatwg.org/#http-whitespace\n      char => HTTP_WHITESPACE_REGEX.test(char),\n      input,\n      position\n    )\n\n    // 3. Let parameterName be the result of collecting a\n    // sequence of code points that are not U+003B (;)\n    // or U+003D (=) from input, given position.\n    let parameterName = collectASequenceOfCodePoints(\n      (char) => char !== ';' && char !== '=',\n      input,\n      position\n    )\n\n    // 4. Set parameterName to parameterName, in ASCII\n    // lowercase.\n    parameterName = parameterName.toLowerCase()\n\n    // 5. If position is not past the end of input, then:\n    if (position.position < input.length) {\n      // 1. If the code point at position within input is\n      // U+003B (;), then continue.\n      if (input[position.position] === ';') {\n        continue\n      }\n\n      // 2. Advance position by 1. (This skips past U+003D (=).)\n      position.position++\n    }\n\n    // 6. If position is past the end of input, then break.\n    if (position.position > input.length) {\n      break\n    }\n\n    // 7. Let parameterValue be null.\n    let parameterValue = null\n\n    // 8. If the code point at position within input is\n    // U+0022 (\"), then:\n    if (input[position.position] === '\"') {\n      // 1. Set parameterValue to the result of collecting\n      // an HTTP quoted string from input, given position\n      // and the extract-value flag.\n      parameterValue = collectAnHTTPQuotedString(input, position, true)\n\n      // 2. Collect a sequence of code points that are not\n      // U+003B (;) from input, given position.\n      collectASequenceOfCodePointsFast(\n        ';',\n        input,\n        position\n      )\n\n    // 9. Otherwise:\n    } else {\n      // 1. Set parameterValue to the result of collecting\n      // a sequence of code points that are not U+003B (;)\n      // from input, given position.\n      parameterValue = collectASequenceOfCodePointsFast(\n        ';',\n        input,\n        position\n      )\n\n      // 2. Remove any trailing HTTP whitespace from parameterValue.\n      parameterValue = removeHTTPWhitespace(parameterValue, false, true)\n\n      // 3. If parameterValue is the empty string, then continue.\n      if (parameterValue.length === 0) {\n        continue\n      }\n    }\n\n    // 10. If all of the following are true\n    // - parameterName is not the empty string\n    // - parameterName solely contains HTTP token code points\n    // - parameterValue solely contains HTTP quoted-string token code points\n    // - mimeType\u2019s parameters[parameterName] does not exist\n    // then set mimeType\u2019s parameters[parameterName] to parameterValue.\n    if (\n      parameterName.length !== 0 &&\n      HTTP_TOKEN_CODEPOINTS.test(parameterName) &&\n      (parameterValue.length === 0 || HTTP_QUOTED_STRING_TOKENS.test(parameterValue)) &&\n      !mimeType.parameters.has(parameterName)\n    ) {\n      mimeType.parameters.set(parameterName, parameterValue)\n    }\n  }\n\n  // 12. Return mimeType.\n  return mimeType\n}\n\n// https://infra.spec.whatwg.org/#forgiving-base64-decode\n/** @param {string} data */\nfunction forgivingBase64 (data) {\n  // 1. Remove all ASCII whitespace from data.\n  data = data.replace(/[\\u0009\\u000A\\u000C\\u000D\\u0020]/g, '')  // eslint-disable-line\n\n  // 2. If data\u2019s code point length divides by 4 leaving\n  // no remainder, then:\n  if (data.length % 4 === 0) {\n    // 1. If data ends with one or two U+003D (=) code points,\n    // then remove them from data.\n    data = data.replace(/=?=$/, '')\n  }\n\n  // 3. If data\u2019s code point length divides by 4 leaving\n  // a remainder of 1, then return failure.\n  if (data.length % 4 === 1) {\n    return 'failure'\n  }\n\n  // 4. If data contains a code point that is not one of\n  //  U+002B (+)\n  //  U+002F (/)\n  //  ASCII alphanumeric\n  // then return failure.\n  if (/[^+/0-9A-Za-z]/.test(data)) {\n    return 'failure'\n  }\n\n  const binary = atob(data)\n  const bytes = new Uint8Array(binary.length)\n\n  for (let byte = 0; byte < binary.length; byte++) {\n    bytes[byte] = binary.charCodeAt(byte)\n  }\n\n  return bytes\n}\n\n// https://fetch.spec.whatwg.org/#collect-an-http-quoted-string\n// tests: https://fetch.spec.whatwg.org/#example-http-quoted-string\n/**\n * @param {string} input\n * @param {{ position: number }} position\n * @param {boolean?} extractValue\n */\nfunction collectAnHTTPQuotedString (input, position, extractValue) {\n  // 1. Let positionStart be position.\n  const positionStart = position.position\n\n  // 2. Let value be the empty string.\n  let value = ''\n\n  // 3. Assert: the code point at position within input\n  // is U+0022 (\").\n  assert(input[position.position] === '\"')\n\n  // 4. Advance position by 1.\n  position.position++\n\n  // 5. While true:\n  while (true) {\n    // 1. Append the result of collecting a sequence of code points\n    // that are not U+0022 (\") or U+005C (\\) from input, given\n    // position, to value.\n    value += collectASequenceOfCodePoints(\n      (char) => char !== '\"' && char !== '\\\\',\n      input,\n      position\n    )\n\n    // 2. If position is past the end of input, then break.\n    if (position.position >= input.length) {\n      break\n    }\n\n    // 3. Let quoteOrBackslash be the code point at position within\n    // input.\n    const quoteOrBackslash = input[position.position]\n\n    // 4. Advance position by 1.\n    position.position++\n\n    // 5. If quoteOrBackslash is U+005C (\\), then:\n    if (quoteOrBackslash === '\\\\') {\n      // 1. If position is past the end of input, then append\n      // U+005C (\\) to value and break.\n      if (position.position >= input.length) {\n        value += '\\\\'\n        break\n      }\n\n      // 2. Append the code point at position within input to value.\n      value += input[position.position]\n\n      // 3. Advance position by 1.\n      position.position++\n\n    // 6. Otherwise:\n    } else {\n      // 1. Assert: quoteOrBackslash is U+0022 (\").\n      assert(quoteOrBackslash === '\"')\n\n      // 2. Break.\n      break\n    }\n  }\n\n  // 6. If the extract-value flag is set, then return value.\n  if (extractValue) {\n    return value\n  }\n\n  // 7. Return the code points from positionStart to position,\n  // inclusive, within input.\n  return input.slice(positionStart, position.position)\n}\n\n/**\n * @see https://mimesniff.spec.whatwg.org/#serialize-a-mime-type\n */\nfunction serializeAMimeType (mimeType) {\n  assert(mimeType !== 'failure')\n  const { parameters, essence } = mimeType\n\n  // 1. Let serialization be the concatenation of mimeType\u2019s\n  //    type, U+002F (/), and mimeType\u2019s subtype.\n  let serialization = essence\n\n  // 2. For each name \u2192 value of mimeType\u2019s parameters:\n  for (let [name, value] of parameters.entries()) {\n    // 1. Append U+003B (;) to serialization.\n    serialization += ';'\n\n    // 2. Append name to serialization.\n    serialization += name\n\n    // 3. Append U+003D (=) to serialization.\n    serialization += '='\n\n    // 4. If value does not solely contain HTTP token code\n    //    points or value is the empty string, then:\n    if (!HTTP_TOKEN_CODEPOINTS.test(value)) {\n      // 1. Precede each occurence of U+0022 (\") or\n      //    U+005C (\\) in value with U+005C (\\).\n      value = value.replace(/(\\\\|\")/g, '\\\\$1')\n\n      // 2. Prepend U+0022 (\") to value.\n      value = '\"' + value\n\n      // 3. Append U+0022 (\") to value.\n      value += '\"'\n    }\n\n    // 5. Append value to serialization.\n    serialization += value\n  }\n\n  // 3. Return serialization.\n  return serialization\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#http-whitespace\n * @param {string} char\n */\nfunction isHTTPWhiteSpace (char) {\n  return char === '\\r' || char === '\\n' || char === '\\t' || char === ' '\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#http-whitespace\n * @param {string} str\n */\nfunction removeHTTPWhitespace (str, leading = true, trailing = true) {\n  let lead = 0\n  let trail = str.length - 1\n\n  if (leading) {\n    for (; lead < str.length && isHTTPWhiteSpace(str[lead]); lead++);\n  }\n\n  if (trailing) {\n    for (; trail > 0 && isHTTPWhiteSpace(str[trail]); trail--);\n  }\n\n  return str.slice(lead, trail + 1)\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n * @param {string} char\n */\nfunction isASCIIWhitespace (char) {\n  return char === '\\r' || char === '\\n' || char === '\\t' || char === '\\f' || char === ' '\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#strip-leading-and-trailing-ascii-whitespace\n */\nfunction removeASCIIWhitespace (str, leading = true, trailing = true) {\n  let lead = 0\n  let trail = str.length - 1\n\n  if (leading) {\n    for (; lead < str.length && isASCIIWhitespace(str[lead]); lead++);\n  }\n\n  if (trailing) {\n    for (; trail > 0 && isASCIIWhitespace(str[trail]); trail--);\n  }\n\n  return str.slice(lead, trail + 1)\n}\n\nmodule.exports = {\n  dataURLProcessor,\n  URLSerializer,\n  collectASequenceOfCodePoints,\n  collectASequenceOfCodePointsFast,\n  stringPercentDecode,\n  parseMIMEType,\n  collectAnHTTPQuotedString,\n  serializeAMimeType\n}\n", "'use strict'\n\nconst { Blob, File: NativeFile } = require('buffer')\nconst { types } = require('util')\nconst { kState } = require('./symbols')\nconst { isBlobLike } = require('./util')\nconst { webidl } = require('./webidl')\nconst { parseMIMEType, serializeAMimeType } = require('./dataURL')\nconst { kEnumerableProperty } = require('../core/util')\nconst encoder = new TextEncoder()\n\nclass File extends Blob {\n  constructor (fileBits, fileName, options = {}) {\n    // The File constructor is invoked with two or three parameters, depending\n    // on whether the optional dictionary parameter is used. When the File()\n    // constructor is invoked, user agents must run the following steps:\n    webidl.argumentLengthCheck(arguments, 2, { header: 'File constructor' })\n\n    fileBits = webidl.converters['sequence<BlobPart>'](fileBits)\n    fileName = webidl.converters.USVString(fileName)\n    options = webidl.converters.FilePropertyBag(options)\n\n    // 1. Let bytes be the result of processing blob parts given fileBits and\n    // options.\n    // Note: Blob handles this for us\n\n    // 2. Let n be the fileName argument to the constructor.\n    const n = fileName\n\n    // 3. Process FilePropertyBag dictionary argument by running the following\n    // substeps:\n\n    //    1. If the type member is provided and is not the empty string, let t\n    //    be set to the type dictionary member. If t contains any characters\n    //    outside the range U+0020 to U+007E, then set t to the empty string\n    //    and return from these substeps.\n    //    2. Convert every character in t to ASCII lowercase.\n    let t = options.type\n    let d\n\n    // eslint-disable-next-line no-labels\n    substep: {\n      if (t) {\n        t = parseMIMEType(t)\n\n        if (t === 'failure') {\n          t = ''\n          // eslint-disable-next-line no-labels\n          break substep\n        }\n\n        t = serializeAMimeType(t).toLowerCase()\n      }\n\n      //    3. If the lastModified member is provided, let d be set to the\n      //    lastModified dictionary member. If it is not provided, set d to the\n      //    current date and time represented as the number of milliseconds since\n      //    the Unix Epoch (which is the equivalent of Date.now() [ECMA-262]).\n      d = options.lastModified\n    }\n\n    // 4. Return a new File object F such that:\n    // F refers to the bytes byte sequence.\n    // F.size is set to the number of total bytes in bytes.\n    // F.name is set to n.\n    // F.type is set to t.\n    // F.lastModified is set to d.\n\n    super(processBlobParts(fileBits, options), { type: t })\n    this[kState] = {\n      name: n,\n      lastModified: d,\n      type: t\n    }\n  }\n\n  get name () {\n    webidl.brandCheck(this, File)\n\n    return this[kState].name\n  }\n\n  get lastModified () {\n    webidl.brandCheck(this, File)\n\n    return this[kState].lastModified\n  }\n\n  get type () {\n    webidl.brandCheck(this, File)\n\n    return this[kState].type\n  }\n}\n\nclass FileLike {\n  constructor (blobLike, fileName, options = {}) {\n    // TODO: argument idl type check\n\n    // The File constructor is invoked with two or three parameters, depending\n    // on whether the optional dictionary parameter is used. When the File()\n    // constructor is invoked, user agents must run the following steps:\n\n    // 1. Let bytes be the result of processing blob parts given fileBits and\n    // options.\n\n    // 2. Let n be the fileName argument to the constructor.\n    const n = fileName\n\n    // 3. Process FilePropertyBag dictionary argument by running the following\n    // substeps:\n\n    //    1. If the type member is provided and is not the empty string, let t\n    //    be set to the type dictionary member. If t contains any characters\n    //    outside the range U+0020 to U+007E, then set t to the empty string\n    //    and return from these substeps.\n    //    TODO\n    const t = options.type\n\n    //    2. Convert every character in t to ASCII lowercase.\n    //    TODO\n\n    //    3. If the lastModified member is provided, let d be set to the\n    //    lastModified dictionary member. If it is not provided, set d to the\n    //    current date and time represented as the number of milliseconds since\n    //    the Unix Epoch (which is the equivalent of Date.now() [ECMA-262]).\n    const d = options.lastModified ?? Date.now()\n\n    // 4. Return a new File object F such that:\n    // F refers to the bytes byte sequence.\n    // F.size is set to the number of total bytes in bytes.\n    // F.name is set to n.\n    // F.type is set to t.\n    // F.lastModified is set to d.\n\n    this[kState] = {\n      blobLike,\n      name: n,\n      type: t,\n      lastModified: d\n    }\n  }\n\n  stream (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.stream(...args)\n  }\n\n  arrayBuffer (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.arrayBuffer(...args)\n  }\n\n  slice (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.slice(...args)\n  }\n\n  text (...args) {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.text(...args)\n  }\n\n  get size () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.size\n  }\n\n  get type () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].blobLike.type\n  }\n\n  get name () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].name\n  }\n\n  get lastModified () {\n    webidl.brandCheck(this, FileLike)\n\n    return this[kState].lastModified\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'File'\n  }\n}\n\nObject.defineProperties(File.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'File',\n    configurable: true\n  },\n  name: kEnumerableProperty,\n  lastModified: kEnumerableProperty\n})\n\nwebidl.converters.Blob = webidl.interfaceConverter(Blob)\n\nwebidl.converters.BlobPart = function (V, opts) {\n  if (webidl.util.Type(V) === 'Object') {\n    if (isBlobLike(V)) {\n      return webidl.converters.Blob(V, { strict: false })\n    }\n\n    if (\n      ArrayBuffer.isView(V) ||\n      types.isAnyArrayBuffer(V)\n    ) {\n      return webidl.converters.BufferSource(V, opts)\n    }\n  }\n\n  return webidl.converters.USVString(V, opts)\n}\n\nwebidl.converters['sequence<BlobPart>'] = webidl.sequenceConverter(\n  webidl.converters.BlobPart\n)\n\n// https://www.w3.org/TR/FileAPI/#dfn-FilePropertyBag\nwebidl.converters.FilePropertyBag = webidl.dictionaryConverter([\n  {\n    key: 'lastModified',\n    converter: webidl.converters['long long'],\n    get defaultValue () {\n      return Date.now()\n    }\n  },\n  {\n    key: 'type',\n    converter: webidl.converters.DOMString,\n    defaultValue: ''\n  },\n  {\n    key: 'endings',\n    converter: (value) => {\n      value = webidl.converters.DOMString(value)\n      value = value.toLowerCase()\n\n      if (value !== 'native') {\n        value = 'transparent'\n      }\n\n      return value\n    },\n    defaultValue: 'transparent'\n  }\n])\n\n/**\n * @see https://www.w3.org/TR/FileAPI/#process-blob-parts\n * @param {(NodeJS.TypedArray|Blob|string)[]} parts\n * @param {{ type: string, endings: string }} options\n */\nfunction processBlobParts (parts, options) {\n  // 1. Let bytes be an empty sequence of bytes.\n  /** @type {NodeJS.TypedArray[]} */\n  const bytes = []\n\n  // 2. For each element in parts:\n  for (const element of parts) {\n    // 1. If element is a USVString, run the following substeps:\n    if (typeof element === 'string') {\n      // 1. Let s be element.\n      let s = element\n\n      // 2. If the endings member of options is \"native\", set s\n      //    to the result of converting line endings to native\n      //    of element.\n      if (options.endings === 'native') {\n        s = convertLineEndingsNative(s)\n      }\n\n      // 3. Append the result of UTF-8 encoding s to bytes.\n      bytes.push(encoder.encode(s))\n    } else if (\n      types.isAnyArrayBuffer(element) ||\n      types.isTypedArray(element)\n    ) {\n      // 2. If element is a BufferSource, get a copy of the\n      //    bytes held by the buffer source, and append those\n      //    bytes to bytes.\n      if (!element.buffer) { // ArrayBuffer\n        bytes.push(new Uint8Array(element))\n      } else {\n        bytes.push(\n          new Uint8Array(element.buffer, element.byteOffset, element.byteLength)\n        )\n      }\n    } else if (isBlobLike(element)) {\n      // 3. If element is a Blob, append the bytes it represents\n      //    to bytes.\n      bytes.push(element)\n    }\n  }\n\n  // 3. Return bytes.\n  return bytes\n}\n\n/**\n * @see https://www.w3.org/TR/FileAPI/#convert-line-endings-to-native\n * @param {string} s\n */\nfunction convertLineEndingsNative (s) {\n  // 1. Let native line ending be be the code point U+000A LF.\n  let nativeLineEnding = '\\n'\n\n  // 2. If the underlying platform\u2019s conventions are to\n  //    represent newlines as a carriage return and line feed\n  //    sequence, set native line ending to the code point\n  //    U+000D CR followed by the code point U+000A LF.\n  if (process.platform === 'win32') {\n    nativeLineEnding = '\\r\\n'\n  }\n\n  return s.replace(/\\r?\\n/g, nativeLineEnding)\n}\n\n// If this function is moved to ./util.js, some tools (such as\n// rollup) will warn about circular dependencies. See:\n// https://github.com/nodejs/undici/issues/1629\nfunction isFileLike (object) {\n  return (\n    (NativeFile && object instanceof NativeFile) ||\n    object instanceof File || (\n      object &&\n      (typeof object.stream === 'function' ||\n      typeof object.arrayBuffer === 'function') &&\n      object[Symbol.toStringTag] === 'File'\n    )\n  )\n}\n\nmodule.exports = { File, FileLike, isFileLike }\n", "'use strict'\n\nconst { isBlobLike, toUSVString, makeIterator } = require('./util')\nconst { kState } = require('./symbols')\nconst { File: UndiciFile, FileLike, isFileLike } = require('./file')\nconst { webidl } = require('./webidl')\nconst { Blob, File: NativeFile } = require('buffer')\n\n/** @type {globalThis['File']} */\nconst File = NativeFile ?? UndiciFile\n\n// https://xhr.spec.whatwg.org/#formdata\nclass FormData {\n  constructor (form) {\n    if (form !== undefined) {\n      throw webidl.errors.conversionFailed({\n        prefix: 'FormData constructor',\n        argument: 'Argument 1',\n        types: ['undefined']\n      })\n    }\n\n    this[kState] = []\n  }\n\n  append (name, value, filename = undefined) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'FormData.append' })\n\n    if (arguments.length === 3 && !isBlobLike(value)) {\n      throw new TypeError(\n        \"Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'\"\n      )\n    }\n\n    // 1. Let value be value if given; otherwise blobValue.\n\n    name = webidl.converters.USVString(name)\n    value = isBlobLike(value)\n      ? webidl.converters.Blob(value, { strict: false })\n      : webidl.converters.USVString(value)\n    filename = arguments.length === 3\n      ? webidl.converters.USVString(filename)\n      : undefined\n\n    // 2. Let entry be the result of creating an entry with\n    // name, value, and filename if given.\n    const entry = makeEntry(name, value, filename)\n\n    // 3. Append entry to this\u2019s entry list.\n    this[kState].push(entry)\n  }\n\n  delete (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.delete' })\n\n    name = webidl.converters.USVString(name)\n\n    // The delete(name) method steps are to remove all entries whose name\n    // is name from this\u2019s entry list.\n    this[kState] = this[kState].filter(entry => entry.name !== name)\n  }\n\n  get (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.get' })\n\n    name = webidl.converters.USVString(name)\n\n    // 1. If there is no entry whose name is name in this\u2019s entry list,\n    // then return null.\n    const idx = this[kState].findIndex((entry) => entry.name === name)\n    if (idx === -1) {\n      return null\n    }\n\n    // 2. Return the value of the first entry whose name is name from\n    // this\u2019s entry list.\n    return this[kState][idx].value\n  }\n\n  getAll (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.getAll' })\n\n    name = webidl.converters.USVString(name)\n\n    // 1. If there is no entry whose name is name in this\u2019s entry list,\n    // then return the empty list.\n    // 2. Return the values of all entries whose name is name, in order,\n    // from this\u2019s entry list.\n    return this[kState]\n      .filter((entry) => entry.name === name)\n      .map((entry) => entry.value)\n  }\n\n  has (name) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.has' })\n\n    name = webidl.converters.USVString(name)\n\n    // The has(name) method steps are to return true if there is an entry\n    // whose name is name in this\u2019s entry list; otherwise false.\n    return this[kState].findIndex((entry) => entry.name === name) !== -1\n  }\n\n  set (name, value, filename = undefined) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'FormData.set' })\n\n    if (arguments.length === 3 && !isBlobLike(value)) {\n      throw new TypeError(\n        \"Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'\"\n      )\n    }\n\n    // The set(name, value) and set(name, blobValue, filename) method steps\n    // are:\n\n    // 1. Let value be value if given; otherwise blobValue.\n\n    name = webidl.converters.USVString(name)\n    value = isBlobLike(value)\n      ? webidl.converters.Blob(value, { strict: false })\n      : webidl.converters.USVString(value)\n    filename = arguments.length === 3\n      ? toUSVString(filename)\n      : undefined\n\n    // 2. Let entry be the result of creating an entry with name, value, and\n    // filename if given.\n    const entry = makeEntry(name, value, filename)\n\n    // 3. If there are entries in this\u2019s entry list whose name is name, then\n    // replace the first such entry with entry and remove the others.\n    const idx = this[kState].findIndex((entry) => entry.name === name)\n    if (idx !== -1) {\n      this[kState] = [\n        ...this[kState].slice(0, idx),\n        entry,\n        ...this[kState].slice(idx + 1).filter((entry) => entry.name !== name)\n      ]\n    } else {\n      // 4. Otherwise, append entry to this\u2019s entry list.\n      this[kState].push(entry)\n    }\n  }\n\n  entries () {\n    webidl.brandCheck(this, FormData)\n\n    return makeIterator(\n      () => this[kState].map(pair => [pair.name, pair.value]),\n      'FormData',\n      'key+value'\n    )\n  }\n\n  keys () {\n    webidl.brandCheck(this, FormData)\n\n    return makeIterator(\n      () => this[kState].map(pair => [pair.name, pair.value]),\n      'FormData',\n      'key'\n    )\n  }\n\n  values () {\n    webidl.brandCheck(this, FormData)\n\n    return makeIterator(\n      () => this[kState].map(pair => [pair.name, pair.value]),\n      'FormData',\n      'value'\n    )\n  }\n\n  /**\n   * @param {(value: string, key: string, self: FormData) => void} callbackFn\n   * @param {unknown} thisArg\n   */\n  forEach (callbackFn, thisArg = globalThis) {\n    webidl.brandCheck(this, FormData)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FormData.forEach' })\n\n    if (typeof callbackFn !== 'function') {\n      throw new TypeError(\n        \"Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.\"\n      )\n    }\n\n    for (const [key, value] of this) {\n      callbackFn.apply(thisArg, [value, key, this])\n    }\n  }\n}\n\nFormData.prototype[Symbol.iterator] = FormData.prototype.entries\n\nObject.defineProperties(FormData.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'FormData',\n    configurable: true\n  }\n})\n\n/**\n * @see https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#create-an-entry\n * @param {string} name\n * @param {string|Blob} value\n * @param {?string} filename\n * @returns\n */\nfunction makeEntry (name, value, filename) {\n  // 1. Set name to the result of converting name into a scalar value string.\n  // \"To convert a string into a scalar value string, replace any surrogates\n  //  with U+FFFD.\"\n  // see: https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#buftostringencoding-start-end\n  name = Buffer.from(name).toString('utf8')\n\n  // 2. If value is a string, then set value to the result of converting\n  //    value into a scalar value string.\n  if (typeof value === 'string') {\n    value = Buffer.from(value).toString('utf8')\n  } else {\n    // 3. Otherwise:\n\n    // 1. If value is not a File object, then set value to a new File object,\n    //    representing the same bytes, whose name attribute value is \"blob\"\n    if (!isFileLike(value)) {\n      value = value instanceof Blob\n        ? new File([value], 'blob', { type: value.type })\n        : new FileLike(value, 'blob', { type: value.type })\n    }\n\n    // 2. If filename is given, then set value to a new File object,\n    //    representing the same bytes, whose name attribute is filename.\n    if (filename !== undefined) {\n      /** @type {FilePropertyBag} */\n      const options = {\n        type: value.type,\n        lastModified: value.lastModified\n      }\n\n      value = (NativeFile && value instanceof NativeFile) || value instanceof UndiciFile\n        ? new File([value], filename, options)\n        : new FileLike(value, filename, options)\n    }\n  }\n\n  // 4. Return an entry whose name is name and whose value is value.\n  return { name, value }\n}\n\nmodule.exports = { FormData }\n", "'use strict'\n\nconst Busboy = require('@fastify/busboy')\nconst util = require('../core/util')\nconst {\n  ReadableStreamFrom,\n  isBlobLike,\n  isReadableStreamLike,\n  readableStreamClose,\n  createDeferredPromise,\n  fullyReadBody\n} = require('./util')\nconst { FormData } = require('./formdata')\nconst { kState } = require('./symbols')\nconst { webidl } = require('./webidl')\nconst { DOMException, structuredClone } = require('./constants')\nconst { Blob, File: NativeFile } = require('buffer')\nconst { kBodyUsed } = require('../core/symbols')\nconst assert = require('assert')\nconst { isErrored } = require('../core/util')\nconst { isUint8Array, isArrayBuffer } = require('util/types')\nconst { File: UndiciFile } = require('./file')\nconst { parseMIMEType, serializeAMimeType } = require('./dataURL')\n\nlet random\ntry {\n  const crypto = require('node:crypto')\n  random = (max) => crypto.randomInt(0, max)\n} catch {\n  random = (max) => Math.floor(Math.random(max))\n}\n\nlet ReadableStream = globalThis.ReadableStream\n\n/** @type {globalThis['File']} */\nconst File = NativeFile ?? UndiciFile\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\n// https://fetch.spec.whatwg.org/#concept-bodyinit-extract\nfunction extractBody (object, keepalive = false) {\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  // 1. Let stream be null.\n  let stream = null\n\n  // 2. If object is a ReadableStream object, then set stream to object.\n  if (object instanceof ReadableStream) {\n    stream = object\n  } else if (isBlobLike(object)) {\n    // 3. Otherwise, if object is a Blob object, set stream to the\n    //    result of running object\u2019s get stream.\n    stream = object.stream()\n  } else {\n    // 4. Otherwise, set stream to a new ReadableStream object, and set\n    //    up stream.\n    stream = new ReadableStream({\n      async pull (controller) {\n        controller.enqueue(\n          typeof source === 'string' ? textEncoder.encode(source) : source\n        )\n        queueMicrotask(() => readableStreamClose(controller))\n      },\n      start () {},\n      type: undefined\n    })\n  }\n\n  // 5. Assert: stream is a ReadableStream object.\n  assert(isReadableStreamLike(stream))\n\n  // 6. Let action be null.\n  let action = null\n\n  // 7. Let source be null.\n  let source = null\n\n  // 8. Let length be null.\n  let length = null\n\n  // 9. Let type be null.\n  let type = null\n\n  // 10. Switch on object:\n  if (typeof object === 'string') {\n    // Set source to the UTF-8 encoding of object.\n    // Note: setting source to a Uint8Array here breaks some mocking assumptions.\n    source = object\n\n    // Set type to `text/plain;charset=UTF-8`.\n    type = 'text/plain;charset=UTF-8'\n  } else if (object instanceof URLSearchParams) {\n    // URLSearchParams\n\n    // spec says to run application/x-www-form-urlencoded on body.list\n    // this is implemented in Node.js as apart of an URLSearchParams instance toString method\n    // See: https://github.com/nodejs/node/blob/e46c680bf2b211bbd52cf959ca17ee98c7f657f5/lib/internal/url.js#L490\n    // and https://github.com/nodejs/node/blob/e46c680bf2b211bbd52cf959ca17ee98c7f657f5/lib/internal/url.js#L1100\n\n    // Set source to the result of running the application/x-www-form-urlencoded serializer with object\u2019s list.\n    source = object.toString()\n\n    // Set type to `application/x-www-form-urlencoded;charset=UTF-8`.\n    type = 'application/x-www-form-urlencoded;charset=UTF-8'\n  } else if (isArrayBuffer(object)) {\n    // BufferSource/ArrayBuffer\n\n    // Set source to a copy of the bytes held by object.\n    source = new Uint8Array(object.slice())\n  } else if (ArrayBuffer.isView(object)) {\n    // BufferSource/ArrayBufferView\n\n    // Set source to a copy of the bytes held by object.\n    source = new Uint8Array(object.buffer.slice(object.byteOffset, object.byteOffset + object.byteLength))\n  } else if (util.isFormDataLike(object)) {\n    const boundary = `----formdata-undici-0${`${random(1e11)}`.padStart(11, '0')}`\n    const prefix = `--${boundary}\\r\\nContent-Disposition: form-data`\n\n    /*! formdata-polyfill. MIT License. Jimmy W\u00E4rting <https://jimmy.warting.se/opensource> */\n    const escape = (str) =>\n      str.replace(/\\n/g, '%0A').replace(/\\r/g, '%0D').replace(/\"/g, '%22')\n    const normalizeLinefeeds = (value) => value.replace(/\\r?\\n|\\r/g, '\\r\\n')\n\n    // Set action to this step: run the multipart/form-data\n    // encoding algorithm, with object\u2019s entry list and UTF-8.\n    // - This ensures that the body is immutable and can't be changed afterwords\n    // - That the content-length is calculated in advance.\n    // - And that all parts are pre-encoded and ready to be sent.\n\n    const blobParts = []\n    const rn = new Uint8Array([13, 10]) // '\\r\\n'\n    length = 0\n    let hasUnknownSizeValue = false\n\n    for (const [name, value] of object) {\n      if (typeof value === 'string') {\n        const chunk = textEncoder.encode(prefix +\n          `; name=\"${escape(normalizeLinefeeds(name))}\"` +\n          `\\r\\n\\r\\n${normalizeLinefeeds(value)}\\r\\n`)\n        blobParts.push(chunk)\n        length += chunk.byteLength\n      } else {\n        const chunk = textEncoder.encode(`${prefix}; name=\"${escape(normalizeLinefeeds(name))}\"` +\n          (value.name ? `; filename=\"${escape(value.name)}\"` : '') + '\\r\\n' +\n          `Content-Type: ${\n            value.type || 'application/octet-stream'\n          }\\r\\n\\r\\n`)\n        blobParts.push(chunk, value, rn)\n        if (typeof value.size === 'number') {\n          length += chunk.byteLength + value.size + rn.byteLength\n        } else {\n          hasUnknownSizeValue = true\n        }\n      }\n    }\n\n    const chunk = textEncoder.encode(`--${boundary}--`)\n    blobParts.push(chunk)\n    length += chunk.byteLength\n    if (hasUnknownSizeValue) {\n      length = null\n    }\n\n    // Set source to object.\n    source = object\n\n    action = async function * () {\n      for (const part of blobParts) {\n        if (part.stream) {\n          yield * part.stream()\n        } else {\n          yield part\n        }\n      }\n    }\n\n    // Set type to `multipart/form-data; boundary=`,\n    // followed by the multipart/form-data boundary string generated\n    // by the multipart/form-data encoding algorithm.\n    type = 'multipart/form-data; boundary=' + boundary\n  } else if (isBlobLike(object)) {\n    // Blob\n\n    // Set source to object.\n    source = object\n\n    // Set length to object\u2019s size.\n    length = object.size\n\n    // If object\u2019s type attribute is not the empty byte sequence, set\n    // type to its value.\n    if (object.type) {\n      type = object.type\n    }\n  } else if (typeof object[Symbol.asyncIterator] === 'function') {\n    // If keepalive is true, then throw a TypeError.\n    if (keepalive) {\n      throw new TypeError('keepalive')\n    }\n\n    // If object is disturbed or locked, then throw a TypeError.\n    if (util.isDisturbed(object) || object.locked) {\n      throw new TypeError(\n        'Response body object should not be disturbed or locked'\n      )\n    }\n\n    stream =\n      object instanceof ReadableStream ? object : ReadableStreamFrom(object)\n  }\n\n  // 11. If source is a byte sequence, then set action to a\n  // step that returns source and length to source\u2019s length.\n  if (typeof source === 'string' || util.isBuffer(source)) {\n    length = Buffer.byteLength(source)\n  }\n\n  // 12. If action is non-null, then run these steps in in parallel:\n  if (action != null) {\n    // Run action.\n    let iterator\n    stream = new ReadableStream({\n      async start () {\n        iterator = action(object)[Symbol.asyncIterator]()\n      },\n      async pull (controller) {\n        const { value, done } = await iterator.next()\n        if (done) {\n          // When running action is done, close stream.\n          queueMicrotask(() => {\n            controller.close()\n          })\n        } else {\n          // Whenever one or more bytes are available and stream is not errored,\n          // enqueue a Uint8Array wrapping an ArrayBuffer containing the available\n          // bytes into stream.\n          if (!isErrored(stream)) {\n            controller.enqueue(new Uint8Array(value))\n          }\n        }\n        return controller.desiredSize > 0\n      },\n      async cancel (reason) {\n        await iterator.return()\n      },\n      type: undefined\n    })\n  }\n\n  // 13. Let body be a body whose stream is stream, source is source,\n  // and length is length.\n  const body = { stream, source, length }\n\n  // 14. Return (body, type).\n  return [body, type]\n}\n\n// https://fetch.spec.whatwg.org/#bodyinit-safely-extract\nfunction safelyExtractBody (object, keepalive = false) {\n  if (!ReadableStream) {\n    // istanbul ignore next\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  // To safely extract a body and a `Content-Type` value from\n  // a byte sequence or BodyInit object object, run these steps:\n\n  // 1. If object is a ReadableStream object, then:\n  if (object instanceof ReadableStream) {\n    // Assert: object is neither disturbed nor locked.\n    // istanbul ignore next\n    assert(!util.isDisturbed(object), 'The body has already been consumed.')\n    // istanbul ignore next\n    assert(!object.locked, 'The stream is locked.')\n  }\n\n  // 2. Return the results of extracting object.\n  return extractBody(object, keepalive)\n}\n\nfunction cloneBody (body) {\n  // To clone a body body, run these steps:\n\n  // https://fetch.spec.whatwg.org/#concept-body-clone\n\n  // 1. Let \u00AB out1, out2 \u00BB be the result of teeing body\u2019s stream.\n  const [out1, out2] = body.stream.tee()\n  const out2Clone = structuredClone(out2, { transfer: [out2] })\n  // This, for whatever reasons, unrefs out2Clone which allows\n  // the process to exit by itself.\n  const [, finalClone] = out2Clone.tee()\n\n  // 2. Set body\u2019s stream to out1.\n  body.stream = out1\n\n  // 3. Return a body whose stream is out2 and other members are copied from body.\n  return {\n    stream: finalClone,\n    length: body.length,\n    source: body.source\n  }\n}\n\nasync function * consumeBody (body) {\n  if (body) {\n    if (isUint8Array(body)) {\n      yield body\n    } else {\n      const stream = body.stream\n\n      if (util.isDisturbed(stream)) {\n        throw new TypeError('The body has already been consumed.')\n      }\n\n      if (stream.locked) {\n        throw new TypeError('The stream is locked.')\n      }\n\n      // Compat.\n      stream[kBodyUsed] = true\n\n      yield * stream\n    }\n  }\n}\n\nfunction throwIfAborted (state) {\n  if (state.aborted) {\n    throw new DOMException('The operation was aborted.', 'AbortError')\n  }\n}\n\nfunction bodyMixinMethods (instance) {\n  const methods = {\n    blob () {\n      // The blob() method steps are to return the result of\n      // running consume body with this and the following step\n      // given a byte sequence bytes: return a Blob whose\n      // contents are bytes and whose type attribute is this\u2019s\n      // MIME type.\n      return specConsumeBody(this, (bytes) => {\n        let mimeType = bodyMimeType(this)\n\n        if (mimeType === 'failure') {\n          mimeType = ''\n        } else if (mimeType) {\n          mimeType = serializeAMimeType(mimeType)\n        }\n\n        // Return a Blob whose contents are bytes and type attribute\n        // is mimeType.\n        return new Blob([bytes], { type: mimeType })\n      }, instance)\n    },\n\n    arrayBuffer () {\n      // The arrayBuffer() method steps are to return the result\n      // of running consume body with this and the following step\n      // given a byte sequence bytes: return a new ArrayBuffer\n      // whose contents are bytes.\n      return specConsumeBody(this, (bytes) => {\n        return new Uint8Array(bytes).buffer\n      }, instance)\n    },\n\n    text () {\n      // The text() method steps are to return the result of running\n      // consume body with this and UTF-8 decode.\n      return specConsumeBody(this, utf8DecodeBytes, instance)\n    },\n\n    json () {\n      // The json() method steps are to return the result of running\n      // consume body with this and parse JSON from bytes.\n      return specConsumeBody(this, parseJSONFromBytes, instance)\n    },\n\n    async formData () {\n      webidl.brandCheck(this, instance)\n\n      throwIfAborted(this[kState])\n\n      const contentType = this.headers.get('Content-Type')\n\n      // If mimeType\u2019s essence is \"multipart/form-data\", then:\n      if (/multipart\\/form-data/.test(contentType)) {\n        const headers = {}\n        for (const [key, value] of this.headers) headers[key.toLowerCase()] = value\n\n        const responseFormData = new FormData()\n\n        let busboy\n\n        try {\n          busboy = new Busboy({\n            headers,\n            preservePath: true\n          })\n        } catch (err) {\n          throw new DOMException(`${err}`, 'AbortError')\n        }\n\n        busboy.on('field', (name, value) => {\n          responseFormData.append(name, value)\n        })\n        busboy.on('file', (name, value, filename, encoding, mimeType) => {\n          const chunks = []\n\n          if (encoding === 'base64' || encoding.toLowerCase() === 'base64') {\n            let base64chunk = ''\n\n            value.on('data', (chunk) => {\n              base64chunk += chunk.toString().replace(/[\\r\\n]/gm, '')\n\n              const end = base64chunk.length - base64chunk.length % 4\n              chunks.push(Buffer.from(base64chunk.slice(0, end), 'base64'))\n\n              base64chunk = base64chunk.slice(end)\n            })\n            value.on('end', () => {\n              chunks.push(Buffer.from(base64chunk, 'base64'))\n              responseFormData.append(name, new File(chunks, filename, { type: mimeType }))\n            })\n          } else {\n            value.on('data', (chunk) => {\n              chunks.push(chunk)\n            })\n            value.on('end', () => {\n              responseFormData.append(name, new File(chunks, filename, { type: mimeType }))\n            })\n          }\n        })\n\n        const busboyResolve = new Promise((resolve, reject) => {\n          busboy.on('finish', resolve)\n          busboy.on('error', (err) => reject(new TypeError(err)))\n        })\n\n        if (this.body !== null) for await (const chunk of consumeBody(this[kState].body)) busboy.write(chunk)\n        busboy.end()\n        await busboyResolve\n\n        return responseFormData\n      } else if (/application\\/x-www-form-urlencoded/.test(contentType)) {\n        // Otherwise, if mimeType\u2019s essence is \"application/x-www-form-urlencoded\", then:\n\n        // 1. Let entries be the result of parsing bytes.\n        let entries\n        try {\n          let text = ''\n          // application/x-www-form-urlencoded parser will keep the BOM.\n          // https://url.spec.whatwg.org/#concept-urlencoded-parser\n          // Note that streaming decoder is stateful and cannot be reused\n          const streamingDecoder = new TextDecoder('utf-8', { ignoreBOM: true })\n\n          for await (const chunk of consumeBody(this[kState].body)) {\n            if (!isUint8Array(chunk)) {\n              throw new TypeError('Expected Uint8Array chunk')\n            }\n            text += streamingDecoder.decode(chunk, { stream: true })\n          }\n          text += streamingDecoder.decode()\n          entries = new URLSearchParams(text)\n        } catch (err) {\n          // istanbul ignore next: Unclear when new URLSearchParams can fail on a string.\n          // 2. If entries is failure, then throw a TypeError.\n          throw Object.assign(new TypeError(), { cause: err })\n        }\n\n        // 3. Return a new FormData object whose entries are entries.\n        const formData = new FormData()\n        for (const [name, value] of entries) {\n          formData.append(name, value)\n        }\n        return formData\n      } else {\n        // Wait a tick before checking if the request has been aborted.\n        // Otherwise, a TypeError can be thrown when an AbortError should.\n        await Promise.resolve()\n\n        throwIfAborted(this[kState])\n\n        // Otherwise, throw a TypeError.\n        throw webidl.errors.exception({\n          header: `${instance.name}.formData`,\n          message: 'Could not parse content as FormData.'\n        })\n      }\n    }\n  }\n\n  return methods\n}\n\nfunction mixinBody (prototype) {\n  Object.assign(prototype.prototype, bodyMixinMethods(prototype))\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-body-consume-body\n * @param {Response|Request} object\n * @param {(value: unknown) => unknown} convertBytesToJSValue\n * @param {Response|Request} instance\n */\nasync function specConsumeBody (object, convertBytesToJSValue, instance) {\n  webidl.brandCheck(object, instance)\n\n  throwIfAborted(object[kState])\n\n  // 1. If object is unusable, then return a promise rejected\n  //    with a TypeError.\n  if (bodyUnusable(object[kState].body)) {\n    throw new TypeError('Body is unusable')\n  }\n\n  // 2. Let promise be a new promise.\n  const promise = createDeferredPromise()\n\n  // 3. Let errorSteps given error be to reject promise with error.\n  const errorSteps = (error) => promise.reject(error)\n\n  // 4. Let successSteps given a byte sequence data be to resolve\n  //    promise with the result of running convertBytesToJSValue\n  //    with data. If that threw an exception, then run errorSteps\n  //    with that exception.\n  const successSteps = (data) => {\n    try {\n      promise.resolve(convertBytesToJSValue(data))\n    } catch (e) {\n      errorSteps(e)\n    }\n  }\n\n  // 5. If object\u2019s body is null, then run successSteps with an\n  //    empty byte sequence.\n  if (object[kState].body == null) {\n    successSteps(new Uint8Array())\n    return promise.promise\n  }\n\n  // 6. Otherwise, fully read object\u2019s body given successSteps,\n  //    errorSteps, and object\u2019s relevant global object.\n  await fullyReadBody(object[kState].body, successSteps, errorSteps)\n\n  // 7. Return promise.\n  return promise.promise\n}\n\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction bodyUnusable (body) {\n  // An object including the Body interface mixin is\n  // said to be unusable if its body is non-null and\n  // its body\u2019s stream is disturbed or locked.\n  return body != null && (body.stream.locked || util.isDisturbed(body.stream))\n}\n\n/**\n * @see https://encoding.spec.whatwg.org/#utf-8-decode\n * @param {Buffer} buffer\n */\nfunction utf8DecodeBytes (buffer) {\n  if (buffer.length === 0) {\n    return ''\n  }\n\n  // 1. Let buffer be the result of peeking three bytes from\n  //    ioQueue, converted to a byte sequence.\n\n  // 2. If buffer is 0xEF 0xBB 0xBF, then read three\n  //    bytes from ioQueue. (Do nothing with those bytes.)\n  if (buffer[0] === 0xEF && buffer[1] === 0xBB && buffer[2] === 0xBF) {\n    buffer = buffer.subarray(3)\n  }\n\n  // 3. Process a queue with an instance of UTF-8\u2019s\n  //    decoder, ioQueue, output, and \"replacement\".\n  const output = textDecoder.decode(buffer)\n\n  // 4. Return output.\n  return output\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#parse-json-bytes-to-a-javascript-value\n * @param {Uint8Array} bytes\n */\nfunction parseJSONFromBytes (bytes) {\n  return JSON.parse(utf8DecodeBytes(bytes))\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-body-mime-type\n * @param {import('./response').Response|import('./request').Request} object\n */\nfunction bodyMimeType (object) {\n  const { headersList } = object[kState]\n  const contentType = headersList.get('content-type')\n\n  if (contentType === null) {\n    return 'failure'\n  }\n\n  return parseMIMEType(contentType)\n}\n\nmodule.exports = {\n  extractBody,\n  safelyExtractBody,\n  cloneBody,\n  mixinBody\n}\n", "'use strict'\n\nconst {\n  InvalidArgumentError,\n  NotSupportedError\n} = require('./errors')\nconst assert = require('assert')\nconst { kHTTP2BuildRequest, kHTTP2CopyHeaders, kHTTP1BuildRequest } = require('./symbols')\nconst util = require('./util')\n\n// tokenRegExp and headerCharRegex have been lifted from\n// https://github.com/nodejs/node/blob/main/lib/_http_common.js\n\n/**\n * Verifies that the given val is a valid HTTP token\n * per the rules defined in RFC 7230\n * See https://tools.ietf.org/html/rfc7230#section-3.2.6\n */\nconst tokenRegExp = /^[\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]+$/\n\n/**\n * Matches if val contains an invalid field-vchar\n *  field-value    = *( field-content / obs-fold )\n *  field-content  = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n *  field-vchar    = VCHAR / obs-text\n */\nconst headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/\n\n// Verifies that a given path is valid does not contain control chars \\x00 to \\x20\nconst invalidPathRegex = /[^\\u0021-\\u00ff]/\n\nconst kHandler = Symbol('handler')\n\nconst channels = {}\n\nlet extractBody\n\ntry {\n  const diagnosticsChannel = require('diagnostics_channel')\n  channels.create = diagnosticsChannel.channel('undici:request:create')\n  channels.bodySent = diagnosticsChannel.channel('undici:request:bodySent')\n  channels.headers = diagnosticsChannel.channel('undici:request:headers')\n  channels.trailers = diagnosticsChannel.channel('undici:request:trailers')\n  channels.error = diagnosticsChannel.channel('undici:request:error')\n} catch {\n  channels.create = { hasSubscribers: false }\n  channels.bodySent = { hasSubscribers: false }\n  channels.headers = { hasSubscribers: false }\n  channels.trailers = { hasSubscribers: false }\n  channels.error = { hasSubscribers: false }\n}\n\nclass Request {\n  constructor (origin, {\n    path,\n    method,\n    body,\n    headers,\n    query,\n    idempotent,\n    blocking,\n    upgrade,\n    headersTimeout,\n    bodyTimeout,\n    reset,\n    throwOnError,\n    expectContinue\n  }, handler) {\n    if (typeof path !== 'string') {\n      throw new InvalidArgumentError('path must be a string')\n    } else if (\n      path[0] !== '/' &&\n      !(path.startsWith('http://') || path.startsWith('https://')) &&\n      method !== 'CONNECT'\n    ) {\n      throw new InvalidArgumentError('path must be an absolute URL or start with a slash')\n    } else if (invalidPathRegex.exec(path) !== null) {\n      throw new InvalidArgumentError('invalid request path')\n    }\n\n    if (typeof method !== 'string') {\n      throw new InvalidArgumentError('method must be a string')\n    } else if (tokenRegExp.exec(method) === null) {\n      throw new InvalidArgumentError('invalid request method')\n    }\n\n    if (upgrade && typeof upgrade !== 'string') {\n      throw new InvalidArgumentError('upgrade must be a string')\n    }\n\n    if (headersTimeout != null && (!Number.isFinite(headersTimeout) || headersTimeout < 0)) {\n      throw new InvalidArgumentError('invalid headersTimeout')\n    }\n\n    if (bodyTimeout != null && (!Number.isFinite(bodyTimeout) || bodyTimeout < 0)) {\n      throw new InvalidArgumentError('invalid bodyTimeout')\n    }\n\n    if (reset != null && typeof reset !== 'boolean') {\n      throw new InvalidArgumentError('invalid reset')\n    }\n\n    if (expectContinue != null && typeof expectContinue !== 'boolean') {\n      throw new InvalidArgumentError('invalid expectContinue')\n    }\n\n    this.headersTimeout = headersTimeout\n\n    this.bodyTimeout = bodyTimeout\n\n    this.throwOnError = throwOnError === true\n\n    this.method = method\n\n    this.abort = null\n\n    if (body == null) {\n      this.body = null\n    } else if (util.isStream(body)) {\n      this.body = body\n\n      const rState = this.body._readableState\n      if (!rState || !rState.autoDestroy) {\n        this.endHandler = function autoDestroy () {\n          util.destroy(this)\n        }\n        this.body.on('end', this.endHandler)\n      }\n\n      this.errorHandler = err => {\n        if (this.abort) {\n          this.abort(err)\n        } else {\n          this.error = err\n        }\n      }\n      this.body.on('error', this.errorHandler)\n    } else if (util.isBuffer(body)) {\n      this.body = body.byteLength ? body : null\n    } else if (ArrayBuffer.isView(body)) {\n      this.body = body.buffer.byteLength ? Buffer.from(body.buffer, body.byteOffset, body.byteLength) : null\n    } else if (body instanceof ArrayBuffer) {\n      this.body = body.byteLength ? Buffer.from(body) : null\n    } else if (typeof body === 'string') {\n      this.body = body.length ? Buffer.from(body) : null\n    } else if (util.isFormDataLike(body) || util.isIterable(body) || util.isBlobLike(body)) {\n      this.body = body\n    } else {\n      throw new InvalidArgumentError('body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable')\n    }\n\n    this.completed = false\n\n    this.aborted = false\n\n    this.upgrade = upgrade || null\n\n    this.path = query ? util.buildURL(path, query) : path\n\n    this.origin = origin\n\n    this.idempotent = idempotent == null\n      ? method === 'HEAD' || method === 'GET'\n      : idempotent\n\n    this.blocking = blocking == null ? false : blocking\n\n    this.reset = reset == null ? null : reset\n\n    this.host = null\n\n    this.contentLength = null\n\n    this.contentType = null\n\n    this.headers = ''\n\n    // Only for H2\n    this.expectContinue = expectContinue != null ? expectContinue : false\n\n    if (Array.isArray(headers)) {\n      if (headers.length % 2 !== 0) {\n        throw new InvalidArgumentError('headers array must be even')\n      }\n      for (let i = 0; i < headers.length; i += 2) {\n        processHeader(this, headers[i], headers[i + 1])\n      }\n    } else if (headers && typeof headers === 'object') {\n      const keys = Object.keys(headers)\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        processHeader(this, key, headers[key])\n      }\n    } else if (headers != null) {\n      throw new InvalidArgumentError('headers must be an object or an array')\n    }\n\n    if (util.isFormDataLike(this.body)) {\n      if (util.nodeMajor < 16 || (util.nodeMajor === 16 && util.nodeMinor < 8)) {\n        throw new InvalidArgumentError('Form-Data bodies are only supported in node v16.8 and newer.')\n      }\n\n      if (!extractBody) {\n        extractBody = require('../fetch/body.js').extractBody\n      }\n\n      const [bodyStream, contentType] = extractBody(body)\n      if (this.contentType == null) {\n        this.contentType = contentType\n        this.headers += `content-type: ${contentType}\\r\\n`\n      }\n      this.body = bodyStream.stream\n      this.contentLength = bodyStream.length\n    } else if (util.isBlobLike(body) && this.contentType == null && body.type) {\n      this.contentType = body.type\n      this.headers += `content-type: ${body.type}\\r\\n`\n    }\n\n    util.validateHandler(handler, method, upgrade)\n\n    this.servername = util.getServerName(this.host)\n\n    this[kHandler] = handler\n\n    if (channels.create.hasSubscribers) {\n      channels.create.publish({ request: this })\n    }\n  }\n\n  onBodySent (chunk) {\n    if (this[kHandler].onBodySent) {\n      try {\n        return this[kHandler].onBodySent(chunk)\n      } catch (err) {\n        this.abort(err)\n      }\n    }\n  }\n\n  onRequestSent () {\n    if (channels.bodySent.hasSubscribers) {\n      channels.bodySent.publish({ request: this })\n    }\n\n    if (this[kHandler].onRequestSent) {\n      try {\n        return this[kHandler].onRequestSent()\n      } catch (err) {\n        this.abort(err)\n      }\n    }\n  }\n\n  onConnect (abort) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    if (this.error) {\n      abort(this.error)\n    } else {\n      this.abort = abort\n      return this[kHandler].onConnect(abort)\n    }\n  }\n\n  onHeaders (statusCode, headers, resume, statusText) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    if (channels.headers.hasSubscribers) {\n      channels.headers.publish({ request: this, response: { statusCode, headers, statusText } })\n    }\n\n    try {\n      return this[kHandler].onHeaders(statusCode, headers, resume, statusText)\n    } catch (err) {\n      this.abort(err)\n    }\n  }\n\n  onData (chunk) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    try {\n      return this[kHandler].onData(chunk)\n    } catch (err) {\n      this.abort(err)\n      return false\n    }\n  }\n\n  onUpgrade (statusCode, headers, socket) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    return this[kHandler].onUpgrade(statusCode, headers, socket)\n  }\n\n  onComplete (trailers) {\n    this.onFinally()\n\n    assert(!this.aborted)\n\n    this.completed = true\n    if (channels.trailers.hasSubscribers) {\n      channels.trailers.publish({ request: this, trailers })\n    }\n\n    try {\n      return this[kHandler].onComplete(trailers)\n    } catch (err) {\n      // TODO (fix): This might be a bad idea?\n      this.onError(err)\n    }\n  }\n\n  onError (error) {\n    this.onFinally()\n\n    if (channels.error.hasSubscribers) {\n      channels.error.publish({ request: this, error })\n    }\n\n    if (this.aborted) {\n      return\n    }\n    this.aborted = true\n\n    return this[kHandler].onError(error)\n  }\n\n  onFinally () {\n    if (this.errorHandler) {\n      this.body.off('error', this.errorHandler)\n      this.errorHandler = null\n    }\n\n    if (this.endHandler) {\n      this.body.off('end', this.endHandler)\n      this.endHandler = null\n    }\n  }\n\n  // TODO: adjust to support H2\n  addHeader (key, value) {\n    processHeader(this, key, value)\n    return this\n  }\n\n  static [kHTTP1BuildRequest] (origin, opts, handler) {\n    // TODO: Migrate header parsing here, to make Requests\n    // HTTP agnostic\n    return new Request(origin, opts, handler)\n  }\n\n  static [kHTTP2BuildRequest] (origin, opts, handler) {\n    const headers = opts.headers\n    opts = { ...opts, headers: null }\n\n    const request = new Request(origin, opts, handler)\n\n    request.headers = {}\n\n    if (Array.isArray(headers)) {\n      if (headers.length % 2 !== 0) {\n        throw new InvalidArgumentError('headers array must be even')\n      }\n      for (let i = 0; i < headers.length; i += 2) {\n        processHeader(request, headers[i], headers[i + 1], true)\n      }\n    } else if (headers && typeof headers === 'object') {\n      const keys = Object.keys(headers)\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        processHeader(request, key, headers[key], true)\n      }\n    } else if (headers != null) {\n      throw new InvalidArgumentError('headers must be an object or an array')\n    }\n\n    return request\n  }\n\n  static [kHTTP2CopyHeaders] (raw) {\n    const rawHeaders = raw.split('\\r\\n')\n    const headers = {}\n\n    for (const header of rawHeaders) {\n      const [key, value] = header.split(': ')\n\n      if (value == null || value.length === 0) continue\n\n      if (headers[key]) headers[key] += `,${value}`\n      else headers[key] = value\n    }\n\n    return headers\n  }\n}\n\nfunction processHeaderValue (key, val, skipAppend) {\n  if (val && typeof val === 'object') {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  }\n\n  val = val != null ? `${val}` : ''\n\n  if (headerCharRegex.exec(val) !== null) {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  }\n\n  return skipAppend ? val : `${key}: ${val}\\r\\n`\n}\n\nfunction processHeader (request, key, val, skipAppend = false) {\n  if (val && (typeof val === 'object' && !Array.isArray(val))) {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  } else if (val === undefined) {\n    return\n  }\n\n  if (\n    request.host === null &&\n    key.length === 4 &&\n    key.toLowerCase() === 'host'\n  ) {\n    if (headerCharRegex.exec(val) !== null) {\n      throw new InvalidArgumentError(`invalid ${key} header`)\n    }\n    // Consumed by Client\n    request.host = val\n  } else if (\n    request.contentLength === null &&\n    key.length === 14 &&\n    key.toLowerCase() === 'content-length'\n  ) {\n    request.contentLength = parseInt(val, 10)\n    if (!Number.isFinite(request.contentLength)) {\n      throw new InvalidArgumentError('invalid content-length header')\n    }\n  } else if (\n    request.contentType === null &&\n    key.length === 12 &&\n    key.toLowerCase() === 'content-type'\n  ) {\n    request.contentType = val\n    if (skipAppend) request.headers[key] = processHeaderValue(key, val, skipAppend)\n    else request.headers += processHeaderValue(key, val)\n  } else if (\n    key.length === 17 &&\n    key.toLowerCase() === 'transfer-encoding'\n  ) {\n    throw new InvalidArgumentError('invalid transfer-encoding header')\n  } else if (\n    key.length === 10 &&\n    key.toLowerCase() === 'connection'\n  ) {\n    const value = typeof val === 'string' ? val.toLowerCase() : null\n    if (value !== 'close' && value !== 'keep-alive') {\n      throw new InvalidArgumentError('invalid connection header')\n    } else if (value === 'close') {\n      request.reset = true\n    }\n  } else if (\n    key.length === 10 &&\n    key.toLowerCase() === 'keep-alive'\n  ) {\n    throw new InvalidArgumentError('invalid keep-alive header')\n  } else if (\n    key.length === 7 &&\n    key.toLowerCase() === 'upgrade'\n  ) {\n    throw new InvalidArgumentError('invalid upgrade header')\n  } else if (\n    key.length === 6 &&\n    key.toLowerCase() === 'expect'\n  ) {\n    throw new NotSupportedError('expect header not supported')\n  } else if (tokenRegExp.exec(key) === null) {\n    throw new InvalidArgumentError('invalid header key')\n  } else {\n    if (Array.isArray(val)) {\n      for (let i = 0; i < val.length; i++) {\n        if (skipAppend) {\n          if (request.headers[key]) request.headers[key] += `,${processHeaderValue(key, val[i], skipAppend)}`\n          else request.headers[key] = processHeaderValue(key, val[i], skipAppend)\n        } else {\n          request.headers += processHeaderValue(key, val[i])\n        }\n      }\n    } else {\n      if (skipAppend) request.headers[key] = processHeaderValue(key, val, skipAppend)\n      else request.headers += processHeaderValue(key, val)\n    }\n  }\n}\n\nmodule.exports = Request\n", "'use strict'\n\nconst EventEmitter = require('events')\n\nclass Dispatcher extends EventEmitter {\n  dispatch () {\n    throw new Error('not implemented')\n  }\n\n  close () {\n    throw new Error('not implemented')\n  }\n\n  destroy () {\n    throw new Error('not implemented')\n  }\n}\n\nmodule.exports = Dispatcher\n", "'use strict'\n\nconst Dispatcher = require('./dispatcher')\nconst {\n  ClientDestroyedError,\n  ClientClosedError,\n  InvalidArgumentError\n} = require('./core/errors')\nconst { kDestroy, kClose, kDispatch, kInterceptors } = require('./core/symbols')\n\nconst kDestroyed = Symbol('destroyed')\nconst kClosed = Symbol('closed')\nconst kOnDestroyed = Symbol('onDestroyed')\nconst kOnClosed = Symbol('onClosed')\nconst kInterceptedDispatch = Symbol('Intercepted Dispatch')\n\nclass DispatcherBase extends Dispatcher {\n  constructor () {\n    super()\n\n    this[kDestroyed] = false\n    this[kOnDestroyed] = null\n    this[kClosed] = false\n    this[kOnClosed] = []\n  }\n\n  get destroyed () {\n    return this[kDestroyed]\n  }\n\n  get closed () {\n    return this[kClosed]\n  }\n\n  get interceptors () {\n    return this[kInterceptors]\n  }\n\n  set interceptors (newInterceptors) {\n    if (newInterceptors) {\n      for (let i = newInterceptors.length - 1; i >= 0; i--) {\n        const interceptor = this[kInterceptors][i]\n        if (typeof interceptor !== 'function') {\n          throw new InvalidArgumentError('interceptor must be an function')\n        }\n      }\n    }\n\n    this[kInterceptors] = newInterceptors\n  }\n\n  close (callback) {\n    if (callback === undefined) {\n      return new Promise((resolve, reject) => {\n        this.close((err, data) => {\n          return err ? reject(err) : resolve(data)\n        })\n      })\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    if (this[kDestroyed]) {\n      queueMicrotask(() => callback(new ClientDestroyedError(), null))\n      return\n    }\n\n    if (this[kClosed]) {\n      if (this[kOnClosed]) {\n        this[kOnClosed].push(callback)\n      } else {\n        queueMicrotask(() => callback(null, null))\n      }\n      return\n    }\n\n    this[kClosed] = true\n    this[kOnClosed].push(callback)\n\n    const onClosed = () => {\n      const callbacks = this[kOnClosed]\n      this[kOnClosed] = null\n      for (let i = 0; i < callbacks.length; i++) {\n        callbacks[i](null, null)\n      }\n    }\n\n    // Should not error.\n    this[kClose]()\n      .then(() => this.destroy())\n      .then(() => {\n        queueMicrotask(onClosed)\n      })\n  }\n\n  destroy (err, callback) {\n    if (typeof err === 'function') {\n      callback = err\n      err = null\n    }\n\n    if (callback === undefined) {\n      return new Promise((resolve, reject) => {\n        this.destroy(err, (err, data) => {\n          return err ? /* istanbul ignore next: should never error */ reject(err) : resolve(data)\n        })\n      })\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    if (this[kDestroyed]) {\n      if (this[kOnDestroyed]) {\n        this[kOnDestroyed].push(callback)\n      } else {\n        queueMicrotask(() => callback(null, null))\n      }\n      return\n    }\n\n    if (!err) {\n      err = new ClientDestroyedError()\n    }\n\n    this[kDestroyed] = true\n    this[kOnDestroyed] = this[kOnDestroyed] || []\n    this[kOnDestroyed].push(callback)\n\n    const onDestroyed = () => {\n      const callbacks = this[kOnDestroyed]\n      this[kOnDestroyed] = null\n      for (let i = 0; i < callbacks.length; i++) {\n        callbacks[i](null, null)\n      }\n    }\n\n    // Should not error.\n    this[kDestroy](err).then(() => {\n      queueMicrotask(onDestroyed)\n    })\n  }\n\n  [kInterceptedDispatch] (opts, handler) {\n    if (!this[kInterceptors] || this[kInterceptors].length === 0) {\n      this[kInterceptedDispatch] = this[kDispatch]\n      return this[kDispatch](opts, handler)\n    }\n\n    let dispatch = this[kDispatch].bind(this)\n    for (let i = this[kInterceptors].length - 1; i >= 0; i--) {\n      dispatch = this[kInterceptors][i](dispatch)\n    }\n    this[kInterceptedDispatch] = dispatch\n    return dispatch(opts, handler)\n  }\n\n  dispatch (opts, handler) {\n    if (!handler || typeof handler !== 'object') {\n      throw new InvalidArgumentError('handler must be an object')\n    }\n\n    try {\n      if (!opts || typeof opts !== 'object') {\n        throw new InvalidArgumentError('opts must be an object.')\n      }\n\n      if (this[kDestroyed] || this[kOnDestroyed]) {\n        throw new ClientDestroyedError()\n      }\n\n      if (this[kClosed]) {\n        throw new ClientClosedError()\n      }\n\n      return this[kInterceptedDispatch](opts, handler)\n    } catch (err) {\n      if (typeof handler.onError !== 'function') {\n        throw new InvalidArgumentError('invalid onError method')\n      }\n\n      handler.onError(err)\n\n      return false\n    }\n  }\n}\n\nmodule.exports = DispatcherBase\n", "'use strict'\n\nconst net = require('net')\nconst assert = require('assert')\nconst util = require('./util')\nconst { InvalidArgumentError, ConnectTimeoutError } = require('./errors')\n\nlet tls // include tls conditionally since it is not always available\n\n// TODO: session re-use does not wait for the first\n// connection to resolve the session and might therefore\n// resolve the same servername multiple times even when\n// re-use is enabled.\n\nlet SessionCache\n// FIXME: remove workaround when the Node bug is fixed\n// https://github.com/nodejs/node/issues/49344#issuecomment-1741776308\nif (global.FinalizationRegistry && !process.env.NODE_V8_COVERAGE) {\n  SessionCache = class WeakSessionCache {\n    constructor (maxCachedSessions) {\n      this._maxCachedSessions = maxCachedSessions\n      this._sessionCache = new Map()\n      this._sessionRegistry = new global.FinalizationRegistry((key) => {\n        if (this._sessionCache.size < this._maxCachedSessions) {\n          return\n        }\n\n        const ref = this._sessionCache.get(key)\n        if (ref !== undefined && ref.deref() === undefined) {\n          this._sessionCache.delete(key)\n        }\n      })\n    }\n\n    get (sessionKey) {\n      const ref = this._sessionCache.get(sessionKey)\n      return ref ? ref.deref() : null\n    }\n\n    set (sessionKey, session) {\n      if (this._maxCachedSessions === 0) {\n        return\n      }\n\n      this._sessionCache.set(sessionKey, new WeakRef(session))\n      this._sessionRegistry.register(session, sessionKey)\n    }\n  }\n} else {\n  SessionCache = class SimpleSessionCache {\n    constructor (maxCachedSessions) {\n      this._maxCachedSessions = maxCachedSessions\n      this._sessionCache = new Map()\n    }\n\n    get (sessionKey) {\n      return this._sessionCache.get(sessionKey)\n    }\n\n    set (sessionKey, session) {\n      if (this._maxCachedSessions === 0) {\n        return\n      }\n\n      if (this._sessionCache.size >= this._maxCachedSessions) {\n        // remove the oldest session\n        const { value: oldestKey } = this._sessionCache.keys().next()\n        this._sessionCache.delete(oldestKey)\n      }\n\n      this._sessionCache.set(sessionKey, session)\n    }\n  }\n}\n\nfunction buildConnector ({ allowH2, maxCachedSessions, socketPath, timeout, ...opts }) {\n  if (maxCachedSessions != null && (!Number.isInteger(maxCachedSessions) || maxCachedSessions < 0)) {\n    throw new InvalidArgumentError('maxCachedSessions must be a positive integer or zero')\n  }\n\n  const options = { path: socketPath, ...opts }\n  const sessionCache = new SessionCache(maxCachedSessions == null ? 100 : maxCachedSessions)\n  timeout = timeout == null ? 10e3 : timeout\n  allowH2 = allowH2 != null ? allowH2 : false\n  return function connect ({ hostname, host, protocol, port, servername, localAddress, httpSocket }, callback) {\n    let socket\n    if (protocol === 'https:') {\n      if (!tls) {\n        tls = require('tls')\n      }\n      servername = servername || options.servername || util.getServerName(host) || null\n\n      const sessionKey = servername || hostname\n      const session = sessionCache.get(sessionKey) || null\n\n      assert(sessionKey)\n\n      socket = tls.connect({\n        highWaterMark: 16384, // TLS in node can't have bigger HWM anyway...\n        ...options,\n        servername,\n        session,\n        localAddress,\n        // TODO(HTTP/2): Add support for h2c\n        ALPNProtocols: allowH2 ? ['http/1.1', 'h2'] : ['http/1.1'],\n        socket: httpSocket, // upgrade socket connection\n        port: port || 443,\n        host: hostname\n      })\n\n      socket\n        .on('session', function (session) {\n          // TODO (fix): Can a session become invalid once established? Don't think so?\n          sessionCache.set(sessionKey, session)\n        })\n    } else {\n      assert(!httpSocket, 'httpSocket can only be sent on TLS update')\n      socket = net.connect({\n        highWaterMark: 64 * 1024, // Same as nodejs fs streams.\n        ...options,\n        localAddress,\n        port: port || 80,\n        host: hostname\n      })\n    }\n\n    // Set TCP keep alive options on the socket here instead of in connect() for the case of assigning the socket\n    if (options.keepAlive == null || options.keepAlive) {\n      const keepAliveInitialDelay = options.keepAliveInitialDelay === undefined ? 60e3 : options.keepAliveInitialDelay\n      socket.setKeepAlive(true, keepAliveInitialDelay)\n    }\n\n    const cancelTimeout = setupTimeout(() => onConnectTimeout(socket), timeout)\n\n    socket\n      .setNoDelay(true)\n      .once(protocol === 'https:' ? 'secureConnect' : 'connect', function () {\n        cancelTimeout()\n\n        if (callback) {\n          const cb = callback\n          callback = null\n          cb(null, this)\n        }\n      })\n      .on('error', function (err) {\n        cancelTimeout()\n\n        if (callback) {\n          const cb = callback\n          callback = null\n          cb(err)\n        }\n      })\n\n    return socket\n  }\n}\n\nfunction setupTimeout (onConnectTimeout, timeout) {\n  if (!timeout) {\n    return () => {}\n  }\n\n  let s1 = null\n  let s2 = null\n  const timeoutId = setTimeout(() => {\n    // setImmediate is added to make sure that we priotorise socket error events over timeouts\n    s1 = setImmediate(() => {\n      if (process.platform === 'win32') {\n        // Windows needs an extra setImmediate probably due to implementation differences in the socket logic\n        s2 = setImmediate(() => onConnectTimeout())\n      } else {\n        onConnectTimeout()\n      }\n    })\n  }, timeout)\n  return () => {\n    clearTimeout(timeoutId)\n    clearImmediate(s1)\n    clearImmediate(s2)\n  }\n}\n\nfunction onConnectTimeout (socket) {\n  util.destroy(socket, new ConnectTimeoutError())\n}\n\nmodule.exports = buildConnector\n", null, null, "'use strict'\n\nconst util = require('../core/util')\nconst { kBodyUsed } = require('../core/symbols')\nconst assert = require('assert')\nconst { InvalidArgumentError } = require('../core/errors')\nconst EE = require('events')\n\nconst redirectableStatusCodes = [300, 301, 302, 303, 307, 308]\n\nconst kBody = Symbol('body')\n\nclass BodyAsyncIterable {\n  constructor (body) {\n    this[kBody] = body\n    this[kBodyUsed] = false\n  }\n\n  async * [Symbol.asyncIterator] () {\n    assert(!this[kBodyUsed], 'disturbed')\n    this[kBodyUsed] = true\n    yield * this[kBody]\n  }\n}\n\nclass RedirectHandler {\n  constructor (dispatch, maxRedirections, opts, handler) {\n    if (maxRedirections != null && (!Number.isInteger(maxRedirections) || maxRedirections < 0)) {\n      throw new InvalidArgumentError('maxRedirections must be a positive number')\n    }\n\n    util.validateHandler(handler, opts.method, opts.upgrade)\n\n    this.dispatch = dispatch\n    this.location = null\n    this.abort = null\n    this.opts = { ...opts, maxRedirections: 0 } // opts must be a copy\n    this.maxRedirections = maxRedirections\n    this.handler = handler\n    this.history = []\n\n    if (util.isStream(this.opts.body)) {\n      // TODO (fix): Provide some way for the user to cache the file to e.g. /tmp\n      // so that it can be dispatched again?\n      // TODO (fix): Do we need 100-expect support to provide a way to do this properly?\n      if (util.bodyLength(this.opts.body) === 0) {\n        this.opts.body\n          .on('data', function () {\n            assert(false)\n          })\n      }\n\n      if (typeof this.opts.body.readableDidRead !== 'boolean') {\n        this.opts.body[kBodyUsed] = false\n        EE.prototype.on.call(this.opts.body, 'data', function () {\n          this[kBodyUsed] = true\n        })\n      }\n    } else if (this.opts.body && typeof this.opts.body.pipeTo === 'function') {\n      // TODO (fix): We can't access ReadableStream internal state\n      // to determine whether or not it has been disturbed. This is just\n      // a workaround.\n      this.opts.body = new BodyAsyncIterable(this.opts.body)\n    } else if (\n      this.opts.body &&\n      typeof this.opts.body !== 'string' &&\n      !ArrayBuffer.isView(this.opts.body) &&\n      util.isIterable(this.opts.body)\n    ) {\n      // TODO: Should we allow re-using iterable if !this.opts.idempotent\n      // or through some other flag?\n      this.opts.body = new BodyAsyncIterable(this.opts.body)\n    }\n  }\n\n  onConnect (abort) {\n    this.abort = abort\n    this.handler.onConnect(abort, { history: this.history })\n  }\n\n  onUpgrade (statusCode, headers, socket) {\n    this.handler.onUpgrade(statusCode, headers, socket)\n  }\n\n  onError (error) {\n    this.handler.onError(error)\n  }\n\n  onHeaders (statusCode, headers, resume, statusText) {\n    this.location = this.history.length >= this.maxRedirections || util.isDisturbed(this.opts.body)\n      ? null\n      : parseLocation(statusCode, headers)\n\n    if (this.opts.origin) {\n      this.history.push(new URL(this.opts.path, this.opts.origin))\n    }\n\n    if (!this.location) {\n      return this.handler.onHeaders(statusCode, headers, resume, statusText)\n    }\n\n    const { origin, pathname, search } = util.parseURL(new URL(this.location, this.opts.origin && new URL(this.opts.path, this.opts.origin)))\n    const path = search ? `${pathname}${search}` : pathname\n\n    // Remove headers referring to the original URL.\n    // By default it is Host only, unless it's a 303 (see below), which removes also all Content-* headers.\n    // https://tools.ietf.org/html/rfc7231#section-6.4\n    this.opts.headers = cleanRequestHeaders(this.opts.headers, statusCode === 303, this.opts.origin !== origin)\n    this.opts.path = path\n    this.opts.origin = origin\n    this.opts.maxRedirections = 0\n    this.opts.query = null\n\n    // https://tools.ietf.org/html/rfc7231#section-6.4.4\n    // In case of HTTP 303, always replace method to be either HEAD or GET\n    if (statusCode === 303 && this.opts.method !== 'HEAD') {\n      this.opts.method = 'GET'\n      this.opts.body = null\n    }\n  }\n\n  onData (chunk) {\n    if (this.location) {\n      /*\n        https://tools.ietf.org/html/rfc7231#section-6.4\n\n        TLDR: undici always ignores 3xx response bodies.\n\n        Redirection is used to serve the requested resource from another URL, so it is assumes that\n        no body is generated (and thus can be ignored). Even though generating a body is not prohibited.\n\n        For status 301, 302, 303, 307 and 308 (the latter from RFC 7238), the specs mention that the body usually\n        (which means it's optional and not mandated) contain just an hyperlink to the value of\n        the Location response header, so the body can be ignored safely.\n\n        For status 300, which is \"Multiple Choices\", the spec mentions both generating a Location\n        response header AND a response body with the other possible location to follow.\n        Since the spec explicitily chooses not to specify a format for such body and leave it to\n        servers and browsers implementors, we ignore the body as there is no specified way to eventually parse it.\n      */\n    } else {\n      return this.handler.onData(chunk)\n    }\n  }\n\n  onComplete (trailers) {\n    if (this.location) {\n      /*\n        https://tools.ietf.org/html/rfc7231#section-6.4\n\n        TLDR: undici always ignores 3xx response trailers as they are not expected in case of redirections\n        and neither are useful if present.\n\n        See comment on onData method above for more detailed informations.\n      */\n\n      this.location = null\n      this.abort = null\n\n      this.dispatch(this.opts, this)\n    } else {\n      this.handler.onComplete(trailers)\n    }\n  }\n\n  onBodySent (chunk) {\n    if (this.handler.onBodySent) {\n      this.handler.onBodySent(chunk)\n    }\n  }\n}\n\nfunction parseLocation (statusCode, headers) {\n  if (redirectableStatusCodes.indexOf(statusCode) === -1) {\n    return null\n  }\n\n  for (let i = 0; i < headers.length; i += 2) {\n    if (headers[i].toString().toLowerCase() === 'location') {\n      return headers[i + 1]\n    }\n  }\n}\n\n// https://tools.ietf.org/html/rfc7231#section-6.4.4\nfunction shouldRemoveHeader (header, removeContent, unknownOrigin) {\n  if (header.length === 4) {\n    return util.headerNameToString(header) === 'host'\n  }\n  if (removeContent && util.headerNameToString(header).startsWith('content-')) {\n    return true\n  }\n  if (unknownOrigin && (header.length === 13 || header.length === 6 || header.length === 19)) {\n    const name = util.headerNameToString(header)\n    return name === 'authorization' || name === 'cookie' || name === 'proxy-authorization'\n  }\n  return false\n}\n\n// https://tools.ietf.org/html/rfc7231#section-6.4\nfunction cleanRequestHeaders (headers, removeContent, unknownOrigin) {\n  const ret = []\n  if (Array.isArray(headers)) {\n    for (let i = 0; i < headers.length; i += 2) {\n      if (!shouldRemoveHeader(headers[i], removeContent, unknownOrigin)) {\n        ret.push(headers[i], headers[i + 1])\n      }\n    }\n  } else if (headers && typeof headers === 'object') {\n    for (const key of Object.keys(headers)) {\n      if (!shouldRemoveHeader(key, removeContent, unknownOrigin)) {\n        ret.push(key, headers[key])\n      }\n    }\n  } else {\n    assert(headers == null, 'headers must be an object or an array')\n  }\n  return ret\n}\n\nmodule.exports = RedirectHandler\n", "'use strict'\n\nconst RedirectHandler = require('../handler/RedirectHandler')\n\nfunction createRedirectInterceptor ({ maxRedirections: defaultMaxRedirections }) {\n  return (dispatch) => {\n    return function Intercept (opts, handler) {\n      const { maxRedirections = defaultMaxRedirections } = opts\n\n      if (!maxRedirections) {\n        return dispatch(opts, handler)\n      }\n\n      const redirectHandler = new RedirectHandler(dispatch, maxRedirections, opts, handler)\n      opts = { ...opts, maxRedirections: 0 } // Stop sub dispatcher from also redirecting.\n      return dispatch(opts, redirectHandler)\n    }\n  }\n}\n\nmodule.exports = createRedirectInterceptor\n", "module.exports = 'AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8='\n", "module.exports = 'AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=='\n", "// @ts-check\n\n'use strict'\n\n/* global WebAssembly */\n\nconst assert = require('assert')\nconst net = require('net')\nconst http = require('http')\nconst { pipeline } = require('stream')\nconst util = require('./core/util')\nconst timers = require('./timers')\nconst Request = require('./core/request')\nconst DispatcherBase = require('./dispatcher-base')\nconst {\n  RequestContentLengthMismatchError,\n  ResponseContentLengthMismatchError,\n  InvalidArgumentError,\n  RequestAbortedError,\n  HeadersTimeoutError,\n  HeadersOverflowError,\n  SocketError,\n  InformationalError,\n  BodyTimeoutError,\n  HTTPParserError,\n  ResponseExceededMaxSizeError,\n  ClientDestroyedError\n} = require('./core/errors')\nconst buildConnector = require('./core/connect')\nconst {\n  kUrl,\n  kReset,\n  kServerName,\n  kClient,\n  kBusy,\n  kParser,\n  kConnect,\n  kBlocking,\n  kResuming,\n  kRunning,\n  kPending,\n  kSize,\n  kWriting,\n  kQueue,\n  kConnected,\n  kConnecting,\n  kNeedDrain,\n  kNoRef,\n  kKeepAliveDefaultTimeout,\n  kHostHeader,\n  kPendingIdx,\n  kRunningIdx,\n  kError,\n  kPipelining,\n  kSocket,\n  kKeepAliveTimeoutValue,\n  kMaxHeadersSize,\n  kKeepAliveMaxTimeout,\n  kKeepAliveTimeoutThreshold,\n  kHeadersTimeout,\n  kBodyTimeout,\n  kStrictContentLength,\n  kConnector,\n  kMaxRedirections,\n  kMaxRequests,\n  kCounter,\n  kClose,\n  kDestroy,\n  kDispatch,\n  kInterceptors,\n  kLocalAddress,\n  kMaxResponseSize,\n  kHTTPConnVersion,\n  // HTTP2\n  kHost,\n  kHTTP2Session,\n  kHTTP2SessionState,\n  kHTTP2BuildRequest,\n  kHTTP2CopyHeaders,\n  kHTTP1BuildRequest\n} = require('./core/symbols')\n\n/** @type {import('http2')} */\nlet http2\ntry {\n  http2 = require('http2')\n} catch {\n  // @ts-ignore\n  http2 = { constants: {} }\n}\n\nconst {\n  constants: {\n    HTTP2_HEADER_AUTHORITY,\n    HTTP2_HEADER_METHOD,\n    HTTP2_HEADER_PATH,\n    HTTP2_HEADER_SCHEME,\n    HTTP2_HEADER_CONTENT_LENGTH,\n    HTTP2_HEADER_EXPECT,\n    HTTP2_HEADER_STATUS\n  }\n} = http2\n\n// Experimental\nlet h2ExperimentalWarned = false\n\nconst FastBuffer = Buffer[Symbol.species]\n\nconst kClosedResolve = Symbol('kClosedResolve')\n\nconst channels = {}\n\ntry {\n  const diagnosticsChannel = require('diagnostics_channel')\n  channels.sendHeaders = diagnosticsChannel.channel('undici:client:sendHeaders')\n  channels.beforeConnect = diagnosticsChannel.channel('undici:client:beforeConnect')\n  channels.connectError = diagnosticsChannel.channel('undici:client:connectError')\n  channels.connected = diagnosticsChannel.channel('undici:client:connected')\n} catch {\n  channels.sendHeaders = { hasSubscribers: false }\n  channels.beforeConnect = { hasSubscribers: false }\n  channels.connectError = { hasSubscribers: false }\n  channels.connected = { hasSubscribers: false }\n}\n\n/**\n * @type {import('../types/client').default}\n */\nclass Client extends DispatcherBase {\n  /**\n   *\n   * @param {string|URL} url\n   * @param {import('../types/client').Client.Options} options\n   */\n  constructor (url, {\n    interceptors,\n    maxHeaderSize,\n    headersTimeout,\n    socketTimeout,\n    requestTimeout,\n    connectTimeout,\n    bodyTimeout,\n    idleTimeout,\n    keepAlive,\n    keepAliveTimeout,\n    maxKeepAliveTimeout,\n    keepAliveMaxTimeout,\n    keepAliveTimeoutThreshold,\n    socketPath,\n    pipelining,\n    tls,\n    strictContentLength,\n    maxCachedSessions,\n    maxRedirections,\n    connect,\n    maxRequestsPerClient,\n    localAddress,\n    maxResponseSize,\n    autoSelectFamily,\n    autoSelectFamilyAttemptTimeout,\n    // h2\n    allowH2,\n    maxConcurrentStreams\n  } = {}) {\n    super()\n\n    if (keepAlive !== undefined) {\n      throw new InvalidArgumentError('unsupported keepAlive, use pipelining=0 instead')\n    }\n\n    if (socketTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported socketTimeout, use headersTimeout & bodyTimeout instead')\n    }\n\n    if (requestTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported requestTimeout, use headersTimeout & bodyTimeout instead')\n    }\n\n    if (idleTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported idleTimeout, use keepAliveTimeout instead')\n    }\n\n    if (maxKeepAliveTimeout !== undefined) {\n      throw new InvalidArgumentError('unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead')\n    }\n\n    if (maxHeaderSize != null && !Number.isFinite(maxHeaderSize)) {\n      throw new InvalidArgumentError('invalid maxHeaderSize')\n    }\n\n    if (socketPath != null && typeof socketPath !== 'string') {\n      throw new InvalidArgumentError('invalid socketPath')\n    }\n\n    if (connectTimeout != null && (!Number.isFinite(connectTimeout) || connectTimeout < 0)) {\n      throw new InvalidArgumentError('invalid connectTimeout')\n    }\n\n    if (keepAliveTimeout != null && (!Number.isFinite(keepAliveTimeout) || keepAliveTimeout <= 0)) {\n      throw new InvalidArgumentError('invalid keepAliveTimeout')\n    }\n\n    if (keepAliveMaxTimeout != null && (!Number.isFinite(keepAliveMaxTimeout) || keepAliveMaxTimeout <= 0)) {\n      throw new InvalidArgumentError('invalid keepAliveMaxTimeout')\n    }\n\n    if (keepAliveTimeoutThreshold != null && !Number.isFinite(keepAliveTimeoutThreshold)) {\n      throw new InvalidArgumentError('invalid keepAliveTimeoutThreshold')\n    }\n\n    if (headersTimeout != null && (!Number.isInteger(headersTimeout) || headersTimeout < 0)) {\n      throw new InvalidArgumentError('headersTimeout must be a positive integer or zero')\n    }\n\n    if (bodyTimeout != null && (!Number.isInteger(bodyTimeout) || bodyTimeout < 0)) {\n      throw new InvalidArgumentError('bodyTimeout must be a positive integer or zero')\n    }\n\n    if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') {\n      throw new InvalidArgumentError('connect must be a function or an object')\n    }\n\n    if (maxRedirections != null && (!Number.isInteger(maxRedirections) || maxRedirections < 0)) {\n      throw new InvalidArgumentError('maxRedirections must be a positive number')\n    }\n\n    if (maxRequestsPerClient != null && (!Number.isInteger(maxRequestsPerClient) || maxRequestsPerClient < 0)) {\n      throw new InvalidArgumentError('maxRequestsPerClient must be a positive number')\n    }\n\n    if (localAddress != null && (typeof localAddress !== 'string' || net.isIP(localAddress) === 0)) {\n      throw new InvalidArgumentError('localAddress must be valid string IP address')\n    }\n\n    if (maxResponseSize != null && (!Number.isInteger(maxResponseSize) || maxResponseSize < -1)) {\n      throw new InvalidArgumentError('maxResponseSize must be a positive number')\n    }\n\n    if (\n      autoSelectFamilyAttemptTimeout != null &&\n      (!Number.isInteger(autoSelectFamilyAttemptTimeout) || autoSelectFamilyAttemptTimeout < -1)\n    ) {\n      throw new InvalidArgumentError('autoSelectFamilyAttemptTimeout must be a positive number')\n    }\n\n    // h2\n    if (allowH2 != null && typeof allowH2 !== 'boolean') {\n      throw new InvalidArgumentError('allowH2 must be a valid boolean value')\n    }\n\n    if (maxConcurrentStreams != null && (typeof maxConcurrentStreams !== 'number' || maxConcurrentStreams < 1)) {\n      throw new InvalidArgumentError('maxConcurrentStreams must be a possitive integer, greater than 0')\n    }\n\n    if (typeof connect !== 'function') {\n      connect = buildConnector({\n        ...tls,\n        maxCachedSessions,\n        allowH2,\n        socketPath,\n        timeout: connectTimeout,\n        ...(util.nodeHasAutoSelectFamily && autoSelectFamily ? { autoSelectFamily, autoSelectFamilyAttemptTimeout } : undefined),\n        ...connect\n      })\n    }\n\n    this[kInterceptors] = interceptors && interceptors.Client && Array.isArray(interceptors.Client)\n      ? interceptors.Client\n      : [createRedirectInterceptor({ maxRedirections })]\n    this[kUrl] = util.parseOrigin(url)\n    this[kConnector] = connect\n    this[kSocket] = null\n    this[kPipelining] = pipelining != null ? pipelining : 1\n    this[kMaxHeadersSize] = maxHeaderSize || http.maxHeaderSize\n    this[kKeepAliveDefaultTimeout] = keepAliveTimeout == null ? 4e3 : keepAliveTimeout\n    this[kKeepAliveMaxTimeout] = keepAliveMaxTimeout == null ? 600e3 : keepAliveMaxTimeout\n    this[kKeepAliveTimeoutThreshold] = keepAliveTimeoutThreshold == null ? 1e3 : keepAliveTimeoutThreshold\n    this[kKeepAliveTimeoutValue] = this[kKeepAliveDefaultTimeout]\n    this[kServerName] = null\n    this[kLocalAddress] = localAddress != null ? localAddress : null\n    this[kResuming] = 0 // 0, idle, 1, scheduled, 2 resuming\n    this[kNeedDrain] = 0 // 0, idle, 1, scheduled, 2 resuming\n    this[kHostHeader] = `host: ${this[kUrl].hostname}${this[kUrl].port ? `:${this[kUrl].port}` : ''}\\r\\n`\n    this[kBodyTimeout] = bodyTimeout != null ? bodyTimeout : 300e3\n    this[kHeadersTimeout] = headersTimeout != null ? headersTimeout : 300e3\n    this[kStrictContentLength] = strictContentLength == null ? true : strictContentLength\n    this[kMaxRedirections] = maxRedirections\n    this[kMaxRequests] = maxRequestsPerClient\n    this[kClosedResolve] = null\n    this[kMaxResponseSize] = maxResponseSize > -1 ? maxResponseSize : -1\n    this[kHTTPConnVersion] = 'h1'\n\n    // HTTP/2\n    this[kHTTP2Session] = null\n    this[kHTTP2SessionState] = !allowH2\n      ? null\n      : {\n        // streams: null, // Fixed queue of streams - For future support of `push`\n          openStreams: 0, // Keep track of them to decide wether or not unref the session\n          maxConcurrentStreams: maxConcurrentStreams != null ? maxConcurrentStreams : 100 // Max peerConcurrentStreams for a Node h2 server\n        }\n    this[kHost] = `${this[kUrl].hostname}${this[kUrl].port ? `:${this[kUrl].port}` : ''}`\n\n    // kQueue is built up of 3 sections separated by\n    // the kRunningIdx and kPendingIdx indices.\n    // |   complete   |   running   |   pending   |\n    //                ^ kRunningIdx ^ kPendingIdx ^ kQueue.length\n    // kRunningIdx points to the first running element.\n    // kPendingIdx points to the first pending element.\n    // This implements a fast queue with an amortized\n    // time of O(1).\n\n    this[kQueue] = []\n    this[kRunningIdx] = 0\n    this[kPendingIdx] = 0\n  }\n\n  get pipelining () {\n    return this[kPipelining]\n  }\n\n  set pipelining (value) {\n    this[kPipelining] = value\n    resume(this, true)\n  }\n\n  get [kPending] () {\n    return this[kQueue].length - this[kPendingIdx]\n  }\n\n  get [kRunning] () {\n    return this[kPendingIdx] - this[kRunningIdx]\n  }\n\n  get [kSize] () {\n    return this[kQueue].length - this[kRunningIdx]\n  }\n\n  get [kConnected] () {\n    return !!this[kSocket] && !this[kConnecting] && !this[kSocket].destroyed\n  }\n\n  get [kBusy] () {\n    const socket = this[kSocket]\n    return (\n      (socket && (socket[kReset] || socket[kWriting] || socket[kBlocking])) ||\n      (this[kSize] >= (this[kPipelining] || 1)) ||\n      this[kPending] > 0\n    )\n  }\n\n  /* istanbul ignore: only used for test */\n  [kConnect] (cb) {\n    connect(this)\n    this.once('connect', cb)\n  }\n\n  [kDispatch] (opts, handler) {\n    const origin = opts.origin || this[kUrl].origin\n\n    const request = this[kHTTPConnVersion] === 'h2'\n      ? Request[kHTTP2BuildRequest](origin, opts, handler)\n      : Request[kHTTP1BuildRequest](origin, opts, handler)\n\n    this[kQueue].push(request)\n    if (this[kResuming]) {\n      // Do nothing.\n    } else if (util.bodyLength(request.body) == null && util.isIterable(request.body)) {\n      // Wait a tick in case stream/iterator is ended in the same tick.\n      this[kResuming] = 1\n      process.nextTick(resume, this)\n    } else {\n      resume(this, true)\n    }\n\n    if (this[kResuming] && this[kNeedDrain] !== 2 && this[kBusy]) {\n      this[kNeedDrain] = 2\n    }\n\n    return this[kNeedDrain] < 2\n  }\n\n  async [kClose] () {\n    // TODO: for H2 we need to gracefully flush the remaining enqueued\n    // request and close each stream.\n    return new Promise((resolve) => {\n      if (!this[kSize]) {\n        resolve(null)\n      } else {\n        this[kClosedResolve] = resolve\n      }\n    })\n  }\n\n  async [kDestroy] (err) {\n    return new Promise((resolve) => {\n      const requests = this[kQueue].splice(this[kPendingIdx])\n      for (let i = 0; i < requests.length; i++) {\n        const request = requests[i]\n        errorRequest(this, request, err)\n      }\n\n      const callback = () => {\n        if (this[kClosedResolve]) {\n          // TODO (fix): Should we error here with ClientDestroyedError?\n          this[kClosedResolve]()\n          this[kClosedResolve] = null\n        }\n        resolve()\n      }\n\n      if (this[kHTTP2Session] != null) {\n        util.destroy(this[kHTTP2Session], err)\n        this[kHTTP2Session] = null\n        this[kHTTP2SessionState] = null\n      }\n\n      if (!this[kSocket]) {\n        queueMicrotask(callback)\n      } else {\n        util.destroy(this[kSocket].on('close', callback), err)\n      }\n\n      resume(this)\n    })\n  }\n}\n\nfunction onHttp2SessionError (err) {\n  assert(err.code !== 'ERR_TLS_CERT_ALTNAME_INVALID')\n\n  this[kSocket][kError] = err\n\n  onError(this[kClient], err)\n}\n\nfunction onHttp2FrameError (type, code, id) {\n  const err = new InformationalError(`HTTP/2: \"frameError\" received - type ${type}, code ${code}`)\n\n  if (id === 0) {\n    this[kSocket][kError] = err\n    onError(this[kClient], err)\n  }\n}\n\nfunction onHttp2SessionEnd () {\n  util.destroy(this, new SocketError('other side closed'))\n  util.destroy(this[kSocket], new SocketError('other side closed'))\n}\n\nfunction onHTTP2GoAway (code) {\n  const client = this[kClient]\n  const err = new InformationalError(`HTTP/2: \"GOAWAY\" frame received with code ${code}`)\n  client[kSocket] = null\n  client[kHTTP2Session] = null\n\n  if (client.destroyed) {\n    assert(this[kPending] === 0)\n\n    // Fail entire queue.\n    const requests = client[kQueue].splice(client[kRunningIdx])\n    for (let i = 0; i < requests.length; i++) {\n      const request = requests[i]\n      errorRequest(this, request, err)\n    }\n  } else if (client[kRunning] > 0) {\n    // Fail head of pipeline.\n    const request = client[kQueue][client[kRunningIdx]]\n    client[kQueue][client[kRunningIdx]++] = null\n\n    errorRequest(client, request, err)\n  }\n\n  client[kPendingIdx] = client[kRunningIdx]\n\n  assert(client[kRunning] === 0)\n\n  client.emit('disconnect',\n    client[kUrl],\n    [client],\n    err\n  )\n\n  resume(client)\n}\n\nconst constants = require('./llhttp/constants')\nconst createRedirectInterceptor = require('./interceptor/redirectInterceptor')\nconst EMPTY_BUF = Buffer.alloc(0)\n\nasync function lazyllhttp () {\n  const llhttpWasmData = process.env.JEST_WORKER_ID ? require('./llhttp/llhttp-wasm.js') : undefined\n\n  let mod\n  try {\n    mod = await WebAssembly.compile(Buffer.from(require('./llhttp/llhttp_simd-wasm.js'), 'base64'))\n  } catch (e) {\n    /* istanbul ignore next */\n\n    // We could check if the error was caused by the simd option not\n    // being enabled, but the occurring of this other error\n    // * https://github.com/emscripten-core/emscripten/issues/11495\n    // got me to remove that check to avoid breaking Node 12.\n    mod = await WebAssembly.compile(Buffer.from(llhttpWasmData || require('./llhttp/llhttp-wasm.js'), 'base64'))\n  }\n\n  return await WebAssembly.instantiate(mod, {\n    env: {\n      /* eslint-disable camelcase */\n\n      wasm_on_url: (p, at, len) => {\n        /* istanbul ignore next */\n        return 0\n      },\n      wasm_on_status: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onStatus(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_message_begin: (p) => {\n        assert.strictEqual(currentParser.ptr, p)\n        return currentParser.onMessageBegin() || 0\n      },\n      wasm_on_header_field: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onHeaderField(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_header_value: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onHeaderValue(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_headers_complete: (p, statusCode, upgrade, shouldKeepAlive) => {\n        assert.strictEqual(currentParser.ptr, p)\n        return currentParser.onHeadersComplete(statusCode, Boolean(upgrade), Boolean(shouldKeepAlive)) || 0\n      },\n      wasm_on_body: (p, at, len) => {\n        assert.strictEqual(currentParser.ptr, p)\n        const start = at - currentBufferPtr + currentBufferRef.byteOffset\n        return currentParser.onBody(new FastBuffer(currentBufferRef.buffer, start, len)) || 0\n      },\n      wasm_on_message_complete: (p) => {\n        assert.strictEqual(currentParser.ptr, p)\n        return currentParser.onMessageComplete() || 0\n      }\n\n      /* eslint-enable camelcase */\n    }\n  })\n}\n\nlet llhttpInstance = null\nlet llhttpPromise = lazyllhttp()\nllhttpPromise.catch()\n\nlet currentParser = null\nlet currentBufferRef = null\nlet currentBufferSize = 0\nlet currentBufferPtr = null\n\nconst TIMEOUT_HEADERS = 1\nconst TIMEOUT_BODY = 2\nconst TIMEOUT_IDLE = 3\n\nclass Parser {\n  constructor (client, socket, { exports }) {\n    assert(Number.isFinite(client[kMaxHeadersSize]) && client[kMaxHeadersSize] > 0)\n\n    this.llhttp = exports\n    this.ptr = this.llhttp.llhttp_alloc(constants.TYPE.RESPONSE)\n    this.client = client\n    this.socket = socket\n    this.timeout = null\n    this.timeoutValue = null\n    this.timeoutType = null\n    this.statusCode = null\n    this.statusText = ''\n    this.upgrade = false\n    this.headers = []\n    this.headersSize = 0\n    this.headersMaxSize = client[kMaxHeadersSize]\n    this.shouldKeepAlive = false\n    this.paused = false\n    this.resume = this.resume.bind(this)\n\n    this.bytesRead = 0\n\n    this.keepAlive = ''\n    this.contentLength = ''\n    this.connection = ''\n    this.maxResponseSize = client[kMaxResponseSize]\n  }\n\n  setTimeout (value, type) {\n    this.timeoutType = type\n    if (value !== this.timeoutValue) {\n      timers.clearTimeout(this.timeout)\n      if (value) {\n        this.timeout = timers.setTimeout(onParserTimeout, value, this)\n        // istanbul ignore else: only for jest\n        if (this.timeout.unref) {\n          this.timeout.unref()\n        }\n      } else {\n        this.timeout = null\n      }\n      this.timeoutValue = value\n    } else if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n  }\n\n  resume () {\n    if (this.socket.destroyed || !this.paused) {\n      return\n    }\n\n    assert(this.ptr != null)\n    assert(currentParser == null)\n\n    this.llhttp.llhttp_resume(this.ptr)\n\n    assert(this.timeoutType === TIMEOUT_BODY)\n    if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n\n    this.paused = false\n    this.execute(this.socket.read() || EMPTY_BUF) // Flush parser.\n    this.readMore()\n  }\n\n  readMore () {\n    while (!this.paused && this.ptr) {\n      const chunk = this.socket.read()\n      if (chunk === null) {\n        break\n      }\n      this.execute(chunk)\n    }\n  }\n\n  execute (data) {\n    assert(this.ptr != null)\n    assert(currentParser == null)\n    assert(!this.paused)\n\n    const { socket, llhttp } = this\n\n    if (data.length > currentBufferSize) {\n      if (currentBufferPtr) {\n        llhttp.free(currentBufferPtr)\n      }\n      currentBufferSize = Math.ceil(data.length / 4096) * 4096\n      currentBufferPtr = llhttp.malloc(currentBufferSize)\n    }\n\n    new Uint8Array(llhttp.memory.buffer, currentBufferPtr, currentBufferSize).set(data)\n\n    // Call `execute` on the wasm parser.\n    // We pass the `llhttp_parser` pointer address, the pointer address of buffer view data,\n    // and finally the length of bytes to parse.\n    // The return value is an error code or `constants.ERROR.OK`.\n    try {\n      let ret\n\n      try {\n        currentBufferRef = data\n        currentParser = this\n        ret = llhttp.llhttp_execute(this.ptr, currentBufferPtr, data.length)\n        /* eslint-disable-next-line no-useless-catch */\n      } catch (err) {\n        /* istanbul ignore next: difficult to make a test case for */\n        throw err\n      } finally {\n        currentParser = null\n        currentBufferRef = null\n      }\n\n      const offset = llhttp.llhttp_get_error_pos(this.ptr) - currentBufferPtr\n\n      if (ret === constants.ERROR.PAUSED_UPGRADE) {\n        this.onUpgrade(data.slice(offset))\n      } else if (ret === constants.ERROR.PAUSED) {\n        this.paused = true\n        socket.unshift(data.slice(offset))\n      } else if (ret !== constants.ERROR.OK) {\n        const ptr = llhttp.llhttp_get_error_reason(this.ptr)\n        let message = ''\n        /* istanbul ignore else: difficult to make a test case for */\n        if (ptr) {\n          const len = new Uint8Array(llhttp.memory.buffer, ptr).indexOf(0)\n          message =\n            'Response does not match the HTTP/1.1 protocol (' +\n            Buffer.from(llhttp.memory.buffer, ptr, len).toString() +\n            ')'\n        }\n        throw new HTTPParserError(message, constants.ERROR[ret], data.slice(offset))\n      }\n    } catch (err) {\n      util.destroy(socket, err)\n    }\n  }\n\n  destroy () {\n    assert(this.ptr != null)\n    assert(currentParser == null)\n\n    this.llhttp.llhttp_free(this.ptr)\n    this.ptr = null\n\n    timers.clearTimeout(this.timeout)\n    this.timeout = null\n    this.timeoutValue = null\n    this.timeoutType = null\n\n    this.paused = false\n  }\n\n  onStatus (buf) {\n    this.statusText = buf.toString()\n  }\n\n  onMessageBegin () {\n    const { socket, client } = this\n\n    /* istanbul ignore next: difficult to make a test case for */\n    if (socket.destroyed) {\n      return -1\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n    if (!request) {\n      return -1\n    }\n  }\n\n  onHeaderField (buf) {\n    const len = this.headers.length\n\n    if ((len & 1) === 0) {\n      this.headers.push(buf)\n    } else {\n      this.headers[len - 1] = Buffer.concat([this.headers[len - 1], buf])\n    }\n\n    this.trackHeader(buf.length)\n  }\n\n  onHeaderValue (buf) {\n    let len = this.headers.length\n\n    if ((len & 1) === 1) {\n      this.headers.push(buf)\n      len += 1\n    } else {\n      this.headers[len - 1] = Buffer.concat([this.headers[len - 1], buf])\n    }\n\n    const key = this.headers[len - 2]\n    if (key.length === 10 && key.toString().toLowerCase() === 'keep-alive') {\n      this.keepAlive += buf.toString()\n    } else if (key.length === 10 && key.toString().toLowerCase() === 'connection') {\n      this.connection += buf.toString()\n    } else if (key.length === 14 && key.toString().toLowerCase() === 'content-length') {\n      this.contentLength += buf.toString()\n    }\n\n    this.trackHeader(buf.length)\n  }\n\n  trackHeader (len) {\n    this.headersSize += len\n    if (this.headersSize >= this.headersMaxSize) {\n      util.destroy(this.socket, new HeadersOverflowError())\n    }\n  }\n\n  onUpgrade (head) {\n    const { upgrade, client, socket, headers, statusCode } = this\n\n    assert(upgrade)\n\n    const request = client[kQueue][client[kRunningIdx]]\n    assert(request)\n\n    assert(!socket.destroyed)\n    assert(socket === client[kSocket])\n    assert(!this.paused)\n    assert(request.upgrade || request.method === 'CONNECT')\n\n    this.statusCode = null\n    this.statusText = ''\n    this.shouldKeepAlive = null\n\n    assert(this.headers.length % 2 === 0)\n    this.headers = []\n    this.headersSize = 0\n\n    socket.unshift(head)\n\n    socket[kParser].destroy()\n    socket[kParser] = null\n\n    socket[kClient] = null\n    socket[kError] = null\n    socket\n      .removeListener('error', onSocketError)\n      .removeListener('readable', onSocketReadable)\n      .removeListener('end', onSocketEnd)\n      .removeListener('close', onSocketClose)\n\n    client[kSocket] = null\n    client[kQueue][client[kRunningIdx]++] = null\n    client.emit('disconnect', client[kUrl], [client], new InformationalError('upgrade'))\n\n    try {\n      request.onUpgrade(statusCode, headers, socket)\n    } catch (err) {\n      util.destroy(socket, err)\n    }\n\n    resume(client)\n  }\n\n  onHeadersComplete (statusCode, upgrade, shouldKeepAlive) {\n    const { client, socket, headers, statusText } = this\n\n    /* istanbul ignore next: difficult to make a test case for */\n    if (socket.destroyed) {\n      return -1\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n\n    /* istanbul ignore next: difficult to make a test case for */\n    if (!request) {\n      return -1\n    }\n\n    assert(!this.upgrade)\n    assert(this.statusCode < 200)\n\n    if (statusCode === 100) {\n      util.destroy(socket, new SocketError('bad response', util.getSocketInfo(socket)))\n      return -1\n    }\n\n    /* this can only happen if server is misbehaving */\n    if (upgrade && !request.upgrade) {\n      util.destroy(socket, new SocketError('bad upgrade', util.getSocketInfo(socket)))\n      return -1\n    }\n\n    assert.strictEqual(this.timeoutType, TIMEOUT_HEADERS)\n\n    this.statusCode = statusCode\n    this.shouldKeepAlive = (\n      shouldKeepAlive ||\n      // Override llhttp value which does not allow keepAlive for HEAD.\n      (request.method === 'HEAD' && !socket[kReset] && this.connection.toLowerCase() === 'keep-alive')\n    )\n\n    if (this.statusCode >= 200) {\n      const bodyTimeout = request.bodyTimeout != null\n        ? request.bodyTimeout\n        : client[kBodyTimeout]\n      this.setTimeout(bodyTimeout, TIMEOUT_BODY)\n    } else if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n\n    if (request.method === 'CONNECT') {\n      assert(client[kRunning] === 1)\n      this.upgrade = true\n      return 2\n    }\n\n    if (upgrade) {\n      assert(client[kRunning] === 1)\n      this.upgrade = true\n      return 2\n    }\n\n    assert(this.headers.length % 2 === 0)\n    this.headers = []\n    this.headersSize = 0\n\n    if (this.shouldKeepAlive && client[kPipelining]) {\n      const keepAliveTimeout = this.keepAlive ? util.parseKeepAliveTimeout(this.keepAlive) : null\n\n      if (keepAliveTimeout != null) {\n        const timeout = Math.min(\n          keepAliveTimeout - client[kKeepAliveTimeoutThreshold],\n          client[kKeepAliveMaxTimeout]\n        )\n        if (timeout <= 0) {\n          socket[kReset] = true\n        } else {\n          client[kKeepAliveTimeoutValue] = timeout\n        }\n      } else {\n        client[kKeepAliveTimeoutValue] = client[kKeepAliveDefaultTimeout]\n      }\n    } else {\n      // Stop more requests from being dispatched.\n      socket[kReset] = true\n    }\n\n    const pause = request.onHeaders(statusCode, headers, this.resume, statusText) === false\n\n    if (request.aborted) {\n      return -1\n    }\n\n    if (request.method === 'HEAD') {\n      return 1\n    }\n\n    if (statusCode < 200) {\n      return 1\n    }\n\n    if (socket[kBlocking]) {\n      socket[kBlocking] = false\n      resume(client)\n    }\n\n    return pause ? constants.ERROR.PAUSED : 0\n  }\n\n  onBody (buf) {\n    const { client, socket, statusCode, maxResponseSize } = this\n\n    if (socket.destroyed) {\n      return -1\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n    assert(request)\n\n    assert.strictEqual(this.timeoutType, TIMEOUT_BODY)\n    if (this.timeout) {\n      // istanbul ignore else: only for jest\n      if (this.timeout.refresh) {\n        this.timeout.refresh()\n      }\n    }\n\n    assert(statusCode >= 200)\n\n    if (maxResponseSize > -1 && this.bytesRead + buf.length > maxResponseSize) {\n      util.destroy(socket, new ResponseExceededMaxSizeError())\n      return -1\n    }\n\n    this.bytesRead += buf.length\n\n    if (request.onData(buf) === false) {\n      return constants.ERROR.PAUSED\n    }\n  }\n\n  onMessageComplete () {\n    const { client, socket, statusCode, upgrade, headers, contentLength, bytesRead, shouldKeepAlive } = this\n\n    if (socket.destroyed && (!statusCode || shouldKeepAlive)) {\n      return -1\n    }\n\n    if (upgrade) {\n      return\n    }\n\n    const request = client[kQueue][client[kRunningIdx]]\n    assert(request)\n\n    assert(statusCode >= 100)\n\n    this.statusCode = null\n    this.statusText = ''\n    this.bytesRead = 0\n    this.contentLength = ''\n    this.keepAlive = ''\n    this.connection = ''\n\n    assert(this.headers.length % 2 === 0)\n    this.headers = []\n    this.headersSize = 0\n\n    if (statusCode < 200) {\n      return\n    }\n\n    /* istanbul ignore next: should be handled by llhttp? */\n    if (request.method !== 'HEAD' && contentLength && bytesRead !== parseInt(contentLength, 10)) {\n      util.destroy(socket, new ResponseContentLengthMismatchError())\n      return -1\n    }\n\n    request.onComplete(headers)\n\n    client[kQueue][client[kRunningIdx]++] = null\n\n    if (socket[kWriting]) {\n      assert.strictEqual(client[kRunning], 0)\n      // Response completed before request.\n      util.destroy(socket, new InformationalError('reset'))\n      return constants.ERROR.PAUSED\n    } else if (!shouldKeepAlive) {\n      util.destroy(socket, new InformationalError('reset'))\n      return constants.ERROR.PAUSED\n    } else if (socket[kReset] && client[kRunning] === 0) {\n      // Destroy socket once all requests have completed.\n      // The request at the tail of the pipeline is the one\n      // that requested reset and no further requests should\n      // have been queued since then.\n      util.destroy(socket, new InformationalError('reset'))\n      return constants.ERROR.PAUSED\n    } else if (client[kPipelining] === 1) {\n      // We must wait a full event loop cycle to reuse this socket to make sure\n      // that non-spec compliant servers are not closing the connection even if they\n      // said they won't.\n      setImmediate(resume, client)\n    } else {\n      resume(client)\n    }\n  }\n}\n\nfunction onParserTimeout (parser) {\n  const { socket, timeoutType, client } = parser\n\n  /* istanbul ignore else */\n  if (timeoutType === TIMEOUT_HEADERS) {\n    if (!socket[kWriting] || socket.writableNeedDrain || client[kRunning] > 1) {\n      assert(!parser.paused, 'cannot be paused while waiting for headers')\n      util.destroy(socket, new HeadersTimeoutError())\n    }\n  } else if (timeoutType === TIMEOUT_BODY) {\n    if (!parser.paused) {\n      util.destroy(socket, new BodyTimeoutError())\n    }\n  } else if (timeoutType === TIMEOUT_IDLE) {\n    assert(client[kRunning] === 0 && client[kKeepAliveTimeoutValue])\n    util.destroy(socket, new InformationalError('socket idle timeout'))\n  }\n}\n\nfunction onSocketReadable () {\n  const { [kParser]: parser } = this\n  if (parser) {\n    parser.readMore()\n  }\n}\n\nfunction onSocketError (err) {\n  const { [kClient]: client, [kParser]: parser } = this\n\n  assert(err.code !== 'ERR_TLS_CERT_ALTNAME_INVALID')\n\n  if (client[kHTTPConnVersion] !== 'h2') {\n    // On Mac OS, we get an ECONNRESET even if there is a full body to be forwarded\n    // to the user.\n    if (err.code === 'ECONNRESET' && parser.statusCode && !parser.shouldKeepAlive) {\n      // We treat all incoming data so for as a valid response.\n      parser.onMessageComplete()\n      return\n    }\n  }\n\n  this[kError] = err\n\n  onError(this[kClient], err)\n}\n\nfunction onError (client, err) {\n  if (\n    client[kRunning] === 0 &&\n    err.code !== 'UND_ERR_INFO' &&\n    err.code !== 'UND_ERR_SOCKET'\n  ) {\n    // Error is not caused by running request and not a recoverable\n    // socket error.\n\n    assert(client[kPendingIdx] === client[kRunningIdx])\n\n    const requests = client[kQueue].splice(client[kRunningIdx])\n    for (let i = 0; i < requests.length; i++) {\n      const request = requests[i]\n      errorRequest(client, request, err)\n    }\n    assert(client[kSize] === 0)\n  }\n}\n\nfunction onSocketEnd () {\n  const { [kParser]: parser, [kClient]: client } = this\n\n  if (client[kHTTPConnVersion] !== 'h2') {\n    if (parser.statusCode && !parser.shouldKeepAlive) {\n      // We treat all incoming data so far as a valid response.\n      parser.onMessageComplete()\n      return\n    }\n  }\n\n  util.destroy(this, new SocketError('other side closed', util.getSocketInfo(this)))\n}\n\nfunction onSocketClose () {\n  const { [kClient]: client, [kParser]: parser } = this\n\n  if (client[kHTTPConnVersion] === 'h1' && parser) {\n    if (!this[kError] && parser.statusCode && !parser.shouldKeepAlive) {\n      // We treat all incoming data so far as a valid response.\n      parser.onMessageComplete()\n    }\n\n    this[kParser].destroy()\n    this[kParser] = null\n  }\n\n  const err = this[kError] || new SocketError('closed', util.getSocketInfo(this))\n\n  client[kSocket] = null\n\n  if (client.destroyed) {\n    assert(client[kPending] === 0)\n\n    // Fail entire queue.\n    const requests = client[kQueue].splice(client[kRunningIdx])\n    for (let i = 0; i < requests.length; i++) {\n      const request = requests[i]\n      errorRequest(client, request, err)\n    }\n  } else if (client[kRunning] > 0 && err.code !== 'UND_ERR_INFO') {\n    // Fail head of pipeline.\n    const request = client[kQueue][client[kRunningIdx]]\n    client[kQueue][client[kRunningIdx]++] = null\n\n    errorRequest(client, request, err)\n  }\n\n  client[kPendingIdx] = client[kRunningIdx]\n\n  assert(client[kRunning] === 0)\n\n  client.emit('disconnect', client[kUrl], [client], err)\n\n  resume(client)\n}\n\nasync function connect (client) {\n  assert(!client[kConnecting])\n  assert(!client[kSocket])\n\n  let { host, hostname, protocol, port } = client[kUrl]\n\n  // Resolve ipv6\n  if (hostname[0] === '[') {\n    const idx = hostname.indexOf(']')\n\n    assert(idx !== -1)\n    const ip = hostname.substring(1, idx)\n\n    assert(net.isIP(ip))\n    hostname = ip\n  }\n\n  client[kConnecting] = true\n\n  if (channels.beforeConnect.hasSubscribers) {\n    channels.beforeConnect.publish({\n      connectParams: {\n        host,\n        hostname,\n        protocol,\n        port,\n        servername: client[kServerName],\n        localAddress: client[kLocalAddress]\n      },\n      connector: client[kConnector]\n    })\n  }\n\n  try {\n    const socket = await new Promise((resolve, reject) => {\n      client[kConnector]({\n        host,\n        hostname,\n        protocol,\n        port,\n        servername: client[kServerName],\n        localAddress: client[kLocalAddress]\n      }, (err, socket) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(socket)\n        }\n      })\n    })\n\n    if (client.destroyed) {\n      util.destroy(socket.on('error', () => {}), new ClientDestroyedError())\n      return\n    }\n\n    client[kConnecting] = false\n\n    assert(socket)\n\n    const isH2 = socket.alpnProtocol === 'h2'\n    if (isH2) {\n      if (!h2ExperimentalWarned) {\n        h2ExperimentalWarned = true\n        process.emitWarning('H2 support is experimental, expect them to change at any time.', {\n          code: 'UNDICI-H2'\n        })\n      }\n\n      const session = http2.connect(client[kUrl], {\n        createConnection: () => socket,\n        peerMaxConcurrentStreams: client[kHTTP2SessionState].maxConcurrentStreams\n      })\n\n      client[kHTTPConnVersion] = 'h2'\n      session[kClient] = client\n      session[kSocket] = socket\n      session.on('error', onHttp2SessionError)\n      session.on('frameError', onHttp2FrameError)\n      session.on('end', onHttp2SessionEnd)\n      session.on('goaway', onHTTP2GoAway)\n      session.on('close', onSocketClose)\n      session.unref()\n\n      client[kHTTP2Session] = session\n      socket[kHTTP2Session] = session\n    } else {\n      if (!llhttpInstance) {\n        llhttpInstance = await llhttpPromise\n        llhttpPromise = null\n      }\n\n      socket[kNoRef] = false\n      socket[kWriting] = false\n      socket[kReset] = false\n      socket[kBlocking] = false\n      socket[kParser] = new Parser(client, socket, llhttpInstance)\n    }\n\n    socket[kCounter] = 0\n    socket[kMaxRequests] = client[kMaxRequests]\n    socket[kClient] = client\n    socket[kError] = null\n\n    socket\n      .on('error', onSocketError)\n      .on('readable', onSocketReadable)\n      .on('end', onSocketEnd)\n      .on('close', onSocketClose)\n\n    client[kSocket] = socket\n\n    if (channels.connected.hasSubscribers) {\n      channels.connected.publish({\n        connectParams: {\n          host,\n          hostname,\n          protocol,\n          port,\n          servername: client[kServerName],\n          localAddress: client[kLocalAddress]\n        },\n        connector: client[kConnector],\n        socket\n      })\n    }\n    client.emit('connect', client[kUrl], [client])\n  } catch (err) {\n    if (client.destroyed) {\n      return\n    }\n\n    client[kConnecting] = false\n\n    if (channels.connectError.hasSubscribers) {\n      channels.connectError.publish({\n        connectParams: {\n          host,\n          hostname,\n          protocol,\n          port,\n          servername: client[kServerName],\n          localAddress: client[kLocalAddress]\n        },\n        connector: client[kConnector],\n        error: err\n      })\n    }\n\n    if (err.code === 'ERR_TLS_CERT_ALTNAME_INVALID') {\n      assert(client[kRunning] === 0)\n      while (client[kPending] > 0 && client[kQueue][client[kPendingIdx]].servername === client[kServerName]) {\n        const request = client[kQueue][client[kPendingIdx]++]\n        errorRequest(client, request, err)\n      }\n    } else {\n      onError(client, err)\n    }\n\n    client.emit('connectionError', client[kUrl], [client], err)\n  }\n\n  resume(client)\n}\n\nfunction emitDrain (client) {\n  client[kNeedDrain] = 0\n  client.emit('drain', client[kUrl], [client])\n}\n\nfunction resume (client, sync) {\n  if (client[kResuming] === 2) {\n    return\n  }\n\n  client[kResuming] = 2\n\n  _resume(client, sync)\n  client[kResuming] = 0\n\n  if (client[kRunningIdx] > 256) {\n    client[kQueue].splice(0, client[kRunningIdx])\n    client[kPendingIdx] -= client[kRunningIdx]\n    client[kRunningIdx] = 0\n  }\n}\n\nfunction _resume (client, sync) {\n  while (true) {\n    if (client.destroyed) {\n      assert(client[kPending] === 0)\n      return\n    }\n\n    if (client[kClosedResolve] && !client[kSize]) {\n      client[kClosedResolve]()\n      client[kClosedResolve] = null\n      return\n    }\n\n    const socket = client[kSocket]\n\n    if (socket && !socket.destroyed && socket.alpnProtocol !== 'h2') {\n      if (client[kSize] === 0) {\n        if (!socket[kNoRef] && socket.unref) {\n          socket.unref()\n          socket[kNoRef] = true\n        }\n      } else if (socket[kNoRef] && socket.ref) {\n        socket.ref()\n        socket[kNoRef] = false\n      }\n\n      if (client[kSize] === 0) {\n        if (socket[kParser].timeoutType !== TIMEOUT_IDLE) {\n          socket[kParser].setTimeout(client[kKeepAliveTimeoutValue], TIMEOUT_IDLE)\n        }\n      } else if (client[kRunning] > 0 && socket[kParser].statusCode < 200) {\n        if (socket[kParser].timeoutType !== TIMEOUT_HEADERS) {\n          const request = client[kQueue][client[kRunningIdx]]\n          const headersTimeout = request.headersTimeout != null\n            ? request.headersTimeout\n            : client[kHeadersTimeout]\n          socket[kParser].setTimeout(headersTimeout, TIMEOUT_HEADERS)\n        }\n      }\n    }\n\n    if (client[kBusy]) {\n      client[kNeedDrain] = 2\n    } else if (client[kNeedDrain] === 2) {\n      if (sync) {\n        client[kNeedDrain] = 1\n        process.nextTick(emitDrain, client)\n      } else {\n        emitDrain(client)\n      }\n      continue\n    }\n\n    if (client[kPending] === 0) {\n      return\n    }\n\n    if (client[kRunning] >= (client[kPipelining] || 1)) {\n      return\n    }\n\n    const request = client[kQueue][client[kPendingIdx]]\n\n    if (client[kUrl].protocol === 'https:' && client[kServerName] !== request.servername) {\n      if (client[kRunning] > 0) {\n        return\n      }\n\n      client[kServerName] = request.servername\n\n      if (socket && socket.servername !== request.servername) {\n        util.destroy(socket, new InformationalError('servername changed'))\n        return\n      }\n    }\n\n    if (client[kConnecting]) {\n      return\n    }\n\n    if (!socket && !client[kHTTP2Session]) {\n      connect(client)\n      return\n    }\n\n    if (socket.destroyed || socket[kWriting] || socket[kReset] || socket[kBlocking]) {\n      return\n    }\n\n    if (client[kRunning] > 0 && !request.idempotent) {\n      // Non-idempotent request cannot be retried.\n      // Ensure that no other requests are inflight and\n      // could cause failure.\n      return\n    }\n\n    if (client[kRunning] > 0 && (request.upgrade || request.method === 'CONNECT')) {\n      // Don't dispatch an upgrade until all preceding requests have completed.\n      // A misbehaving server might upgrade the connection before all pipelined\n      // request has completed.\n      return\n    }\n\n    if (client[kRunning] > 0 && util.bodyLength(request.body) !== 0 &&\n      (util.isStream(request.body) || util.isAsyncIterable(request.body))) {\n      // Request with stream or iterator body can error while other requests\n      // are inflight and indirectly error those as well.\n      // Ensure this doesn't happen by waiting for inflight\n      // to complete before dispatching.\n\n      // Request with stream or iterator body cannot be retried.\n      // Ensure that no other requests are inflight and\n      // could cause failure.\n      return\n    }\n\n    if (!request.aborted && write(client, request)) {\n      client[kPendingIdx]++\n    } else {\n      client[kQueue].splice(client[kPendingIdx], 1)\n    }\n  }\n}\n\n// https://www.rfc-editor.org/rfc/rfc7230#section-3.3.2\nfunction shouldSendContentLength (method) {\n  return method !== 'GET' && method !== 'HEAD' && method !== 'OPTIONS' && method !== 'TRACE' && method !== 'CONNECT'\n}\n\nfunction write (client, request) {\n  if (client[kHTTPConnVersion] === 'h2') {\n    writeH2(client, client[kHTTP2Session], request)\n    return\n  }\n\n  const { body, method, path, host, upgrade, headers, blocking, reset } = request\n\n  // https://tools.ietf.org/html/rfc7231#section-4.3.1\n  // https://tools.ietf.org/html/rfc7231#section-4.3.2\n  // https://tools.ietf.org/html/rfc7231#section-4.3.5\n\n  // Sending a payload body on a request that does not\n  // expect it can cause undefined behavior on some\n  // servers and corrupt connection state. Do not\n  // re-use the connection for further requests.\n\n  const expectsPayload = (\n    method === 'PUT' ||\n    method === 'POST' ||\n    method === 'PATCH'\n  )\n\n  if (body && typeof body.read === 'function') {\n    // Try to read EOF in order to get length.\n    body.read(0)\n  }\n\n  const bodyLength = util.bodyLength(body)\n\n  let contentLength = bodyLength\n\n  if (contentLength === null) {\n    contentLength = request.contentLength\n  }\n\n  if (contentLength === 0 && !expectsPayload) {\n    // https://tools.ietf.org/html/rfc7230#section-3.3.2\n    // A user agent SHOULD NOT send a Content-Length header field when\n    // the request message does not contain a payload body and the method\n    // semantics do not anticipate such a body.\n\n    contentLength = null\n  }\n\n  // https://github.com/nodejs/undici/issues/2046\n  // A user agent may send a Content-Length header with 0 value, this should be allowed.\n  if (shouldSendContentLength(method) && contentLength > 0 && request.contentLength !== null && request.contentLength !== contentLength) {\n    if (client[kStrictContentLength]) {\n      errorRequest(client, request, new RequestContentLengthMismatchError())\n      return false\n    }\n\n    process.emitWarning(new RequestContentLengthMismatchError())\n  }\n\n  const socket = client[kSocket]\n\n  try {\n    request.onConnect((err) => {\n      if (request.aborted || request.completed) {\n        return\n      }\n\n      errorRequest(client, request, err || new RequestAbortedError())\n\n      util.destroy(socket, new InformationalError('aborted'))\n    })\n  } catch (err) {\n    errorRequest(client, request, err)\n  }\n\n  if (request.aborted) {\n    return false\n  }\n\n  if (method === 'HEAD') {\n    // https://github.com/mcollina/undici/issues/258\n    // Close after a HEAD request to interop with misbehaving servers\n    // that may send a body in the response.\n\n    socket[kReset] = true\n  }\n\n  if (upgrade || method === 'CONNECT') {\n    // On CONNECT or upgrade, block pipeline from dispatching further\n    // requests on this connection.\n\n    socket[kReset] = true\n  }\n\n  if (reset != null) {\n    socket[kReset] = reset\n  }\n\n  if (client[kMaxRequests] && socket[kCounter]++ >= client[kMaxRequests]) {\n    socket[kReset] = true\n  }\n\n  if (blocking) {\n    socket[kBlocking] = true\n  }\n\n  let header = `${method} ${path} HTTP/1.1\\r\\n`\n\n  if (typeof host === 'string') {\n    header += `host: ${host}\\r\\n`\n  } else {\n    header += client[kHostHeader]\n  }\n\n  if (upgrade) {\n    header += `connection: upgrade\\r\\nupgrade: ${upgrade}\\r\\n`\n  } else if (client[kPipelining] && !socket[kReset]) {\n    header += 'connection: keep-alive\\r\\n'\n  } else {\n    header += 'connection: close\\r\\n'\n  }\n\n  if (headers) {\n    header += headers\n  }\n\n  if (channels.sendHeaders.hasSubscribers) {\n    channels.sendHeaders.publish({ request, headers: header, socket })\n  }\n\n  /* istanbul ignore else: assertion */\n  if (!body || bodyLength === 0) {\n    if (contentLength === 0) {\n      socket.write(`${header}content-length: 0\\r\\n\\r\\n`, 'latin1')\n    } else {\n      assert(contentLength === null, 'no body must not have content length')\n      socket.write(`${header}\\r\\n`, 'latin1')\n    }\n    request.onRequestSent()\n  } else if (util.isBuffer(body)) {\n    assert(contentLength === body.byteLength, 'buffer body must have content length')\n\n    socket.cork()\n    socket.write(`${header}content-length: ${contentLength}\\r\\n\\r\\n`, 'latin1')\n    socket.write(body)\n    socket.uncork()\n    request.onBodySent(body)\n    request.onRequestSent()\n    if (!expectsPayload) {\n      socket[kReset] = true\n    }\n  } else if (util.isBlobLike(body)) {\n    if (typeof body.stream === 'function') {\n      writeIterable({ body: body.stream(), client, request, socket, contentLength, header, expectsPayload })\n    } else {\n      writeBlob({ body, client, request, socket, contentLength, header, expectsPayload })\n    }\n  } else if (util.isStream(body)) {\n    writeStream({ body, client, request, socket, contentLength, header, expectsPayload })\n  } else if (util.isIterable(body)) {\n    writeIterable({ body, client, request, socket, contentLength, header, expectsPayload })\n  } else {\n    assert(false)\n  }\n\n  return true\n}\n\nfunction writeH2 (client, session, request) {\n  const { body, method, path, host, upgrade, expectContinue, signal, headers: reqHeaders } = request\n\n  let headers\n  if (typeof reqHeaders === 'string') headers = Request[kHTTP2CopyHeaders](reqHeaders.trim())\n  else headers = reqHeaders\n\n  if (upgrade) {\n    errorRequest(client, request, new Error('Upgrade not supported for H2'))\n    return false\n  }\n\n  try {\n    // TODO(HTTP/2): Should we call onConnect immediately or on stream ready event?\n    request.onConnect((err) => {\n      if (request.aborted || request.completed) {\n        return\n      }\n\n      errorRequest(client, request, err || new RequestAbortedError())\n    })\n  } catch (err) {\n    errorRequest(client, request, err)\n  }\n\n  if (request.aborted) {\n    return false\n  }\n\n  /** @type {import('node:http2').ClientHttp2Stream} */\n  let stream\n  const h2State = client[kHTTP2SessionState]\n\n  headers[HTTP2_HEADER_AUTHORITY] = host || client[kHost]\n  headers[HTTP2_HEADER_METHOD] = method\n\n  if (method === 'CONNECT') {\n    session.ref()\n    // we are already connected, streams are pending, first request\n    // will create a new stream. We trigger a request to create the stream and wait until\n    // `ready` event is triggered\n    // We disabled endStream to allow the user to write to the stream\n    stream = session.request(headers, { endStream: false, signal })\n\n    if (stream.id && !stream.pending) {\n      request.onUpgrade(null, null, stream)\n      ++h2State.openStreams\n    } else {\n      stream.once('ready', () => {\n        request.onUpgrade(null, null, stream)\n        ++h2State.openStreams\n      })\n    }\n\n    stream.once('close', () => {\n      h2State.openStreams -= 1\n      // TODO(HTTP/2): unref only if current streams count is 0\n      if (h2State.openStreams === 0) session.unref()\n    })\n\n    return true\n  }\n\n  // https://tools.ietf.org/html/rfc7540#section-8.3\n  // :path and :scheme headers must be omited when sending CONNECT\n\n  headers[HTTP2_HEADER_PATH] = path\n  headers[HTTP2_HEADER_SCHEME] = 'https'\n\n  // https://tools.ietf.org/html/rfc7231#section-4.3.1\n  // https://tools.ietf.org/html/rfc7231#section-4.3.2\n  // https://tools.ietf.org/html/rfc7231#section-4.3.5\n\n  // Sending a payload body on a request that does not\n  // expect it can cause undefined behavior on some\n  // servers and corrupt connection state. Do not\n  // re-use the connection for further requests.\n\n  const expectsPayload = (\n    method === 'PUT' ||\n    method === 'POST' ||\n    method === 'PATCH'\n  )\n\n  if (body && typeof body.read === 'function') {\n    // Try to read EOF in order to get length.\n    body.read(0)\n  }\n\n  let contentLength = util.bodyLength(body)\n\n  if (contentLength == null) {\n    contentLength = request.contentLength\n  }\n\n  if (contentLength === 0 || !expectsPayload) {\n    // https://tools.ietf.org/html/rfc7230#section-3.3.2\n    // A user agent SHOULD NOT send a Content-Length header field when\n    // the request message does not contain a payload body and the method\n    // semantics do not anticipate such a body.\n\n    contentLength = null\n  }\n\n  // https://github.com/nodejs/undici/issues/2046\n  // A user agent may send a Content-Length header with 0 value, this should be allowed.\n  if (shouldSendContentLength(method) && contentLength > 0 && request.contentLength != null && request.contentLength !== contentLength) {\n    if (client[kStrictContentLength]) {\n      errorRequest(client, request, new RequestContentLengthMismatchError())\n      return false\n    }\n\n    process.emitWarning(new RequestContentLengthMismatchError())\n  }\n\n  if (contentLength != null) {\n    assert(body, 'no body must not have content length')\n    headers[HTTP2_HEADER_CONTENT_LENGTH] = `${contentLength}`\n  }\n\n  session.ref()\n\n  const shouldEndStream = method === 'GET' || method === 'HEAD'\n  if (expectContinue) {\n    headers[HTTP2_HEADER_EXPECT] = '100-continue'\n    stream = session.request(headers, { endStream: shouldEndStream, signal })\n\n    stream.once('continue', writeBodyH2)\n  } else {\n    stream = session.request(headers, {\n      endStream: shouldEndStream,\n      signal\n    })\n    writeBodyH2()\n  }\n\n  // Increment counter as we have new several streams open\n  ++h2State.openStreams\n\n  stream.once('response', headers => {\n    const { [HTTP2_HEADER_STATUS]: statusCode, ...realHeaders } = headers\n\n    if (request.onHeaders(Number(statusCode), realHeaders, stream.resume.bind(stream), '') === false) {\n      stream.pause()\n    }\n  })\n\n  stream.once('end', () => {\n    request.onComplete([])\n  })\n\n  stream.on('data', (chunk) => {\n    if (request.onData(chunk) === false) {\n      stream.pause()\n    }\n  })\n\n  stream.once('close', () => {\n    h2State.openStreams -= 1\n    // TODO(HTTP/2): unref only if current streams count is 0\n    if (h2State.openStreams === 0) {\n      session.unref()\n    }\n  })\n\n  stream.once('error', function (err) {\n    if (client[kHTTP2Session] && !client[kHTTP2Session].destroyed && !this.closed && !this.destroyed) {\n      h2State.streams -= 1\n      util.destroy(stream, err)\n    }\n  })\n\n  stream.once('frameError', (type, code) => {\n    const err = new InformationalError(`HTTP/2: \"frameError\" received - type ${type}, code ${code}`)\n    errorRequest(client, request, err)\n\n    if (client[kHTTP2Session] && !client[kHTTP2Session].destroyed && !this.closed && !this.destroyed) {\n      h2State.streams -= 1\n      util.destroy(stream, err)\n    }\n  })\n\n  // stream.on('aborted', () => {\n  //   // TODO(HTTP/2): Support aborted\n  // })\n\n  // stream.on('timeout', () => {\n  //   // TODO(HTTP/2): Support timeout\n  // })\n\n  // stream.on('push', headers => {\n  //   // TODO(HTTP/2): Suppor push\n  // })\n\n  // stream.on('trailers', headers => {\n  //   // TODO(HTTP/2): Support trailers\n  // })\n\n  return true\n\n  function writeBodyH2 () {\n    /* istanbul ignore else: assertion */\n    if (!body) {\n      request.onRequestSent()\n    } else if (util.isBuffer(body)) {\n      assert(contentLength === body.byteLength, 'buffer body must have content length')\n      stream.cork()\n      stream.write(body)\n      stream.uncork()\n      stream.end()\n      request.onBodySent(body)\n      request.onRequestSent()\n    } else if (util.isBlobLike(body)) {\n      if (typeof body.stream === 'function') {\n        writeIterable({\n          client,\n          request,\n          contentLength,\n          h2stream: stream,\n          expectsPayload,\n          body: body.stream(),\n          socket: client[kSocket],\n          header: ''\n        })\n      } else {\n        writeBlob({\n          body,\n          client,\n          request,\n          contentLength,\n          expectsPayload,\n          h2stream: stream,\n          header: '',\n          socket: client[kSocket]\n        })\n      }\n    } else if (util.isStream(body)) {\n      writeStream({\n        body,\n        client,\n        request,\n        contentLength,\n        expectsPayload,\n        socket: client[kSocket],\n        h2stream: stream,\n        header: ''\n      })\n    } else if (util.isIterable(body)) {\n      writeIterable({\n        body,\n        client,\n        request,\n        contentLength,\n        expectsPayload,\n        header: '',\n        h2stream: stream,\n        socket: client[kSocket]\n      })\n    } else {\n      assert(false)\n    }\n  }\n}\n\nfunction writeStream ({ h2stream, body, client, request, socket, contentLength, header, expectsPayload }) {\n  assert(contentLength !== 0 || client[kRunning] === 0, 'stream body cannot be pipelined')\n\n  if (client[kHTTPConnVersion] === 'h2') {\n    // For HTTP/2, is enough to pipe the stream\n    const pipe = pipeline(\n      body,\n      h2stream,\n      (err) => {\n        if (err) {\n          util.destroy(body, err)\n          util.destroy(h2stream, err)\n        } else {\n          request.onRequestSent()\n        }\n      }\n    )\n\n    pipe.on('data', onPipeData)\n    pipe.once('end', () => {\n      pipe.removeListener('data', onPipeData)\n      util.destroy(pipe)\n    })\n\n    function onPipeData (chunk) {\n      request.onBodySent(chunk)\n    }\n\n    return\n  }\n\n  let finished = false\n\n  const writer = new AsyncWriter({ socket, request, contentLength, client, expectsPayload, header })\n\n  const onData = function (chunk) {\n    if (finished) {\n      return\n    }\n\n    try {\n      if (!writer.write(chunk) && this.pause) {\n        this.pause()\n      }\n    } catch (err) {\n      util.destroy(this, err)\n    }\n  }\n  const onDrain = function () {\n    if (finished) {\n      return\n    }\n\n    if (body.resume) {\n      body.resume()\n    }\n  }\n  const onAbort = function () {\n    if (finished) {\n      return\n    }\n    const err = new RequestAbortedError()\n    queueMicrotask(() => onFinished(err))\n  }\n  const onFinished = function (err) {\n    if (finished) {\n      return\n    }\n\n    finished = true\n\n    assert(socket.destroyed || (socket[kWriting] && client[kRunning] <= 1))\n\n    socket\n      .off('drain', onDrain)\n      .off('error', onFinished)\n\n    body\n      .removeListener('data', onData)\n      .removeListener('end', onFinished)\n      .removeListener('error', onFinished)\n      .removeListener('close', onAbort)\n\n    if (!err) {\n      try {\n        writer.end()\n      } catch (er) {\n        err = er\n      }\n    }\n\n    writer.destroy(err)\n\n    if (err && (err.code !== 'UND_ERR_INFO' || err.message !== 'reset')) {\n      util.destroy(body, err)\n    } else {\n      util.destroy(body)\n    }\n  }\n\n  body\n    .on('data', onData)\n    .on('end', onFinished)\n    .on('error', onFinished)\n    .on('close', onAbort)\n\n  if (body.resume) {\n    body.resume()\n  }\n\n  socket\n    .on('drain', onDrain)\n    .on('error', onFinished)\n}\n\nasync function writeBlob ({ h2stream, body, client, request, socket, contentLength, header, expectsPayload }) {\n  assert(contentLength === body.size, 'blob body must have content length')\n\n  const isH2 = client[kHTTPConnVersion] === 'h2'\n  try {\n    if (contentLength != null && contentLength !== body.size) {\n      throw new RequestContentLengthMismatchError()\n    }\n\n    const buffer = Buffer.from(await body.arrayBuffer())\n\n    if (isH2) {\n      h2stream.cork()\n      h2stream.write(buffer)\n      h2stream.uncork()\n    } else {\n      socket.cork()\n      socket.write(`${header}content-length: ${contentLength}\\r\\n\\r\\n`, 'latin1')\n      socket.write(buffer)\n      socket.uncork()\n    }\n\n    request.onBodySent(buffer)\n    request.onRequestSent()\n\n    if (!expectsPayload) {\n      socket[kReset] = true\n    }\n\n    resume(client)\n  } catch (err) {\n    util.destroy(isH2 ? h2stream : socket, err)\n  }\n}\n\nasync function writeIterable ({ h2stream, body, client, request, socket, contentLength, header, expectsPayload }) {\n  assert(contentLength !== 0 || client[kRunning] === 0, 'iterator body cannot be pipelined')\n\n  let callback = null\n  function onDrain () {\n    if (callback) {\n      const cb = callback\n      callback = null\n      cb()\n    }\n  }\n\n  const waitForDrain = () => new Promise((resolve, reject) => {\n    assert(callback === null)\n\n    if (socket[kError]) {\n      reject(socket[kError])\n    } else {\n      callback = resolve\n    }\n  })\n\n  if (client[kHTTPConnVersion] === 'h2') {\n    h2stream\n      .on('close', onDrain)\n      .on('drain', onDrain)\n\n    try {\n      // It's up to the user to somehow abort the async iterable.\n      for await (const chunk of body) {\n        if (socket[kError]) {\n          throw socket[kError]\n        }\n\n        const res = h2stream.write(chunk)\n        request.onBodySent(chunk)\n        if (!res) {\n          await waitForDrain()\n        }\n      }\n    } catch (err) {\n      h2stream.destroy(err)\n    } finally {\n      request.onRequestSent()\n      h2stream.end()\n      h2stream\n        .off('close', onDrain)\n        .off('drain', onDrain)\n    }\n\n    return\n  }\n\n  socket\n    .on('close', onDrain)\n    .on('drain', onDrain)\n\n  const writer = new AsyncWriter({ socket, request, contentLength, client, expectsPayload, header })\n  try {\n    // It's up to the user to somehow abort the async iterable.\n    for await (const chunk of body) {\n      if (socket[kError]) {\n        throw socket[kError]\n      }\n\n      if (!writer.write(chunk)) {\n        await waitForDrain()\n      }\n    }\n\n    writer.end()\n  } catch (err) {\n    writer.destroy(err)\n  } finally {\n    socket\n      .off('close', onDrain)\n      .off('drain', onDrain)\n  }\n}\n\nclass AsyncWriter {\n  constructor ({ socket, request, contentLength, client, expectsPayload, header }) {\n    this.socket = socket\n    this.request = request\n    this.contentLength = contentLength\n    this.client = client\n    this.bytesWritten = 0\n    this.expectsPayload = expectsPayload\n    this.header = header\n\n    socket[kWriting] = true\n  }\n\n  write (chunk) {\n    const { socket, request, contentLength, client, bytesWritten, expectsPayload, header } = this\n\n    if (socket[kError]) {\n      throw socket[kError]\n    }\n\n    if (socket.destroyed) {\n      return false\n    }\n\n    const len = Buffer.byteLength(chunk)\n    if (!len) {\n      return true\n    }\n\n    // We should defer writing chunks.\n    if (contentLength !== null && bytesWritten + len > contentLength) {\n      if (client[kStrictContentLength]) {\n        throw new RequestContentLengthMismatchError()\n      }\n\n      process.emitWarning(new RequestContentLengthMismatchError())\n    }\n\n    socket.cork()\n\n    if (bytesWritten === 0) {\n      if (!expectsPayload) {\n        socket[kReset] = true\n      }\n\n      if (contentLength === null) {\n        socket.write(`${header}transfer-encoding: chunked\\r\\n`, 'latin1')\n      } else {\n        socket.write(`${header}content-length: ${contentLength}\\r\\n\\r\\n`, 'latin1')\n      }\n    }\n\n    if (contentLength === null) {\n      socket.write(`\\r\\n${len.toString(16)}\\r\\n`, 'latin1')\n    }\n\n    this.bytesWritten += len\n\n    const ret = socket.write(chunk)\n\n    socket.uncork()\n\n    request.onBodySent(chunk)\n\n    if (!ret) {\n      if (socket[kParser].timeout && socket[kParser].timeoutType === TIMEOUT_HEADERS) {\n        // istanbul ignore else: only for jest\n        if (socket[kParser].timeout.refresh) {\n          socket[kParser].timeout.refresh()\n        }\n      }\n    }\n\n    return ret\n  }\n\n  end () {\n    const { socket, contentLength, client, bytesWritten, expectsPayload, header, request } = this\n    request.onRequestSent()\n\n    socket[kWriting] = false\n\n    if (socket[kError]) {\n      throw socket[kError]\n    }\n\n    if (socket.destroyed) {\n      return\n    }\n\n    if (bytesWritten === 0) {\n      if (expectsPayload) {\n        // https://tools.ietf.org/html/rfc7230#section-3.3.2\n        // A user agent SHOULD send a Content-Length in a request message when\n        // no Transfer-Encoding is sent and the request method defines a meaning\n        // for an enclosed payload body.\n\n        socket.write(`${header}content-length: 0\\r\\n\\r\\n`, 'latin1')\n      } else {\n        socket.write(`${header}\\r\\n`, 'latin1')\n      }\n    } else if (contentLength === null) {\n      socket.write('\\r\\n0\\r\\n\\r\\n', 'latin1')\n    }\n\n    if (contentLength !== null && bytesWritten !== contentLength) {\n      if (client[kStrictContentLength]) {\n        throw new RequestContentLengthMismatchError()\n      } else {\n        process.emitWarning(new RequestContentLengthMismatchError())\n      }\n    }\n\n    if (socket[kParser].timeout && socket[kParser].timeoutType === TIMEOUT_HEADERS) {\n      // istanbul ignore else: only for jest\n      if (socket[kParser].timeout.refresh) {\n        socket[kParser].timeout.refresh()\n      }\n    }\n\n    resume(client)\n  }\n\n  destroy (err) {\n    const { socket, client } = this\n\n    socket[kWriting] = false\n\n    if (err) {\n      assert(client[kRunning] <= 1, 'pipeline should only contain this request')\n      util.destroy(socket, err)\n    }\n  }\n}\n\nfunction errorRequest (client, request, err) {\n  try {\n    request.onError(err)\n    assert(request.aborted)\n  } catch (err) {\n    client.emit('error', err)\n  }\n}\n\nmodule.exports = Client\n", "/* eslint-disable */\n\n'use strict'\n\n// Extracted from node/lib/internal/fixed_queue.js\n\n// Currently optimal queue size, tested on V8 6.0 - 6.6. Must be power of two.\nconst kSize = 2048;\nconst kMask = kSize - 1;\n\n// The FixedQueue is implemented as a singly-linked list of fixed-size\n// circular buffers. It looks something like this:\n//\n//  head                                                       tail\n//    |                                                          |\n//    v                                                          v\n// +-----------+ <-----\\       +-----------+ <------\\         +-----------+\n// |  [null]   |        \\----- |   next    |         \\------- |   next    |\n// +-----------+               +-----------+                  +-----------+\n// |   item    | <-- bottom    |   item    | <-- bottom       |  [empty]  |\n// |   item    |               |   item    |                  |  [empty]  |\n// |   item    |               |   item    |                  |  [empty]  |\n// |   item    |               |   item    |                  |  [empty]  |\n// |   item    |               |   item    |       bottom --> |   item    |\n// |   item    |               |   item    |                  |   item    |\n// |    ...    |               |    ...    |                  |    ...    |\n// |   item    |               |   item    |                  |   item    |\n// |   item    |               |   item    |                  |   item    |\n// |  [empty]  | <-- top       |   item    |                  |   item    |\n// |  [empty]  |               |   item    |                  |   item    |\n// |  [empty]  |               |  [empty]  | <-- top  top --> |  [empty]  |\n// +-----------+               +-----------+                  +-----------+\n//\n// Or, if there is only one circular buffer, it looks something\n// like either of these:\n//\n//  head   tail                                 head   tail\n//    |     |                                     |     |\n//    v     v                                     v     v\n// +-----------+                               +-----------+\n// |  [null]   |                               |  [null]   |\n// +-----------+                               +-----------+\n// |  [empty]  |                               |   item    |\n// |  [empty]  |                               |   item    |\n// |   item    | <-- bottom            top --> |  [empty]  |\n// |   item    |                               |  [empty]  |\n// |  [empty]  | <-- top            bottom --> |   item    |\n// |  [empty]  |                               |   item    |\n// +-----------+                               +-----------+\n//\n// Adding a value means moving `top` forward by one, removing means\n// moving `bottom` forward by one. After reaching the end, the queue\n// wraps around.\n//\n// When `top === bottom` the current queue is empty and when\n// `top + 1 === bottom` it's full. This wastes a single space of storage\n// but allows much quicker checks.\n\nclass FixedCircularBuffer {\n  constructor() {\n    this.bottom = 0;\n    this.top = 0;\n    this.list = new Array(kSize);\n    this.next = null;\n  }\n\n  isEmpty() {\n    return this.top === this.bottom;\n  }\n\n  isFull() {\n    return ((this.top + 1) & kMask) === this.bottom;\n  }\n\n  push(data) {\n    this.list[this.top] = data;\n    this.top = (this.top + 1) & kMask;\n  }\n\n  shift() {\n    const nextItem = this.list[this.bottom];\n    if (nextItem === undefined)\n      return null;\n    this.list[this.bottom] = undefined;\n    this.bottom = (this.bottom + 1) & kMask;\n    return nextItem;\n  }\n}\n\nmodule.exports = class FixedQueue {\n  constructor() {\n    this.head = this.tail = new FixedCircularBuffer();\n  }\n\n  isEmpty() {\n    return this.head.isEmpty();\n  }\n\n  push(data) {\n    if (this.head.isFull()) {\n      // Head is full: Creates a new queue, sets the old queue's `.next` to it,\n      // and sets it as the new main queue.\n      this.head = this.head.next = new FixedCircularBuffer();\n    }\n    this.head.push(data);\n  }\n\n  shift() {\n    const tail = this.tail;\n    const next = tail.shift();\n    if (tail.isEmpty() && tail.next !== null) {\n      // If there is another queue, it forms the new tail.\n      this.tail = tail.next;\n    }\n    return next;\n  }\n};\n", "const { kFree, kConnected, kPending, kQueued, kRunning, kSize } = require('./core/symbols')\nconst kPool = Symbol('pool')\n\nclass PoolStats {\n  constructor (pool) {\n    this[kPool] = pool\n  }\n\n  get connected () {\n    return this[kPool][kConnected]\n  }\n\n  get free () {\n    return this[kPool][kFree]\n  }\n\n  get pending () {\n    return this[kPool][kPending]\n  }\n\n  get queued () {\n    return this[kPool][kQueued]\n  }\n\n  get running () {\n    return this[kPool][kRunning]\n  }\n\n  get size () {\n    return this[kPool][kSize]\n  }\n}\n\nmodule.exports = PoolStats\n", "'use strict'\n\nconst DispatcherBase = require('./dispatcher-base')\nconst FixedQueue = require('./node/fixed-queue')\nconst { kConnected, kSize, kRunning, kPending, kQueued, kBusy, kFree, kUrl, kClose, kDestroy, kDispatch } = require('./core/symbols')\nconst PoolStats = require('./pool-stats')\n\nconst kClients = Symbol('clients')\nconst kNeedDrain = Symbol('needDrain')\nconst kQueue = Symbol('queue')\nconst kClosedResolve = Symbol('closed resolve')\nconst kOnDrain = Symbol('onDrain')\nconst kOnConnect = Symbol('onConnect')\nconst kOnDisconnect = Symbol('onDisconnect')\nconst kOnConnectionError = Symbol('onConnectionError')\nconst kGetDispatcher = Symbol('get dispatcher')\nconst kAddClient = Symbol('add client')\nconst kRemoveClient = Symbol('remove client')\nconst kStats = Symbol('stats')\n\nclass PoolBase extends DispatcherBase {\n  constructor () {\n    super()\n\n    this[kQueue] = new FixedQueue()\n    this[kClients] = []\n    this[kQueued] = 0\n\n    const pool = this\n\n    this[kOnDrain] = function onDrain (origin, targets) {\n      const queue = pool[kQueue]\n\n      let needDrain = false\n\n      while (!needDrain) {\n        const item = queue.shift()\n        if (!item) {\n          break\n        }\n        pool[kQueued]--\n        needDrain = !this.dispatch(item.opts, item.handler)\n      }\n\n      this[kNeedDrain] = needDrain\n\n      if (!this[kNeedDrain] && pool[kNeedDrain]) {\n        pool[kNeedDrain] = false\n        pool.emit('drain', origin, [pool, ...targets])\n      }\n\n      if (pool[kClosedResolve] && queue.isEmpty()) {\n        Promise\n          .all(pool[kClients].map(c => c.close()))\n          .then(pool[kClosedResolve])\n      }\n    }\n\n    this[kOnConnect] = (origin, targets) => {\n      pool.emit('connect', origin, [pool, ...targets])\n    }\n\n    this[kOnDisconnect] = (origin, targets, err) => {\n      pool.emit('disconnect', origin, [pool, ...targets], err)\n    }\n\n    this[kOnConnectionError] = (origin, targets, err) => {\n      pool.emit('connectionError', origin, [pool, ...targets], err)\n    }\n\n    this[kStats] = new PoolStats(this)\n  }\n\n  get [kBusy] () {\n    return this[kNeedDrain]\n  }\n\n  get [kConnected] () {\n    return this[kClients].filter(client => client[kConnected]).length\n  }\n\n  get [kFree] () {\n    return this[kClients].filter(client => client[kConnected] && !client[kNeedDrain]).length\n  }\n\n  get [kPending] () {\n    let ret = this[kQueued]\n    for (const { [kPending]: pending } of this[kClients]) {\n      ret += pending\n    }\n    return ret\n  }\n\n  get [kRunning] () {\n    let ret = 0\n    for (const { [kRunning]: running } of this[kClients]) {\n      ret += running\n    }\n    return ret\n  }\n\n  get [kSize] () {\n    let ret = this[kQueued]\n    for (const { [kSize]: size } of this[kClients]) {\n      ret += size\n    }\n    return ret\n  }\n\n  get stats () {\n    return this[kStats]\n  }\n\n  async [kClose] () {\n    if (this[kQueue].isEmpty()) {\n      return Promise.all(this[kClients].map(c => c.close()))\n    } else {\n      return new Promise((resolve) => {\n        this[kClosedResolve] = resolve\n      })\n    }\n  }\n\n  async [kDestroy] (err) {\n    while (true) {\n      const item = this[kQueue].shift()\n      if (!item) {\n        break\n      }\n      item.handler.onError(err)\n    }\n\n    return Promise.all(this[kClients].map(c => c.destroy(err)))\n  }\n\n  [kDispatch] (opts, handler) {\n    const dispatcher = this[kGetDispatcher]()\n\n    if (!dispatcher) {\n      this[kNeedDrain] = true\n      this[kQueue].push({ opts, handler })\n      this[kQueued]++\n    } else if (!dispatcher.dispatch(opts, handler)) {\n      dispatcher[kNeedDrain] = true\n      this[kNeedDrain] = !this[kGetDispatcher]()\n    }\n\n    return !this[kNeedDrain]\n  }\n\n  [kAddClient] (client) {\n    client\n      .on('drain', this[kOnDrain])\n      .on('connect', this[kOnConnect])\n      .on('disconnect', this[kOnDisconnect])\n      .on('connectionError', this[kOnConnectionError])\n\n    this[kClients].push(client)\n\n    if (this[kNeedDrain]) {\n      process.nextTick(() => {\n        if (this[kNeedDrain]) {\n          this[kOnDrain](client[kUrl], [this, client])\n        }\n      })\n    }\n\n    return this\n  }\n\n  [kRemoveClient] (client) {\n    client.close(() => {\n      const idx = this[kClients].indexOf(client)\n      if (idx !== -1) {\n        this[kClients].splice(idx, 1)\n      }\n    })\n\n    this[kNeedDrain] = this[kClients].some(dispatcher => (\n      !dispatcher[kNeedDrain] &&\n      dispatcher.closed !== true &&\n      dispatcher.destroyed !== true\n    ))\n  }\n}\n\nmodule.exports = {\n  PoolBase,\n  kClients,\n  kNeedDrain,\n  kAddClient,\n  kRemoveClient,\n  kGetDispatcher\n}\n", "'use strict'\n\nconst {\n  PoolBase,\n  kClients,\n  kNeedDrain,\n  kAddClient,\n  kGetDispatcher\n} = require('./pool-base')\nconst Client = require('./client')\nconst {\n  InvalidArgumentError\n} = require('./core/errors')\nconst util = require('./core/util')\nconst { kUrl, kInterceptors } = require('./core/symbols')\nconst buildConnector = require('./core/connect')\n\nconst kOptions = Symbol('options')\nconst kConnections = Symbol('connections')\nconst kFactory = Symbol('factory')\n\nfunction defaultFactory (origin, opts) {\n  return new Client(origin, opts)\n}\n\nclass Pool extends PoolBase {\n  constructor (origin, {\n    connections,\n    factory = defaultFactory,\n    connect,\n    connectTimeout,\n    tls,\n    maxCachedSessions,\n    socketPath,\n    autoSelectFamily,\n    autoSelectFamilyAttemptTimeout,\n    allowH2,\n    ...options\n  } = {}) {\n    super()\n\n    if (connections != null && (!Number.isFinite(connections) || connections < 0)) {\n      throw new InvalidArgumentError('invalid connections')\n    }\n\n    if (typeof factory !== 'function') {\n      throw new InvalidArgumentError('factory must be a function.')\n    }\n\n    if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') {\n      throw new InvalidArgumentError('connect must be a function or an object')\n    }\n\n    if (typeof connect !== 'function') {\n      connect = buildConnector({\n        ...tls,\n        maxCachedSessions,\n        allowH2,\n        socketPath,\n        timeout: connectTimeout,\n        ...(util.nodeHasAutoSelectFamily && autoSelectFamily ? { autoSelectFamily, autoSelectFamilyAttemptTimeout } : undefined),\n        ...connect\n      })\n    }\n\n    this[kInterceptors] = options.interceptors && options.interceptors.Pool && Array.isArray(options.interceptors.Pool)\n      ? options.interceptors.Pool\n      : []\n    this[kConnections] = connections || null\n    this[kUrl] = util.parseOrigin(origin)\n    this[kOptions] = { ...util.deepClone(options), connect, allowH2 }\n    this[kOptions].interceptors = options.interceptors\n      ? { ...options.interceptors }\n      : undefined\n    this[kFactory] = factory\n  }\n\n  [kGetDispatcher] () {\n    let dispatcher = this[kClients].find(dispatcher => !dispatcher[kNeedDrain])\n\n    if (dispatcher) {\n      return dispatcher\n    }\n\n    if (!this[kConnections] || this[kClients].length < this[kConnections]) {\n      dispatcher = this[kFactory](this[kUrl], this[kOptions])\n      this[kAddClient](dispatcher)\n    }\n\n    return dispatcher\n  }\n}\n\nmodule.exports = Pool\n", "'use strict'\n\nconst {\n  BalancedPoolMissingUpstreamError,\n  InvalidArgumentError\n} = require('./core/errors')\nconst {\n  PoolBase,\n  kClients,\n  kNeedDrain,\n  kAddClient,\n  kRemoveClient,\n  kGetDispatcher\n} = require('./pool-base')\nconst Pool = require('./pool')\nconst { kUrl, kInterceptors } = require('./core/symbols')\nconst { parseOrigin } = require('./core/util')\nconst kFactory = Symbol('factory')\n\nconst kOptions = Symbol('options')\nconst kGreatestCommonDivisor = Symbol('kGreatestCommonDivisor')\nconst kCurrentWeight = Symbol('kCurrentWeight')\nconst kIndex = Symbol('kIndex')\nconst kWeight = Symbol('kWeight')\nconst kMaxWeightPerServer = Symbol('kMaxWeightPerServer')\nconst kErrorPenalty = Symbol('kErrorPenalty')\n\nfunction getGreatestCommonDivisor (a, b) {\n  if (b === 0) return a\n  return getGreatestCommonDivisor(b, a % b)\n}\n\nfunction defaultFactory (origin, opts) {\n  return new Pool(origin, opts)\n}\n\nclass BalancedPool extends PoolBase {\n  constructor (upstreams = [], { factory = defaultFactory, ...opts } = {}) {\n    super()\n\n    this[kOptions] = opts\n    this[kIndex] = -1\n    this[kCurrentWeight] = 0\n\n    this[kMaxWeightPerServer] = this[kOptions].maxWeightPerServer || 100\n    this[kErrorPenalty] = this[kOptions].errorPenalty || 15\n\n    if (!Array.isArray(upstreams)) {\n      upstreams = [upstreams]\n    }\n\n    if (typeof factory !== 'function') {\n      throw new InvalidArgumentError('factory must be a function.')\n    }\n\n    this[kInterceptors] = opts.interceptors && opts.interceptors.BalancedPool && Array.isArray(opts.interceptors.BalancedPool)\n      ? opts.interceptors.BalancedPool\n      : []\n    this[kFactory] = factory\n\n    for (const upstream of upstreams) {\n      this.addUpstream(upstream)\n    }\n    this._updateBalancedPoolStats()\n  }\n\n  addUpstream (upstream) {\n    const upstreamOrigin = parseOrigin(upstream).origin\n\n    if (this[kClients].find((pool) => (\n      pool[kUrl].origin === upstreamOrigin &&\n      pool.closed !== true &&\n      pool.destroyed !== true\n    ))) {\n      return this\n    }\n    const pool = this[kFactory](upstreamOrigin, Object.assign({}, this[kOptions]))\n\n    this[kAddClient](pool)\n    pool.on('connect', () => {\n      pool[kWeight] = Math.min(this[kMaxWeightPerServer], pool[kWeight] + this[kErrorPenalty])\n    })\n\n    pool.on('connectionError', () => {\n      pool[kWeight] = Math.max(1, pool[kWeight] - this[kErrorPenalty])\n      this._updateBalancedPoolStats()\n    })\n\n    pool.on('disconnect', (...args) => {\n      const err = args[2]\n      if (err && err.code === 'UND_ERR_SOCKET') {\n        // decrease the weight of the pool.\n        pool[kWeight] = Math.max(1, pool[kWeight] - this[kErrorPenalty])\n        this._updateBalancedPoolStats()\n      }\n    })\n\n    for (const client of this[kClients]) {\n      client[kWeight] = this[kMaxWeightPerServer]\n    }\n\n    this._updateBalancedPoolStats()\n\n    return this\n  }\n\n  _updateBalancedPoolStats () {\n    this[kGreatestCommonDivisor] = this[kClients].map(p => p[kWeight]).reduce(getGreatestCommonDivisor, 0)\n  }\n\n  removeUpstream (upstream) {\n    const upstreamOrigin = parseOrigin(upstream).origin\n\n    const pool = this[kClients].find((pool) => (\n      pool[kUrl].origin === upstreamOrigin &&\n      pool.closed !== true &&\n      pool.destroyed !== true\n    ))\n\n    if (pool) {\n      this[kRemoveClient](pool)\n    }\n\n    return this\n  }\n\n  get upstreams () {\n    return this[kClients]\n      .filter(dispatcher => dispatcher.closed !== true && dispatcher.destroyed !== true)\n      .map((p) => p[kUrl].origin)\n  }\n\n  [kGetDispatcher] () {\n    // We validate that pools is greater than 0,\n    // otherwise we would have to wait until an upstream\n    // is added, which might never happen.\n    if (this[kClients].length === 0) {\n      throw new BalancedPoolMissingUpstreamError()\n    }\n\n    const dispatcher = this[kClients].find(dispatcher => (\n      !dispatcher[kNeedDrain] &&\n      dispatcher.closed !== true &&\n      dispatcher.destroyed !== true\n    ))\n\n    if (!dispatcher) {\n      return\n    }\n\n    const allClientsBusy = this[kClients].map(pool => pool[kNeedDrain]).reduce((a, b) => a && b, true)\n\n    if (allClientsBusy) {\n      return\n    }\n\n    let counter = 0\n\n    let maxWeightIndex = this[kClients].findIndex(pool => !pool[kNeedDrain])\n\n    while (counter++ < this[kClients].length) {\n      this[kIndex] = (this[kIndex] + 1) % this[kClients].length\n      const pool = this[kClients][this[kIndex]]\n\n      // find pool index with the largest weight\n      if (pool[kWeight] > this[kClients][maxWeightIndex][kWeight] && !pool[kNeedDrain]) {\n        maxWeightIndex = this[kIndex]\n      }\n\n      // decrease the current weight every `this[kClients].length`.\n      if (this[kIndex] === 0) {\n        // Set the current weight to the next lower weight.\n        this[kCurrentWeight] = this[kCurrentWeight] - this[kGreatestCommonDivisor]\n\n        if (this[kCurrentWeight] <= 0) {\n          this[kCurrentWeight] = this[kMaxWeightPerServer]\n        }\n      }\n      if (pool[kWeight] >= this[kCurrentWeight] && (!pool[kNeedDrain])) {\n        return pool\n      }\n    }\n\n    this[kCurrentWeight] = this[kClients][maxWeightIndex][kWeight]\n    this[kIndex] = maxWeightIndex\n    return this[kClients][maxWeightIndex]\n  }\n}\n\nmodule.exports = BalancedPool\n", "'use strict'\n\n/* istanbul ignore file: only for Node 12 */\n\nconst { kConnected, kSize } = require('../core/symbols')\n\nclass CompatWeakRef {\n  constructor (value) {\n    this.value = value\n  }\n\n  deref () {\n    return this.value[kConnected] === 0 && this.value[kSize] === 0\n      ? undefined\n      : this.value\n  }\n}\n\nclass CompatFinalizer {\n  constructor (finalizer) {\n    this.finalizer = finalizer\n  }\n\n  register (dispatcher, key) {\n    if (dispatcher.on) {\n      dispatcher.on('disconnect', () => {\n        if (dispatcher[kConnected] === 0 && dispatcher[kSize] === 0) {\n          this.finalizer(key)\n        }\n      })\n    }\n  }\n}\n\nmodule.exports = function () {\n  // FIXME: remove workaround when the Node bug is fixed\n  // https://github.com/nodejs/node/issues/49344#issuecomment-1741776308\n  if (process.env.NODE_V8_COVERAGE) {\n    return {\n      WeakRef: CompatWeakRef,\n      FinalizationRegistry: CompatFinalizer\n    }\n  }\n  return {\n    WeakRef: global.WeakRef || CompatWeakRef,\n    FinalizationRegistry: global.FinalizationRegistry || CompatFinalizer\n  }\n}\n", "'use strict'\n\nconst { InvalidArgumentError } = require('./core/errors')\nconst { kClients, kRunning, kClose, kDestroy, kDispatch, kInterceptors } = require('./core/symbols')\nconst DispatcherBase = require('./dispatcher-base')\nconst Pool = require('./pool')\nconst Client = require('./client')\nconst util = require('./core/util')\nconst createRedirectInterceptor = require('./interceptor/redirectInterceptor')\nconst { WeakRef, FinalizationRegistry } = require('./compat/dispatcher-weakref')()\n\nconst kOnConnect = Symbol('onConnect')\nconst kOnDisconnect = Symbol('onDisconnect')\nconst kOnConnectionError = Symbol('onConnectionError')\nconst kMaxRedirections = Symbol('maxRedirections')\nconst kOnDrain = Symbol('onDrain')\nconst kFactory = Symbol('factory')\nconst kFinalizer = Symbol('finalizer')\nconst kOptions = Symbol('options')\n\nfunction defaultFactory (origin, opts) {\n  return opts && opts.connections === 1\n    ? new Client(origin, opts)\n    : new Pool(origin, opts)\n}\n\nclass Agent extends DispatcherBase {\n  constructor ({ factory = defaultFactory, maxRedirections = 0, connect, ...options } = {}) {\n    super()\n\n    if (typeof factory !== 'function') {\n      throw new InvalidArgumentError('factory must be a function.')\n    }\n\n    if (connect != null && typeof connect !== 'function' && typeof connect !== 'object') {\n      throw new InvalidArgumentError('connect must be a function or an object')\n    }\n\n    if (!Number.isInteger(maxRedirections) || maxRedirections < 0) {\n      throw new InvalidArgumentError('maxRedirections must be a positive number')\n    }\n\n    if (connect && typeof connect !== 'function') {\n      connect = { ...connect }\n    }\n\n    this[kInterceptors] = options.interceptors && options.interceptors.Agent && Array.isArray(options.interceptors.Agent)\n      ? options.interceptors.Agent\n      : [createRedirectInterceptor({ maxRedirections })]\n\n    this[kOptions] = { ...util.deepClone(options), connect }\n    this[kOptions].interceptors = options.interceptors\n      ? { ...options.interceptors }\n      : undefined\n    this[kMaxRedirections] = maxRedirections\n    this[kFactory] = factory\n    this[kClients] = new Map()\n    this[kFinalizer] = new FinalizationRegistry(/* istanbul ignore next: gc is undeterministic */ key => {\n      const ref = this[kClients].get(key)\n      if (ref !== undefined && ref.deref() === undefined) {\n        this[kClients].delete(key)\n      }\n    })\n\n    const agent = this\n\n    this[kOnDrain] = (origin, targets) => {\n      agent.emit('drain', origin, [agent, ...targets])\n    }\n\n    this[kOnConnect] = (origin, targets) => {\n      agent.emit('connect', origin, [agent, ...targets])\n    }\n\n    this[kOnDisconnect] = (origin, targets, err) => {\n      agent.emit('disconnect', origin, [agent, ...targets], err)\n    }\n\n    this[kOnConnectionError] = (origin, targets, err) => {\n      agent.emit('connectionError', origin, [agent, ...targets], err)\n    }\n  }\n\n  get [kRunning] () {\n    let ret = 0\n    for (const ref of this[kClients].values()) {\n      const client = ref.deref()\n      /* istanbul ignore next: gc is undeterministic */\n      if (client) {\n        ret += client[kRunning]\n      }\n    }\n    return ret\n  }\n\n  [kDispatch] (opts, handler) {\n    let key\n    if (opts.origin && (typeof opts.origin === 'string' || opts.origin instanceof URL)) {\n      key = String(opts.origin)\n    } else {\n      throw new InvalidArgumentError('opts.origin must be a non-empty string or URL.')\n    }\n\n    const ref = this[kClients].get(key)\n\n    let dispatcher = ref ? ref.deref() : null\n    if (!dispatcher) {\n      dispatcher = this[kFactory](opts.origin, this[kOptions])\n        .on('drain', this[kOnDrain])\n        .on('connect', this[kOnConnect])\n        .on('disconnect', this[kOnDisconnect])\n        .on('connectionError', this[kOnConnectionError])\n\n      this[kClients].set(key, new WeakRef(dispatcher))\n      this[kFinalizer].register(dispatcher, key)\n    }\n\n    return dispatcher.dispatch(opts, handler)\n  }\n\n  async [kClose] () {\n    const closePromises = []\n    for (const ref of this[kClients].values()) {\n      const client = ref.deref()\n      /* istanbul ignore else: gc is undeterministic */\n      if (client) {\n        closePromises.push(client.close())\n      }\n    }\n\n    await Promise.all(closePromises)\n  }\n\n  async [kDestroy] (err) {\n    const destroyPromises = []\n    for (const ref of this[kClients].values()) {\n      const client = ref.deref()\n      /* istanbul ignore else: gc is undeterministic */\n      if (client) {\n        destroyPromises.push(client.destroy(err))\n      }\n    }\n\n    await Promise.all(destroyPromises)\n  }\n}\n\nmodule.exports = Agent\n", "// Ported from https://github.com/nodejs/undici/pull/907\n\n'use strict'\n\nconst assert = require('assert')\nconst { Readable } = require('stream')\nconst { RequestAbortedError, NotSupportedError, InvalidArgumentError } = require('../core/errors')\nconst util = require('../core/util')\nconst { ReadableStreamFrom, toUSVString } = require('../core/util')\n\nlet Blob\n\nconst kConsume = Symbol('kConsume')\nconst kReading = Symbol('kReading')\nconst kBody = Symbol('kBody')\nconst kAbort = Symbol('abort')\nconst kContentType = Symbol('kContentType')\n\nconst noop = () => {}\n\nmodule.exports = class BodyReadable extends Readable {\n  constructor ({\n    resume,\n    abort,\n    contentType = '',\n    highWaterMark = 64 * 1024 // Same as nodejs fs streams.\n  }) {\n    super({\n      autoDestroy: true,\n      read: resume,\n      highWaterMark\n    })\n\n    this._readableState.dataEmitted = false\n\n    this[kAbort] = abort\n    this[kConsume] = null\n    this[kBody] = null\n    this[kContentType] = contentType\n\n    // Is stream being consumed through Readable API?\n    // This is an optimization so that we avoid checking\n    // for 'data' and 'readable' listeners in the hot path\n    // inside push().\n    this[kReading] = false\n  }\n\n  destroy (err) {\n    if (this.destroyed) {\n      // Node < 16\n      return this\n    }\n\n    if (!err && !this._readableState.endEmitted) {\n      err = new RequestAbortedError()\n    }\n\n    if (err) {\n      this[kAbort]()\n    }\n\n    return super.destroy(err)\n  }\n\n  emit (ev, ...args) {\n    if (ev === 'data') {\n      // Node < 16.7\n      this._readableState.dataEmitted = true\n    } else if (ev === 'error') {\n      // Node < 16\n      this._readableState.errorEmitted = true\n    }\n    return super.emit(ev, ...args)\n  }\n\n  on (ev, ...args) {\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = true\n    }\n    return super.on(ev, ...args)\n  }\n\n  addListener (ev, ...args) {\n    return this.on(ev, ...args)\n  }\n\n  off (ev, ...args) {\n    const ret = super.off(ev, ...args)\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = (\n        this.listenerCount('data') > 0 ||\n        this.listenerCount('readable') > 0\n      )\n    }\n    return ret\n  }\n\n  removeListener (ev, ...args) {\n    return this.off(ev, ...args)\n  }\n\n  push (chunk) {\n    if (this[kConsume] && chunk !== null && this.readableLength === 0) {\n      consumePush(this[kConsume], chunk)\n      return this[kReading] ? super.push(chunk) : true\n    }\n    return super.push(chunk)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-text\n  async text () {\n    return consume(this, 'text')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-json\n  async json () {\n    return consume(this, 'json')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-blob\n  async blob () {\n    return consume(this, 'blob')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-arraybuffer\n  async arrayBuffer () {\n    return consume(this, 'arrayBuffer')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-formdata\n  async formData () {\n    // TODO: Implement.\n    throw new NotSupportedError()\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-bodyused\n  get bodyUsed () {\n    return util.isDisturbed(this)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-body\n  get body () {\n    if (!this[kBody]) {\n      this[kBody] = ReadableStreamFrom(this)\n      if (this[kConsume]) {\n        // TODO: Is this the best way to force a lock?\n        this[kBody].getReader() // Ensure stream is locked.\n        assert(this[kBody].locked)\n      }\n    }\n    return this[kBody]\n  }\n\n  dump (opts) {\n    let limit = opts && Number.isFinite(opts.limit) ? opts.limit : 262144\n    const signal = opts && opts.signal\n\n    if (signal) {\n      try {\n        if (typeof signal !== 'object' || !('aborted' in signal)) {\n          throw new InvalidArgumentError('signal must be an AbortSignal')\n        }\n        util.throwIfAborted(signal)\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n\n    if (this.closed) {\n      return Promise.resolve(null)\n    }\n\n    return new Promise((resolve, reject) => {\n      const signalListenerCleanup = signal\n        ? util.addAbortListener(signal, () => {\n          this.destroy()\n        })\n        : noop\n\n      this\n        .on('close', function () {\n          signalListenerCleanup()\n          if (signal && signal.aborted) {\n            reject(signal.reason || Object.assign(new Error('The operation was aborted'), { name: 'AbortError' }))\n          } else {\n            resolve(null)\n          }\n        })\n        .on('error', noop)\n        .on('data', function (chunk) {\n          limit -= chunk.length\n          if (limit <= 0) {\n            this.destroy()\n          }\n        })\n        .resume()\n    })\n  }\n}\n\n// https://streams.spec.whatwg.org/#readablestream-locked\nfunction isLocked (self) {\n  // Consume is an implicit lock.\n  return (self[kBody] && self[kBody].locked === true) || self[kConsume]\n}\n\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction isUnusable (self) {\n  return util.isDisturbed(self) || isLocked(self)\n}\n\nasync function consume (stream, type) {\n  if (isUnusable(stream)) {\n    throw new TypeError('unusable')\n  }\n\n  assert(!stream[kConsume])\n\n  return new Promise((resolve, reject) => {\n    stream[kConsume] = {\n      type,\n      stream,\n      resolve,\n      reject,\n      length: 0,\n      body: []\n    }\n\n    stream\n      .on('error', function (err) {\n        consumeFinish(this[kConsume], err)\n      })\n      .on('close', function () {\n        if (this[kConsume].body !== null) {\n          consumeFinish(this[kConsume], new RequestAbortedError())\n        }\n      })\n\n    process.nextTick(consumeStart, stream[kConsume])\n  })\n}\n\nfunction consumeStart (consume) {\n  if (consume.body === null) {\n    return\n  }\n\n  const { _readableState: state } = consume.stream\n\n  for (const chunk of state.buffer) {\n    consumePush(consume, chunk)\n  }\n\n  if (state.endEmitted) {\n    consumeEnd(this[kConsume])\n  } else {\n    consume.stream.on('end', function () {\n      consumeEnd(this[kConsume])\n    })\n  }\n\n  consume.stream.resume()\n\n  while (consume.stream.read() != null) {\n    // Loop\n  }\n}\n\nfunction consumeEnd (consume) {\n  const { type, body, resolve, stream, length } = consume\n\n  try {\n    if (type === 'text') {\n      resolve(toUSVString(Buffer.concat(body)))\n    } else if (type === 'json') {\n      resolve(JSON.parse(Buffer.concat(body)))\n    } else if (type === 'arrayBuffer') {\n      const dst = new Uint8Array(length)\n\n      let pos = 0\n      for (const buf of body) {\n        dst.set(buf, pos)\n        pos += buf.byteLength\n      }\n\n      resolve(dst.buffer)\n    } else if (type === 'blob') {\n      if (!Blob) {\n        Blob = require('buffer').Blob\n      }\n      resolve(new Blob(body, { type: stream[kContentType] }))\n    }\n\n    consumeFinish(consume)\n  } catch (err) {\n    stream.destroy(err)\n  }\n}\n\nfunction consumePush (consume, chunk) {\n  consume.length += chunk.length\n  consume.body.push(chunk)\n}\n\nfunction consumeFinish (consume, err) {\n  if (consume.body === null) {\n    return\n  }\n\n  if (err) {\n    consume.reject(err)\n  } else {\n    consume.resolve()\n  }\n\n  consume.type = null\n  consume.stream = null\n  consume.resolve = null\n  consume.reject = null\n  consume.length = 0\n  consume.body = null\n}\n", "const assert = require('assert')\nconst {\n  ResponseStatusCodeError\n} = require('../core/errors')\nconst { toUSVString } = require('../core/util')\n\nasync function getResolveErrorBodyCallback ({ callback, body, contentType, statusCode, statusMessage, headers }) {\n  assert(body)\n\n  let chunks = []\n  let limit = 0\n\n  for await (const chunk of body) {\n    chunks.push(chunk)\n    limit += chunk.length\n    if (limit > 128 * 1024) {\n      chunks = null\n      break\n    }\n  }\n\n  if (statusCode === 204 || !contentType || !chunks) {\n    process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers))\n    return\n  }\n\n  try {\n    if (contentType.startsWith('application/json')) {\n      const payload = JSON.parse(toUSVString(Buffer.concat(chunks)))\n      process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers, payload))\n      return\n    }\n\n    if (contentType.startsWith('text/')) {\n      const payload = toUSVString(Buffer.concat(chunks))\n      process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers, payload))\n      return\n    }\n  } catch (err) {\n    // Process in a fallback if error\n  }\n\n  process.nextTick(callback, new ResponseStatusCodeError(`Response status code ${statusCode}${statusMessage ? `: ${statusMessage}` : ''}`, statusCode, headers))\n}\n\nmodule.exports = { getResolveErrorBodyCallback }\n", "const { addAbortListener } = require('../core/util')\nconst { RequestAbortedError } = require('../core/errors')\n\nconst kListener = Symbol('kListener')\nconst kSignal = Symbol('kSignal')\n\nfunction abort (self) {\n  if (self.abort) {\n    self.abort()\n  } else {\n    self.onError(new RequestAbortedError())\n  }\n}\n\nfunction addSignal (self, signal) {\n  self[kSignal] = null\n  self[kListener] = null\n\n  if (!signal) {\n    return\n  }\n\n  if (signal.aborted) {\n    abort(self)\n    return\n  }\n\n  self[kSignal] = signal\n  self[kListener] = () => {\n    abort(self)\n  }\n\n  addAbortListener(self[kSignal], self[kListener])\n}\n\nfunction removeSignal (self) {\n  if (!self[kSignal]) {\n    return\n  }\n\n  if ('removeEventListener' in self[kSignal]) {\n    self[kSignal].removeEventListener('abort', self[kListener])\n  } else {\n    self[kSignal].removeListener('abort', self[kListener])\n  }\n\n  self[kSignal] = null\n  self[kListener] = null\n}\n\nmodule.exports = {\n  addSignal,\n  removeSignal\n}\n", "'use strict'\n\nconst Readable = require('./readable')\nconst {\n  InvalidArgumentError,\n  RequestAbortedError\n} = require('../core/errors')\nconst util = require('../core/util')\nconst { getResolveErrorBodyCallback } = require('./util')\nconst { AsyncResource } = require('async_hooks')\nconst { addSignal, removeSignal } = require('./abort-signal')\n\nclass RequestHandler extends AsyncResource {\n  constructor (opts, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    const { signal, method, opaque, body, onInfo, responseHeaders, throwOnError, highWaterMark } = opts\n\n    try {\n      if (typeof callback !== 'function') {\n        throw new InvalidArgumentError('invalid callback')\n      }\n\n      if (highWaterMark && (typeof highWaterMark !== 'number' || highWaterMark < 0)) {\n        throw new InvalidArgumentError('invalid highWaterMark')\n      }\n\n      if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n        throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n      }\n\n      if (method === 'CONNECT') {\n        throw new InvalidArgumentError('invalid method')\n      }\n\n      if (onInfo && typeof onInfo !== 'function') {\n        throw new InvalidArgumentError('invalid onInfo callback')\n      }\n\n      super('UNDICI_REQUEST')\n    } catch (err) {\n      if (util.isStream(body)) {\n        util.destroy(body.on('error', util.nop), err)\n      }\n      throw err\n    }\n\n    this.responseHeaders = responseHeaders || null\n    this.opaque = opaque || null\n    this.callback = callback\n    this.res = null\n    this.abort = null\n    this.body = body\n    this.trailers = {}\n    this.context = null\n    this.onInfo = onInfo || null\n    this.throwOnError = throwOnError\n    this.highWaterMark = highWaterMark\n\n    if (util.isStream(body)) {\n      body.on('error', (err) => {\n        this.onError(err)\n      })\n    }\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders (statusCode, rawHeaders, resume, statusMessage) {\n    const { callback, opaque, abort, context, responseHeaders, highWaterMark } = this\n\n    const headers = responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n\n    if (statusCode < 200) {\n      if (this.onInfo) {\n        this.onInfo({ statusCode, headers })\n      }\n      return\n    }\n\n    const parsedHeaders = responseHeaders === 'raw' ? util.parseHeaders(rawHeaders) : headers\n    const contentType = parsedHeaders['content-type']\n    const body = new Readable({ resume, abort, contentType, highWaterMark })\n\n    this.callback = null\n    this.res = body\n    if (callback !== null) {\n      if (this.throwOnError && statusCode >= 400) {\n        this.runInAsyncScope(getResolveErrorBodyCallback, null,\n          { callback, body, contentType, statusCode, statusMessage, headers }\n        )\n      } else {\n        this.runInAsyncScope(callback, null, null, {\n          statusCode,\n          headers,\n          trailers: this.trailers,\n          opaque,\n          body,\n          context\n        })\n      }\n    }\n  }\n\n  onData (chunk) {\n    const { res } = this\n    return res.push(chunk)\n  }\n\n  onComplete (trailers) {\n    const { res } = this\n\n    removeSignal(this)\n\n    util.parseHeaders(trailers, this.trailers)\n\n    res.push(null)\n  }\n\n  onError (err) {\n    const { res, callback, body, opaque } = this\n\n    removeSignal(this)\n\n    if (callback) {\n      // TODO: Does this need queueMicrotask?\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n\n    if (res) {\n      this.res = null\n      // Ensure all queued handlers are invoked before destroying res.\n      queueMicrotask(() => {\n        util.destroy(res, err)\n      })\n    }\n\n    if (body) {\n      this.body = null\n      util.destroy(body, err)\n    }\n  }\n}\n\nfunction request (opts, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      request.call(this, opts, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    this.dispatch(opts, new RequestHandler(opts, callback))\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = request\nmodule.exports.RequestHandler = RequestHandler\n", "'use strict'\n\nconst { finished, PassThrough } = require('stream')\nconst {\n  InvalidArgumentError,\n  InvalidReturnValueError,\n  RequestAbortedError\n} = require('../core/errors')\nconst util = require('../core/util')\nconst { getResolveErrorBodyCallback } = require('./util')\nconst { AsyncResource } = require('async_hooks')\nconst { addSignal, removeSignal } = require('./abort-signal')\n\nclass StreamHandler extends AsyncResource {\n  constructor (opts, factory, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    const { signal, method, opaque, body, onInfo, responseHeaders, throwOnError } = opts\n\n    try {\n      if (typeof callback !== 'function') {\n        throw new InvalidArgumentError('invalid callback')\n      }\n\n      if (typeof factory !== 'function') {\n        throw new InvalidArgumentError('invalid factory')\n      }\n\n      if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n        throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n      }\n\n      if (method === 'CONNECT') {\n        throw new InvalidArgumentError('invalid method')\n      }\n\n      if (onInfo && typeof onInfo !== 'function') {\n        throw new InvalidArgumentError('invalid onInfo callback')\n      }\n\n      super('UNDICI_STREAM')\n    } catch (err) {\n      if (util.isStream(body)) {\n        util.destroy(body.on('error', util.nop), err)\n      }\n      throw err\n    }\n\n    this.responseHeaders = responseHeaders || null\n    this.opaque = opaque || null\n    this.factory = factory\n    this.callback = callback\n    this.res = null\n    this.abort = null\n    this.context = null\n    this.trailers = null\n    this.body = body\n    this.onInfo = onInfo || null\n    this.throwOnError = throwOnError || false\n\n    if (util.isStream(body)) {\n      body.on('error', (err) => {\n        this.onError(err)\n      })\n    }\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders (statusCode, rawHeaders, resume, statusMessage) {\n    const { factory, opaque, context, callback, responseHeaders } = this\n\n    const headers = responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n\n    if (statusCode < 200) {\n      if (this.onInfo) {\n        this.onInfo({ statusCode, headers })\n      }\n      return\n    }\n\n    this.factory = null\n\n    let res\n\n    if (this.throwOnError && statusCode >= 400) {\n      const parsedHeaders = responseHeaders === 'raw' ? util.parseHeaders(rawHeaders) : headers\n      const contentType = parsedHeaders['content-type']\n      res = new PassThrough()\n\n      this.callback = null\n      this.runInAsyncScope(getResolveErrorBodyCallback, null,\n        { callback, body: res, contentType, statusCode, statusMessage, headers }\n      )\n    } else {\n      if (factory === null) {\n        return\n      }\n\n      res = this.runInAsyncScope(factory, null, {\n        statusCode,\n        headers,\n        opaque,\n        context\n      })\n\n      if (\n        !res ||\n        typeof res.write !== 'function' ||\n        typeof res.end !== 'function' ||\n        typeof res.on !== 'function'\n      ) {\n        throw new InvalidReturnValueError('expected Writable')\n      }\n\n      // TODO: Avoid finished. It registers an unnecessary amount of listeners.\n      finished(res, { readable: false }, (err) => {\n        const { callback, res, opaque, trailers, abort } = this\n\n        this.res = null\n        if (err || !res.readable) {\n          util.destroy(res, err)\n        }\n\n        this.callback = null\n        this.runInAsyncScope(callback, null, err || null, { opaque, trailers })\n\n        if (err) {\n          abort()\n        }\n      })\n    }\n\n    res.on('drain', resume)\n\n    this.res = res\n\n    const needDrain = res.writableNeedDrain !== undefined\n      ? res.writableNeedDrain\n      : res._writableState && res._writableState.needDrain\n\n    return needDrain !== true\n  }\n\n  onData (chunk) {\n    const { res } = this\n\n    return res ? res.write(chunk) : true\n  }\n\n  onComplete (trailers) {\n    const { res } = this\n\n    removeSignal(this)\n\n    if (!res) {\n      return\n    }\n\n    this.trailers = util.parseHeaders(trailers)\n\n    res.end()\n  }\n\n  onError (err) {\n    const { res, callback, opaque, body } = this\n\n    removeSignal(this)\n\n    this.factory = null\n\n    if (res) {\n      this.res = null\n      util.destroy(res, err)\n    } else if (callback) {\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n\n    if (body) {\n      this.body = null\n      util.destroy(body, err)\n    }\n  }\n}\n\nfunction stream (opts, factory, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      stream.call(this, opts, factory, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    this.dispatch(opts, new StreamHandler(opts, factory, callback))\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = stream\n", "'use strict'\n\nconst {\n  Readable,\n  Duplex,\n  PassThrough\n} = require('stream')\nconst {\n  InvalidArgumentError,\n  InvalidReturnValueError,\n  RequestAbortedError\n} = require('../core/errors')\nconst util = require('../core/util')\nconst { AsyncResource } = require('async_hooks')\nconst { addSignal, removeSignal } = require('./abort-signal')\nconst assert = require('assert')\n\nconst kResume = Symbol('resume')\n\nclass PipelineRequest extends Readable {\n  constructor () {\n    super({ autoDestroy: true })\n\n    this[kResume] = null\n  }\n\n  _read () {\n    const { [kResume]: resume } = this\n\n    if (resume) {\n      this[kResume] = null\n      resume()\n    }\n  }\n\n  _destroy (err, callback) {\n    this._read()\n\n    callback(err)\n  }\n}\n\nclass PipelineResponse extends Readable {\n  constructor (resume) {\n    super({ autoDestroy: true })\n    this[kResume] = resume\n  }\n\n  _read () {\n    this[kResume]()\n  }\n\n  _destroy (err, callback) {\n    if (!err && !this._readableState.endEmitted) {\n      err = new RequestAbortedError()\n    }\n\n    callback(err)\n  }\n}\n\nclass PipelineHandler extends AsyncResource {\n  constructor (opts, handler) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (typeof handler !== 'function') {\n      throw new InvalidArgumentError('invalid handler')\n    }\n\n    const { signal, method, opaque, onInfo, responseHeaders } = opts\n\n    if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n      throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n    }\n\n    if (method === 'CONNECT') {\n      throw new InvalidArgumentError('invalid method')\n    }\n\n    if (onInfo && typeof onInfo !== 'function') {\n      throw new InvalidArgumentError('invalid onInfo callback')\n    }\n\n    super('UNDICI_PIPELINE')\n\n    this.opaque = opaque || null\n    this.responseHeaders = responseHeaders || null\n    this.handler = handler\n    this.abort = null\n    this.context = null\n    this.onInfo = onInfo || null\n\n    this.req = new PipelineRequest().on('error', util.nop)\n\n    this.ret = new Duplex({\n      readableObjectMode: opts.objectMode,\n      autoDestroy: true,\n      read: () => {\n        const { body } = this\n\n        if (body && body.resume) {\n          body.resume()\n        }\n      },\n      write: (chunk, encoding, callback) => {\n        const { req } = this\n\n        if (req.push(chunk, encoding) || req._readableState.destroyed) {\n          callback()\n        } else {\n          req[kResume] = callback\n        }\n      },\n      destroy: (err, callback) => {\n        const { body, req, res, ret, abort } = this\n\n        if (!err && !ret._readableState.endEmitted) {\n          err = new RequestAbortedError()\n        }\n\n        if (abort && err) {\n          abort()\n        }\n\n        util.destroy(body, err)\n        util.destroy(req, err)\n        util.destroy(res, err)\n\n        removeSignal(this)\n\n        callback(err)\n      }\n    }).on('prefinish', () => {\n      const { req } = this\n\n      // Node < 15 does not call _final in same tick.\n      req.push(null)\n    })\n\n    this.res = null\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    const { ret, res } = this\n\n    assert(!res, 'pipeline cannot be retried')\n\n    if (ret.destroyed) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders (statusCode, rawHeaders, resume) {\n    const { opaque, handler, context } = this\n\n    if (statusCode < 200) {\n      if (this.onInfo) {\n        const headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n        this.onInfo({ statusCode, headers })\n      }\n      return\n    }\n\n    this.res = new PipelineResponse(resume)\n\n    let body\n    try {\n      this.handler = null\n      const headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n      body = this.runInAsyncScope(handler, null, {\n        statusCode,\n        headers,\n        opaque,\n        body: this.res,\n        context\n      })\n    } catch (err) {\n      this.res.on('error', util.nop)\n      throw err\n    }\n\n    if (!body || typeof body.on !== 'function') {\n      throw new InvalidReturnValueError('expected Readable')\n    }\n\n    body\n      .on('data', (chunk) => {\n        const { ret, body } = this\n\n        if (!ret.push(chunk) && body.pause) {\n          body.pause()\n        }\n      })\n      .on('error', (err) => {\n        const { ret } = this\n\n        util.destroy(ret, err)\n      })\n      .on('end', () => {\n        const { ret } = this\n\n        ret.push(null)\n      })\n      .on('close', () => {\n        const { ret } = this\n\n        if (!ret._readableState.ended) {\n          util.destroy(ret, new RequestAbortedError())\n        }\n      })\n\n    this.body = body\n  }\n\n  onData (chunk) {\n    const { res } = this\n    return res.push(chunk)\n  }\n\n  onComplete (trailers) {\n    const { res } = this\n    res.push(null)\n  }\n\n  onError (err) {\n    const { ret } = this\n    this.handler = null\n    util.destroy(ret, err)\n  }\n}\n\nfunction pipeline (opts, handler) {\n  try {\n    const pipelineHandler = new PipelineHandler(opts, handler)\n    this.dispatch({ ...opts, body: pipelineHandler.req }, pipelineHandler)\n    return pipelineHandler.ret\n  } catch (err) {\n    return new PassThrough().destroy(err)\n  }\n}\n\nmodule.exports = pipeline\n", "'use strict'\n\nconst { InvalidArgumentError, RequestAbortedError, SocketError } = require('../core/errors')\nconst { AsyncResource } = require('async_hooks')\nconst util = require('../core/util')\nconst { addSignal, removeSignal } = require('./abort-signal')\nconst assert = require('assert')\n\nclass UpgradeHandler extends AsyncResource {\n  constructor (opts, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    const { signal, opaque, responseHeaders } = opts\n\n    if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n      throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n    }\n\n    super('UNDICI_UPGRADE')\n\n    this.responseHeaders = responseHeaders || null\n    this.opaque = opaque || null\n    this.callback = callback\n    this.abort = null\n    this.context = null\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = null\n  }\n\n  onHeaders () {\n    throw new SocketError('bad upgrade', null)\n  }\n\n  onUpgrade (statusCode, rawHeaders, socket) {\n    const { callback, opaque, context } = this\n\n    assert.strictEqual(statusCode, 101)\n\n    removeSignal(this)\n\n    this.callback = null\n    const headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n    this.runInAsyncScope(callback, null, null, {\n      headers,\n      socket,\n      opaque,\n      context\n    })\n  }\n\n  onError (err) {\n    const { callback, opaque } = this\n\n    removeSignal(this)\n\n    if (callback) {\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n  }\n}\n\nfunction upgrade (opts, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      upgrade.call(this, opts, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    const upgradeHandler = new UpgradeHandler(opts, callback)\n    this.dispatch({\n      ...opts,\n      method: opts.method || 'GET',\n      upgrade: opts.protocol || 'Websocket'\n    }, upgradeHandler)\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = upgrade\n", "'use strict'\n\nconst { AsyncResource } = require('async_hooks')\nconst { InvalidArgumentError, RequestAbortedError, SocketError } = require('../core/errors')\nconst util = require('../core/util')\nconst { addSignal, removeSignal } = require('./abort-signal')\n\nclass ConnectHandler extends AsyncResource {\n  constructor (opts, callback) {\n    if (!opts || typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (typeof callback !== 'function') {\n      throw new InvalidArgumentError('invalid callback')\n    }\n\n    const { signal, opaque, responseHeaders } = opts\n\n    if (signal && typeof signal.on !== 'function' && typeof signal.addEventListener !== 'function') {\n      throw new InvalidArgumentError('signal must be an EventEmitter or EventTarget')\n    }\n\n    super('UNDICI_CONNECT')\n\n    this.opaque = opaque || null\n    this.responseHeaders = responseHeaders || null\n    this.callback = callback\n    this.abort = null\n\n    addSignal(this, signal)\n  }\n\n  onConnect (abort, context) {\n    if (!this.callback) {\n      throw new RequestAbortedError()\n    }\n\n    this.abort = abort\n    this.context = context\n  }\n\n  onHeaders () {\n    throw new SocketError('bad connect', null)\n  }\n\n  onUpgrade (statusCode, rawHeaders, socket) {\n    const { callback, opaque, context } = this\n\n    removeSignal(this)\n\n    this.callback = null\n\n    let headers = rawHeaders\n    // Indicates is an HTTP2Session\n    if (headers != null) {\n      headers = this.responseHeaders === 'raw' ? util.parseRawHeaders(rawHeaders) : util.parseHeaders(rawHeaders)\n    }\n\n    this.runInAsyncScope(callback, null, null, {\n      statusCode,\n      headers,\n      socket,\n      opaque,\n      context\n    })\n  }\n\n  onError (err) {\n    const { callback, opaque } = this\n\n    removeSignal(this)\n\n    if (callback) {\n      this.callback = null\n      queueMicrotask(() => {\n        this.runInAsyncScope(callback, null, err, { opaque })\n      })\n    }\n  }\n}\n\nfunction connect (opts, callback) {\n  if (callback === undefined) {\n    return new Promise((resolve, reject) => {\n      connect.call(this, opts, (err, data) => {\n        return err ? reject(err) : resolve(data)\n      })\n    })\n  }\n\n  try {\n    const connectHandler = new ConnectHandler(opts, callback)\n    this.dispatch({ ...opts, method: 'CONNECT' }, connectHandler)\n  } catch (err) {\n    if (typeof callback !== 'function') {\n      throw err\n    }\n    const opaque = opts && opts.opaque\n    queueMicrotask(() => callback(err, { opaque }))\n  }\n}\n\nmodule.exports = connect\n", "'use strict'\n\nmodule.exports.request = require('./api-request')\nmodule.exports.stream = require('./api-stream')\nmodule.exports.pipeline = require('./api-pipeline')\nmodule.exports.upgrade = require('./api-upgrade')\nmodule.exports.connect = require('./api-connect')\n", "'use strict'\n\nconst { UndiciError } = require('../core/errors')\n\nclass MockNotMatchedError extends UndiciError {\n  constructor (message) {\n    super(message)\n    Error.captureStackTrace(this, MockNotMatchedError)\n    this.name = 'MockNotMatchedError'\n    this.message = message || 'The request does not match any registered mock dispatches'\n    this.code = 'UND_MOCK_ERR_MOCK_NOT_MATCHED'\n  }\n}\n\nmodule.exports = {\n  MockNotMatchedError\n}\n", "'use strict'\n\nmodule.exports = {\n  kAgent: Symbol('agent'),\n  kOptions: Symbol('options'),\n  kFactory: Symbol('factory'),\n  kDispatches: Symbol('dispatches'),\n  kDispatchKey: Symbol('dispatch key'),\n  kDefaultHeaders: Symbol('default headers'),\n  kDefaultTrailers: Symbol('default trailers'),\n  kContentLength: Symbol('content length'),\n  kMockAgent: Symbol('mock agent'),\n  kMockAgentSet: Symbol('mock agent set'),\n  kMockAgentGet: Symbol('mock agent get'),\n  kMockDispatch: Symbol('mock dispatch'),\n  kClose: Symbol('close'),\n  kOriginalClose: Symbol('original agent close'),\n  kOrigin: Symbol('origin'),\n  kIsMockActive: Symbol('is mock active'),\n  kNetConnect: Symbol('net connect'),\n  kGetNetConnect: Symbol('get net connect'),\n  kConnected: Symbol('connected')\n}\n", "'use strict'\n\nconst { MockNotMatchedError } = require('./mock-errors')\nconst {\n  kDispatches,\n  kMockAgent,\n  kOriginalDispatch,\n  kOrigin,\n  kGetNetConnect\n} = require('./mock-symbols')\nconst { buildURL, nop } = require('../core/util')\nconst { STATUS_CODES } = require('http')\nconst {\n  types: {\n    isPromise\n  }\n} = require('util')\n\nfunction matchValue (match, value) {\n  if (typeof match === 'string') {\n    return match === value\n  }\n  if (match instanceof RegExp) {\n    return match.test(value)\n  }\n  if (typeof match === 'function') {\n    return match(value) === true\n  }\n  return false\n}\n\nfunction lowerCaseEntries (headers) {\n  return Object.fromEntries(\n    Object.entries(headers).map(([headerName, headerValue]) => {\n      return [headerName.toLocaleLowerCase(), headerValue]\n    })\n  )\n}\n\n/**\n * @param {import('../../index').Headers|string[]|Record<string, string>} headers\n * @param {string} key\n */\nfunction getHeaderByName (headers, key) {\n  if (Array.isArray(headers)) {\n    for (let i = 0; i < headers.length; i += 2) {\n      if (headers[i].toLocaleLowerCase() === key.toLocaleLowerCase()) {\n        return headers[i + 1]\n      }\n    }\n\n    return undefined\n  } else if (typeof headers.get === 'function') {\n    return headers.get(key)\n  } else {\n    return lowerCaseEntries(headers)[key.toLocaleLowerCase()]\n  }\n}\n\n/** @param {string[]} headers */\nfunction buildHeadersFromArray (headers) { // fetch HeadersList\n  const clone = headers.slice()\n  const entries = []\n  for (let index = 0; index < clone.length; index += 2) {\n    entries.push([clone[index], clone[index + 1]])\n  }\n  return Object.fromEntries(entries)\n}\n\nfunction matchHeaders (mockDispatch, headers) {\n  if (typeof mockDispatch.headers === 'function') {\n    if (Array.isArray(headers)) { // fetch HeadersList\n      headers = buildHeadersFromArray(headers)\n    }\n    return mockDispatch.headers(headers ? lowerCaseEntries(headers) : {})\n  }\n  if (typeof mockDispatch.headers === 'undefined') {\n    return true\n  }\n  if (typeof headers !== 'object' || typeof mockDispatch.headers !== 'object') {\n    return false\n  }\n\n  for (const [matchHeaderName, matchHeaderValue] of Object.entries(mockDispatch.headers)) {\n    const headerValue = getHeaderByName(headers, matchHeaderName)\n\n    if (!matchValue(matchHeaderValue, headerValue)) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction safeUrl (path) {\n  if (typeof path !== 'string') {\n    return path\n  }\n\n  const pathSegments = path.split('?')\n\n  if (pathSegments.length !== 2) {\n    return path\n  }\n\n  const qp = new URLSearchParams(pathSegments.pop())\n  qp.sort()\n  return [...pathSegments, qp.toString()].join('?')\n}\n\nfunction matchKey (mockDispatch, { path, method, body, headers }) {\n  const pathMatch = matchValue(mockDispatch.path, path)\n  const methodMatch = matchValue(mockDispatch.method, method)\n  const bodyMatch = typeof mockDispatch.body !== 'undefined' ? matchValue(mockDispatch.body, body) : true\n  const headersMatch = matchHeaders(mockDispatch, headers)\n  return pathMatch && methodMatch && bodyMatch && headersMatch\n}\n\nfunction getResponseData (data) {\n  if (Buffer.isBuffer(data)) {\n    return data\n  } else if (typeof data === 'object') {\n    return JSON.stringify(data)\n  } else {\n    return data.toString()\n  }\n}\n\nfunction getMockDispatch (mockDispatches, key) {\n  const basePath = key.query ? buildURL(key.path, key.query) : key.path\n  const resolvedPath = typeof basePath === 'string' ? safeUrl(basePath) : basePath\n\n  // Match path\n  let matchedMockDispatches = mockDispatches.filter(({ consumed }) => !consumed).filter(({ path }) => matchValue(safeUrl(path), resolvedPath))\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for path '${resolvedPath}'`)\n  }\n\n  // Match method\n  matchedMockDispatches = matchedMockDispatches.filter(({ method }) => matchValue(method, key.method))\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for method '${key.method}'`)\n  }\n\n  // Match body\n  matchedMockDispatches = matchedMockDispatches.filter(({ body }) => typeof body !== 'undefined' ? matchValue(body, key.body) : true)\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for body '${key.body}'`)\n  }\n\n  // Match headers\n  matchedMockDispatches = matchedMockDispatches.filter((mockDispatch) => matchHeaders(mockDispatch, key.headers))\n  if (matchedMockDispatches.length === 0) {\n    throw new MockNotMatchedError(`Mock dispatch not matched for headers '${typeof key.headers === 'object' ? JSON.stringify(key.headers) : key.headers}'`)\n  }\n\n  return matchedMockDispatches[0]\n}\n\nfunction addMockDispatch (mockDispatches, key, data) {\n  const baseData = { timesInvoked: 0, times: 1, persist: false, consumed: false }\n  const replyData = typeof data === 'function' ? { callback: data } : { ...data }\n  const newMockDispatch = { ...baseData, ...key, pending: true, data: { error: null, ...replyData } }\n  mockDispatches.push(newMockDispatch)\n  return newMockDispatch\n}\n\nfunction deleteMockDispatch (mockDispatches, key) {\n  const index = mockDispatches.findIndex(dispatch => {\n    if (!dispatch.consumed) {\n      return false\n    }\n    return matchKey(dispatch, key)\n  })\n  if (index !== -1) {\n    mockDispatches.splice(index, 1)\n  }\n}\n\nfunction buildKey (opts) {\n  const { path, method, body, headers, query } = opts\n  return {\n    path,\n    method,\n    body,\n    headers,\n    query\n  }\n}\n\nfunction generateKeyValues (data) {\n  return Object.entries(data).reduce((keyValuePairs, [key, value]) => [\n    ...keyValuePairs,\n    Buffer.from(`${key}`),\n    Array.isArray(value) ? value.map(x => Buffer.from(`${x}`)) : Buffer.from(`${value}`)\n  ], [])\n}\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\n * @param {number} statusCode\n */\nfunction getStatusText (statusCode) {\n  return STATUS_CODES[statusCode] || 'unknown'\n}\n\nasync function getResponse (body) {\n  const buffers = []\n  for await (const data of body) {\n    buffers.push(data)\n  }\n  return Buffer.concat(buffers).toString('utf8')\n}\n\n/**\n * Mock dispatch function used to simulate undici dispatches\n */\nfunction mockDispatch (opts, handler) {\n  // Get mock dispatch from built key\n  const key = buildKey(opts)\n  const mockDispatch = getMockDispatch(this[kDispatches], key)\n\n  mockDispatch.timesInvoked++\n\n  // Here's where we resolve a callback if a callback is present for the dispatch data.\n  if (mockDispatch.data.callback) {\n    mockDispatch.data = { ...mockDispatch.data, ...mockDispatch.data.callback(opts) }\n  }\n\n  // Parse mockDispatch data\n  const { data: { statusCode, data, headers, trailers, error }, delay, persist } = mockDispatch\n  const { timesInvoked, times } = mockDispatch\n\n  // If it's used up and not persistent, mark as consumed\n  mockDispatch.consumed = !persist && timesInvoked >= times\n  mockDispatch.pending = timesInvoked < times\n\n  // If specified, trigger dispatch error\n  if (error !== null) {\n    deleteMockDispatch(this[kDispatches], key)\n    handler.onError(error)\n    return true\n  }\n\n  // Handle the request with a delay if necessary\n  if (typeof delay === 'number' && delay > 0) {\n    setTimeout(() => {\n      handleReply(this[kDispatches])\n    }, delay)\n  } else {\n    handleReply(this[kDispatches])\n  }\n\n  function handleReply (mockDispatches, _data = data) {\n    // fetch's HeadersList is a 1D string array\n    const optsHeaders = Array.isArray(opts.headers)\n      ? buildHeadersFromArray(opts.headers)\n      : opts.headers\n    const body = typeof _data === 'function'\n      ? _data({ ...opts, headers: optsHeaders })\n      : _data\n\n    // util.types.isPromise is likely needed for jest.\n    if (isPromise(body)) {\n      // If handleReply is asynchronous, throwing an error\n      // in the callback will reject the promise, rather than\n      // synchronously throw the error, which breaks some tests.\n      // Rather, we wait for the callback to resolve if it is a\n      // promise, and then re-run handleReply with the new body.\n      body.then((newData) => handleReply(mockDispatches, newData))\n      return\n    }\n\n    const responseData = getResponseData(body)\n    const responseHeaders = generateKeyValues(headers)\n    const responseTrailers = generateKeyValues(trailers)\n\n    handler.abort = nop\n    handler.onHeaders(statusCode, responseHeaders, resume, getStatusText(statusCode))\n    handler.onData(Buffer.from(responseData))\n    handler.onComplete(responseTrailers)\n    deleteMockDispatch(mockDispatches, key)\n  }\n\n  function resume () {}\n\n  return true\n}\n\nfunction buildMockDispatch () {\n  const agent = this[kMockAgent]\n  const origin = this[kOrigin]\n  const originalDispatch = this[kOriginalDispatch]\n\n  return function dispatch (opts, handler) {\n    if (agent.isMockActive) {\n      try {\n        mockDispatch.call(this, opts, handler)\n      } catch (error) {\n        if (error instanceof MockNotMatchedError) {\n          const netConnect = agent[kGetNetConnect]()\n          if (netConnect === false) {\n            throw new MockNotMatchedError(`${error.message}: subsequent request to origin ${origin} was not allowed (net.connect disabled)`)\n          }\n          if (checkNetConnect(netConnect, origin)) {\n            originalDispatch.call(this, opts, handler)\n          } else {\n            throw new MockNotMatchedError(`${error.message}: subsequent request to origin ${origin} was not allowed (net.connect is not enabled for this origin)`)\n          }\n        } else {\n          throw error\n        }\n      }\n    } else {\n      originalDispatch.call(this, opts, handler)\n    }\n  }\n}\n\nfunction checkNetConnect (netConnect, origin) {\n  const url = new URL(origin)\n  if (netConnect === true) {\n    return true\n  } else if (Array.isArray(netConnect) && netConnect.some((matcher) => matchValue(matcher, url.host))) {\n    return true\n  }\n  return false\n}\n\nfunction buildMockOptions (opts) {\n  if (opts) {\n    const { agent, ...mockOptions } = opts\n    return mockOptions\n  }\n}\n\nmodule.exports = {\n  getResponseData,\n  getMockDispatch,\n  addMockDispatch,\n  deleteMockDispatch,\n  buildKey,\n  generateKeyValues,\n  matchValue,\n  getResponse,\n  getStatusText,\n  mockDispatch,\n  buildMockDispatch,\n  checkNetConnect,\n  buildMockOptions,\n  getHeaderByName\n}\n", "'use strict'\n\nconst { getResponseData, buildKey, addMockDispatch } = require('./mock-utils')\nconst {\n  kDispatches,\n  kDispatchKey,\n  kDefaultHeaders,\n  kDefaultTrailers,\n  kContentLength,\n  kMockDispatch\n} = require('./mock-symbols')\nconst { InvalidArgumentError } = require('../core/errors')\nconst { buildURL } = require('../core/util')\n\n/**\n * Defines the scope API for an interceptor reply\n */\nclass MockScope {\n  constructor (mockDispatch) {\n    this[kMockDispatch] = mockDispatch\n  }\n\n  /**\n   * Delay a reply by a set amount in ms.\n   */\n  delay (waitInMs) {\n    if (typeof waitInMs !== 'number' || !Number.isInteger(waitInMs) || waitInMs <= 0) {\n      throw new InvalidArgumentError('waitInMs must be a valid integer > 0')\n    }\n\n    this[kMockDispatch].delay = waitInMs\n    return this\n  }\n\n  /**\n   * For a defined reply, never mark as consumed.\n   */\n  persist () {\n    this[kMockDispatch].persist = true\n    return this\n  }\n\n  /**\n   * Allow one to define a reply for a set amount of matching requests.\n   */\n  times (repeatTimes) {\n    if (typeof repeatTimes !== 'number' || !Number.isInteger(repeatTimes) || repeatTimes <= 0) {\n      throw new InvalidArgumentError('repeatTimes must be a valid integer > 0')\n    }\n\n    this[kMockDispatch].times = repeatTimes\n    return this\n  }\n}\n\n/**\n * Defines an interceptor for a Mock\n */\nclass MockInterceptor {\n  constructor (opts, mockDispatches) {\n    if (typeof opts !== 'object') {\n      throw new InvalidArgumentError('opts must be an object')\n    }\n    if (typeof opts.path === 'undefined') {\n      throw new InvalidArgumentError('opts.path must be defined')\n    }\n    if (typeof opts.method === 'undefined') {\n      opts.method = 'GET'\n    }\n    // See https://github.com/nodejs/undici/issues/1245\n    // As per RFC 3986, clients are not supposed to send URI\n    // fragments to servers when they retrieve a document,\n    if (typeof opts.path === 'string') {\n      if (opts.query) {\n        opts.path = buildURL(opts.path, opts.query)\n      } else {\n        // Matches https://github.com/nodejs/undici/blob/main/lib/fetch/index.js#L1811\n        const parsedURL = new URL(opts.path, 'data://')\n        opts.path = parsedURL.pathname + parsedURL.search\n      }\n    }\n    if (typeof opts.method === 'string') {\n      opts.method = opts.method.toUpperCase()\n    }\n\n    this[kDispatchKey] = buildKey(opts)\n    this[kDispatches] = mockDispatches\n    this[kDefaultHeaders] = {}\n    this[kDefaultTrailers] = {}\n    this[kContentLength] = false\n  }\n\n  createMockScopeDispatchData (statusCode, data, responseOptions = {}) {\n    const responseData = getResponseData(data)\n    const contentLength = this[kContentLength] ? { 'content-length': responseData.length } : {}\n    const headers = { ...this[kDefaultHeaders], ...contentLength, ...responseOptions.headers }\n    const trailers = { ...this[kDefaultTrailers], ...responseOptions.trailers }\n\n    return { statusCode, data, headers, trailers }\n  }\n\n  validateReplyParameters (statusCode, data, responseOptions) {\n    if (typeof statusCode === 'undefined') {\n      throw new InvalidArgumentError('statusCode must be defined')\n    }\n    if (typeof data === 'undefined') {\n      throw new InvalidArgumentError('data must be defined')\n    }\n    if (typeof responseOptions !== 'object') {\n      throw new InvalidArgumentError('responseOptions must be an object')\n    }\n  }\n\n  /**\n   * Mock an undici request with a defined reply.\n   */\n  reply (replyData) {\n    // Values of reply aren't available right now as they\n    // can only be available when the reply callback is invoked.\n    if (typeof replyData === 'function') {\n      // We'll first wrap the provided callback in another function,\n      // this function will properly resolve the data from the callback\n      // when invoked.\n      const wrappedDefaultsCallback = (opts) => {\n        // Our reply options callback contains the parameter for statusCode, data and options.\n        const resolvedData = replyData(opts)\n\n        // Check if it is in the right format\n        if (typeof resolvedData !== 'object') {\n          throw new InvalidArgumentError('reply options callback must return an object')\n        }\n\n        const { statusCode, data = '', responseOptions = {} } = resolvedData\n        this.validateReplyParameters(statusCode, data, responseOptions)\n        // Since the values can be obtained immediately we return them\n        // from this higher order function that will be resolved later.\n        return {\n          ...this.createMockScopeDispatchData(statusCode, data, responseOptions)\n        }\n      }\n\n      // Add usual dispatch data, but this time set the data parameter to function that will eventually provide data.\n      const newMockDispatch = addMockDispatch(this[kDispatches], this[kDispatchKey], wrappedDefaultsCallback)\n      return new MockScope(newMockDispatch)\n    }\n\n    // We can have either one or three parameters, if we get here,\n    // we should have 1-3 parameters. So we spread the arguments of\n    // this function to obtain the parameters, since replyData will always\n    // just be the statusCode.\n    const [statusCode, data = '', responseOptions = {}] = [...arguments]\n    this.validateReplyParameters(statusCode, data, responseOptions)\n\n    // Send in-already provided data like usual\n    const dispatchData = this.createMockScopeDispatchData(statusCode, data, responseOptions)\n    const newMockDispatch = addMockDispatch(this[kDispatches], this[kDispatchKey], dispatchData)\n    return new MockScope(newMockDispatch)\n  }\n\n  /**\n   * Mock an undici request with a defined error.\n   */\n  replyWithError (error) {\n    if (typeof error === 'undefined') {\n      throw new InvalidArgumentError('error must be defined')\n    }\n\n    const newMockDispatch = addMockDispatch(this[kDispatches], this[kDispatchKey], { error })\n    return new MockScope(newMockDispatch)\n  }\n\n  /**\n   * Set default reply headers on the interceptor for subsequent replies\n   */\n  defaultReplyHeaders (headers) {\n    if (typeof headers === 'undefined') {\n      throw new InvalidArgumentError('headers must be defined')\n    }\n\n    this[kDefaultHeaders] = headers\n    return this\n  }\n\n  /**\n   * Set default reply trailers on the interceptor for subsequent replies\n   */\n  defaultReplyTrailers (trailers) {\n    if (typeof trailers === 'undefined') {\n      throw new InvalidArgumentError('trailers must be defined')\n    }\n\n    this[kDefaultTrailers] = trailers\n    return this\n  }\n\n  /**\n   * Set reply content length header for replies on the interceptor\n   */\n  replyContentLength () {\n    this[kContentLength] = true\n    return this\n  }\n}\n\nmodule.exports.MockInterceptor = MockInterceptor\nmodule.exports.MockScope = MockScope\n", "'use strict'\n\nconst { promisify } = require('util')\nconst Client = require('../client')\nconst { buildMockDispatch } = require('./mock-utils')\nconst {\n  kDispatches,\n  kMockAgent,\n  kClose,\n  kOriginalClose,\n  kOrigin,\n  kOriginalDispatch,\n  kConnected\n} = require('./mock-symbols')\nconst { MockInterceptor } = require('./mock-interceptor')\nconst Symbols = require('../core/symbols')\nconst { InvalidArgumentError } = require('../core/errors')\n\n/**\n * MockClient provides an API that extends the Client to influence the mockDispatches.\n */\nclass MockClient extends Client {\n  constructor (origin, opts) {\n    super(origin, opts)\n\n    if (!opts || !opts.agent || typeof opts.agent.dispatch !== 'function') {\n      throw new InvalidArgumentError('Argument opts.agent must implement Agent')\n    }\n\n    this[kMockAgent] = opts.agent\n    this[kOrigin] = origin\n    this[kDispatches] = []\n    this[kConnected] = 1\n    this[kOriginalDispatch] = this.dispatch\n    this[kOriginalClose] = this.close.bind(this)\n\n    this.dispatch = buildMockDispatch.call(this)\n    this.close = this[kClose]\n  }\n\n  get [Symbols.kConnected] () {\n    return this[kConnected]\n  }\n\n  /**\n   * Sets up the base interceptor for mocking replies from undici.\n   */\n  intercept (opts) {\n    return new MockInterceptor(opts, this[kDispatches])\n  }\n\n  async [kClose] () {\n    await promisify(this[kOriginalClose])()\n    this[kConnected] = 0\n    this[kMockAgent][Symbols.kClients].delete(this[kOrigin])\n  }\n}\n\nmodule.exports = MockClient\n", "'use strict'\n\nconst { promisify } = require('util')\nconst Pool = require('../pool')\nconst { buildMockDispatch } = require('./mock-utils')\nconst {\n  kDispatches,\n  kMockAgent,\n  kClose,\n  kOriginalClose,\n  kOrigin,\n  kOriginalDispatch,\n  kConnected\n} = require('./mock-symbols')\nconst { MockInterceptor } = require('./mock-interceptor')\nconst Symbols = require('../core/symbols')\nconst { InvalidArgumentError } = require('../core/errors')\n\n/**\n * MockPool provides an API that extends the Pool to influence the mockDispatches.\n */\nclass MockPool extends Pool {\n  constructor (origin, opts) {\n    super(origin, opts)\n\n    if (!opts || !opts.agent || typeof opts.agent.dispatch !== 'function') {\n      throw new InvalidArgumentError('Argument opts.agent must implement Agent')\n    }\n\n    this[kMockAgent] = opts.agent\n    this[kOrigin] = origin\n    this[kDispatches] = []\n    this[kConnected] = 1\n    this[kOriginalDispatch] = this.dispatch\n    this[kOriginalClose] = this.close.bind(this)\n\n    this.dispatch = buildMockDispatch.call(this)\n    this.close = this[kClose]\n  }\n\n  get [Symbols.kConnected] () {\n    return this[kConnected]\n  }\n\n  /**\n   * Sets up the base interceptor for mocking replies from undici.\n   */\n  intercept (opts) {\n    return new MockInterceptor(opts, this[kDispatches])\n  }\n\n  async [kClose] () {\n    await promisify(this[kOriginalClose])()\n    this[kConnected] = 0\n    this[kMockAgent][Symbols.kClients].delete(this[kOrigin])\n  }\n}\n\nmodule.exports = MockPool\n", "'use strict'\n\nconst singulars = {\n  pronoun: 'it',\n  is: 'is',\n  was: 'was',\n  this: 'this'\n}\n\nconst plurals = {\n  pronoun: 'they',\n  is: 'are',\n  was: 'were',\n  this: 'these'\n}\n\nmodule.exports = class Pluralizer {\n  constructor (singular, plural) {\n    this.singular = singular\n    this.plural = plural\n  }\n\n  pluralize (count) {\n    const one = count === 1\n    const keys = one ? singulars : plurals\n    const noun = one ? this.singular : this.plural\n    return { ...keys, count, noun }\n  }\n}\n", "'use strict'\n\nconst { Transform } = require('stream')\nconst { Console } = require('console')\n\n/**\n * Gets the output of `console.table(\u2026)` as a string.\n */\nmodule.exports = class PendingInterceptorsFormatter {\n  constructor ({ disableColors } = {}) {\n    this.transform = new Transform({\n      transform (chunk, _enc, cb) {\n        cb(null, chunk)\n      }\n    })\n\n    this.logger = new Console({\n      stdout: this.transform,\n      inspectOptions: {\n        colors: !disableColors && !process.env.CI\n      }\n    })\n  }\n\n  format (pendingInterceptors) {\n    const withPrettyHeaders = pendingInterceptors.map(\n      ({ method, path, data: { statusCode }, persist, times, timesInvoked, origin }) => ({\n        Method: method,\n        Origin: origin,\n        Path: path,\n        'Status code': statusCode,\n        Persistent: persist ? '\u2705' : '\u274C',\n        Invocations: timesInvoked,\n        Remaining: persist ? Infinity : times - timesInvoked\n      }))\n\n    this.logger.table(withPrettyHeaders)\n    return this.transform.read().toString()\n  }\n}\n", "'use strict'\n\nconst { kClients } = require('../core/symbols')\nconst Agent = require('../agent')\nconst {\n  kAgent,\n  kMockAgentSet,\n  kMockAgentGet,\n  kDispatches,\n  kIsMockActive,\n  kNetConnect,\n  kGetNetConnect,\n  kOptions,\n  kFactory\n} = require('./mock-symbols')\nconst MockClient = require('./mock-client')\nconst MockPool = require('./mock-pool')\nconst { matchValue, buildMockOptions } = require('./mock-utils')\nconst { InvalidArgumentError, UndiciError } = require('../core/errors')\nconst Dispatcher = require('../dispatcher')\nconst Pluralizer = require('./pluralizer')\nconst PendingInterceptorsFormatter = require('./pending-interceptors-formatter')\n\nclass FakeWeakRef {\n  constructor (value) {\n    this.value = value\n  }\n\n  deref () {\n    return this.value\n  }\n}\n\nclass MockAgent extends Dispatcher {\n  constructor (opts) {\n    super(opts)\n\n    this[kNetConnect] = true\n    this[kIsMockActive] = true\n\n    // Instantiate Agent and encapsulate\n    if ((opts && opts.agent && typeof opts.agent.dispatch !== 'function')) {\n      throw new InvalidArgumentError('Argument opts.agent must implement Agent')\n    }\n    const agent = opts && opts.agent ? opts.agent : new Agent(opts)\n    this[kAgent] = agent\n\n    this[kClients] = agent[kClients]\n    this[kOptions] = buildMockOptions(opts)\n  }\n\n  get (origin) {\n    let dispatcher = this[kMockAgentGet](origin)\n\n    if (!dispatcher) {\n      dispatcher = this[kFactory](origin)\n      this[kMockAgentSet](origin, dispatcher)\n    }\n    return dispatcher\n  }\n\n  dispatch (opts, handler) {\n    // Call MockAgent.get to perform additional setup before dispatching as normal\n    this.get(opts.origin)\n    return this[kAgent].dispatch(opts, handler)\n  }\n\n  async close () {\n    await this[kAgent].close()\n    this[kClients].clear()\n  }\n\n  deactivate () {\n    this[kIsMockActive] = false\n  }\n\n  activate () {\n    this[kIsMockActive] = true\n  }\n\n  enableNetConnect (matcher) {\n    if (typeof matcher === 'string' || typeof matcher === 'function' || matcher instanceof RegExp) {\n      if (Array.isArray(this[kNetConnect])) {\n        this[kNetConnect].push(matcher)\n      } else {\n        this[kNetConnect] = [matcher]\n      }\n    } else if (typeof matcher === 'undefined') {\n      this[kNetConnect] = true\n    } else {\n      throw new InvalidArgumentError('Unsupported matcher. Must be one of String|Function|RegExp.')\n    }\n  }\n\n  disableNetConnect () {\n    this[kNetConnect] = false\n  }\n\n  // This is required to bypass issues caused by using global symbols - see:\n  // https://github.com/nodejs/undici/issues/1447\n  get isMockActive () {\n    return this[kIsMockActive]\n  }\n\n  [kMockAgentSet] (origin, dispatcher) {\n    this[kClients].set(origin, new FakeWeakRef(dispatcher))\n  }\n\n  [kFactory] (origin) {\n    const mockOptions = Object.assign({ agent: this }, this[kOptions])\n    return this[kOptions] && this[kOptions].connections === 1\n      ? new MockClient(origin, mockOptions)\n      : new MockPool(origin, mockOptions)\n  }\n\n  [kMockAgentGet] (origin) {\n    // First check if we can immediately find it\n    const ref = this[kClients].get(origin)\n    if (ref) {\n      return ref.deref()\n    }\n\n    // If the origin is not a string create a dummy parent pool and return to user\n    if (typeof origin !== 'string') {\n      const dispatcher = this[kFactory]('http://localhost:9999')\n      this[kMockAgentSet](origin, dispatcher)\n      return dispatcher\n    }\n\n    // If we match, create a pool and assign the same dispatches\n    for (const [keyMatcher, nonExplicitRef] of Array.from(this[kClients])) {\n      const nonExplicitDispatcher = nonExplicitRef.deref()\n      if (nonExplicitDispatcher && typeof keyMatcher !== 'string' && matchValue(keyMatcher, origin)) {\n        const dispatcher = this[kFactory](origin)\n        this[kMockAgentSet](origin, dispatcher)\n        dispatcher[kDispatches] = nonExplicitDispatcher[kDispatches]\n        return dispatcher\n      }\n    }\n  }\n\n  [kGetNetConnect] () {\n    return this[kNetConnect]\n  }\n\n  pendingInterceptors () {\n    const mockAgentClients = this[kClients]\n\n    return Array.from(mockAgentClients.entries())\n      .flatMap(([origin, scope]) => scope.deref()[kDispatches].map(dispatch => ({ ...dispatch, origin })))\n      .filter(({ pending }) => pending)\n  }\n\n  assertNoPendingInterceptors ({ pendingInterceptorsFormatter = new PendingInterceptorsFormatter() } = {}) {\n    const pending = this.pendingInterceptors()\n\n    if (pending.length === 0) {\n      return\n    }\n\n    const pluralizer = new Pluralizer('interceptor', 'interceptors').pluralize(pending.length)\n\n    throw new UndiciError(`\n${pluralizer.count} ${pluralizer.noun} ${pluralizer.is} pending:\n\n${pendingInterceptorsFormatter.format(pending)}\n`.trim())\n  }\n}\n\nmodule.exports = MockAgent\n", "'use strict'\n\nconst { kProxy, kClose, kDestroy, kInterceptors } = require('./core/symbols')\nconst { URL } = require('url')\nconst Agent = require('./agent')\nconst Pool = require('./pool')\nconst DispatcherBase = require('./dispatcher-base')\nconst { InvalidArgumentError, RequestAbortedError } = require('./core/errors')\nconst buildConnector = require('./core/connect')\n\nconst kAgent = Symbol('proxy agent')\nconst kClient = Symbol('proxy client')\nconst kProxyHeaders = Symbol('proxy headers')\nconst kRequestTls = Symbol('request tls settings')\nconst kProxyTls = Symbol('proxy tls settings')\nconst kConnectEndpoint = Symbol('connect endpoint function')\n\nfunction defaultProtocolPort (protocol) {\n  return protocol === 'https:' ? 443 : 80\n}\n\nfunction buildProxyOptions (opts) {\n  if (typeof opts === 'string') {\n    opts = { uri: opts }\n  }\n\n  if (!opts || !opts.uri) {\n    throw new InvalidArgumentError('Proxy opts.uri is mandatory')\n  }\n\n  return {\n    uri: opts.uri,\n    protocol: opts.protocol || 'https'\n  }\n}\n\nfunction defaultFactory (origin, opts) {\n  return new Pool(origin, opts)\n}\n\nclass ProxyAgent extends DispatcherBase {\n  constructor (opts) {\n    super(opts)\n    this[kProxy] = buildProxyOptions(opts)\n    this[kAgent] = new Agent(opts)\n    this[kInterceptors] = opts.interceptors && opts.interceptors.ProxyAgent && Array.isArray(opts.interceptors.ProxyAgent)\n      ? opts.interceptors.ProxyAgent\n      : []\n\n    if (typeof opts === 'string') {\n      opts = { uri: opts }\n    }\n\n    if (!opts || !opts.uri) {\n      throw new InvalidArgumentError('Proxy opts.uri is mandatory')\n    }\n\n    const { clientFactory = defaultFactory } = opts\n\n    if (typeof clientFactory !== 'function') {\n      throw new InvalidArgumentError('Proxy opts.clientFactory must be a function.')\n    }\n\n    this[kRequestTls] = opts.requestTls\n    this[kProxyTls] = opts.proxyTls\n    this[kProxyHeaders] = opts.headers || {}\n\n    const resolvedUrl = new URL(opts.uri)\n    const { origin, port, host, username, password } = resolvedUrl\n\n    if (opts.auth && opts.token) {\n      throw new InvalidArgumentError('opts.auth cannot be used in combination with opts.token')\n    } else if (opts.auth) {\n      /* @deprecated in favour of opts.token */\n      this[kProxyHeaders]['proxy-authorization'] = `Basic ${opts.auth}`\n    } else if (opts.token) {\n      this[kProxyHeaders]['proxy-authorization'] = opts.token\n    } else if (username && password) {\n      this[kProxyHeaders]['proxy-authorization'] = `Basic ${Buffer.from(`${decodeURIComponent(username)}:${decodeURIComponent(password)}`).toString('base64')}`\n    }\n\n    const connect = buildConnector({ ...opts.proxyTls })\n    this[kConnectEndpoint] = buildConnector({ ...opts.requestTls })\n    this[kClient] = clientFactory(resolvedUrl, { connect })\n    this[kAgent] = new Agent({\n      ...opts,\n      connect: async (opts, callback) => {\n        let requestedHost = opts.host\n        if (!opts.port) {\n          requestedHost += `:${defaultProtocolPort(opts.protocol)}`\n        }\n        try {\n          const { socket, statusCode } = await this[kClient].connect({\n            origin,\n            port,\n            path: requestedHost,\n            signal: opts.signal,\n            headers: {\n              ...this[kProxyHeaders],\n              host\n            }\n          })\n          if (statusCode !== 200) {\n            socket.on('error', () => {}).destroy()\n            callback(new RequestAbortedError(`Proxy response (${statusCode}) !== 200 when HTTP Tunneling`))\n          }\n          if (opts.protocol !== 'https:') {\n            callback(null, socket)\n            return\n          }\n          let servername\n          if (this[kRequestTls]) {\n            servername = this[kRequestTls].servername\n          } else {\n            servername = opts.servername\n          }\n          this[kConnectEndpoint]({ ...opts, servername, httpSocket: socket }, callback)\n        } catch (err) {\n          callback(err)\n        }\n      }\n    })\n  }\n\n  dispatch (opts, handler) {\n    const { host } = new URL(opts.origin)\n    const headers = buildHeaders(opts.headers)\n    throwIfProxyAuthIsSent(headers)\n    return this[kAgent].dispatch(\n      {\n        ...opts,\n        headers: {\n          ...headers,\n          host\n        }\n      },\n      handler\n    )\n  }\n\n  async [kClose] () {\n    await this[kAgent].close()\n    await this[kClient].close()\n  }\n\n  async [kDestroy] () {\n    await this[kAgent].destroy()\n    await this[kClient].destroy()\n  }\n}\n\n/**\n * @param {string[] | Record<string, string>} headers\n * @returns {Record<string, string>}\n */\nfunction buildHeaders (headers) {\n  // When using undici.fetch, the headers list is stored\n  // as an array.\n  if (Array.isArray(headers)) {\n    /** @type {Record<string, string>} */\n    const headersPair = {}\n\n    for (let i = 0; i < headers.length; i += 2) {\n      headersPair[headers[i]] = headers[i + 1]\n    }\n\n    return headersPair\n  }\n\n  return headers\n}\n\n/**\n * @param {Record<string, string>} headers\n *\n * Previous versions of ProxyAgent suggests the Proxy-Authorization in request headers\n * Nevertheless, it was changed and to avoid a security vulnerability by end users\n * this check was created.\n * It should be removed in the next major version for performance reasons\n */\nfunction throwIfProxyAuthIsSent (headers) {\n  const existProxyAuth = headers && Object.keys(headers)\n    .find((key) => key.toLowerCase() === 'proxy-authorization')\n  if (existProxyAuth) {\n    throw new InvalidArgumentError('Proxy-Authorization should be sent in ProxyAgent constructor')\n  }\n}\n\nmodule.exports = ProxyAgent\n", "const assert = require('assert')\n\nconst { kRetryHandlerDefaultRetry } = require('../core/symbols')\nconst { RequestRetryError } = require('../core/errors')\nconst { isDisturbed, parseHeaders, parseRangeHeader } = require('../core/util')\n\nfunction calculateRetryAfterHeader (retryAfter) {\n  const current = Date.now()\n  const diff = new Date(retryAfter).getTime() - current\n\n  return diff\n}\n\nclass RetryHandler {\n  constructor (opts, handlers) {\n    const { retryOptions, ...dispatchOpts } = opts\n    const {\n      // Retry scoped\n      retry: retryFn,\n      maxRetries,\n      maxTimeout,\n      minTimeout,\n      timeoutFactor,\n      // Response scoped\n      methods,\n      errorCodes,\n      retryAfter,\n      statusCodes\n    } = retryOptions ?? {}\n\n    this.dispatch = handlers.dispatch\n    this.handler = handlers.handler\n    this.opts = dispatchOpts\n    this.abort = null\n    this.aborted = false\n    this.retryOpts = {\n      retry: retryFn ?? RetryHandler[kRetryHandlerDefaultRetry],\n      retryAfter: retryAfter ?? true,\n      maxTimeout: maxTimeout ?? 30 * 1000, // 30s,\n      timeout: minTimeout ?? 500, // .5s\n      timeoutFactor: timeoutFactor ?? 2,\n      maxRetries: maxRetries ?? 5,\n      // What errors we should retry\n      methods: methods ?? ['GET', 'HEAD', 'OPTIONS', 'PUT', 'DELETE', 'TRACE'],\n      // Indicates which errors to retry\n      statusCodes: statusCodes ?? [500, 502, 503, 504, 429],\n      // List of errors to retry\n      errorCodes: errorCodes ?? [\n        'ECONNRESET',\n        'ECONNREFUSED',\n        'ENOTFOUND',\n        'ENETDOWN',\n        'ENETUNREACH',\n        'EHOSTDOWN',\n        'EHOSTUNREACH',\n        'EPIPE'\n      ]\n    }\n\n    this.retryCount = 0\n    this.start = 0\n    this.end = null\n    this.etag = null\n    this.resume = null\n\n    // Handle possible onConnect duplication\n    this.handler.onConnect(reason => {\n      this.aborted = true\n      if (this.abort) {\n        this.abort(reason)\n      } else {\n        this.reason = reason\n      }\n    })\n  }\n\n  onRequestSent () {\n    if (this.handler.onRequestSent) {\n      this.handler.onRequestSent()\n    }\n  }\n\n  onUpgrade (statusCode, headers, socket) {\n    if (this.handler.onUpgrade) {\n      this.handler.onUpgrade(statusCode, headers, socket)\n    }\n  }\n\n  onConnect (abort) {\n    if (this.aborted) {\n      abort(this.reason)\n    } else {\n      this.abort = abort\n    }\n  }\n\n  onBodySent (chunk) {\n    if (this.handler.onBodySent) return this.handler.onBodySent(chunk)\n  }\n\n  static [kRetryHandlerDefaultRetry] (err, { state, opts }, cb) {\n    const { statusCode, code, headers } = err\n    const { method, retryOptions } = opts\n    const {\n      maxRetries,\n      timeout,\n      maxTimeout,\n      timeoutFactor,\n      statusCodes,\n      errorCodes,\n      methods\n    } = retryOptions\n    let { counter, currentTimeout } = state\n\n    currentTimeout =\n      currentTimeout != null && currentTimeout > 0 ? currentTimeout : timeout\n\n    // Any code that is not a Undici's originated and allowed to retry\n    if (\n      code &&\n      code !== 'UND_ERR_REQ_RETRY' &&\n      code !== 'UND_ERR_SOCKET' &&\n      !errorCodes.includes(code)\n    ) {\n      cb(err)\n      return\n    }\n\n    // If a set of method are provided and the current method is not in the list\n    if (Array.isArray(methods) && !methods.includes(method)) {\n      cb(err)\n      return\n    }\n\n    // If a set of status code are provided and the current status code is not in the list\n    if (\n      statusCode != null &&\n      Array.isArray(statusCodes) &&\n      !statusCodes.includes(statusCode)\n    ) {\n      cb(err)\n      return\n    }\n\n    // If we reached the max number of retries\n    if (counter > maxRetries) {\n      cb(err)\n      return\n    }\n\n    let retryAfterHeader = headers != null && headers['retry-after']\n    if (retryAfterHeader) {\n      retryAfterHeader = Number(retryAfterHeader)\n      retryAfterHeader = isNaN(retryAfterHeader)\n        ? calculateRetryAfterHeader(retryAfterHeader)\n        : retryAfterHeader * 1e3 // Retry-After is in seconds\n    }\n\n    const retryTimeout =\n      retryAfterHeader > 0\n        ? Math.min(retryAfterHeader, maxTimeout)\n        : Math.min(currentTimeout * timeoutFactor ** counter, maxTimeout)\n\n    state.currentTimeout = retryTimeout\n\n    setTimeout(() => cb(null), retryTimeout)\n  }\n\n  onHeaders (statusCode, rawHeaders, resume, statusMessage) {\n    const headers = parseHeaders(rawHeaders)\n\n    this.retryCount += 1\n\n    if (statusCode >= 300) {\n      this.abort(\n        new RequestRetryError('Request failed', statusCode, {\n          headers,\n          count: this.retryCount\n        })\n      )\n      return false\n    }\n\n    // Checkpoint for resume from where we left it\n    if (this.resume != null) {\n      this.resume = null\n\n      if (statusCode !== 206) {\n        return true\n      }\n\n      const contentRange = parseRangeHeader(headers['content-range'])\n      // If no content range\n      if (!contentRange) {\n        this.abort(\n          new RequestRetryError('Content-Range mismatch', statusCode, {\n            headers,\n            count: this.retryCount\n          })\n        )\n        return false\n      }\n\n      // Let's start with a weak etag check\n      if (this.etag != null && this.etag !== headers.etag) {\n        this.abort(\n          new RequestRetryError('ETag mismatch', statusCode, {\n            headers,\n            count: this.retryCount\n          })\n        )\n        return false\n      }\n\n      const { start, size, end = size } = contentRange\n\n      assert(this.start === start, 'content-range mismatch')\n      assert(this.end == null || this.end === end, 'content-range mismatch')\n\n      this.resume = resume\n      return true\n    }\n\n    if (this.end == null) {\n      if (statusCode === 206) {\n        // First time we receive 206\n        const range = parseRangeHeader(headers['content-range'])\n\n        if (range == null) {\n          return this.handler.onHeaders(\n            statusCode,\n            rawHeaders,\n            resume,\n            statusMessage\n          )\n        }\n\n        const { start, size, end = size } = range\n\n        assert(\n          start != null && Number.isFinite(start) && this.start !== start,\n          'content-range mismatch'\n        )\n        assert(Number.isFinite(start))\n        assert(\n          end != null && Number.isFinite(end) && this.end !== end,\n          'invalid content-length'\n        )\n\n        this.start = start\n        this.end = end\n      }\n\n      // We make our best to checkpoint the body for further range headers\n      if (this.end == null) {\n        const contentLength = headers['content-length']\n        this.end = contentLength != null ? Number(contentLength) : null\n      }\n\n      assert(Number.isFinite(this.start))\n      assert(\n        this.end == null || Number.isFinite(this.end),\n        'invalid content-length'\n      )\n\n      this.resume = resume\n      this.etag = headers.etag != null ? headers.etag : null\n\n      return this.handler.onHeaders(\n        statusCode,\n        rawHeaders,\n        resume,\n        statusMessage\n      )\n    }\n\n    const err = new RequestRetryError('Request failed', statusCode, {\n      headers,\n      count: this.retryCount\n    })\n\n    this.abort(err)\n\n    return false\n  }\n\n  onData (chunk) {\n    this.start += chunk.length\n\n    return this.handler.onData(chunk)\n  }\n\n  onComplete (rawTrailers) {\n    this.retryCount = 0\n    return this.handler.onComplete(rawTrailers)\n  }\n\n  onError (err) {\n    if (this.aborted || isDisturbed(this.opts.body)) {\n      return this.handler.onError(err)\n    }\n\n    this.retryOpts.retry(\n      err,\n      {\n        state: { counter: this.retryCount++, currentTimeout: this.retryAfter },\n        opts: { retryOptions: this.retryOpts, ...this.opts }\n      },\n      onRetry.bind(this)\n    )\n\n    function onRetry (err) {\n      if (err != null || this.aborted || isDisturbed(this.opts.body)) {\n        return this.handler.onError(err)\n      }\n\n      if (this.start !== 0) {\n        this.opts = {\n          ...this.opts,\n          headers: {\n            ...this.opts.headers,\n            range: `bytes=${this.start}-${this.end ?? ''}`\n          }\n        }\n      }\n\n      try {\n        this.dispatch(this.opts, this)\n      } catch (err) {\n        this.handler.onError(err)\n      }\n    }\n  }\n}\n\nmodule.exports = RetryHandler\n", "'use strict'\n\n// We include a version number for the Dispatcher API. In case of breaking changes,\n// this version number must be increased to avoid conflicts.\nconst globalDispatcher = Symbol.for('undici.globalDispatcher.1')\nconst { InvalidArgumentError } = require('./core/errors')\nconst Agent = require('./agent')\n\nif (getGlobalDispatcher() === undefined) {\n  setGlobalDispatcher(new Agent())\n}\n\nfunction setGlobalDispatcher (agent) {\n  if (!agent || typeof agent.dispatch !== 'function') {\n    throw new InvalidArgumentError('Argument agent must implement Agent')\n  }\n  Object.defineProperty(globalThis, globalDispatcher, {\n    value: agent,\n    writable: true,\n    enumerable: false,\n    configurable: false\n  })\n}\n\nfunction getGlobalDispatcher () {\n  return globalThis[globalDispatcher]\n}\n\nmodule.exports = {\n  setGlobalDispatcher,\n  getGlobalDispatcher\n}\n", "'use strict'\n\nmodule.exports = class DecoratorHandler {\n  constructor (handler) {\n    this.handler = handler\n  }\n\n  onConnect (...args) {\n    return this.handler.onConnect(...args)\n  }\n\n  onError (...args) {\n    return this.handler.onError(...args)\n  }\n\n  onUpgrade (...args) {\n    return this.handler.onUpgrade(...args)\n  }\n\n  onHeaders (...args) {\n    return this.handler.onHeaders(...args)\n  }\n\n  onData (...args) {\n    return this.handler.onData(...args)\n  }\n\n  onComplete (...args) {\n    return this.handler.onComplete(...args)\n  }\n\n  onBodySent (...args) {\n    return this.handler.onBodySent(...args)\n  }\n}\n", "// https://github.com/Ethan-Arrowood/undici-fetch\n\n'use strict'\n\nconst { kHeadersList, kConstruct } = require('../core/symbols')\nconst { kGuard } = require('./symbols')\nconst { kEnumerableProperty } = require('../core/util')\nconst {\n  makeIterator,\n  isValidHeaderName,\n  isValidHeaderValue\n} = require('./util')\nconst { webidl } = require('./webidl')\nconst assert = require('assert')\n\nconst kHeadersMap = Symbol('headers map')\nconst kHeadersSortedMap = Symbol('headers map sorted')\n\n/**\n * @param {number} code\n */\nfunction isHTTPWhiteSpaceCharCode (code) {\n  return code === 0x00a || code === 0x00d || code === 0x009 || code === 0x020\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-header-value-normalize\n * @param {string} potentialValue\n */\nfunction headerValueNormalize (potentialValue) {\n  //  To normalize a byte sequence potentialValue, remove\n  //  any leading and trailing HTTP whitespace bytes from\n  //  potentialValue.\n  let i = 0; let j = potentialValue.length\n\n  while (j > i && isHTTPWhiteSpaceCharCode(potentialValue.charCodeAt(j - 1))) --j\n  while (j > i && isHTTPWhiteSpaceCharCode(potentialValue.charCodeAt(i))) ++i\n\n  return i === 0 && j === potentialValue.length ? potentialValue : potentialValue.substring(i, j)\n}\n\nfunction fill (headers, object) {\n  // To fill a Headers object headers with a given object object, run these steps:\n\n  // 1. If object is a sequence, then for each header in object:\n  // Note: webidl conversion to array has already been done.\n  if (Array.isArray(object)) {\n    for (let i = 0; i < object.length; ++i) {\n      const header = object[i]\n      // 1. If header does not contain exactly two items, then throw a TypeError.\n      if (header.length !== 2) {\n        throw webidl.errors.exception({\n          header: 'Headers constructor',\n          message: `expected name/value pair to be length 2, found ${header.length}.`\n        })\n      }\n\n      // 2. Append (header\u2019s first item, header\u2019s second item) to headers.\n      appendHeader(headers, header[0], header[1])\n    }\n  } else if (typeof object === 'object' && object !== null) {\n    // Note: null should throw\n\n    // 2. Otherwise, object is a record, then for each key \u2192 value in object,\n    //    append (key, value) to headers\n    const keys = Object.keys(object)\n    for (let i = 0; i < keys.length; ++i) {\n      appendHeader(headers, keys[i], object[keys[i]])\n    }\n  } else {\n    throw webidl.errors.conversionFailed({\n      prefix: 'Headers constructor',\n      argument: 'Argument 1',\n      types: ['sequence<sequence<ByteString>>', 'record<ByteString, ByteString>']\n    })\n  }\n}\n\n/**\n * @see https://fetch.spec.whatwg.org/#concept-headers-append\n */\nfunction appendHeader (headers, name, value) {\n  // 1. Normalize value.\n  value = headerValueNormalize(value)\n\n  // 2. If name is not a header name or value is not a\n  //    header value, then throw a TypeError.\n  if (!isValidHeaderName(name)) {\n    throw webidl.errors.invalidArgument({\n      prefix: 'Headers.append',\n      value: name,\n      type: 'header name'\n    })\n  } else if (!isValidHeaderValue(value)) {\n    throw webidl.errors.invalidArgument({\n      prefix: 'Headers.append',\n      value,\n      type: 'header value'\n    })\n  }\n\n  // 3. If headers\u2019s guard is \"immutable\", then throw a TypeError.\n  // 4. Otherwise, if headers\u2019s guard is \"request\" and name is a\n  //    forbidden header name, return.\n  // Note: undici does not implement forbidden header names\n  if (headers[kGuard] === 'immutable') {\n    throw new TypeError('immutable')\n  } else if (headers[kGuard] === 'request-no-cors') {\n    // 5. Otherwise, if headers\u2019s guard is \"request-no-cors\":\n    // TODO\n  }\n\n  // 6. Otherwise, if headers\u2019s guard is \"response\" and name is a\n  //    forbidden response-header name, return.\n\n  // 7. Append (name, value) to headers\u2019s header list.\n  return headers[kHeadersList].append(name, value)\n\n  // 8. If headers\u2019s guard is \"request-no-cors\", then remove\n  //    privileged no-CORS request headers from headers\n}\n\nclass HeadersList {\n  /** @type {[string, string][]|null} */\n  cookies = null\n\n  constructor (init) {\n    if (init instanceof HeadersList) {\n      this[kHeadersMap] = new Map(init[kHeadersMap])\n      this[kHeadersSortedMap] = init[kHeadersSortedMap]\n      this.cookies = init.cookies === null ? null : [...init.cookies]\n    } else {\n      this[kHeadersMap] = new Map(init)\n      this[kHeadersSortedMap] = null\n    }\n  }\n\n  // https://fetch.spec.whatwg.org/#header-list-contains\n  contains (name) {\n    // A header list list contains a header name name if list\n    // contains a header whose name is a byte-case-insensitive\n    // match for name.\n    name = name.toLowerCase()\n\n    return this[kHeadersMap].has(name)\n  }\n\n  clear () {\n    this[kHeadersMap].clear()\n    this[kHeadersSortedMap] = null\n    this.cookies = null\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-append\n  append (name, value) {\n    this[kHeadersSortedMap] = null\n\n    // 1. If list contains name, then set name to the first such\n    //    header\u2019s name.\n    const lowercaseName = name.toLowerCase()\n    const exists = this[kHeadersMap].get(lowercaseName)\n\n    // 2. Append (name, value) to list.\n    if (exists) {\n      const delimiter = lowercaseName === 'cookie' ? '; ' : ', '\n      this[kHeadersMap].set(lowercaseName, {\n        name: exists.name,\n        value: `${exists.value}${delimiter}${value}`\n      })\n    } else {\n      this[kHeadersMap].set(lowercaseName, { name, value })\n    }\n\n    if (lowercaseName === 'set-cookie') {\n      this.cookies ??= []\n      this.cookies.push(value)\n    }\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-set\n  set (name, value) {\n    this[kHeadersSortedMap] = null\n    const lowercaseName = name.toLowerCase()\n\n    if (lowercaseName === 'set-cookie') {\n      this.cookies = [value]\n    }\n\n    // 1. If list contains name, then set the value of\n    //    the first such header to value and remove the\n    //    others.\n    // 2. Otherwise, append header (name, value) to list.\n    this[kHeadersMap].set(lowercaseName, { name, value })\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-delete\n  delete (name) {\n    this[kHeadersSortedMap] = null\n\n    name = name.toLowerCase()\n\n    if (name === 'set-cookie') {\n      this.cookies = null\n    }\n\n    this[kHeadersMap].delete(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-get\n  get (name) {\n    const value = this[kHeadersMap].get(name.toLowerCase())\n\n    // 1. If list does not contain name, then return null.\n    // 2. Return the values of all headers in list whose name\n    //    is a byte-case-insensitive match for name,\n    //    separated from each other by 0x2C 0x20, in order.\n    return value === undefined ? null : value.value\n  }\n\n  * [Symbol.iterator] () {\n    // use the lowercased name\n    for (const [name, { value }] of this[kHeadersMap]) {\n      yield [name, value]\n    }\n  }\n\n  get entries () {\n    const headers = {}\n\n    if (this[kHeadersMap].size) {\n      for (const { name, value } of this[kHeadersMap].values()) {\n        headers[name] = value\n      }\n    }\n\n    return headers\n  }\n}\n\n// https://fetch.spec.whatwg.org/#headers-class\nclass Headers {\n  constructor (init = undefined) {\n    if (init === kConstruct) {\n      return\n    }\n    this[kHeadersList] = new HeadersList()\n\n    // The new Headers(init) constructor steps are:\n\n    // 1. Set this\u2019s guard to \"none\".\n    this[kGuard] = 'none'\n\n    // 2. If init is given, then fill this with init.\n    if (init !== undefined) {\n      init = webidl.converters.HeadersInit(init)\n      fill(this, init)\n    }\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-append\n  append (name, value) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'Headers.append' })\n\n    name = webidl.converters.ByteString(name)\n    value = webidl.converters.ByteString(value)\n\n    return appendHeader(this, name, value)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-delete\n  delete (name) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.delete' })\n\n    name = webidl.converters.ByteString(name)\n\n    // 1. If name is not a header name, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.delete',\n        value: name,\n        type: 'header name'\n      })\n    }\n\n    // 2. If this\u2019s guard is \"immutable\", then throw a TypeError.\n    // 3. Otherwise, if this\u2019s guard is \"request\" and name is a\n    //    forbidden header name, return.\n    // 4. Otherwise, if this\u2019s guard is \"request-no-cors\", name\n    //    is not a no-CORS-safelisted request-header name, and\n    //    name is not a privileged no-CORS request-header name,\n    //    return.\n    // 5. Otherwise, if this\u2019s guard is \"response\" and name is\n    //    a forbidden response-header name, return.\n    // Note: undici does not implement forbidden header names\n    if (this[kGuard] === 'immutable') {\n      throw new TypeError('immutable')\n    } else if (this[kGuard] === 'request-no-cors') {\n      // TODO\n    }\n\n    // 6. If this\u2019s header list does not contain name, then\n    //    return.\n    if (!this[kHeadersList].contains(name)) {\n      return\n    }\n\n    // 7. Delete name from this\u2019s header list.\n    // 8. If this\u2019s guard is \"request-no-cors\", then remove\n    //    privileged no-CORS request headers from this.\n    this[kHeadersList].delete(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-get\n  get (name) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.get' })\n\n    name = webidl.converters.ByteString(name)\n\n    // 1. If name is not a header name, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.get',\n        value: name,\n        type: 'header name'\n      })\n    }\n\n    // 2. Return the result of getting name from this\u2019s header\n    //    list.\n    return this[kHeadersList].get(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-has\n  has (name) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.has' })\n\n    name = webidl.converters.ByteString(name)\n\n    // 1. If name is not a header name, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.has',\n        value: name,\n        type: 'header name'\n      })\n    }\n\n    // 2. Return true if this\u2019s header list contains name;\n    //    otherwise false.\n    return this[kHeadersList].contains(name)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-set\n  set (name, value) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 2, { header: 'Headers.set' })\n\n    name = webidl.converters.ByteString(name)\n    value = webidl.converters.ByteString(value)\n\n    // 1. Normalize value.\n    value = headerValueNormalize(value)\n\n    // 2. If name is not a header name or value is not a\n    //    header value, then throw a TypeError.\n    if (!isValidHeaderName(name)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.set',\n        value: name,\n        type: 'header name'\n      })\n    } else if (!isValidHeaderValue(value)) {\n      throw webidl.errors.invalidArgument({\n        prefix: 'Headers.set',\n        value,\n        type: 'header value'\n      })\n    }\n\n    // 3. If this\u2019s guard is \"immutable\", then throw a TypeError.\n    // 4. Otherwise, if this\u2019s guard is \"request\" and name is a\n    //    forbidden header name, return.\n    // 5. Otherwise, if this\u2019s guard is \"request-no-cors\" and\n    //    name/value is not a no-CORS-safelisted request-header,\n    //    return.\n    // 6. Otherwise, if this\u2019s guard is \"response\" and name is a\n    //    forbidden response-header name, return.\n    // Note: undici does not implement forbidden header names\n    if (this[kGuard] === 'immutable') {\n      throw new TypeError('immutable')\n    } else if (this[kGuard] === 'request-no-cors') {\n      // TODO\n    }\n\n    // 7. Set (name, value) in this\u2019s header list.\n    // 8. If this\u2019s guard is \"request-no-cors\", then remove\n    //    privileged no-CORS request headers from this\n    this[kHeadersList].set(name, value)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-headers-getsetcookie\n  getSetCookie () {\n    webidl.brandCheck(this, Headers)\n\n    // 1. If this\u2019s header list does not contain `Set-Cookie`, then return \u00AB \u00BB.\n    // 2. Return the values of all headers in this\u2019s header list whose name is\n    //    a byte-case-insensitive match for `Set-Cookie`, in order.\n\n    const list = this[kHeadersList].cookies\n\n    if (list) {\n      return [...list]\n    }\n\n    return []\n  }\n\n  // https://fetch.spec.whatwg.org/#concept-header-list-sort-and-combine\n  get [kHeadersSortedMap] () {\n    if (this[kHeadersList][kHeadersSortedMap]) {\n      return this[kHeadersList][kHeadersSortedMap]\n    }\n\n    // 1. Let headers be an empty list of headers with the key being the name\n    //    and value the value.\n    const headers = []\n\n    // 2. Let names be the result of convert header names to a sorted-lowercase\n    //    set with all the names of the headers in list.\n    const names = [...this[kHeadersList]].sort((a, b) => a[0] < b[0] ? -1 : 1)\n    const cookies = this[kHeadersList].cookies\n\n    // 3. For each name of names:\n    for (let i = 0; i < names.length; ++i) {\n      const [name, value] = names[i]\n      // 1. If name is `set-cookie`, then:\n      if (name === 'set-cookie') {\n        // 1. Let values be a list of all values of headers in list whose name\n        //    is a byte-case-insensitive match for name, in order.\n\n        // 2. For each value of values:\n        // 1. Append (name, value) to headers.\n        for (let j = 0; j < cookies.length; ++j) {\n          headers.push([name, cookies[j]])\n        }\n      } else {\n        // 2. Otherwise:\n\n        // 1. Let value be the result of getting name from list.\n\n        // 2. Assert: value is non-null.\n        assert(value !== null)\n\n        // 3. Append (name, value) to headers.\n        headers.push([name, value])\n      }\n    }\n\n    this[kHeadersList][kHeadersSortedMap] = headers\n\n    // 4. Return headers.\n    return headers\n  }\n\n  keys () {\n    webidl.brandCheck(this, Headers)\n\n    if (this[kGuard] === 'immutable') {\n      const value = this[kHeadersSortedMap]\n      return makeIterator(() => value, 'Headers',\n        'key')\n    }\n\n    return makeIterator(\n      () => [...this[kHeadersSortedMap].values()],\n      'Headers',\n      'key'\n    )\n  }\n\n  values () {\n    webidl.brandCheck(this, Headers)\n\n    if (this[kGuard] === 'immutable') {\n      const value = this[kHeadersSortedMap]\n      return makeIterator(() => value, 'Headers',\n        'value')\n    }\n\n    return makeIterator(\n      () => [...this[kHeadersSortedMap].values()],\n      'Headers',\n      'value'\n    )\n  }\n\n  entries () {\n    webidl.brandCheck(this, Headers)\n\n    if (this[kGuard] === 'immutable') {\n      const value = this[kHeadersSortedMap]\n      return makeIterator(() => value, 'Headers',\n        'key+value')\n    }\n\n    return makeIterator(\n      () => [...this[kHeadersSortedMap].values()],\n      'Headers',\n      'key+value'\n    )\n  }\n\n  /**\n   * @param {(value: string, key: string, self: Headers) => void} callbackFn\n   * @param {unknown} thisArg\n   */\n  forEach (callbackFn, thisArg = globalThis) {\n    webidl.brandCheck(this, Headers)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Headers.forEach' })\n\n    if (typeof callbackFn !== 'function') {\n      throw new TypeError(\n        \"Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.\"\n      )\n    }\n\n    for (const [key, value] of this) {\n      callbackFn.apply(thisArg, [value, key, this])\n    }\n  }\n\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    webidl.brandCheck(this, Headers)\n\n    return this[kHeadersList]\n  }\n}\n\nHeaders.prototype[Symbol.iterator] = Headers.prototype.entries\n\nObject.defineProperties(Headers.prototype, {\n  append: kEnumerableProperty,\n  delete: kEnumerableProperty,\n  get: kEnumerableProperty,\n  has: kEnumerableProperty,\n  set: kEnumerableProperty,\n  getSetCookie: kEnumerableProperty,\n  keys: kEnumerableProperty,\n  values: kEnumerableProperty,\n  entries: kEnumerableProperty,\n  forEach: kEnumerableProperty,\n  [Symbol.iterator]: { enumerable: false },\n  [Symbol.toStringTag]: {\n    value: 'Headers',\n    configurable: true\n  }\n})\n\nwebidl.converters.HeadersInit = function (V) {\n  if (webidl.util.Type(V) === 'Object') {\n    if (V[Symbol.iterator]) {\n      return webidl.converters['sequence<sequence<ByteString>>'](V)\n    }\n\n    return webidl.converters['record<ByteString, ByteString>'](V)\n  }\n\n  throw webidl.errors.conversionFailed({\n    prefix: 'Headers constructor',\n    argument: 'Argument 1',\n    types: ['sequence<sequence<ByteString>>', 'record<ByteString, ByteString>']\n  })\n}\n\nmodule.exports = {\n  fill,\n  Headers,\n  HeadersList\n}\n", "'use strict'\n\nconst { Headers, HeadersList, fill } = require('./headers')\nconst { extractBody, cloneBody, mixinBody } = require('./body')\nconst util = require('../core/util')\nconst { kEnumerableProperty } = util\nconst {\n  isValidReasonPhrase,\n  isCancelled,\n  isAborted,\n  isBlobLike,\n  serializeJavascriptValueToJSONString,\n  isErrorLike,\n  isomorphicEncode\n} = require('./util')\nconst {\n  redirectStatusSet,\n  nullBodyStatus,\n  DOMException\n} = require('./constants')\nconst { kState, kHeaders, kGuard, kRealm } = require('./symbols')\nconst { webidl } = require('./webidl')\nconst { FormData } = require('./formdata')\nconst { getGlobalOrigin } = require('./global')\nconst { URLSerializer } = require('./dataURL')\nconst { kHeadersList, kConstruct } = require('../core/symbols')\nconst assert = require('assert')\nconst { types } = require('util')\n\nconst ReadableStream = globalThis.ReadableStream || require('stream/web').ReadableStream\nconst textEncoder = new TextEncoder('utf-8')\n\n// https://fetch.spec.whatwg.org/#response-class\nclass Response {\n  // Creates network error Response.\n  static error () {\n    // TODO\n    const relevantRealm = { settingsObject: {} }\n\n    // The static error() method steps are to return the result of creating a\n    // Response object, given a new network error, \"immutable\", and this\u2019s\n    // relevant Realm.\n    const responseObject = new Response()\n    responseObject[kState] = makeNetworkError()\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kHeadersList] = responseObject[kState].headersList\n    responseObject[kHeaders][kGuard] = 'immutable'\n    responseObject[kHeaders][kRealm] = relevantRealm\n    return responseObject\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-response-json\n  static json (data, init = {}) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Response.json' })\n\n    if (init !== null) {\n      init = webidl.converters.ResponseInit(init)\n    }\n\n    // 1. Let bytes the result of running serialize a JavaScript value to JSON bytes on data.\n    const bytes = textEncoder.encode(\n      serializeJavascriptValueToJSONString(data)\n    )\n\n    // 2. Let body be the result of extracting bytes.\n    const body = extractBody(bytes)\n\n    // 3. Let responseObject be the result of creating a Response object, given a new response,\n    //    \"response\", and this\u2019s relevant Realm.\n    const relevantRealm = { settingsObject: {} }\n    const responseObject = new Response()\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kGuard] = 'response'\n    responseObject[kHeaders][kRealm] = relevantRealm\n\n    // 4. Perform initialize a response given responseObject, init, and (body, \"application/json\").\n    initializeResponse(responseObject, init, { body: body[0], type: 'application/json' })\n\n    // 5. Return responseObject.\n    return responseObject\n  }\n\n  // Creates a redirect Response that redirects to url with status status.\n  static redirect (url, status = 302) {\n    const relevantRealm = { settingsObject: {} }\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Response.redirect' })\n\n    url = webidl.converters.USVString(url)\n    status = webidl.converters['unsigned short'](status)\n\n    // 1. Let parsedURL be the result of parsing url with current settings\n    // object\u2019s API base URL.\n    // 2. If parsedURL is failure, then throw a TypeError.\n    // TODO: base-URL?\n    let parsedURL\n    try {\n      parsedURL = new URL(url, getGlobalOrigin())\n    } catch (err) {\n      throw Object.assign(new TypeError('Failed to parse URL from ' + url), {\n        cause: err\n      })\n    }\n\n    // 3. If status is not a redirect status, then throw a RangeError.\n    if (!redirectStatusSet.has(status)) {\n      throw new RangeError('Invalid status code ' + status)\n    }\n\n    // 4. Let responseObject be the result of creating a Response object,\n    // given a new response, \"immutable\", and this\u2019s relevant Realm.\n    const responseObject = new Response()\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kGuard] = 'immutable'\n    responseObject[kHeaders][kRealm] = relevantRealm\n\n    // 5. Set responseObject\u2019s response\u2019s status to status.\n    responseObject[kState].status = status\n\n    // 6. Let value be parsedURL, serialized and isomorphic encoded.\n    const value = isomorphicEncode(URLSerializer(parsedURL))\n\n    // 7. Append `Location`/value to responseObject\u2019s response\u2019s header list.\n    responseObject[kState].headersList.append('location', value)\n\n    // 8. Return responseObject.\n    return responseObject\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-response\n  constructor (body = null, init = {}) {\n    if (body !== null) {\n      body = webidl.converters.BodyInit(body)\n    }\n\n    init = webidl.converters.ResponseInit(init)\n\n    // TODO\n    this[kRealm] = { settingsObject: {} }\n\n    // 1. Set this\u2019s response to a new response.\n    this[kState] = makeResponse({})\n\n    // 2. Set this\u2019s headers to a new Headers object with this\u2019s relevant\n    // Realm, whose header list is this\u2019s response\u2019s header list and guard\n    // is \"response\".\n    this[kHeaders] = new Headers(kConstruct)\n    this[kHeaders][kGuard] = 'response'\n    this[kHeaders][kHeadersList] = this[kState].headersList\n    this[kHeaders][kRealm] = this[kRealm]\n\n    // 3. Let bodyWithType be null.\n    let bodyWithType = null\n\n    // 4. If body is non-null, then set bodyWithType to the result of extracting body.\n    if (body != null) {\n      const [extractedBody, type] = extractBody(body)\n      bodyWithType = { body: extractedBody, type }\n    }\n\n    // 5. Perform initialize a response given this, init, and bodyWithType.\n    initializeResponse(this, init, bodyWithType)\n  }\n\n  // Returns response\u2019s type, e.g., \"cors\".\n  get type () {\n    webidl.brandCheck(this, Response)\n\n    // The type getter steps are to return this\u2019s response\u2019s type.\n    return this[kState].type\n  }\n\n  // Returns response\u2019s URL, if it has one; otherwise the empty string.\n  get url () {\n    webidl.brandCheck(this, Response)\n\n    const urlList = this[kState].urlList\n\n    // The url getter steps are to return the empty string if this\u2019s\n    // response\u2019s URL is null; otherwise this\u2019s response\u2019s URL,\n    // serialized with exclude fragment set to true.\n    const url = urlList[urlList.length - 1] ?? null\n\n    if (url === null) {\n      return ''\n    }\n\n    return URLSerializer(url, true)\n  }\n\n  // Returns whether response was obtained through a redirect.\n  get redirected () {\n    webidl.brandCheck(this, Response)\n\n    // The redirected getter steps are to return true if this\u2019s response\u2019s URL\n    // list has more than one item; otherwise false.\n    return this[kState].urlList.length > 1\n  }\n\n  // Returns response\u2019s status.\n  get status () {\n    webidl.brandCheck(this, Response)\n\n    // The status getter steps are to return this\u2019s response\u2019s status.\n    return this[kState].status\n  }\n\n  // Returns whether response\u2019s status is an ok status.\n  get ok () {\n    webidl.brandCheck(this, Response)\n\n    // The ok getter steps are to return true if this\u2019s response\u2019s status is an\n    // ok status; otherwise false.\n    return this[kState].status >= 200 && this[kState].status <= 299\n  }\n\n  // Returns response\u2019s status message.\n  get statusText () {\n    webidl.brandCheck(this, Response)\n\n    // The statusText getter steps are to return this\u2019s response\u2019s status\n    // message.\n    return this[kState].statusText\n  }\n\n  // Returns response\u2019s headers as Headers.\n  get headers () {\n    webidl.brandCheck(this, Response)\n\n    // The headers getter steps are to return this\u2019s headers.\n    return this[kHeaders]\n  }\n\n  get body () {\n    webidl.brandCheck(this, Response)\n\n    return this[kState].body ? this[kState].body.stream : null\n  }\n\n  get bodyUsed () {\n    webidl.brandCheck(this, Response)\n\n    return !!this[kState].body && util.isDisturbed(this[kState].body.stream)\n  }\n\n  // Returns a clone of response.\n  clone () {\n    webidl.brandCheck(this, Response)\n\n    // 1. If this is unusable, then throw a TypeError.\n    if (this.bodyUsed || (this.body && this.body.locked)) {\n      throw webidl.errors.exception({\n        header: 'Response.clone',\n        message: 'Body has already been consumed.'\n      })\n    }\n\n    // 2. Let clonedResponse be the result of cloning this\u2019s response.\n    const clonedResponse = cloneResponse(this[kState])\n\n    // 3. Return the result of creating a Response object, given\n    // clonedResponse, this\u2019s headers\u2019s guard, and this\u2019s relevant Realm.\n    const clonedResponseObject = new Response()\n    clonedResponseObject[kState] = clonedResponse\n    clonedResponseObject[kRealm] = this[kRealm]\n    clonedResponseObject[kHeaders][kHeadersList] = clonedResponse.headersList\n    clonedResponseObject[kHeaders][kGuard] = this[kHeaders][kGuard]\n    clonedResponseObject[kHeaders][kRealm] = this[kHeaders][kRealm]\n\n    return clonedResponseObject\n  }\n}\n\nmixinBody(Response)\n\nObject.defineProperties(Response.prototype, {\n  type: kEnumerableProperty,\n  url: kEnumerableProperty,\n  status: kEnumerableProperty,\n  ok: kEnumerableProperty,\n  redirected: kEnumerableProperty,\n  statusText: kEnumerableProperty,\n  headers: kEnumerableProperty,\n  clone: kEnumerableProperty,\n  body: kEnumerableProperty,\n  bodyUsed: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'Response',\n    configurable: true\n  }\n})\n\nObject.defineProperties(Response, {\n  json: kEnumerableProperty,\n  redirect: kEnumerableProperty,\n  error: kEnumerableProperty\n})\n\n// https://fetch.spec.whatwg.org/#concept-response-clone\nfunction cloneResponse (response) {\n  // To clone a response response, run these steps:\n\n  // 1. If response is a filtered response, then return a new identical\n  // filtered response whose internal response is a clone of response\u2019s\n  // internal response.\n  if (response.internalResponse) {\n    return filterResponse(\n      cloneResponse(response.internalResponse),\n      response.type\n    )\n  }\n\n  // 2. Let newResponse be a copy of response, except for its body.\n  const newResponse = makeResponse({ ...response, body: null })\n\n  // 3. If response\u2019s body is non-null, then set newResponse\u2019s body to the\n  // result of cloning response\u2019s body.\n  if (response.body != null) {\n    newResponse.body = cloneBody(response.body)\n  }\n\n  // 4. Return newResponse.\n  return newResponse\n}\n\nfunction makeResponse (init) {\n  return {\n    aborted: false,\n    rangeRequested: false,\n    timingAllowPassed: false,\n    requestIncludesCredentials: false,\n    type: 'default',\n    status: 200,\n    timingInfo: null,\n    cacheState: '',\n    statusText: '',\n    ...init,\n    headersList: init.headersList\n      ? new HeadersList(init.headersList)\n      : new HeadersList(),\n    urlList: init.urlList ? [...init.urlList] : []\n  }\n}\n\nfunction makeNetworkError (reason) {\n  const isError = isErrorLike(reason)\n  return makeResponse({\n    type: 'error',\n    status: 0,\n    error: isError\n      ? reason\n      : new Error(reason ? String(reason) : reason),\n    aborted: reason && reason.name === 'AbortError'\n  })\n}\n\nfunction makeFilteredResponse (response, state) {\n  state = {\n    internalResponse: response,\n    ...state\n  }\n\n  return new Proxy(response, {\n    get (target, p) {\n      return p in state ? state[p] : target[p]\n    },\n    set (target, p, value) {\n      assert(!(p in state))\n      target[p] = value\n      return true\n    }\n  })\n}\n\n// https://fetch.spec.whatwg.org/#concept-filtered-response\nfunction filterResponse (response, type) {\n  // Set response to the following filtered response with response as its\n  // internal response, depending on request\u2019s response tainting:\n  if (type === 'basic') {\n    // A basic filtered response is a filtered response whose type is \"basic\"\n    // and header list excludes any headers in internal response\u2019s header list\n    // whose name is a forbidden response-header name.\n\n    // Note: undici does not implement forbidden response-header names\n    return makeFilteredResponse(response, {\n      type: 'basic',\n      headersList: response.headersList\n    })\n  } else if (type === 'cors') {\n    // A CORS filtered response is a filtered response whose type is \"cors\"\n    // and header list excludes any headers in internal response\u2019s header\n    // list whose name is not a CORS-safelisted response-header name, given\n    // internal response\u2019s CORS-exposed header-name list.\n\n    // Note: undici does not implement CORS-safelisted response-header names\n    return makeFilteredResponse(response, {\n      type: 'cors',\n      headersList: response.headersList\n    })\n  } else if (type === 'opaque') {\n    // An opaque filtered response is a filtered response whose type is\n    // \"opaque\", URL list is the empty list, status is 0, status message\n    // is the empty byte sequence, header list is empty, and body is null.\n\n    return makeFilteredResponse(response, {\n      type: 'opaque',\n      urlList: Object.freeze([]),\n      status: 0,\n      statusText: '',\n      body: null\n    })\n  } else if (type === 'opaqueredirect') {\n    // An opaque-redirect filtered response is a filtered response whose type\n    // is \"opaqueredirect\", status is 0, status message is the empty byte\n    // sequence, header list is empty, and body is null.\n\n    return makeFilteredResponse(response, {\n      type: 'opaqueredirect',\n      status: 0,\n      statusText: '',\n      headersList: [],\n      body: null\n    })\n  } else {\n    assert(false)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#appropriate-network-error\nfunction makeAppropriateNetworkError (fetchParams, err = null) {\n  // 1. Assert: fetchParams is canceled.\n  assert(isCancelled(fetchParams))\n\n  // 2. Return an aborted network error if fetchParams is aborted;\n  // otherwise return a network error.\n  return isAborted(fetchParams)\n    ? makeNetworkError(Object.assign(new DOMException('The operation was aborted.', 'AbortError'), { cause: err }))\n    : makeNetworkError(Object.assign(new DOMException('Request was cancelled.'), { cause: err }))\n}\n\n// https://whatpr.org/fetch/1392.html#initialize-a-response\nfunction initializeResponse (response, init, body) {\n  // 1. If init[\"status\"] is not in the range 200 to 599, inclusive, then\n  //    throw a RangeError.\n  if (init.status !== null && (init.status < 200 || init.status > 599)) {\n    throw new RangeError('init[\"status\"] must be in the range of 200 to 599, inclusive.')\n  }\n\n  // 2. If init[\"statusText\"] does not match the reason-phrase token production,\n  //    then throw a TypeError.\n  if ('statusText' in init && init.statusText != null) {\n    // See, https://datatracker.ietf.org/doc/html/rfc7230#section-3.1.2:\n    //   reason-phrase  = *( HTAB / SP / VCHAR / obs-text )\n    if (!isValidReasonPhrase(String(init.statusText))) {\n      throw new TypeError('Invalid statusText')\n    }\n  }\n\n  // 3. Set response\u2019s response\u2019s status to init[\"status\"].\n  if ('status' in init && init.status != null) {\n    response[kState].status = init.status\n  }\n\n  // 4. Set response\u2019s response\u2019s status message to init[\"statusText\"].\n  if ('statusText' in init && init.statusText != null) {\n    response[kState].statusText = init.statusText\n  }\n\n  // 5. If init[\"headers\"] exists, then fill response\u2019s headers with init[\"headers\"].\n  if ('headers' in init && init.headers != null) {\n    fill(response[kHeaders], init.headers)\n  }\n\n  // 6. If body was given, then:\n  if (body) {\n    // 1. If response's status is a null body status, then throw a TypeError.\n    if (nullBodyStatus.includes(response.status)) {\n      throw webidl.errors.exception({\n        header: 'Response constructor',\n        message: 'Invalid response status code ' + response.status\n      })\n    }\n\n    // 2. Set response's body to body's body.\n    response[kState].body = body.body\n\n    // 3. If body's type is non-null and response's header list does not contain\n    //    `Content-Type`, then append (`Content-Type`, body's type) to response's header list.\n    if (body.type != null && !response[kState].headersList.contains('Content-Type')) {\n      response[kState].headersList.append('content-type', body.type)\n    }\n  }\n}\n\nwebidl.converters.ReadableStream = webidl.interfaceConverter(\n  ReadableStream\n)\n\nwebidl.converters.FormData = webidl.interfaceConverter(\n  FormData\n)\n\nwebidl.converters.URLSearchParams = webidl.interfaceConverter(\n  URLSearchParams\n)\n\n// https://fetch.spec.whatwg.org/#typedefdef-xmlhttprequestbodyinit\nwebidl.converters.XMLHttpRequestBodyInit = function (V) {\n  if (typeof V === 'string') {\n    return webidl.converters.USVString(V)\n  }\n\n  if (isBlobLike(V)) {\n    return webidl.converters.Blob(V, { strict: false })\n  }\n\n  if (types.isArrayBuffer(V) || types.isTypedArray(V) || types.isDataView(V)) {\n    return webidl.converters.BufferSource(V)\n  }\n\n  if (util.isFormDataLike(V)) {\n    return webidl.converters.FormData(V, { strict: false })\n  }\n\n  if (V instanceof URLSearchParams) {\n    return webidl.converters.URLSearchParams(V)\n  }\n\n  return webidl.converters.DOMString(V)\n}\n\n// https://fetch.spec.whatwg.org/#bodyinit\nwebidl.converters.BodyInit = function (V) {\n  if (V instanceof ReadableStream) {\n    return webidl.converters.ReadableStream(V)\n  }\n\n  // Note: the spec doesn't include async iterables,\n  // this is an undici extension.\n  if (V?.[Symbol.asyncIterator]) {\n    return V\n  }\n\n  return webidl.converters.XMLHttpRequestBodyInit(V)\n}\n\nwebidl.converters.ResponseInit = webidl.dictionaryConverter([\n  {\n    key: 'status',\n    converter: webidl.converters['unsigned short'],\n    defaultValue: 200\n  },\n  {\n    key: 'statusText',\n    converter: webidl.converters.ByteString,\n    defaultValue: ''\n  },\n  {\n    key: 'headers',\n    converter: webidl.converters.HeadersInit\n  }\n])\n\nmodule.exports = {\n  makeNetworkError,\n  makeResponse,\n  makeAppropriateNetworkError,\n  filterResponse,\n  Response,\n  cloneResponse\n}\n", "/* globals AbortController */\n\n'use strict'\n\nconst { extractBody, mixinBody, cloneBody } = require('./body')\nconst { Headers, fill: fillHeaders, HeadersList } = require('./headers')\nconst { FinalizationRegistry } = require('../compat/dispatcher-weakref')()\nconst util = require('../core/util')\nconst {\n  isValidHTTPToken,\n  sameOrigin,\n  normalizeMethod,\n  makePolicyContainer,\n  normalizeMethodRecord\n} = require('./util')\nconst {\n  forbiddenMethodsSet,\n  corsSafeListedMethodsSet,\n  referrerPolicy,\n  requestRedirect,\n  requestMode,\n  requestCredentials,\n  requestCache,\n  requestDuplex\n} = require('./constants')\nconst { kEnumerableProperty } = util\nconst { kHeaders, kSignal, kState, kGuard, kRealm } = require('./symbols')\nconst { webidl } = require('./webidl')\nconst { getGlobalOrigin } = require('./global')\nconst { URLSerializer } = require('./dataURL')\nconst { kHeadersList, kConstruct } = require('../core/symbols')\nconst assert = require('assert')\nconst { getMaxListeners, setMaxListeners, getEventListeners, defaultMaxListeners } = require('events')\n\nlet TransformStream = globalThis.TransformStream\n\nconst kAbortController = Symbol('abortController')\n\nconst requestFinalizer = new FinalizationRegistry(({ signal, abort }) => {\n  signal.removeEventListener('abort', abort)\n})\n\n// https://fetch.spec.whatwg.org/#request-class\nclass Request {\n  // https://fetch.spec.whatwg.org/#dom-request\n  constructor (input, init = {}) {\n    if (input === kConstruct) {\n      return\n    }\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Request constructor' })\n\n    input = webidl.converters.RequestInfo(input)\n    init = webidl.converters.RequestInit(init)\n\n    // https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\n    this[kRealm] = {\n      settingsObject: {\n        baseUrl: getGlobalOrigin(),\n        get origin () {\n          return this.baseUrl?.origin\n        },\n        policyContainer: makePolicyContainer()\n      }\n    }\n\n    // 1. Let request be null.\n    let request = null\n\n    // 2. Let fallbackMode be null.\n    let fallbackMode = null\n\n    // 3. Let baseURL be this\u2019s relevant settings object\u2019s API base URL.\n    const baseUrl = this[kRealm].settingsObject.baseUrl\n\n    // 4. Let signal be null.\n    let signal = null\n\n    // 5. If input is a string, then:\n    if (typeof input === 'string') {\n      // 1. Let parsedURL be the result of parsing input with baseURL.\n      // 2. If parsedURL is failure, then throw a TypeError.\n      let parsedURL\n      try {\n        parsedURL = new URL(input, baseUrl)\n      } catch (err) {\n        throw new TypeError('Failed to parse URL from ' + input, { cause: err })\n      }\n\n      // 3. If parsedURL includes credentials, then throw a TypeError.\n      if (parsedURL.username || parsedURL.password) {\n        throw new TypeError(\n          'Request cannot be constructed from a URL that includes credentials: ' +\n            input\n        )\n      }\n\n      // 4. Set request to a new request whose URL is parsedURL.\n      request = makeRequest({ urlList: [parsedURL] })\n\n      // 5. Set fallbackMode to \"cors\".\n      fallbackMode = 'cors'\n    } else {\n      // 6. Otherwise:\n\n      // 7. Assert: input is a Request object.\n      assert(input instanceof Request)\n\n      // 8. Set request to input\u2019s request.\n      request = input[kState]\n\n      // 9. Set signal to input\u2019s signal.\n      signal = input[kSignal]\n    }\n\n    // 7. Let origin be this\u2019s relevant settings object\u2019s origin.\n    const origin = this[kRealm].settingsObject.origin\n\n    // 8. Let window be \"client\".\n    let window = 'client'\n\n    // 9. If request\u2019s window is an environment settings object and its origin\n    // is same origin with origin, then set window to request\u2019s window.\n    if (\n      request.window?.constructor?.name === 'EnvironmentSettingsObject' &&\n      sameOrigin(request.window, origin)\n    ) {\n      window = request.window\n    }\n\n    // 10. If init[\"window\"] exists and is non-null, then throw a TypeError.\n    if (init.window != null) {\n      throw new TypeError(`'window' option '${window}' must be null`)\n    }\n\n    // 11. If init[\"window\"] exists, then set window to \"no-window\".\n    if ('window' in init) {\n      window = 'no-window'\n    }\n\n    // 12. Set request to a new request with the following properties:\n    request = makeRequest({\n      // URL request\u2019s URL.\n      // undici implementation note: this is set as the first item in request's urlList in makeRequest\n      // method request\u2019s method.\n      method: request.method,\n      // header list A copy of request\u2019s header list.\n      // undici implementation note: headersList is cloned in makeRequest\n      headersList: request.headersList,\n      // unsafe-request flag Set.\n      unsafeRequest: request.unsafeRequest,\n      // client This\u2019s relevant settings object.\n      client: this[kRealm].settingsObject,\n      // window window.\n      window,\n      // priority request\u2019s priority.\n      priority: request.priority,\n      // origin request\u2019s origin. The propagation of the origin is only significant for navigation requests\n      // being handled by a service worker. In this scenario a request can have an origin that is different\n      // from the current client.\n      origin: request.origin,\n      // referrer request\u2019s referrer.\n      referrer: request.referrer,\n      // referrer policy request\u2019s referrer policy.\n      referrerPolicy: request.referrerPolicy,\n      // mode request\u2019s mode.\n      mode: request.mode,\n      // credentials mode request\u2019s credentials mode.\n      credentials: request.credentials,\n      // cache mode request\u2019s cache mode.\n      cache: request.cache,\n      // redirect mode request\u2019s redirect mode.\n      redirect: request.redirect,\n      // integrity metadata request\u2019s integrity metadata.\n      integrity: request.integrity,\n      // keepalive request\u2019s keepalive.\n      keepalive: request.keepalive,\n      // reload-navigation flag request\u2019s reload-navigation flag.\n      reloadNavigation: request.reloadNavigation,\n      // history-navigation flag request\u2019s history-navigation flag.\n      historyNavigation: request.historyNavigation,\n      // URL list A clone of request\u2019s URL list.\n      urlList: [...request.urlList]\n    })\n\n    const initHasKey = Object.keys(init).length !== 0\n\n    // 13. If init is not empty, then:\n    if (initHasKey) {\n      // 1. If request\u2019s mode is \"navigate\", then set it to \"same-origin\".\n      if (request.mode === 'navigate') {\n        request.mode = 'same-origin'\n      }\n\n      // 2. Unset request\u2019s reload-navigation flag.\n      request.reloadNavigation = false\n\n      // 3. Unset request\u2019s history-navigation flag.\n      request.historyNavigation = false\n\n      // 4. Set request\u2019s origin to \"client\".\n      request.origin = 'client'\n\n      // 5. Set request\u2019s referrer to \"client\"\n      request.referrer = 'client'\n\n      // 6. Set request\u2019s referrer policy to the empty string.\n      request.referrerPolicy = ''\n\n      // 7. Set request\u2019s URL to request\u2019s current URL.\n      request.url = request.urlList[request.urlList.length - 1]\n\n      // 8. Set request\u2019s URL list to \u00AB request\u2019s URL \u00BB.\n      request.urlList = [request.url]\n    }\n\n    // 14. If init[\"referrer\"] exists, then:\n    if (init.referrer !== undefined) {\n      // 1. Let referrer be init[\"referrer\"].\n      const referrer = init.referrer\n\n      // 2. If referrer is the empty string, then set request\u2019s referrer to \"no-referrer\".\n      if (referrer === '') {\n        request.referrer = 'no-referrer'\n      } else {\n        // 1. Let parsedReferrer be the result of parsing referrer with\n        // baseURL.\n        // 2. If parsedReferrer is failure, then throw a TypeError.\n        let parsedReferrer\n        try {\n          parsedReferrer = new URL(referrer, baseUrl)\n        } catch (err) {\n          throw new TypeError(`Referrer \"${referrer}\" is not a valid URL.`, { cause: err })\n        }\n\n        // 3. If one of the following is true\n        // - parsedReferrer\u2019s scheme is \"about\" and path is the string \"client\"\n        // - parsedReferrer\u2019s origin is not same origin with origin\n        // then set request\u2019s referrer to \"client\".\n        if (\n          (parsedReferrer.protocol === 'about:' && parsedReferrer.hostname === 'client') ||\n          (origin && !sameOrigin(parsedReferrer, this[kRealm].settingsObject.baseUrl))\n        ) {\n          request.referrer = 'client'\n        } else {\n          // 4. Otherwise, set request\u2019s referrer to parsedReferrer.\n          request.referrer = parsedReferrer\n        }\n      }\n    }\n\n    // 15. If init[\"referrerPolicy\"] exists, then set request\u2019s referrer policy\n    // to it.\n    if (init.referrerPolicy !== undefined) {\n      request.referrerPolicy = init.referrerPolicy\n    }\n\n    // 16. Let mode be init[\"mode\"] if it exists, and fallbackMode otherwise.\n    let mode\n    if (init.mode !== undefined) {\n      mode = init.mode\n    } else {\n      mode = fallbackMode\n    }\n\n    // 17. If mode is \"navigate\", then throw a TypeError.\n    if (mode === 'navigate') {\n      throw webidl.errors.exception({\n        header: 'Request constructor',\n        message: 'invalid request mode navigate.'\n      })\n    }\n\n    // 18. If mode is non-null, set request\u2019s mode to mode.\n    if (mode != null) {\n      request.mode = mode\n    }\n\n    // 19. If init[\"credentials\"] exists, then set request\u2019s credentials mode\n    // to it.\n    if (init.credentials !== undefined) {\n      request.credentials = init.credentials\n    }\n\n    // 18. If init[\"cache\"] exists, then set request\u2019s cache mode to it.\n    if (init.cache !== undefined) {\n      request.cache = init.cache\n    }\n\n    // 21. If request\u2019s cache mode is \"only-if-cached\" and request\u2019s mode is\n    // not \"same-origin\", then throw a TypeError.\n    if (request.cache === 'only-if-cached' && request.mode !== 'same-origin') {\n      throw new TypeError(\n        \"'only-if-cached' can be set only with 'same-origin' mode\"\n      )\n    }\n\n    // 22. If init[\"redirect\"] exists, then set request\u2019s redirect mode to it.\n    if (init.redirect !== undefined) {\n      request.redirect = init.redirect\n    }\n\n    // 23. If init[\"integrity\"] exists, then set request\u2019s integrity metadata to it.\n    if (init.integrity != null) {\n      request.integrity = String(init.integrity)\n    }\n\n    // 24. If init[\"keepalive\"] exists, then set request\u2019s keepalive to it.\n    if (init.keepalive !== undefined) {\n      request.keepalive = Boolean(init.keepalive)\n    }\n\n    // 25. If init[\"method\"] exists, then:\n    if (init.method !== undefined) {\n      // 1. Let method be init[\"method\"].\n      let method = init.method\n\n      // 2. If method is not a method or method is a forbidden method, then\n      // throw a TypeError.\n      if (!isValidHTTPToken(method)) {\n        throw new TypeError(`'${method}' is not a valid HTTP method.`)\n      }\n\n      if (forbiddenMethodsSet.has(method.toUpperCase())) {\n        throw new TypeError(`'${method}' HTTP method is unsupported.`)\n      }\n\n      // 3. Normalize method.\n      method = normalizeMethodRecord[method] ?? normalizeMethod(method)\n\n      // 4. Set request\u2019s method to method.\n      request.method = method\n    }\n\n    // 26. If init[\"signal\"] exists, then set signal to it.\n    if (init.signal !== undefined) {\n      signal = init.signal\n    }\n\n    // 27. Set this\u2019s request to request.\n    this[kState] = request\n\n    // 28. Set this\u2019s signal to a new AbortSignal object with this\u2019s relevant\n    // Realm.\n    // TODO: could this be simplified with AbortSignal.any\n    // (https://dom.spec.whatwg.org/#dom-abortsignal-any)\n    const ac = new AbortController()\n    this[kSignal] = ac.signal\n    this[kSignal][kRealm] = this[kRealm]\n\n    // 29. If signal is not null, then make this\u2019s signal follow signal.\n    if (signal != null) {\n      if (\n        !signal ||\n        typeof signal.aborted !== 'boolean' ||\n        typeof signal.addEventListener !== 'function'\n      ) {\n        throw new TypeError(\n          \"Failed to construct 'Request': member signal is not of type AbortSignal.\"\n        )\n      }\n\n      if (signal.aborted) {\n        ac.abort(signal.reason)\n      } else {\n        // Keep a strong ref to ac while request object\n        // is alive. This is needed to prevent AbortController\n        // from being prematurely garbage collected.\n        // See, https://github.com/nodejs/undici/issues/1926.\n        this[kAbortController] = ac\n\n        const acRef = new WeakRef(ac)\n        const abort = function () {\n          const ac = acRef.deref()\n          if (ac !== undefined) {\n            ac.abort(this.reason)\n          }\n        }\n\n        // Third-party AbortControllers may not work with these.\n        // See, https://github.com/nodejs/undici/pull/1910#issuecomment-1464495619.\n        try {\n          // If the max amount of listeners is equal to the default, increase it\n          // This is only available in node >= v19.9.0\n          if (typeof getMaxListeners === 'function' && getMaxListeners(signal) === defaultMaxListeners) {\n            setMaxListeners(100, signal)\n          } else if (getEventListeners(signal, 'abort').length >= defaultMaxListeners) {\n            setMaxListeners(100, signal)\n          }\n        } catch {}\n\n        util.addAbortListener(signal, abort)\n        requestFinalizer.register(ac, { signal, abort })\n      }\n    }\n\n    // 30. Set this\u2019s headers to a new Headers object with this\u2019s relevant\n    // Realm, whose header list is request\u2019s header list and guard is\n    // \"request\".\n    this[kHeaders] = new Headers(kConstruct)\n    this[kHeaders][kHeadersList] = request.headersList\n    this[kHeaders][kGuard] = 'request'\n    this[kHeaders][kRealm] = this[kRealm]\n\n    // 31. If this\u2019s request\u2019s mode is \"no-cors\", then:\n    if (mode === 'no-cors') {\n      // 1. If this\u2019s request\u2019s method is not a CORS-safelisted method,\n      // then throw a TypeError.\n      if (!corsSafeListedMethodsSet.has(request.method)) {\n        throw new TypeError(\n          `'${request.method} is unsupported in no-cors mode.`\n        )\n      }\n\n      // 2. Set this\u2019s headers\u2019s guard to \"request-no-cors\".\n      this[kHeaders][kGuard] = 'request-no-cors'\n    }\n\n    // 32. If init is not empty, then:\n    if (initHasKey) {\n      /** @type {HeadersList} */\n      const headersList = this[kHeaders][kHeadersList]\n      // 1. Let headers be a copy of this\u2019s headers and its associated header\n      // list.\n      // 2. If init[\"headers\"] exists, then set headers to init[\"headers\"].\n      const headers = init.headers !== undefined ? init.headers : new HeadersList(headersList)\n\n      // 3. Empty this\u2019s headers\u2019s header list.\n      headersList.clear()\n\n      // 4. If headers is a Headers object, then for each header in its header\n      // list, append header\u2019s name/header\u2019s value to this\u2019s headers.\n      if (headers instanceof HeadersList) {\n        for (const [key, val] of headers) {\n          headersList.append(key, val)\n        }\n        // Note: Copy the `set-cookie` meta-data.\n        headersList.cookies = headers.cookies\n      } else {\n        // 5. Otherwise, fill this\u2019s headers with headers.\n        fillHeaders(this[kHeaders], headers)\n      }\n    }\n\n    // 33. Let inputBody be input\u2019s request\u2019s body if input is a Request\n    // object; otherwise null.\n    const inputBody = input instanceof Request ? input[kState].body : null\n\n    // 34. If either init[\"body\"] exists and is non-null or inputBody is\n    // non-null, and request\u2019s method is `GET` or `HEAD`, then throw a\n    // TypeError.\n    if (\n      (init.body != null || inputBody != null) &&\n      (request.method === 'GET' || request.method === 'HEAD')\n    ) {\n      throw new TypeError('Request with GET/HEAD method cannot have body.')\n    }\n\n    // 35. Let initBody be null.\n    let initBody = null\n\n    // 36. If init[\"body\"] exists and is non-null, then:\n    if (init.body != null) {\n      // 1. Let Content-Type be null.\n      // 2. Set initBody and Content-Type to the result of extracting\n      // init[\"body\"], with keepalive set to request\u2019s keepalive.\n      const [extractedBody, contentType] = extractBody(\n        init.body,\n        request.keepalive\n      )\n      initBody = extractedBody\n\n      // 3, If Content-Type is non-null and this\u2019s headers\u2019s header list does\n      // not contain `Content-Type`, then append `Content-Type`/Content-Type to\n      // this\u2019s headers.\n      if (contentType && !this[kHeaders][kHeadersList].contains('content-type')) {\n        this[kHeaders].append('content-type', contentType)\n      }\n    }\n\n    // 37. Let inputOrInitBody be initBody if it is non-null; otherwise\n    // inputBody.\n    const inputOrInitBody = initBody ?? inputBody\n\n    // 38. If inputOrInitBody is non-null and inputOrInitBody\u2019s source is\n    // null, then:\n    if (inputOrInitBody != null && inputOrInitBody.source == null) {\n      // 1. If initBody is non-null and init[\"duplex\"] does not exist,\n      //    then throw a TypeError.\n      if (initBody != null && init.duplex == null) {\n        throw new TypeError('RequestInit: duplex option is required when sending a body.')\n      }\n\n      // 2. If this\u2019s request\u2019s mode is neither \"same-origin\" nor \"cors\",\n      // then throw a TypeError.\n      if (request.mode !== 'same-origin' && request.mode !== 'cors') {\n        throw new TypeError(\n          'If request is made from ReadableStream, mode should be \"same-origin\" or \"cors\"'\n        )\n      }\n\n      // 3. Set this\u2019s request\u2019s use-CORS-preflight flag.\n      request.useCORSPreflightFlag = true\n    }\n\n    // 39. Let finalBody be inputOrInitBody.\n    let finalBody = inputOrInitBody\n\n    // 40. If initBody is null and inputBody is non-null, then:\n    if (initBody == null && inputBody != null) {\n      // 1. If input is unusable, then throw a TypeError.\n      if (util.isDisturbed(inputBody.stream) || inputBody.stream.locked) {\n        throw new TypeError(\n          'Cannot construct a Request with a Request object that has already been used.'\n        )\n      }\n\n      // 2. Set finalBody to the result of creating a proxy for inputBody.\n      if (!TransformStream) {\n        TransformStream = require('stream/web').TransformStream\n      }\n\n      // https://streams.spec.whatwg.org/#readablestream-create-a-proxy\n      const identityTransform = new TransformStream()\n      inputBody.stream.pipeThrough(identityTransform)\n      finalBody = {\n        source: inputBody.source,\n        length: inputBody.length,\n        stream: identityTransform.readable\n      }\n    }\n\n    // 41. Set this\u2019s request\u2019s body to finalBody.\n    this[kState].body = finalBody\n  }\n\n  // Returns request\u2019s HTTP method, which is \"GET\" by default.\n  get method () {\n    webidl.brandCheck(this, Request)\n\n    // The method getter steps are to return this\u2019s request\u2019s method.\n    return this[kState].method\n  }\n\n  // Returns the URL of request as a string.\n  get url () {\n    webidl.brandCheck(this, Request)\n\n    // The url getter steps are to return this\u2019s request\u2019s URL, serialized.\n    return URLSerializer(this[kState].url)\n  }\n\n  // Returns a Headers object consisting of the headers associated with request.\n  // Note that headers added in the network layer by the user agent will not\n  // be accounted for in this object, e.g., the \"Host\" header.\n  get headers () {\n    webidl.brandCheck(this, Request)\n\n    // The headers getter steps are to return this\u2019s headers.\n    return this[kHeaders]\n  }\n\n  // Returns the kind of resource requested by request, e.g., \"document\"\n  // or \"script\".\n  get destination () {\n    webidl.brandCheck(this, Request)\n\n    // The destination getter are to return this\u2019s request\u2019s destination.\n    return this[kState].destination\n  }\n\n  // Returns the referrer of request. Its value can be a same-origin URL if\n  // explicitly set in init, the empty string to indicate no referrer, and\n  // \"about:client\" when defaulting to the global\u2019s default. This is used\n  // during fetching to determine the value of the `Referer` header of the\n  // request being made.\n  get referrer () {\n    webidl.brandCheck(this, Request)\n\n    // 1. If this\u2019s request\u2019s referrer is \"no-referrer\", then return the\n    // empty string.\n    if (this[kState].referrer === 'no-referrer') {\n      return ''\n    }\n\n    // 2. If this\u2019s request\u2019s referrer is \"client\", then return\n    // \"about:client\".\n    if (this[kState].referrer === 'client') {\n      return 'about:client'\n    }\n\n    // Return this\u2019s request\u2019s referrer, serialized.\n    return this[kState].referrer.toString()\n  }\n\n  // Returns the referrer policy associated with request.\n  // This is used during fetching to compute the value of the request\u2019s\n  // referrer.\n  get referrerPolicy () {\n    webidl.brandCheck(this, Request)\n\n    // The referrerPolicy getter steps are to return this\u2019s request\u2019s referrer policy.\n    return this[kState].referrerPolicy\n  }\n\n  // Returns the mode associated with request, which is a string indicating\n  // whether the request will use CORS, or will be restricted to same-origin\n  // URLs.\n  get mode () {\n    webidl.brandCheck(this, Request)\n\n    // The mode getter steps are to return this\u2019s request\u2019s mode.\n    return this[kState].mode\n  }\n\n  // Returns the credentials mode associated with request,\n  // which is a string indicating whether credentials will be sent with the\n  // request always, never, or only when sent to a same-origin URL.\n  get credentials () {\n    // The credentials getter steps are to return this\u2019s request\u2019s credentials mode.\n    return this[kState].credentials\n  }\n\n  // Returns the cache mode associated with request,\n  // which is a string indicating how the request will\n  // interact with the browser\u2019s cache when fetching.\n  get cache () {\n    webidl.brandCheck(this, Request)\n\n    // The cache getter steps are to return this\u2019s request\u2019s cache mode.\n    return this[kState].cache\n  }\n\n  // Returns the redirect mode associated with request,\n  // which is a string indicating how redirects for the\n  // request will be handled during fetching. A request\n  // will follow redirects by default.\n  get redirect () {\n    webidl.brandCheck(this, Request)\n\n    // The redirect getter steps are to return this\u2019s request\u2019s redirect mode.\n    return this[kState].redirect\n  }\n\n  // Returns request\u2019s subresource integrity metadata, which is a\n  // cryptographic hash of the resource being fetched. Its value\n  // consists of multiple hashes separated by whitespace. [SRI]\n  get integrity () {\n    webidl.brandCheck(this, Request)\n\n    // The integrity getter steps are to return this\u2019s request\u2019s integrity\n    // metadata.\n    return this[kState].integrity\n  }\n\n  // Returns a boolean indicating whether or not request can outlive the\n  // global in which it was created.\n  get keepalive () {\n    webidl.brandCheck(this, Request)\n\n    // The keepalive getter steps are to return this\u2019s request\u2019s keepalive.\n    return this[kState].keepalive\n  }\n\n  // Returns a boolean indicating whether or not request is for a reload\n  // navigation.\n  get isReloadNavigation () {\n    webidl.brandCheck(this, Request)\n\n    // The isReloadNavigation getter steps are to return true if this\u2019s\n    // request\u2019s reload-navigation flag is set; otherwise false.\n    return this[kState].reloadNavigation\n  }\n\n  // Returns a boolean indicating whether or not request is for a history\n  // navigation (a.k.a. back-foward navigation).\n  get isHistoryNavigation () {\n    webidl.brandCheck(this, Request)\n\n    // The isHistoryNavigation getter steps are to return true if this\u2019s request\u2019s\n    // history-navigation flag is set; otherwise false.\n    return this[kState].historyNavigation\n  }\n\n  // Returns the signal associated with request, which is an AbortSignal\n  // object indicating whether or not request has been aborted, and its\n  // abort event handler.\n  get signal () {\n    webidl.brandCheck(this, Request)\n\n    // The signal getter steps are to return this\u2019s signal.\n    return this[kSignal]\n  }\n\n  get body () {\n    webidl.brandCheck(this, Request)\n\n    return this[kState].body ? this[kState].body.stream : null\n  }\n\n  get bodyUsed () {\n    webidl.brandCheck(this, Request)\n\n    return !!this[kState].body && util.isDisturbed(this[kState].body.stream)\n  }\n\n  get duplex () {\n    webidl.brandCheck(this, Request)\n\n    return 'half'\n  }\n\n  // Returns a clone of request.\n  clone () {\n    webidl.brandCheck(this, Request)\n\n    // 1. If this is unusable, then throw a TypeError.\n    if (this.bodyUsed || this.body?.locked) {\n      throw new TypeError('unusable')\n    }\n\n    // 2. Let clonedRequest be the result of cloning this\u2019s request.\n    const clonedRequest = cloneRequest(this[kState])\n\n    // 3. Let clonedRequestObject be the result of creating a Request object,\n    // given clonedRequest, this\u2019s headers\u2019s guard, and this\u2019s relevant Realm.\n    const clonedRequestObject = new Request(kConstruct)\n    clonedRequestObject[kState] = clonedRequest\n    clonedRequestObject[kRealm] = this[kRealm]\n    clonedRequestObject[kHeaders] = new Headers(kConstruct)\n    clonedRequestObject[kHeaders][kHeadersList] = clonedRequest.headersList\n    clonedRequestObject[kHeaders][kGuard] = this[kHeaders][kGuard]\n    clonedRequestObject[kHeaders][kRealm] = this[kHeaders][kRealm]\n\n    // 4. Make clonedRequestObject\u2019s signal follow this\u2019s signal.\n    const ac = new AbortController()\n    if (this.signal.aborted) {\n      ac.abort(this.signal.reason)\n    } else {\n      util.addAbortListener(\n        this.signal,\n        () => {\n          ac.abort(this.signal.reason)\n        }\n      )\n    }\n    clonedRequestObject[kSignal] = ac.signal\n\n    // 4. Return clonedRequestObject.\n    return clonedRequestObject\n  }\n}\n\nmixinBody(Request)\n\nfunction makeRequest (init) {\n  // https://fetch.spec.whatwg.org/#requests\n  const request = {\n    method: 'GET',\n    localURLsOnly: false,\n    unsafeRequest: false,\n    body: null,\n    client: null,\n    reservedClient: null,\n    replacesClientId: '',\n    window: 'client',\n    keepalive: false,\n    serviceWorkers: 'all',\n    initiator: '',\n    destination: '',\n    priority: null,\n    origin: 'client',\n    policyContainer: 'client',\n    referrer: 'client',\n    referrerPolicy: '',\n    mode: 'no-cors',\n    useCORSPreflightFlag: false,\n    credentials: 'same-origin',\n    useCredentials: false,\n    cache: 'default',\n    redirect: 'follow',\n    integrity: '',\n    cryptoGraphicsNonceMetadata: '',\n    parserMetadata: '',\n    reloadNavigation: false,\n    historyNavigation: false,\n    userActivation: false,\n    taintedOrigin: false,\n    redirectCount: 0,\n    responseTainting: 'basic',\n    preventNoCacheCacheControlHeaderModification: false,\n    done: false,\n    timingAllowFailed: false,\n    ...init,\n    headersList: init.headersList\n      ? new HeadersList(init.headersList)\n      : new HeadersList()\n  }\n  request.url = request.urlList[0]\n  return request\n}\n\n// https://fetch.spec.whatwg.org/#concept-request-clone\nfunction cloneRequest (request) {\n  // To clone a request request, run these steps:\n\n  // 1. Let newRequest be a copy of request, except for its body.\n  const newRequest = makeRequest({ ...request, body: null })\n\n  // 2. If request\u2019s body is non-null, set newRequest\u2019s body to the\n  // result of cloning request\u2019s body.\n  if (request.body != null) {\n    newRequest.body = cloneBody(request.body)\n  }\n\n  // 3. Return newRequest.\n  return newRequest\n}\n\nObject.defineProperties(Request.prototype, {\n  method: kEnumerableProperty,\n  url: kEnumerableProperty,\n  headers: kEnumerableProperty,\n  redirect: kEnumerableProperty,\n  clone: kEnumerableProperty,\n  signal: kEnumerableProperty,\n  duplex: kEnumerableProperty,\n  destination: kEnumerableProperty,\n  body: kEnumerableProperty,\n  bodyUsed: kEnumerableProperty,\n  isHistoryNavigation: kEnumerableProperty,\n  isReloadNavigation: kEnumerableProperty,\n  keepalive: kEnumerableProperty,\n  integrity: kEnumerableProperty,\n  cache: kEnumerableProperty,\n  credentials: kEnumerableProperty,\n  attribute: kEnumerableProperty,\n  referrerPolicy: kEnumerableProperty,\n  referrer: kEnumerableProperty,\n  mode: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'Request',\n    configurable: true\n  }\n})\n\nwebidl.converters.Request = webidl.interfaceConverter(\n  Request\n)\n\n// https://fetch.spec.whatwg.org/#requestinfo\nwebidl.converters.RequestInfo = function (V) {\n  if (typeof V === 'string') {\n    return webidl.converters.USVString(V)\n  }\n\n  if (V instanceof Request) {\n    return webidl.converters.Request(V)\n  }\n\n  return webidl.converters.USVString(V)\n}\n\nwebidl.converters.AbortSignal = webidl.interfaceConverter(\n  AbortSignal\n)\n\n// https://fetch.spec.whatwg.org/#requestinit\nwebidl.converters.RequestInit = webidl.dictionaryConverter([\n  {\n    key: 'method',\n    converter: webidl.converters.ByteString\n  },\n  {\n    key: 'headers',\n    converter: webidl.converters.HeadersInit\n  },\n  {\n    key: 'body',\n    converter: webidl.nullableConverter(\n      webidl.converters.BodyInit\n    )\n  },\n  {\n    key: 'referrer',\n    converter: webidl.converters.USVString\n  },\n  {\n    key: 'referrerPolicy',\n    converter: webidl.converters.DOMString,\n    // https://w3c.github.io/webappsec-referrer-policy/#referrer-policy\n    allowedValues: referrerPolicy\n  },\n  {\n    key: 'mode',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#concept-request-mode\n    allowedValues: requestMode\n  },\n  {\n    key: 'credentials',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#requestcredentials\n    allowedValues: requestCredentials\n  },\n  {\n    key: 'cache',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#requestcache\n    allowedValues: requestCache\n  },\n  {\n    key: 'redirect',\n    converter: webidl.converters.DOMString,\n    // https://fetch.spec.whatwg.org/#requestredirect\n    allowedValues: requestRedirect\n  },\n  {\n    key: 'integrity',\n    converter: webidl.converters.DOMString\n  },\n  {\n    key: 'keepalive',\n    converter: webidl.converters.boolean\n  },\n  {\n    key: 'signal',\n    converter: webidl.nullableConverter(\n      (signal) => webidl.converters.AbortSignal(\n        signal,\n        { strict: false }\n      )\n    )\n  },\n  {\n    key: 'window',\n    converter: webidl.converters.any\n  },\n  {\n    key: 'duplex',\n    converter: webidl.converters.DOMString,\n    allowedValues: requestDuplex\n  }\n])\n\nmodule.exports = { Request, makeRequest }\n", "// https://github.com/Ethan-Arrowood/undici-fetch\n\n'use strict'\n\nconst {\n  Response,\n  makeNetworkError,\n  makeAppropriateNetworkError,\n  filterResponse,\n  makeResponse\n} = require('./response')\nconst { Headers } = require('./headers')\nconst { Request, makeRequest } = require('./request')\nconst zlib = require('zlib')\nconst {\n  bytesMatch,\n  makePolicyContainer,\n  clonePolicyContainer,\n  requestBadPort,\n  TAOCheck,\n  appendRequestOriginHeader,\n  responseLocationURL,\n  requestCurrentURL,\n  setRequestReferrerPolicyOnRedirect,\n  tryUpgradeRequestToAPotentiallyTrustworthyURL,\n  createOpaqueTimingInfo,\n  appendFetchMetadata,\n  corsCheck,\n  crossOriginResourcePolicyCheck,\n  determineRequestsReferrer,\n  coarsenedSharedCurrentTime,\n  createDeferredPromise,\n  isBlobLike,\n  sameOrigin,\n  isCancelled,\n  isAborted,\n  isErrorLike,\n  fullyReadBody,\n  readableStreamClose,\n  isomorphicEncode,\n  urlIsLocal,\n  urlIsHttpHttpsScheme,\n  urlHasHttpsScheme\n} = require('./util')\nconst { kState, kHeaders, kGuard, kRealm } = require('./symbols')\nconst assert = require('assert')\nconst { safelyExtractBody } = require('./body')\nconst {\n  redirectStatusSet,\n  nullBodyStatus,\n  safeMethodsSet,\n  requestBodyHeader,\n  subresourceSet,\n  DOMException\n} = require('./constants')\nconst { kHeadersList } = require('../core/symbols')\nconst EE = require('events')\nconst { Readable, pipeline } = require('stream')\nconst { addAbortListener, isErrored, isReadable, nodeMajor, nodeMinor } = require('../core/util')\nconst { dataURLProcessor, serializeAMimeType } = require('./dataURL')\nconst { TransformStream } = require('stream/web')\nconst { getGlobalDispatcher } = require('../global')\nconst { webidl } = require('./webidl')\nconst { STATUS_CODES } = require('http')\nconst GET_OR_HEAD = ['GET', 'HEAD']\n\n/** @type {import('buffer').resolveObjectURL} */\nlet resolveObjectURL\nlet ReadableStream = globalThis.ReadableStream\n\nclass Fetch extends EE {\n  constructor (dispatcher) {\n    super()\n\n    this.dispatcher = dispatcher\n    this.connection = null\n    this.dump = false\n    this.state = 'ongoing'\n    // 2 terminated listeners get added per request,\n    // but only 1 gets removed. If there are 20 redirects,\n    // 21 listeners will be added.\n    // See https://github.com/nodejs/undici/issues/1711\n    // TODO (fix): Find and fix root cause for leaked listener.\n    this.setMaxListeners(21)\n  }\n\n  terminate (reason) {\n    if (this.state !== 'ongoing') {\n      return\n    }\n\n    this.state = 'terminated'\n    this.connection?.destroy(reason)\n    this.emit('terminated', reason)\n  }\n\n  // https://fetch.spec.whatwg.org/#fetch-controller-abort\n  abort (error) {\n    if (this.state !== 'ongoing') {\n      return\n    }\n\n    // 1. Set controller\u2019s state to \"aborted\".\n    this.state = 'aborted'\n\n    // 2. Let fallbackError be an \"AbortError\" DOMException.\n    // 3. Set error to fallbackError if it is not given.\n    if (!error) {\n      error = new DOMException('The operation was aborted.', 'AbortError')\n    }\n\n    // 4. Let serializedError be StructuredSerialize(error).\n    //    If that threw an exception, catch it, and let\n    //    serializedError be StructuredSerialize(fallbackError).\n\n    // 5. Set controller\u2019s serialized abort reason to serializedError.\n    this.serializedAbortReason = error\n\n    this.connection?.destroy(error)\n    this.emit('terminated', error)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#fetch-method\nfunction fetch (input, init = {}) {\n  webidl.argumentLengthCheck(arguments, 1, { header: 'globalThis.fetch' })\n\n  // 1. Let p be a new promise.\n  const p = createDeferredPromise()\n\n  // 2. Let requestObject be the result of invoking the initial value of\n  // Request as constructor with input and init as arguments. If this throws\n  // an exception, reject p with it and return p.\n  let requestObject\n\n  try {\n    requestObject = new Request(input, init)\n  } catch (e) {\n    p.reject(e)\n    return p.promise\n  }\n\n  // 3. Let request be requestObject\u2019s request.\n  const request = requestObject[kState]\n\n  // 4. If requestObject\u2019s signal\u2019s aborted flag is set, then:\n  if (requestObject.signal.aborted) {\n    // 1. Abort the fetch() call with p, request, null, and\n    //    requestObject\u2019s signal\u2019s abort reason.\n    abortFetch(p, request, null, requestObject.signal.reason)\n\n    // 2. Return p.\n    return p.promise\n  }\n\n  // 5. Let globalObject be request\u2019s client\u2019s global object.\n  const globalObject = request.client.globalObject\n\n  // 6. If globalObject is a ServiceWorkerGlobalScope object, then set\n  // request\u2019s service-workers mode to \"none\".\n  if (globalObject?.constructor?.name === 'ServiceWorkerGlobalScope') {\n    request.serviceWorkers = 'none'\n  }\n\n  // 7. Let responseObject be null.\n  let responseObject = null\n\n  // 8. Let relevantRealm be this\u2019s relevant Realm.\n  const relevantRealm = null\n\n  // 9. Let locallyAborted be false.\n  let locallyAborted = false\n\n  // 10. Let controller be null.\n  let controller = null\n\n  // 11. Add the following abort steps to requestObject\u2019s signal:\n  addAbortListener(\n    requestObject.signal,\n    () => {\n      // 1. Set locallyAborted to true.\n      locallyAborted = true\n\n      // 2. Assert: controller is non-null.\n      assert(controller != null)\n\n      // 3. Abort controller with requestObject\u2019s signal\u2019s abort reason.\n      controller.abort(requestObject.signal.reason)\n\n      // 4. Abort the fetch() call with p, request, responseObject,\n      //    and requestObject\u2019s signal\u2019s abort reason.\n      abortFetch(p, request, responseObject, requestObject.signal.reason)\n    }\n  )\n\n  // 12. Let handleFetchDone given response response be to finalize and\n  // report timing with response, globalObject, and \"fetch\".\n  const handleFetchDone = (response) =>\n    finalizeAndReportTiming(response, 'fetch')\n\n  // 13. Set controller to the result of calling fetch given request,\n  // with processResponseEndOfBody set to handleFetchDone, and processResponse\n  // given response being these substeps:\n\n  const processResponse = (response) => {\n    // 1. If locallyAborted is true, terminate these substeps.\n    if (locallyAborted) {\n      return Promise.resolve()\n    }\n\n    // 2. If response\u2019s aborted flag is set, then:\n    if (response.aborted) {\n      // 1. Let deserializedError be the result of deserialize a serialized\n      //    abort reason given controller\u2019s serialized abort reason and\n      //    relevantRealm.\n\n      // 2. Abort the fetch() call with p, request, responseObject, and\n      //    deserializedError.\n\n      abortFetch(p, request, responseObject, controller.serializedAbortReason)\n      return Promise.resolve()\n    }\n\n    // 3. If response is a network error, then reject p with a TypeError\n    // and terminate these substeps.\n    if (response.type === 'error') {\n      p.reject(\n        Object.assign(new TypeError('fetch failed'), { cause: response.error })\n      )\n      return Promise.resolve()\n    }\n\n    // 4. Set responseObject to the result of creating a Response object,\n    // given response, \"immutable\", and relevantRealm.\n    responseObject = new Response()\n    responseObject[kState] = response\n    responseObject[kRealm] = relevantRealm\n    responseObject[kHeaders][kHeadersList] = response.headersList\n    responseObject[kHeaders][kGuard] = 'immutable'\n    responseObject[kHeaders][kRealm] = relevantRealm\n\n    // 5. Resolve p with responseObject.\n    p.resolve(responseObject)\n  }\n\n  controller = fetching({\n    request,\n    processResponseEndOfBody: handleFetchDone,\n    processResponse,\n    dispatcher: init.dispatcher ?? getGlobalDispatcher() // undici\n  })\n\n  // 14. Return p.\n  return p.promise\n}\n\n// https://fetch.spec.whatwg.org/#finalize-and-report-timing\nfunction finalizeAndReportTiming (response, initiatorType = 'other') {\n  // 1. If response is an aborted network error, then return.\n  if (response.type === 'error' && response.aborted) {\n    return\n  }\n\n  // 2. If response\u2019s URL list is null or empty, then return.\n  if (!response.urlList?.length) {\n    return\n  }\n\n  // 3. Let originalURL be response\u2019s URL list[0].\n  const originalURL = response.urlList[0]\n\n  // 4. Let timingInfo be response\u2019s timing info.\n  let timingInfo = response.timingInfo\n\n  // 5. Let cacheState be response\u2019s cache state.\n  let cacheState = response.cacheState\n\n  // 6. If originalURL\u2019s scheme is not an HTTP(S) scheme, then return.\n  if (!urlIsHttpHttpsScheme(originalURL)) {\n    return\n  }\n\n  // 7. If timingInfo is null, then return.\n  if (timingInfo === null) {\n    return\n  }\n\n  // 8. If response\u2019s timing allow passed flag is not set, then:\n  if (!response.timingAllowPassed) {\n    //  1. Set timingInfo to a the result of creating an opaque timing info for timingInfo.\n    timingInfo = createOpaqueTimingInfo({\n      startTime: timingInfo.startTime\n    })\n\n    //  2. Set cacheState to the empty string.\n    cacheState = ''\n  }\n\n  // 9. Set timingInfo\u2019s end time to the coarsened shared current time\n  // given global\u2019s relevant settings object\u2019s cross-origin isolated\n  // capability.\n  // TODO: given global\u2019s relevant settings object\u2019s cross-origin isolated\n  // capability?\n  timingInfo.endTime = coarsenedSharedCurrentTime()\n\n  // 10. Set response\u2019s timing info to timingInfo.\n  response.timingInfo = timingInfo\n\n  // 11. Mark resource timing for timingInfo, originalURL, initiatorType,\n  // global, and cacheState.\n  markResourceTiming(\n    timingInfo,\n    originalURL,\n    initiatorType,\n    globalThis,\n    cacheState\n  )\n}\n\n// https://w3c.github.io/resource-timing/#dfn-mark-resource-timing\nfunction markResourceTiming (timingInfo, originalURL, initiatorType, globalThis, cacheState) {\n  if (nodeMajor > 18 || (nodeMajor === 18 && nodeMinor >= 2)) {\n    performance.markResourceTiming(timingInfo, originalURL.href, initiatorType, globalThis, cacheState)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#abort-fetch\nfunction abortFetch (p, request, responseObject, error) {\n  // Note: AbortSignal.reason was added in node v17.2.0\n  // which would give us an undefined error to reject with.\n  // Remove this once node v16 is no longer supported.\n  if (!error) {\n    error = new DOMException('The operation was aborted.', 'AbortError')\n  }\n\n  // 1. Reject promise with error.\n  p.reject(error)\n\n  // 2. If request\u2019s body is not null and is readable, then cancel request\u2019s\n  // body with error.\n  if (request.body != null && isReadable(request.body?.stream)) {\n    request.body.stream.cancel(error).catch((err) => {\n      if (err.code === 'ERR_INVALID_STATE') {\n        // Node bug?\n        return\n      }\n      throw err\n    })\n  }\n\n  // 3. If responseObject is null, then return.\n  if (responseObject == null) {\n    return\n  }\n\n  // 4. Let response be responseObject\u2019s response.\n  const response = responseObject[kState]\n\n  // 5. If response\u2019s body is not null and is readable, then error response\u2019s\n  // body with error.\n  if (response.body != null && isReadable(response.body?.stream)) {\n    response.body.stream.cancel(error).catch((err) => {\n      if (err.code === 'ERR_INVALID_STATE') {\n        // Node bug?\n        return\n      }\n      throw err\n    })\n  }\n}\n\n// https://fetch.spec.whatwg.org/#fetching\nfunction fetching ({\n  request,\n  processRequestBodyChunkLength,\n  processRequestEndOfBody,\n  processResponse,\n  processResponseEndOfBody,\n  processResponseConsumeBody,\n  useParallelQueue = false,\n  dispatcher // undici\n}) {\n  // 1. Let taskDestination be null.\n  let taskDestination = null\n\n  // 2. Let crossOriginIsolatedCapability be false.\n  let crossOriginIsolatedCapability = false\n\n  // 3. If request\u2019s client is non-null, then:\n  if (request.client != null) {\n    // 1. Set taskDestination to request\u2019s client\u2019s global object.\n    taskDestination = request.client.globalObject\n\n    // 2. Set crossOriginIsolatedCapability to request\u2019s client\u2019s cross-origin\n    // isolated capability.\n    crossOriginIsolatedCapability =\n      request.client.crossOriginIsolatedCapability\n  }\n\n  // 4. If useParallelQueue is true, then set taskDestination to the result of\n  // starting a new parallel queue.\n  // TODO\n\n  // 5. Let timingInfo be a new fetch timing info whose start time and\n  // post-redirect start time are the coarsened shared current time given\n  // crossOriginIsolatedCapability.\n  const currenTime = coarsenedSharedCurrentTime(crossOriginIsolatedCapability)\n  const timingInfo = createOpaqueTimingInfo({\n    startTime: currenTime\n  })\n\n  // 6. Let fetchParams be a new fetch params whose\n  // request is request,\n  // timing info is timingInfo,\n  // process request body chunk length is processRequestBodyChunkLength,\n  // process request end-of-body is processRequestEndOfBody,\n  // process response is processResponse,\n  // process response consume body is processResponseConsumeBody,\n  // process response end-of-body is processResponseEndOfBody,\n  // task destination is taskDestination,\n  // and cross-origin isolated capability is crossOriginIsolatedCapability.\n  const fetchParams = {\n    controller: new Fetch(dispatcher),\n    request,\n    timingInfo,\n    processRequestBodyChunkLength,\n    processRequestEndOfBody,\n    processResponse,\n    processResponseConsumeBody,\n    processResponseEndOfBody,\n    taskDestination,\n    crossOriginIsolatedCapability\n  }\n\n  // 7. If request\u2019s body is a byte sequence, then set request\u2019s body to\n  //    request\u2019s body as a body.\n  // NOTE: Since fetching is only called from fetch, body should already be\n  // extracted.\n  assert(!request.body || request.body.stream)\n\n  // 8. If request\u2019s window is \"client\", then set request\u2019s window to request\u2019s\n  // client, if request\u2019s client\u2019s global object is a Window object; otherwise\n  // \"no-window\".\n  if (request.window === 'client') {\n    // TODO: What if request.client is null?\n    request.window =\n      request.client?.globalObject?.constructor?.name === 'Window'\n        ? request.client\n        : 'no-window'\n  }\n\n  // 9. If request\u2019s origin is \"client\", then set request\u2019s origin to request\u2019s\n  // client\u2019s origin.\n  if (request.origin === 'client') {\n    // TODO: What if request.client is null?\n    request.origin = request.client?.origin\n  }\n\n  // 10. If all of the following conditions are true:\n  // TODO\n\n  // 11. If request\u2019s policy container is \"client\", then:\n  if (request.policyContainer === 'client') {\n    // 1. If request\u2019s client is non-null, then set request\u2019s policy\n    // container to a clone of request\u2019s client\u2019s policy container. [HTML]\n    if (request.client != null) {\n      request.policyContainer = clonePolicyContainer(\n        request.client.policyContainer\n      )\n    } else {\n      // 2. Otherwise, set request\u2019s policy container to a new policy\n      // container.\n      request.policyContainer = makePolicyContainer()\n    }\n  }\n\n  // 12. If request\u2019s header list does not contain `Accept`, then:\n  if (!request.headersList.contains('accept')) {\n    // 1. Let value be `*/*`.\n    const value = '*/*'\n\n    // 2. A user agent should set value to the first matching statement, if\n    // any, switching on request\u2019s destination:\n    // \"document\"\n    // \"frame\"\n    // \"iframe\"\n    // `text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8`\n    // \"image\"\n    // `image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5`\n    // \"style\"\n    // `text/css,*/*;q=0.1`\n    // TODO\n\n    // 3. Append `Accept`/value to request\u2019s header list.\n    request.headersList.append('accept', value)\n  }\n\n  // 13. If request\u2019s header list does not contain `Accept-Language`, then\n  // user agents should append `Accept-Language`/an appropriate value to\n  // request\u2019s header list.\n  if (!request.headersList.contains('accept-language')) {\n    request.headersList.append('accept-language', '*')\n  }\n\n  // 14. If request\u2019s priority is null, then use request\u2019s initiator and\n  // destination appropriately in setting request\u2019s priority to a\n  // user-agent-defined object.\n  if (request.priority === null) {\n    // TODO\n  }\n\n  // 15. If request is a subresource request, then:\n  if (subresourceSet.has(request.destination)) {\n    // TODO\n  }\n\n  // 16. Run main fetch given fetchParams.\n  mainFetch(fetchParams)\n    .catch(err => {\n      fetchParams.controller.terminate(err)\n    })\n\n  // 17. Return fetchParam's controller\n  return fetchParams.controller\n}\n\n// https://fetch.spec.whatwg.org/#concept-main-fetch\nasync function mainFetch (fetchParams, recursive = false) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let response be null.\n  let response = null\n\n  // 3. If request\u2019s local-URLs-only flag is set and request\u2019s current URL is\n  // not local, then set response to a network error.\n  if (request.localURLsOnly && !urlIsLocal(requestCurrentURL(request))) {\n    response = makeNetworkError('local URLs only')\n  }\n\n  // 4. Run report Content Security Policy violations for request.\n  // TODO\n\n  // 5. Upgrade request to a potentially trustworthy URL, if appropriate.\n  tryUpgradeRequestToAPotentiallyTrustworthyURL(request)\n\n  // 6. If should request be blocked due to a bad port, should fetching request\n  // be blocked as mixed content, or should request be blocked by Content\n  // Security Policy returns blocked, then set response to a network error.\n  if (requestBadPort(request) === 'blocked') {\n    response = makeNetworkError('bad port')\n  }\n  // TODO: should fetching request be blocked as mixed content?\n  // TODO: should request be blocked by Content Security Policy?\n\n  // 7. If request\u2019s referrer policy is the empty string, then set request\u2019s\n  // referrer policy to request\u2019s policy container\u2019s referrer policy.\n  if (request.referrerPolicy === '') {\n    request.referrerPolicy = request.policyContainer.referrerPolicy\n  }\n\n  // 8. If request\u2019s referrer is not \"no-referrer\", then set request\u2019s\n  // referrer to the result of invoking determine request\u2019s referrer.\n  if (request.referrer !== 'no-referrer') {\n    request.referrer = determineRequestsReferrer(request)\n  }\n\n  // 9. Set request\u2019s current URL\u2019s scheme to \"https\" if all of the following\n  // conditions are true:\n  // - request\u2019s current URL\u2019s scheme is \"http\"\n  // - request\u2019s current URL\u2019s host is a domain\n  // - Matching request\u2019s current URL\u2019s host per Known HSTS Host Domain Name\n  //   Matching results in either a superdomain match with an asserted\n  //   includeSubDomains directive or a congruent match (with or without an\n  //   asserted includeSubDomains directive). [HSTS]\n  // TODO\n\n  // 10. If recursive is false, then run the remaining steps in parallel.\n  // TODO\n\n  // 11. If response is null, then set response to the result of running\n  // the steps corresponding to the first matching statement:\n  if (response === null) {\n    response = await (async () => {\n      const currentURL = requestCurrentURL(request)\n\n      if (\n        // - request\u2019s current URL\u2019s origin is same origin with request\u2019s origin,\n        //   and request\u2019s response tainting is \"basic\"\n        (sameOrigin(currentURL, request.url) && request.responseTainting === 'basic') ||\n        // request\u2019s current URL\u2019s scheme is \"data\"\n        (currentURL.protocol === 'data:') ||\n        // - request\u2019s mode is \"navigate\" or \"websocket\"\n        (request.mode === 'navigate' || request.mode === 'websocket')\n      ) {\n        // 1. Set request\u2019s response tainting to \"basic\".\n        request.responseTainting = 'basic'\n\n        // 2. Return the result of running scheme fetch given fetchParams.\n        return await schemeFetch(fetchParams)\n      }\n\n      // request\u2019s mode is \"same-origin\"\n      if (request.mode === 'same-origin') {\n        // 1. Return a network error.\n        return makeNetworkError('request mode cannot be \"same-origin\"')\n      }\n\n      // request\u2019s mode is \"no-cors\"\n      if (request.mode === 'no-cors') {\n        // 1. If request\u2019s redirect mode is not \"follow\", then return a network\n        // error.\n        if (request.redirect !== 'follow') {\n          return makeNetworkError(\n            'redirect mode cannot be \"follow\" for \"no-cors\" request'\n          )\n        }\n\n        // 2. Set request\u2019s response tainting to \"opaque\".\n        request.responseTainting = 'opaque'\n\n        // 3. Return the result of running scheme fetch given fetchParams.\n        return await schemeFetch(fetchParams)\n      }\n\n      // request\u2019s current URL\u2019s scheme is not an HTTP(S) scheme\n      if (!urlIsHttpHttpsScheme(requestCurrentURL(request))) {\n        // Return a network error.\n        return makeNetworkError('URL scheme must be a HTTP(S) scheme')\n      }\n\n      // - request\u2019s use-CORS-preflight flag is set\n      // - request\u2019s unsafe-request flag is set and either request\u2019s method is\n      //   not a CORS-safelisted method or CORS-unsafe request-header names with\n      //   request\u2019s header list is not empty\n      //    1. Set request\u2019s response tainting to \"cors\".\n      //    2. Let corsWithPreflightResponse be the result of running HTTP fetch\n      //    given fetchParams and true.\n      //    3. If corsWithPreflightResponse is a network error, then clear cache\n      //    entries using request.\n      //    4. Return corsWithPreflightResponse.\n      // TODO\n\n      // Otherwise\n      //    1. Set request\u2019s response tainting to \"cors\".\n      request.responseTainting = 'cors'\n\n      //    2. Return the result of running HTTP fetch given fetchParams.\n      return await httpFetch(fetchParams)\n    })()\n  }\n\n  // 12. If recursive is true, then return response.\n  if (recursive) {\n    return response\n  }\n\n  // 13. If response is not a network error and response is not a filtered\n  // response, then:\n  if (response.status !== 0 && !response.internalResponse) {\n    // If request\u2019s response tainting is \"cors\", then:\n    if (request.responseTainting === 'cors') {\n      // 1. Let headerNames be the result of extracting header list values\n      // given `Access-Control-Expose-Headers` and response\u2019s header list.\n      // TODO\n      // 2. If request\u2019s credentials mode is not \"include\" and headerNames\n      // contains `*`, then set response\u2019s CORS-exposed header-name list to\n      // all unique header names in response\u2019s header list.\n      // TODO\n      // 3. Otherwise, if headerNames is not null or failure, then set\n      // response\u2019s CORS-exposed header-name list to headerNames.\n      // TODO\n    }\n\n    // Set response to the following filtered response with response as its\n    // internal response, depending on request\u2019s response tainting:\n    if (request.responseTainting === 'basic') {\n      response = filterResponse(response, 'basic')\n    } else if (request.responseTainting === 'cors') {\n      response = filterResponse(response, 'cors')\n    } else if (request.responseTainting === 'opaque') {\n      response = filterResponse(response, 'opaque')\n    } else {\n      assert(false)\n    }\n  }\n\n  // 14. Let internalResponse be response, if response is a network error,\n  // and response\u2019s internal response otherwise.\n  let internalResponse =\n    response.status === 0 ? response : response.internalResponse\n\n  // 15. If internalResponse\u2019s URL list is empty, then set it to a clone of\n  // request\u2019s URL list.\n  if (internalResponse.urlList.length === 0) {\n    internalResponse.urlList.push(...request.urlList)\n  }\n\n  // 16. If request\u2019s timing allow failed flag is unset, then set\n  // internalResponse\u2019s timing allow passed flag.\n  if (!request.timingAllowFailed) {\n    response.timingAllowPassed = true\n  }\n\n  // 17. If response is not a network error and any of the following returns\n  // blocked\n  // - should internalResponse to request be blocked as mixed content\n  // - should internalResponse to request be blocked by Content Security Policy\n  // - should internalResponse to request be blocked due to its MIME type\n  // - should internalResponse to request be blocked due to nosniff\n  // TODO\n\n  // 18. If response\u2019s type is \"opaque\", internalResponse\u2019s status is 206,\n  // internalResponse\u2019s range-requested flag is set, and request\u2019s header\n  // list does not contain `Range`, then set response and internalResponse\n  // to a network error.\n  if (\n    response.type === 'opaque' &&\n    internalResponse.status === 206 &&\n    internalResponse.rangeRequested &&\n    !request.headers.contains('range')\n  ) {\n    response = internalResponse = makeNetworkError()\n  }\n\n  // 19. If response is not a network error and either request\u2019s method is\n  // `HEAD` or `CONNECT`, or internalResponse\u2019s status is a null body status,\n  // set internalResponse\u2019s body to null and disregard any enqueuing toward\n  // it (if any).\n  if (\n    response.status !== 0 &&\n    (request.method === 'HEAD' ||\n      request.method === 'CONNECT' ||\n      nullBodyStatus.includes(internalResponse.status))\n  ) {\n    internalResponse.body = null\n    fetchParams.controller.dump = true\n  }\n\n  // 20. If request\u2019s integrity metadata is not the empty string, then:\n  if (request.integrity) {\n    // 1. Let processBodyError be this step: run fetch finale given fetchParams\n    // and a network error.\n    const processBodyError = (reason) =>\n      fetchFinale(fetchParams, makeNetworkError(reason))\n\n    // 2. If request\u2019s response tainting is \"opaque\", or response\u2019s body is null,\n    // then run processBodyError and abort these steps.\n    if (request.responseTainting === 'opaque' || response.body == null) {\n      processBodyError(response.error)\n      return\n    }\n\n    // 3. Let processBody given bytes be these steps:\n    const processBody = (bytes) => {\n      // 1. If bytes do not match request\u2019s integrity metadata,\n      // then run processBodyError and abort these steps. [SRI]\n      if (!bytesMatch(bytes, request.integrity)) {\n        processBodyError('integrity mismatch')\n        return\n      }\n\n      // 2. Set response\u2019s body to bytes as a body.\n      response.body = safelyExtractBody(bytes)[0]\n\n      // 3. Run fetch finale given fetchParams and response.\n      fetchFinale(fetchParams, response)\n    }\n\n    // 4. Fully read response\u2019s body given processBody and processBodyError.\n    await fullyReadBody(response.body, processBody, processBodyError)\n  } else {\n    // 21. Otherwise, run fetch finale given fetchParams and response.\n    fetchFinale(fetchParams, response)\n  }\n}\n\n// https://fetch.spec.whatwg.org/#concept-scheme-fetch\n// given a fetch params fetchParams\nfunction schemeFetch (fetchParams) {\n  // Note: since the connection is destroyed on redirect, which sets fetchParams to a\n  // cancelled state, we do not want this condition to trigger *unless* there have been\n  // no redirects. See https://github.com/nodejs/undici/issues/1776\n  // 1. If fetchParams is canceled, then return the appropriate network error for fetchParams.\n  if (isCancelled(fetchParams) && fetchParams.request.redirectCount === 0) {\n    return Promise.resolve(makeAppropriateNetworkError(fetchParams))\n  }\n\n  // 2. Let request be fetchParams\u2019s request.\n  const { request } = fetchParams\n\n  const { protocol: scheme } = requestCurrentURL(request)\n\n  // 3. Switch on request\u2019s current URL\u2019s scheme and run the associated steps:\n  switch (scheme) {\n    case 'about:': {\n      // If request\u2019s current URL\u2019s path is the string \"blank\", then return a new response\n      // whose status message is `OK`, header list is \u00AB (`Content-Type`, `text/html;charset=utf-8`) \u00BB,\n      // and body is the empty byte sequence as a body.\n\n      // Otherwise, return a network error.\n      return Promise.resolve(makeNetworkError('about scheme is not supported'))\n    }\n    case 'blob:': {\n      if (!resolveObjectURL) {\n        resolveObjectURL = require('buffer').resolveObjectURL\n      }\n\n      // 1. Let blobURLEntry be request\u2019s current URL\u2019s blob URL entry.\n      const blobURLEntry = requestCurrentURL(request)\n\n      // https://github.com/web-platform-tests/wpt/blob/7b0ebaccc62b566a1965396e5be7bb2bc06f841f/FileAPI/url/resources/fetch-tests.js#L52-L56\n      // Buffer.resolveObjectURL does not ignore URL queries.\n      if (blobURLEntry.search.length !== 0) {\n        return Promise.resolve(makeNetworkError('NetworkError when attempting to fetch resource.'))\n      }\n\n      const blobURLEntryObject = resolveObjectURL(blobURLEntry.toString())\n\n      // 2. If request\u2019s method is not `GET`, blobURLEntry is null, or blobURLEntry\u2019s\n      //    object is not a Blob object, then return a network error.\n      if (request.method !== 'GET' || !isBlobLike(blobURLEntryObject)) {\n        return Promise.resolve(makeNetworkError('invalid method'))\n      }\n\n      // 3. Let bodyWithType be the result of safely extracting blobURLEntry\u2019s object.\n      const bodyWithType = safelyExtractBody(blobURLEntryObject)\n\n      // 4. Let body be bodyWithType\u2019s body.\n      const body = bodyWithType[0]\n\n      // 5. Let length be body\u2019s length, serialized and isomorphic encoded.\n      const length = isomorphicEncode(`${body.length}`)\n\n      // 6. Let type be bodyWithType\u2019s type if it is non-null; otherwise the empty byte sequence.\n      const type = bodyWithType[1] ?? ''\n\n      // 7. Return a new response whose status message is `OK`, header list is\n      //    \u00AB (`Content-Length`, length), (`Content-Type`, type) \u00BB, and body is body.\n      const response = makeResponse({\n        statusText: 'OK',\n        headersList: [\n          ['content-length', { name: 'Content-Length', value: length }],\n          ['content-type', { name: 'Content-Type', value: type }]\n        ]\n      })\n\n      response.body = body\n\n      return Promise.resolve(response)\n    }\n    case 'data:': {\n      // 1. Let dataURLStruct be the result of running the\n      //    data: URL processor on request\u2019s current URL.\n      const currentURL = requestCurrentURL(request)\n      const dataURLStruct = dataURLProcessor(currentURL)\n\n      // 2. If dataURLStruct is failure, then return a\n      //    network error.\n      if (dataURLStruct === 'failure') {\n        return Promise.resolve(makeNetworkError('failed to fetch the data URL'))\n      }\n\n      // 3. Let mimeType be dataURLStruct\u2019s MIME type, serialized.\n      const mimeType = serializeAMimeType(dataURLStruct.mimeType)\n\n      // 4. Return a response whose status message is `OK`,\n      //    header list is \u00AB (`Content-Type`, mimeType) \u00BB,\n      //    and body is dataURLStruct\u2019s body as a body.\n      return Promise.resolve(makeResponse({\n        statusText: 'OK',\n        headersList: [\n          ['content-type', { name: 'Content-Type', value: mimeType }]\n        ],\n        body: safelyExtractBody(dataURLStruct.body)[0]\n      }))\n    }\n    case 'file:': {\n      // For now, unfortunate as it is, file URLs are left as an exercise for the reader.\n      // When in doubt, return a network error.\n      return Promise.resolve(makeNetworkError('not implemented... yet...'))\n    }\n    case 'http:':\n    case 'https:': {\n      // Return the result of running HTTP fetch given fetchParams.\n\n      return httpFetch(fetchParams)\n        .catch((err) => makeNetworkError(err))\n    }\n    default: {\n      return Promise.resolve(makeNetworkError('unknown scheme'))\n    }\n  }\n}\n\n// https://fetch.spec.whatwg.org/#finalize-response\nfunction finalizeResponse (fetchParams, response) {\n  // 1. Set fetchParams\u2019s request\u2019s done flag.\n  fetchParams.request.done = true\n\n  // 2, If fetchParams\u2019s process response done is not null, then queue a fetch\n  // task to run fetchParams\u2019s process response done given response, with\n  // fetchParams\u2019s task destination.\n  if (fetchParams.processResponseDone != null) {\n    queueMicrotask(() => fetchParams.processResponseDone(response))\n  }\n}\n\n// https://fetch.spec.whatwg.org/#fetch-finale\nfunction fetchFinale (fetchParams, response) {\n  // 1. If response is a network error, then:\n  if (response.type === 'error') {\n    // 1. Set response\u2019s URL list to \u00AB fetchParams\u2019s request\u2019s URL list[0] \u00BB.\n    response.urlList = [fetchParams.request.urlList[0]]\n\n    // 2. Set response\u2019s timing info to the result of creating an opaque timing\n    // info for fetchParams\u2019s timing info.\n    response.timingInfo = createOpaqueTimingInfo({\n      startTime: fetchParams.timingInfo.startTime\n    })\n  }\n\n  // 2. Let processResponseEndOfBody be the following steps:\n  const processResponseEndOfBody = () => {\n    // 1. Set fetchParams\u2019s request\u2019s done flag.\n    fetchParams.request.done = true\n\n    // If fetchParams\u2019s process response end-of-body is not null,\n    // then queue a fetch task to run fetchParams\u2019s process response\n    // end-of-body given response with fetchParams\u2019s task destination.\n    if (fetchParams.processResponseEndOfBody != null) {\n      queueMicrotask(() => fetchParams.processResponseEndOfBody(response))\n    }\n  }\n\n  // 3. If fetchParams\u2019s process response is non-null, then queue a fetch task\n  // to run fetchParams\u2019s process response given response, with fetchParams\u2019s\n  // task destination.\n  if (fetchParams.processResponse != null) {\n    queueMicrotask(() => fetchParams.processResponse(response))\n  }\n\n  // 4. If response\u2019s body is null, then run processResponseEndOfBody.\n  if (response.body == null) {\n    processResponseEndOfBody()\n  } else {\n  // 5. Otherwise:\n\n    // 1. Let transformStream be a new a TransformStream.\n\n    // 2. Let identityTransformAlgorithm be an algorithm which, given chunk,\n    // enqueues chunk in transformStream.\n    const identityTransformAlgorithm = (chunk, controller) => {\n      controller.enqueue(chunk)\n    }\n\n    // 3. Set up transformStream with transformAlgorithm set to identityTransformAlgorithm\n    // and flushAlgorithm set to processResponseEndOfBody.\n    const transformStream = new TransformStream({\n      start () {},\n      transform: identityTransformAlgorithm,\n      flush: processResponseEndOfBody\n    }, {\n      size () {\n        return 1\n      }\n    }, {\n      size () {\n        return 1\n      }\n    })\n\n    // 4. Set response\u2019s body to the result of piping response\u2019s body through transformStream.\n    response.body = { stream: response.body.stream.pipeThrough(transformStream) }\n  }\n\n  // 6. If fetchParams\u2019s process response consume body is non-null, then:\n  if (fetchParams.processResponseConsumeBody != null) {\n    // 1. Let processBody given nullOrBytes be this step: run fetchParams\u2019s\n    // process response consume body given response and nullOrBytes.\n    const processBody = (nullOrBytes) => fetchParams.processResponseConsumeBody(response, nullOrBytes)\n\n    // 2. Let processBodyError be this step: run fetchParams\u2019s process\n    // response consume body given response and failure.\n    const processBodyError = (failure) => fetchParams.processResponseConsumeBody(response, failure)\n\n    // 3. If response\u2019s body is null, then queue a fetch task to run processBody\n    // given null, with fetchParams\u2019s task destination.\n    if (response.body == null) {\n      queueMicrotask(() => processBody(null))\n    } else {\n      // 4. Otherwise, fully read response\u2019s body given processBody, processBodyError,\n      // and fetchParams\u2019s task destination.\n      return fullyReadBody(response.body, processBody, processBodyError)\n    }\n    return Promise.resolve()\n  }\n}\n\n// https://fetch.spec.whatwg.org/#http-fetch\nasync function httpFetch (fetchParams) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let response be null.\n  let response = null\n\n  // 3. Let actualResponse be null.\n  let actualResponse = null\n\n  // 4. Let timingInfo be fetchParams\u2019s timing info.\n  const timingInfo = fetchParams.timingInfo\n\n  // 5. If request\u2019s service-workers mode is \"all\", then:\n  if (request.serviceWorkers === 'all') {\n    // TODO\n  }\n\n  // 6. If response is null, then:\n  if (response === null) {\n    // 1. If makeCORSPreflight is true and one of these conditions is true:\n    // TODO\n\n    // 2. If request\u2019s redirect mode is \"follow\", then set request\u2019s\n    // service-workers mode to \"none\".\n    if (request.redirect === 'follow') {\n      request.serviceWorkers = 'none'\n    }\n\n    // 3. Set response and actualResponse to the result of running\n    // HTTP-network-or-cache fetch given fetchParams.\n    actualResponse = response = await httpNetworkOrCacheFetch(fetchParams)\n\n    // 4. If request\u2019s response tainting is \"cors\" and a CORS check\n    // for request and response returns failure, then return a network error.\n    if (\n      request.responseTainting === 'cors' &&\n      corsCheck(request, response) === 'failure'\n    ) {\n      return makeNetworkError('cors failure')\n    }\n\n    // 5. If the TAO check for request and response returns failure, then set\n    // request\u2019s timing allow failed flag.\n    if (TAOCheck(request, response) === 'failure') {\n      request.timingAllowFailed = true\n    }\n  }\n\n  // 7. If either request\u2019s response tainting or response\u2019s type\n  // is \"opaque\", and the cross-origin resource policy check with\n  // request\u2019s origin, request\u2019s client, request\u2019s destination,\n  // and actualResponse returns blocked, then return a network error.\n  if (\n    (request.responseTainting === 'opaque' || response.type === 'opaque') &&\n    crossOriginResourcePolicyCheck(\n      request.origin,\n      request.client,\n      request.destination,\n      actualResponse\n    ) === 'blocked'\n  ) {\n    return makeNetworkError('blocked')\n  }\n\n  // 8. If actualResponse\u2019s status is a redirect status, then:\n  if (redirectStatusSet.has(actualResponse.status)) {\n    // 1. If actualResponse\u2019s status is not 303, request\u2019s body is not null,\n    // and the connection uses HTTP/2, then user agents may, and are even\n    // encouraged to, transmit an RST_STREAM frame.\n    // See, https://github.com/whatwg/fetch/issues/1288\n    if (request.redirect !== 'manual') {\n      fetchParams.controller.connection.destroy()\n    }\n\n    // 2. Switch on request\u2019s redirect mode:\n    if (request.redirect === 'error') {\n      // Set response to a network error.\n      response = makeNetworkError('unexpected redirect')\n    } else if (request.redirect === 'manual') {\n      // Set response to an opaque-redirect filtered response whose internal\n      // response is actualResponse.\n      // NOTE(spec): On the web this would return an `opaqueredirect` response,\n      // but that doesn't make sense server side.\n      // See https://github.com/nodejs/undici/issues/1193.\n      response = actualResponse\n    } else if (request.redirect === 'follow') {\n      // Set response to the result of running HTTP-redirect fetch given\n      // fetchParams and response.\n      response = await httpRedirectFetch(fetchParams, response)\n    } else {\n      assert(false)\n    }\n  }\n\n  // 9. Set response\u2019s timing info to timingInfo.\n  response.timingInfo = timingInfo\n\n  // 10. Return response.\n  return response\n}\n\n// https://fetch.spec.whatwg.org/#http-redirect-fetch\nfunction httpRedirectFetch (fetchParams, response) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let actualResponse be response, if response is not a filtered response,\n  // and response\u2019s internal response otherwise.\n  const actualResponse = response.internalResponse\n    ? response.internalResponse\n    : response\n\n  // 3. Let locationURL be actualResponse\u2019s location URL given request\u2019s current\n  // URL\u2019s fragment.\n  let locationURL\n\n  try {\n    locationURL = responseLocationURL(\n      actualResponse,\n      requestCurrentURL(request).hash\n    )\n\n    // 4. If locationURL is null, then return response.\n    if (locationURL == null) {\n      return response\n    }\n  } catch (err) {\n    // 5. If locationURL is failure, then return a network error.\n    return Promise.resolve(makeNetworkError(err))\n  }\n\n  // 6. If locationURL\u2019s scheme is not an HTTP(S) scheme, then return a network\n  // error.\n  if (!urlIsHttpHttpsScheme(locationURL)) {\n    return Promise.resolve(makeNetworkError('URL scheme must be a HTTP(S) scheme'))\n  }\n\n  // 7. If request\u2019s redirect count is 20, then return a network error.\n  if (request.redirectCount === 20) {\n    return Promise.resolve(makeNetworkError('redirect count exceeded'))\n  }\n\n  // 8. Increase request\u2019s redirect count by 1.\n  request.redirectCount += 1\n\n  // 9. If request\u2019s mode is \"cors\", locationURL includes credentials, and\n  // request\u2019s origin is not same origin with locationURL\u2019s origin, then return\n  //  a network error.\n  if (\n    request.mode === 'cors' &&\n    (locationURL.username || locationURL.password) &&\n    !sameOrigin(request, locationURL)\n  ) {\n    return Promise.resolve(makeNetworkError('cross origin not allowed for request mode \"cors\"'))\n  }\n\n  // 10. If request\u2019s response tainting is \"cors\" and locationURL includes\n  // credentials, then return a network error.\n  if (\n    request.responseTainting === 'cors' &&\n    (locationURL.username || locationURL.password)\n  ) {\n    return Promise.resolve(makeNetworkError(\n      'URL cannot contain credentials for request mode \"cors\"'\n    ))\n  }\n\n  // 11. If actualResponse\u2019s status is not 303, request\u2019s body is non-null,\n  // and request\u2019s body\u2019s source is null, then return a network error.\n  if (\n    actualResponse.status !== 303 &&\n    request.body != null &&\n    request.body.source == null\n  ) {\n    return Promise.resolve(makeNetworkError())\n  }\n\n  // 12. If one of the following is true\n  // - actualResponse\u2019s status is 301 or 302 and request\u2019s method is `POST`\n  // - actualResponse\u2019s status is 303 and request\u2019s method is not `GET` or `HEAD`\n  if (\n    ([301, 302].includes(actualResponse.status) && request.method === 'POST') ||\n    (actualResponse.status === 303 &&\n      !GET_OR_HEAD.includes(request.method))\n  ) {\n    // then:\n    // 1. Set request\u2019s method to `GET` and request\u2019s body to null.\n    request.method = 'GET'\n    request.body = null\n\n    // 2. For each headerName of request-body-header name, delete headerName from\n    // request\u2019s header list.\n    for (const headerName of requestBodyHeader) {\n      request.headersList.delete(headerName)\n    }\n  }\n\n  // 13. If request\u2019s current URL\u2019s origin is not same origin with locationURL\u2019s\n  //     origin, then for each headerName of CORS non-wildcard request-header name,\n  //     delete headerName from request\u2019s header list.\n  if (!sameOrigin(requestCurrentURL(request), locationURL)) {\n    // https://fetch.spec.whatwg.org/#cors-non-wildcard-request-header-name\n    request.headersList.delete('authorization')\n\n    // https://fetch.spec.whatwg.org/#authentication-entries\n    request.headersList.delete('proxy-authorization', true)\n\n    // \"Cookie\" and \"Host\" are forbidden request-headers, which undici doesn't implement.\n    request.headersList.delete('cookie')\n    request.headersList.delete('host')\n  }\n\n  // 14. If request\u2019s body is non-null, then set request\u2019s body to the first return\n  // value of safely extracting request\u2019s body\u2019s source.\n  if (request.body != null) {\n    assert(request.body.source != null)\n    request.body = safelyExtractBody(request.body.source)[0]\n  }\n\n  // 15. Let timingInfo be fetchParams\u2019s timing info.\n  const timingInfo = fetchParams.timingInfo\n\n  // 16. Set timingInfo\u2019s redirect end time and post-redirect start time to the\n  // coarsened shared current time given fetchParams\u2019s cross-origin isolated\n  // capability.\n  timingInfo.redirectEndTime = timingInfo.postRedirectStartTime =\n    coarsenedSharedCurrentTime(fetchParams.crossOriginIsolatedCapability)\n\n  // 17. If timingInfo\u2019s redirect start time is 0, then set timingInfo\u2019s\n  //  redirect start time to timingInfo\u2019s start time.\n  if (timingInfo.redirectStartTime === 0) {\n    timingInfo.redirectStartTime = timingInfo.startTime\n  }\n\n  // 18. Append locationURL to request\u2019s URL list.\n  request.urlList.push(locationURL)\n\n  // 19. Invoke set request\u2019s referrer policy on redirect on request and\n  // actualResponse.\n  setRequestReferrerPolicyOnRedirect(request, actualResponse)\n\n  // 20. Return the result of running main fetch given fetchParams and true.\n  return mainFetch(fetchParams, true)\n}\n\n// https://fetch.spec.whatwg.org/#http-network-or-cache-fetch\nasync function httpNetworkOrCacheFetch (\n  fetchParams,\n  isAuthenticationFetch = false,\n  isNewConnectionFetch = false\n) {\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let httpFetchParams be null.\n  let httpFetchParams = null\n\n  // 3. Let httpRequest be null.\n  let httpRequest = null\n\n  // 4. Let response be null.\n  let response = null\n\n  // 5. Let storedResponse be null.\n  // TODO: cache\n\n  // 6. Let httpCache be null.\n  const httpCache = null\n\n  // 7. Let the revalidatingFlag be unset.\n  const revalidatingFlag = false\n\n  // 8. Run these steps, but abort when the ongoing fetch is terminated:\n\n  //    1. If request\u2019s window is \"no-window\" and request\u2019s redirect mode is\n  //    \"error\", then set httpFetchParams to fetchParams and httpRequest to\n  //    request.\n  if (request.window === 'no-window' && request.redirect === 'error') {\n    httpFetchParams = fetchParams\n    httpRequest = request\n  } else {\n    // Otherwise:\n\n    // 1. Set httpRequest to a clone of request.\n    httpRequest = makeRequest(request)\n\n    // 2. Set httpFetchParams to a copy of fetchParams.\n    httpFetchParams = { ...fetchParams }\n\n    // 3. Set httpFetchParams\u2019s request to httpRequest.\n    httpFetchParams.request = httpRequest\n  }\n\n  //    3. Let includeCredentials be true if one of\n  const includeCredentials =\n    request.credentials === 'include' ||\n    (request.credentials === 'same-origin' &&\n      request.responseTainting === 'basic')\n\n  //    4. Let contentLength be httpRequest\u2019s body\u2019s length, if httpRequest\u2019s\n  //    body is non-null; otherwise null.\n  const contentLength = httpRequest.body ? httpRequest.body.length : null\n\n  //    5. Let contentLengthHeaderValue be null.\n  let contentLengthHeaderValue = null\n\n  //    6. If httpRequest\u2019s body is null and httpRequest\u2019s method is `POST` or\n  //    `PUT`, then set contentLengthHeaderValue to `0`.\n  if (\n    httpRequest.body == null &&\n    ['POST', 'PUT'].includes(httpRequest.method)\n  ) {\n    contentLengthHeaderValue = '0'\n  }\n\n  //    7. If contentLength is non-null, then set contentLengthHeaderValue to\n  //    contentLength, serialized and isomorphic encoded.\n  if (contentLength != null) {\n    contentLengthHeaderValue = isomorphicEncode(`${contentLength}`)\n  }\n\n  //    8. If contentLengthHeaderValue is non-null, then append\n  //    `Content-Length`/contentLengthHeaderValue to httpRequest\u2019s header\n  //    list.\n  if (contentLengthHeaderValue != null) {\n    httpRequest.headersList.append('content-length', contentLengthHeaderValue)\n  }\n\n  //    9. If contentLengthHeaderValue is non-null, then append (`Content-Length`,\n  //    contentLengthHeaderValue) to httpRequest\u2019s header list.\n\n  //    10. If contentLength is non-null and httpRequest\u2019s keepalive is true,\n  //    then:\n  if (contentLength != null && httpRequest.keepalive) {\n    // NOTE: keepalive is a noop outside of browser context.\n  }\n\n  //    11. If httpRequest\u2019s referrer is a URL, then append\n  //    `Referer`/httpRequest\u2019s referrer, serialized and isomorphic encoded,\n  //     to httpRequest\u2019s header list.\n  if (httpRequest.referrer instanceof URL) {\n    httpRequest.headersList.append('referer', isomorphicEncode(httpRequest.referrer.href))\n  }\n\n  //    12. Append a request `Origin` header for httpRequest.\n  appendRequestOriginHeader(httpRequest)\n\n  //    13. Append the Fetch metadata headers for httpRequest. [FETCH-METADATA]\n  appendFetchMetadata(httpRequest)\n\n  //    14. If httpRequest\u2019s header list does not contain `User-Agent`, then\n  //    user agents should append `User-Agent`/default `User-Agent` value to\n  //    httpRequest\u2019s header list.\n  if (!httpRequest.headersList.contains('user-agent')) {\n    httpRequest.headersList.append('user-agent', typeof esbuildDetection === 'undefined' ? 'undici' : 'node')\n  }\n\n  //    15. If httpRequest\u2019s cache mode is \"default\" and httpRequest\u2019s header\n  //    list contains `If-Modified-Since`, `If-None-Match`,\n  //    `If-Unmodified-Since`, `If-Match`, or `If-Range`, then set\n  //    httpRequest\u2019s cache mode to \"no-store\".\n  if (\n    httpRequest.cache === 'default' &&\n    (httpRequest.headersList.contains('if-modified-since') ||\n      httpRequest.headersList.contains('if-none-match') ||\n      httpRequest.headersList.contains('if-unmodified-since') ||\n      httpRequest.headersList.contains('if-match') ||\n      httpRequest.headersList.contains('if-range'))\n  ) {\n    httpRequest.cache = 'no-store'\n  }\n\n  //    16. If httpRequest\u2019s cache mode is \"no-cache\", httpRequest\u2019s prevent\n  //    no-cache cache-control header modification flag is unset, and\n  //    httpRequest\u2019s header list does not contain `Cache-Control`, then append\n  //    `Cache-Control`/`max-age=0` to httpRequest\u2019s header list.\n  if (\n    httpRequest.cache === 'no-cache' &&\n    !httpRequest.preventNoCacheCacheControlHeaderModification &&\n    !httpRequest.headersList.contains('cache-control')\n  ) {\n    httpRequest.headersList.append('cache-control', 'max-age=0')\n  }\n\n  //    17. If httpRequest\u2019s cache mode is \"no-store\" or \"reload\", then:\n  if (httpRequest.cache === 'no-store' || httpRequest.cache === 'reload') {\n    // 1. If httpRequest\u2019s header list does not contain `Pragma`, then append\n    // `Pragma`/`no-cache` to httpRequest\u2019s header list.\n    if (!httpRequest.headersList.contains('pragma')) {\n      httpRequest.headersList.append('pragma', 'no-cache')\n    }\n\n    // 2. If httpRequest\u2019s header list does not contain `Cache-Control`,\n    // then append `Cache-Control`/`no-cache` to httpRequest\u2019s header list.\n    if (!httpRequest.headersList.contains('cache-control')) {\n      httpRequest.headersList.append('cache-control', 'no-cache')\n    }\n  }\n\n  //    18. If httpRequest\u2019s header list contains `Range`, then append\n  //    `Accept-Encoding`/`identity` to httpRequest\u2019s header list.\n  if (httpRequest.headersList.contains('range')) {\n    httpRequest.headersList.append('accept-encoding', 'identity')\n  }\n\n  //    19. Modify httpRequest\u2019s header list per HTTP. Do not append a given\n  //    header if httpRequest\u2019s header list contains that header\u2019s name.\n  //    TODO: https://github.com/whatwg/fetch/issues/1285#issuecomment-896560129\n  if (!httpRequest.headersList.contains('accept-encoding')) {\n    if (urlHasHttpsScheme(requestCurrentURL(httpRequest))) {\n      httpRequest.headersList.append('accept-encoding', 'br, gzip, deflate')\n    } else {\n      httpRequest.headersList.append('accept-encoding', 'gzip, deflate')\n    }\n  }\n\n  httpRequest.headersList.delete('host')\n\n  //    20. If includeCredentials is true, then:\n  if (includeCredentials) {\n    // 1. If the user agent is not configured to block cookies for httpRequest\n    // (see section 7 of [COOKIES]), then:\n    // TODO: credentials\n    // 2. If httpRequest\u2019s header list does not contain `Authorization`, then:\n    // TODO: credentials\n  }\n\n  //    21. If there\u2019s a proxy-authentication entry, use it as appropriate.\n  //    TODO: proxy-authentication\n\n  //    22. Set httpCache to the result of determining the HTTP cache\n  //    partition, given httpRequest.\n  //    TODO: cache\n\n  //    23. If httpCache is null, then set httpRequest\u2019s cache mode to\n  //    \"no-store\".\n  if (httpCache == null) {\n    httpRequest.cache = 'no-store'\n  }\n\n  //    24. If httpRequest\u2019s cache mode is neither \"no-store\" nor \"reload\",\n  //    then:\n  if (httpRequest.mode !== 'no-store' && httpRequest.mode !== 'reload') {\n    // TODO: cache\n  }\n\n  // 9. If aborted, then return the appropriate network error for fetchParams.\n  // TODO\n\n  // 10. If response is null, then:\n  if (response == null) {\n    // 1. If httpRequest\u2019s cache mode is \"only-if-cached\", then return a\n    // network error.\n    if (httpRequest.mode === 'only-if-cached') {\n      return makeNetworkError('only if cached')\n    }\n\n    // 2. Let forwardResponse be the result of running HTTP-network fetch\n    // given httpFetchParams, includeCredentials, and isNewConnectionFetch.\n    const forwardResponse = await httpNetworkFetch(\n      httpFetchParams,\n      includeCredentials,\n      isNewConnectionFetch\n    )\n\n    // 3. If httpRequest\u2019s method is unsafe and forwardResponse\u2019s status is\n    // in the range 200 to 399, inclusive, invalidate appropriate stored\n    // responses in httpCache, as per the \"Invalidation\" chapter of HTTP\n    // Caching, and set storedResponse to null. [HTTP-CACHING]\n    if (\n      !safeMethodsSet.has(httpRequest.method) &&\n      forwardResponse.status >= 200 &&\n      forwardResponse.status <= 399\n    ) {\n      // TODO: cache\n    }\n\n    // 4. If the revalidatingFlag is set and forwardResponse\u2019s status is 304,\n    // then:\n    if (revalidatingFlag && forwardResponse.status === 304) {\n      // TODO: cache\n    }\n\n    // 5. If response is null, then:\n    if (response == null) {\n      // 1. Set response to forwardResponse.\n      response = forwardResponse\n\n      // 2. Store httpRequest and forwardResponse in httpCache, as per the\n      // \"Storing Responses in Caches\" chapter of HTTP Caching. [HTTP-CACHING]\n      // TODO: cache\n    }\n  }\n\n  // 11. Set response\u2019s URL list to a clone of httpRequest\u2019s URL list.\n  response.urlList = [...httpRequest.urlList]\n\n  // 12. If httpRequest\u2019s header list contains `Range`, then set response\u2019s\n  // range-requested flag.\n  if (httpRequest.headersList.contains('range')) {\n    response.rangeRequested = true\n  }\n\n  // 13. Set response\u2019s request-includes-credentials to includeCredentials.\n  response.requestIncludesCredentials = includeCredentials\n\n  // 14. If response\u2019s status is 401, httpRequest\u2019s response tainting is not\n  // \"cors\", includeCredentials is true, and request\u2019s window is an environment\n  // settings object, then:\n  // TODO\n\n  // 15. If response\u2019s status is 407, then:\n  if (response.status === 407) {\n    // 1. If request\u2019s window is \"no-window\", then return a network error.\n    if (request.window === 'no-window') {\n      return makeNetworkError()\n    }\n\n    // 2. ???\n\n    // 3. If fetchParams is canceled, then return the appropriate network error for fetchParams.\n    if (isCancelled(fetchParams)) {\n      return makeAppropriateNetworkError(fetchParams)\n    }\n\n    // 4. Prompt the end user as appropriate in request\u2019s window and store\n    // the result as a proxy-authentication entry. [HTTP-AUTH]\n    // TODO: Invoke some kind of callback?\n\n    // 5. Set response to the result of running HTTP-network-or-cache fetch given\n    // fetchParams.\n    // TODO\n    return makeNetworkError('proxy authentication required')\n  }\n\n  // 16. If all of the following are true\n  if (\n    // response\u2019s status is 421\n    response.status === 421 &&\n    // isNewConnectionFetch is false\n    !isNewConnectionFetch &&\n    // request\u2019s body is null, or request\u2019s body is non-null and request\u2019s body\u2019s source is non-null\n    (request.body == null || request.body.source != null)\n  ) {\n    // then:\n\n    // 1. If fetchParams is canceled, then return the appropriate network error for fetchParams.\n    if (isCancelled(fetchParams)) {\n      return makeAppropriateNetworkError(fetchParams)\n    }\n\n    // 2. Set response to the result of running HTTP-network-or-cache\n    // fetch given fetchParams, isAuthenticationFetch, and true.\n\n    // TODO (spec): The spec doesn't specify this but we need to cancel\n    // the active response before we can start a new one.\n    // https://github.com/whatwg/fetch/issues/1293\n    fetchParams.controller.connection.destroy()\n\n    response = await httpNetworkOrCacheFetch(\n      fetchParams,\n      isAuthenticationFetch,\n      true\n    )\n  }\n\n  // 17. If isAuthenticationFetch is true, then create an authentication entry\n  if (isAuthenticationFetch) {\n    // TODO\n  }\n\n  // 18. Return response.\n  return response\n}\n\n// https://fetch.spec.whatwg.org/#http-network-fetch\nasync function httpNetworkFetch (\n  fetchParams,\n  includeCredentials = false,\n  forceNewConnection = false\n) {\n  assert(!fetchParams.controller.connection || fetchParams.controller.connection.destroyed)\n\n  fetchParams.controller.connection = {\n    abort: null,\n    destroyed: false,\n    destroy (err) {\n      if (!this.destroyed) {\n        this.destroyed = true\n        this.abort?.(err ?? new DOMException('The operation was aborted.', 'AbortError'))\n      }\n    }\n  }\n\n  // 1. Let request be fetchParams\u2019s request.\n  const request = fetchParams.request\n\n  // 2. Let response be null.\n  let response = null\n\n  // 3. Let timingInfo be fetchParams\u2019s timing info.\n  const timingInfo = fetchParams.timingInfo\n\n  // 4. Let httpCache be the result of determining the HTTP cache partition,\n  // given request.\n  // TODO: cache\n  const httpCache = null\n\n  // 5. If httpCache is null, then set request\u2019s cache mode to \"no-store\".\n  if (httpCache == null) {\n    request.cache = 'no-store'\n  }\n\n  // 6. Let networkPartitionKey be the result of determining the network\n  // partition key given request.\n  // TODO\n\n  // 7. Let newConnection be \"yes\" if forceNewConnection is true; otherwise\n  // \"no\".\n  const newConnection = forceNewConnection ? 'yes' : 'no' // eslint-disable-line no-unused-vars\n\n  // 8. Switch on request\u2019s mode:\n  if (request.mode === 'websocket') {\n    // Let connection be the result of obtaining a WebSocket connection,\n    // given request\u2019s current URL.\n    // TODO\n  } else {\n    // Let connection be the result of obtaining a connection, given\n    // networkPartitionKey, request\u2019s current URL\u2019s origin,\n    // includeCredentials, and forceNewConnection.\n    // TODO\n  }\n\n  // 9. Run these steps, but abort when the ongoing fetch is terminated:\n\n  //    1. If connection is failure, then return a network error.\n\n  //    2. Set timingInfo\u2019s final connection timing info to the result of\n  //    calling clamp and coarsen connection timing info with connection\u2019s\n  //    timing info, timingInfo\u2019s post-redirect start time, and fetchParams\u2019s\n  //    cross-origin isolated capability.\n\n  //    3. If connection is not an HTTP/2 connection, request\u2019s body is non-null,\n  //    and request\u2019s body\u2019s source is null, then append (`Transfer-Encoding`,\n  //    `chunked`) to request\u2019s header list.\n\n  //    4. Set timingInfo\u2019s final network-request start time to the coarsened\n  //    shared current time given fetchParams\u2019s cross-origin isolated\n  //    capability.\n\n  //    5. Set response to the result of making an HTTP request over connection\n  //    using request with the following caveats:\n\n  //        - Follow the relevant requirements from HTTP. [HTTP] [HTTP-SEMANTICS]\n  //        [HTTP-COND] [HTTP-CACHING] [HTTP-AUTH]\n\n  //        - If request\u2019s body is non-null, and request\u2019s body\u2019s source is null,\n  //        then the user agent may have a buffer of up to 64 kibibytes and store\n  //        a part of request\u2019s body in that buffer. If the user agent reads from\n  //        request\u2019s body beyond that buffer\u2019s size and the user agent needs to\n  //        resend request, then instead return a network error.\n\n  //        - Set timingInfo\u2019s final network-response start time to the coarsened\n  //        shared current time given fetchParams\u2019s cross-origin isolated capability,\n  //        immediately after the user agent\u2019s HTTP parser receives the first byte\n  //        of the response (e.g., frame header bytes for HTTP/2 or response status\n  //        line for HTTP/1.x).\n\n  //        - Wait until all the headers are transmitted.\n\n  //        - Any responses whose status is in the range 100 to 199, inclusive,\n  //        and is not 101, are to be ignored, except for the purposes of setting\n  //        timingInfo\u2019s final network-response start time above.\n\n  //    - If request\u2019s header list contains `Transfer-Encoding`/`chunked` and\n  //    response is transferred via HTTP/1.0 or older, then return a network\n  //    error.\n\n  //    - If the HTTP request results in a TLS client certificate dialog, then:\n\n  //        1. If request\u2019s window is an environment settings object, make the\n  //        dialog available in request\u2019s window.\n\n  //        2. Otherwise, return a network error.\n\n  // To transmit request\u2019s body body, run these steps:\n  let requestBody = null\n  // 1. If body is null and fetchParams\u2019s process request end-of-body is\n  // non-null, then queue a fetch task given fetchParams\u2019s process request\n  // end-of-body and fetchParams\u2019s task destination.\n  if (request.body == null && fetchParams.processRequestEndOfBody) {\n    queueMicrotask(() => fetchParams.processRequestEndOfBody())\n  } else if (request.body != null) {\n    // 2. Otherwise, if body is non-null:\n\n    //    1. Let processBodyChunk given bytes be these steps:\n    const processBodyChunk = async function * (bytes) {\n      // 1. If the ongoing fetch is terminated, then abort these steps.\n      if (isCancelled(fetchParams)) {\n        return\n      }\n\n      // 2. Run this step in parallel: transmit bytes.\n      yield bytes\n\n      // 3. If fetchParams\u2019s process request body is non-null, then run\n      // fetchParams\u2019s process request body given bytes\u2019s length.\n      fetchParams.processRequestBodyChunkLength?.(bytes.byteLength)\n    }\n\n    // 2. Let processEndOfBody be these steps:\n    const processEndOfBody = () => {\n      // 1. If fetchParams is canceled, then abort these steps.\n      if (isCancelled(fetchParams)) {\n        return\n      }\n\n      // 2. If fetchParams\u2019s process request end-of-body is non-null,\n      // then run fetchParams\u2019s process request end-of-body.\n      if (fetchParams.processRequestEndOfBody) {\n        fetchParams.processRequestEndOfBody()\n      }\n    }\n\n    // 3. Let processBodyError given e be these steps:\n    const processBodyError = (e) => {\n      // 1. If fetchParams is canceled, then abort these steps.\n      if (isCancelled(fetchParams)) {\n        return\n      }\n\n      // 2. If e is an \"AbortError\" DOMException, then abort fetchParams\u2019s controller.\n      if (e.name === 'AbortError') {\n        fetchParams.controller.abort()\n      } else {\n        fetchParams.controller.terminate(e)\n      }\n    }\n\n    // 4. Incrementally read request\u2019s body given processBodyChunk, processEndOfBody,\n    // processBodyError, and fetchParams\u2019s task destination.\n    requestBody = (async function * () {\n      try {\n        for await (const bytes of request.body.stream) {\n          yield * processBodyChunk(bytes)\n        }\n        processEndOfBody()\n      } catch (err) {\n        processBodyError(err)\n      }\n    })()\n  }\n\n  try {\n    // socket is only provided for websockets\n    const { body, status, statusText, headersList, socket } = await dispatch({ body: requestBody })\n\n    if (socket) {\n      response = makeResponse({ status, statusText, headersList, socket })\n    } else {\n      const iterator = body[Symbol.asyncIterator]()\n      fetchParams.controller.next = () => iterator.next()\n\n      response = makeResponse({ status, statusText, headersList })\n    }\n  } catch (err) {\n    // 10. If aborted, then:\n    if (err.name === 'AbortError') {\n      // 1. If connection uses HTTP/2, then transmit an RST_STREAM frame.\n      fetchParams.controller.connection.destroy()\n\n      // 2. Return the appropriate network error for fetchParams.\n      return makeAppropriateNetworkError(fetchParams, err)\n    }\n\n    return makeNetworkError(err)\n  }\n\n  // 11. Let pullAlgorithm be an action that resumes the ongoing fetch\n  // if it is suspended.\n  const pullAlgorithm = () => {\n    fetchParams.controller.resume()\n  }\n\n  // 12. Let cancelAlgorithm be an algorithm that aborts fetchParams\u2019s\n  // controller with reason, given reason.\n  const cancelAlgorithm = (reason) => {\n    fetchParams.controller.abort(reason)\n  }\n\n  // 13. Let highWaterMark be a non-negative, non-NaN number, chosen by\n  // the user agent.\n  // TODO\n\n  // 14. Let sizeAlgorithm be an algorithm that accepts a chunk object\n  // and returns a non-negative, non-NaN, non-infinite number, chosen by the user agent.\n  // TODO\n\n  // 15. Let stream be a new ReadableStream.\n  // 16. Set up stream with pullAlgorithm set to pullAlgorithm,\n  // cancelAlgorithm set to cancelAlgorithm, highWaterMark set to\n  // highWaterMark, and sizeAlgorithm set to sizeAlgorithm.\n  if (!ReadableStream) {\n    ReadableStream = require('stream/web').ReadableStream\n  }\n\n  const stream = new ReadableStream(\n    {\n      async start (controller) {\n        fetchParams.controller.controller = controller\n      },\n      async pull (controller) {\n        await pullAlgorithm(controller)\n      },\n      async cancel (reason) {\n        await cancelAlgorithm(reason)\n      }\n    },\n    {\n      highWaterMark: 0,\n      size () {\n        return 1\n      }\n    }\n  )\n\n  // 17. Run these steps, but abort when the ongoing fetch is terminated:\n\n  //    1. Set response\u2019s body to a new body whose stream is stream.\n  response.body = { stream }\n\n  //    2. If response is not a network error and request\u2019s cache mode is\n  //    not \"no-store\", then update response in httpCache for request.\n  //    TODO\n\n  //    3. If includeCredentials is true and the user agent is not configured\n  //    to block cookies for request (see section 7 of [COOKIES]), then run the\n  //    \"set-cookie-string\" parsing algorithm (see section 5.2 of [COOKIES]) on\n  //    the value of each header whose name is a byte-case-insensitive match for\n  //    `Set-Cookie` in response\u2019s header list, if any, and request\u2019s current URL.\n  //    TODO\n\n  // 18. If aborted, then:\n  // TODO\n\n  // 19. Run these steps in parallel:\n\n  //    1. Run these steps, but abort when fetchParams is canceled:\n  fetchParams.controller.on('terminated', onAborted)\n  fetchParams.controller.resume = async () => {\n    // 1. While true\n    while (true) {\n      // 1-3. See onData...\n\n      // 4. Set bytes to the result of handling content codings given\n      // codings and bytes.\n      let bytes\n      let isFailure\n      try {\n        const { done, value } = await fetchParams.controller.next()\n\n        if (isAborted(fetchParams)) {\n          break\n        }\n\n        bytes = done ? undefined : value\n      } catch (err) {\n        if (fetchParams.controller.ended && !timingInfo.encodedBodySize) {\n          // zlib doesn't like empty streams.\n          bytes = undefined\n        } else {\n          bytes = err\n\n          // err may be propagated from the result of calling readablestream.cancel,\n          // which might not be an error. https://github.com/nodejs/undici/issues/2009\n          isFailure = true\n        }\n      }\n\n      if (bytes === undefined) {\n        // 2. Otherwise, if the bytes transmission for response\u2019s message\n        // body is done normally and stream is readable, then close\n        // stream, finalize response for fetchParams and response, and\n        // abort these in-parallel steps.\n        readableStreamClose(fetchParams.controller.controller)\n\n        finalizeResponse(fetchParams, response)\n\n        return\n      }\n\n      // 5. Increase timingInfo\u2019s decoded body size by bytes\u2019s length.\n      timingInfo.decodedBodySize += bytes?.byteLength ?? 0\n\n      // 6. If bytes is failure, then terminate fetchParams\u2019s controller.\n      if (isFailure) {\n        fetchParams.controller.terminate(bytes)\n        return\n      }\n\n      // 7. Enqueue a Uint8Array wrapping an ArrayBuffer containing bytes\n      // into stream.\n      fetchParams.controller.controller.enqueue(new Uint8Array(bytes))\n\n      // 8. If stream is errored, then terminate the ongoing fetch.\n      if (isErrored(stream)) {\n        fetchParams.controller.terminate()\n        return\n      }\n\n      // 9. If stream doesn\u2019t need more data ask the user agent to suspend\n      // the ongoing fetch.\n      if (!fetchParams.controller.controller.desiredSize) {\n        return\n      }\n    }\n  }\n\n  //    2. If aborted, then:\n  function onAborted (reason) {\n    // 2. If fetchParams is aborted, then:\n    if (isAborted(fetchParams)) {\n      // 1. Set response\u2019s aborted flag.\n      response.aborted = true\n\n      // 2. If stream is readable, then error stream with the result of\n      //    deserialize a serialized abort reason given fetchParams\u2019s\n      //    controller\u2019s serialized abort reason and an\n      //    implementation-defined realm.\n      if (isReadable(stream)) {\n        fetchParams.controller.controller.error(\n          fetchParams.controller.serializedAbortReason\n        )\n      }\n    } else {\n      // 3. Otherwise, if stream is readable, error stream with a TypeError.\n      if (isReadable(stream)) {\n        fetchParams.controller.controller.error(new TypeError('terminated', {\n          cause: isErrorLike(reason) ? reason : undefined\n        }))\n      }\n    }\n\n    // 4. If connection uses HTTP/2, then transmit an RST_STREAM frame.\n    // 5. Otherwise, the user agent should close connection unless it would be bad for performance to do so.\n    fetchParams.controller.connection.destroy()\n  }\n\n  // 20. Return response.\n  return response\n\n  async function dispatch ({ body }) {\n    const url = requestCurrentURL(request)\n    /** @type {import('../..').Agent} */\n    const agent = fetchParams.controller.dispatcher\n\n    return new Promise((resolve, reject) => agent.dispatch(\n      {\n        path: url.pathname + url.search,\n        origin: url.origin,\n        method: request.method,\n        body: fetchParams.controller.dispatcher.isMockActive ? request.body && (request.body.source || request.body.stream) : body,\n        headers: request.headersList.entries,\n        maxRedirections: 0,\n        upgrade: request.mode === 'websocket' ? 'websocket' : undefined\n      },\n      {\n        body: null,\n        abort: null,\n\n        onConnect (abort) {\n          // TODO (fix): Do we need connection here?\n          const { connection } = fetchParams.controller\n\n          if (connection.destroyed) {\n            abort(new DOMException('The operation was aborted.', 'AbortError'))\n          } else {\n            fetchParams.controller.on('terminated', abort)\n            this.abort = connection.abort = abort\n          }\n        },\n\n        onHeaders (status, headersList, resume, statusText) {\n          if (status < 200) {\n            return\n          }\n\n          let codings = []\n          let location = ''\n\n          const headers = new Headers()\n\n          // For H2, the headers are a plain JS object\n          // We distinguish between them and iterate accordingly\n          if (Array.isArray(headersList)) {\n            for (let n = 0; n < headersList.length; n += 2) {\n              const key = headersList[n + 0].toString('latin1')\n              const val = headersList[n + 1].toString('latin1')\n              if (key.toLowerCase() === 'content-encoding') {\n                // https://www.rfc-editor.org/rfc/rfc7231#section-3.1.2.1\n                // \"All content-coding values are case-insensitive...\"\n                codings = val.toLowerCase().split(',').map((x) => x.trim())\n              } else if (key.toLowerCase() === 'location') {\n                location = val\n              }\n\n              headers[kHeadersList].append(key, val)\n            }\n          } else {\n            const keys = Object.keys(headersList)\n            for (const key of keys) {\n              const val = headersList[key]\n              if (key.toLowerCase() === 'content-encoding') {\n                // https://www.rfc-editor.org/rfc/rfc7231#section-3.1.2.1\n                // \"All content-coding values are case-insensitive...\"\n                codings = val.toLowerCase().split(',').map((x) => x.trim()).reverse()\n              } else if (key.toLowerCase() === 'location') {\n                location = val\n              }\n\n              headers[kHeadersList].append(key, val)\n            }\n          }\n\n          this.body = new Readable({ read: resume })\n\n          const decoders = []\n\n          const willFollow = request.redirect === 'follow' &&\n            location &&\n            redirectStatusSet.has(status)\n\n          // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding\n          if (request.method !== 'HEAD' && request.method !== 'CONNECT' && !nullBodyStatus.includes(status) && !willFollow) {\n            for (const coding of codings) {\n              // https://www.rfc-editor.org/rfc/rfc9112.html#section-7.2\n              if (coding === 'x-gzip' || coding === 'gzip') {\n                decoders.push(zlib.createGunzip({\n                  // Be less strict when decoding compressed responses, since sometimes\n                  // servers send slightly invalid responses that are still accepted\n                  // by common browsers.\n                  // Always using Z_SYNC_FLUSH is what cURL does.\n                  flush: zlib.constants.Z_SYNC_FLUSH,\n                  finishFlush: zlib.constants.Z_SYNC_FLUSH\n                }))\n              } else if (coding === 'deflate') {\n                decoders.push(zlib.createInflate())\n              } else if (coding === 'br') {\n                decoders.push(zlib.createBrotliDecompress())\n              } else {\n                decoders.length = 0\n                break\n              }\n            }\n          }\n\n          resolve({\n            status,\n            statusText,\n            headersList: headers[kHeadersList],\n            body: decoders.length\n              ? pipeline(this.body, ...decoders, () => { })\n              : this.body.on('error', () => {})\n          })\n\n          return true\n        },\n\n        onData (chunk) {\n          if (fetchParams.controller.dump) {\n            return\n          }\n\n          // 1. If one or more bytes have been transmitted from response\u2019s\n          // message body, then:\n\n          //  1. Let bytes be the transmitted bytes.\n          const bytes = chunk\n\n          //  2. Let codings be the result of extracting header list values\n          //  given `Content-Encoding` and response\u2019s header list.\n          //  See pullAlgorithm.\n\n          //  3. Increase timingInfo\u2019s encoded body size by bytes\u2019s length.\n          timingInfo.encodedBodySize += bytes.byteLength\n\n          //  4. See pullAlgorithm...\n\n          return this.body.push(bytes)\n        },\n\n        onComplete () {\n          if (this.abort) {\n            fetchParams.controller.off('terminated', this.abort)\n          }\n\n          fetchParams.controller.ended = true\n\n          this.body.push(null)\n        },\n\n        onError (error) {\n          if (this.abort) {\n            fetchParams.controller.off('terminated', this.abort)\n          }\n\n          this.body?.destroy(error)\n\n          fetchParams.controller.terminate(error)\n\n          reject(error)\n        },\n\n        onUpgrade (status, headersList, socket) {\n          if (status !== 101) {\n            return\n          }\n\n          const headers = new Headers()\n\n          for (let n = 0; n < headersList.length; n += 2) {\n            const key = headersList[n + 0].toString('latin1')\n            const val = headersList[n + 1].toString('latin1')\n\n            headers[kHeadersList].append(key, val)\n          }\n\n          resolve({\n            status,\n            statusText: STATUS_CODES[status],\n            headersList: headers[kHeadersList],\n            socket\n          })\n\n          return true\n        }\n      }\n    ))\n  }\n}\n\nmodule.exports = {\n  fetch,\n  Fetch,\n  fetching,\n  finalizeAndReportTiming\n}\n", "'use strict'\n\nmodule.exports = {\n  kState: Symbol('FileReader state'),\n  kResult: Symbol('FileReader result'),\n  kError: Symbol('FileReader error'),\n  kLastProgressEventFired: Symbol('FileReader last progress event fired timestamp'),\n  kEvents: Symbol('FileReader events'),\n  kAborted: Symbol('FileReader aborted')\n}\n", "'use strict'\n\nconst { webidl } = require('../fetch/webidl')\n\nconst kState = Symbol('ProgressEvent state')\n\n/**\n * @see https://xhr.spec.whatwg.org/#progressevent\n */\nclass ProgressEvent extends Event {\n  constructor (type, eventInitDict = {}) {\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.ProgressEventInit(eventInitDict ?? {})\n\n    super(type, eventInitDict)\n\n    this[kState] = {\n      lengthComputable: eventInitDict.lengthComputable,\n      loaded: eventInitDict.loaded,\n      total: eventInitDict.total\n    }\n  }\n\n  get lengthComputable () {\n    webidl.brandCheck(this, ProgressEvent)\n\n    return this[kState].lengthComputable\n  }\n\n  get loaded () {\n    webidl.brandCheck(this, ProgressEvent)\n\n    return this[kState].loaded\n  }\n\n  get total () {\n    webidl.brandCheck(this, ProgressEvent)\n\n    return this[kState].total\n  }\n}\n\nwebidl.converters.ProgressEventInit = webidl.dictionaryConverter([\n  {\n    key: 'lengthComputable',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'loaded',\n    converter: webidl.converters['unsigned long long'],\n    defaultValue: 0\n  },\n  {\n    key: 'total',\n    converter: webidl.converters['unsigned long long'],\n    defaultValue: 0\n  },\n  {\n    key: 'bubbles',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'cancelable',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'composed',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  }\n])\n\nmodule.exports = {\n  ProgressEvent\n}\n", "'use strict'\n\n/**\n * @see https://encoding.spec.whatwg.org/#concept-encoding-get\n * @param {string|undefined} label\n */\nfunction getEncoding (label) {\n  if (!label) {\n    return 'failure'\n  }\n\n  // 1. Remove any leading and trailing ASCII whitespace from label.\n  // 2. If label is an ASCII case-insensitive match for any of the\n  //    labels listed in the table below, then return the\n  //    corresponding encoding; otherwise return failure.\n  switch (label.trim().toLowerCase()) {\n    case 'unicode-1-1-utf-8':\n    case 'unicode11utf8':\n    case 'unicode20utf8':\n    case 'utf-8':\n    case 'utf8':\n    case 'x-unicode20utf8':\n      return 'UTF-8'\n    case '866':\n    case 'cp866':\n    case 'csibm866':\n    case 'ibm866':\n      return 'IBM866'\n    case 'csisolatin2':\n    case 'iso-8859-2':\n    case 'iso-ir-101':\n    case 'iso8859-2':\n    case 'iso88592':\n    case 'iso_8859-2':\n    case 'iso_8859-2:1987':\n    case 'l2':\n    case 'latin2':\n      return 'ISO-8859-2'\n    case 'csisolatin3':\n    case 'iso-8859-3':\n    case 'iso-ir-109':\n    case 'iso8859-3':\n    case 'iso88593':\n    case 'iso_8859-3':\n    case 'iso_8859-3:1988':\n    case 'l3':\n    case 'latin3':\n      return 'ISO-8859-3'\n    case 'csisolatin4':\n    case 'iso-8859-4':\n    case 'iso-ir-110':\n    case 'iso8859-4':\n    case 'iso88594':\n    case 'iso_8859-4':\n    case 'iso_8859-4:1988':\n    case 'l4':\n    case 'latin4':\n      return 'ISO-8859-4'\n    case 'csisolatincyrillic':\n    case 'cyrillic':\n    case 'iso-8859-5':\n    case 'iso-ir-144':\n    case 'iso8859-5':\n    case 'iso88595':\n    case 'iso_8859-5':\n    case 'iso_8859-5:1988':\n      return 'ISO-8859-5'\n    case 'arabic':\n    case 'asmo-708':\n    case 'csiso88596e':\n    case 'csiso88596i':\n    case 'csisolatinarabic':\n    case 'ecma-114':\n    case 'iso-8859-6':\n    case 'iso-8859-6-e':\n    case 'iso-8859-6-i':\n    case 'iso-ir-127':\n    case 'iso8859-6':\n    case 'iso88596':\n    case 'iso_8859-6':\n    case 'iso_8859-6:1987':\n      return 'ISO-8859-6'\n    case 'csisolatingreek':\n    case 'ecma-118':\n    case 'elot_928':\n    case 'greek':\n    case 'greek8':\n    case 'iso-8859-7':\n    case 'iso-ir-126':\n    case 'iso8859-7':\n    case 'iso88597':\n    case 'iso_8859-7':\n    case 'iso_8859-7:1987':\n    case 'sun_eu_greek':\n      return 'ISO-8859-7'\n    case 'csiso88598e':\n    case 'csisolatinhebrew':\n    case 'hebrew':\n    case 'iso-8859-8':\n    case 'iso-8859-8-e':\n    case 'iso-ir-138':\n    case 'iso8859-8':\n    case 'iso88598':\n    case 'iso_8859-8':\n    case 'iso_8859-8:1988':\n    case 'visual':\n      return 'ISO-8859-8'\n    case 'csiso88598i':\n    case 'iso-8859-8-i':\n    case 'logical':\n      return 'ISO-8859-8-I'\n    case 'csisolatin6':\n    case 'iso-8859-10':\n    case 'iso-ir-157':\n    case 'iso8859-10':\n    case 'iso885910':\n    case 'l6':\n    case 'latin6':\n      return 'ISO-8859-10'\n    case 'iso-8859-13':\n    case 'iso8859-13':\n    case 'iso885913':\n      return 'ISO-8859-13'\n    case 'iso-8859-14':\n    case 'iso8859-14':\n    case 'iso885914':\n      return 'ISO-8859-14'\n    case 'csisolatin9':\n    case 'iso-8859-15':\n    case 'iso8859-15':\n    case 'iso885915':\n    case 'iso_8859-15':\n    case 'l9':\n      return 'ISO-8859-15'\n    case 'iso-8859-16':\n      return 'ISO-8859-16'\n    case 'cskoi8r':\n    case 'koi':\n    case 'koi8':\n    case 'koi8-r':\n    case 'koi8_r':\n      return 'KOI8-R'\n    case 'koi8-ru':\n    case 'koi8-u':\n      return 'KOI8-U'\n    case 'csmacintosh':\n    case 'mac':\n    case 'macintosh':\n    case 'x-mac-roman':\n      return 'macintosh'\n    case 'iso-8859-11':\n    case 'iso8859-11':\n    case 'iso885911':\n    case 'tis-620':\n    case 'windows-874':\n      return 'windows-874'\n    case 'cp1250':\n    case 'windows-1250':\n    case 'x-cp1250':\n      return 'windows-1250'\n    case 'cp1251':\n    case 'windows-1251':\n    case 'x-cp1251':\n      return 'windows-1251'\n    case 'ansi_x3.4-1968':\n    case 'ascii':\n    case 'cp1252':\n    case 'cp819':\n    case 'csisolatin1':\n    case 'ibm819':\n    case 'iso-8859-1':\n    case 'iso-ir-100':\n    case 'iso8859-1':\n    case 'iso88591':\n    case 'iso_8859-1':\n    case 'iso_8859-1:1987':\n    case 'l1':\n    case 'latin1':\n    case 'us-ascii':\n    case 'windows-1252':\n    case 'x-cp1252':\n      return 'windows-1252'\n    case 'cp1253':\n    case 'windows-1253':\n    case 'x-cp1253':\n      return 'windows-1253'\n    case 'cp1254':\n    case 'csisolatin5':\n    case 'iso-8859-9':\n    case 'iso-ir-148':\n    case 'iso8859-9':\n    case 'iso88599':\n    case 'iso_8859-9':\n    case 'iso_8859-9:1989':\n    case 'l5':\n    case 'latin5':\n    case 'windows-1254':\n    case 'x-cp1254':\n      return 'windows-1254'\n    case 'cp1255':\n    case 'windows-1255':\n    case 'x-cp1255':\n      return 'windows-1255'\n    case 'cp1256':\n    case 'windows-1256':\n    case 'x-cp1256':\n      return 'windows-1256'\n    case 'cp1257':\n    case 'windows-1257':\n    case 'x-cp1257':\n      return 'windows-1257'\n    case 'cp1258':\n    case 'windows-1258':\n    case 'x-cp1258':\n      return 'windows-1258'\n    case 'x-mac-cyrillic':\n    case 'x-mac-ukrainian':\n      return 'x-mac-cyrillic'\n    case 'chinese':\n    case 'csgb2312':\n    case 'csiso58gb231280':\n    case 'gb2312':\n    case 'gb_2312':\n    case 'gb_2312-80':\n    case 'gbk':\n    case 'iso-ir-58':\n    case 'x-gbk':\n      return 'GBK'\n    case 'gb18030':\n      return 'gb18030'\n    case 'big5':\n    case 'big5-hkscs':\n    case 'cn-big5':\n    case 'csbig5':\n    case 'x-x-big5':\n      return 'Big5'\n    case 'cseucpkdfmtjapanese':\n    case 'euc-jp':\n    case 'x-euc-jp':\n      return 'EUC-JP'\n    case 'csiso2022jp':\n    case 'iso-2022-jp':\n      return 'ISO-2022-JP'\n    case 'csshiftjis':\n    case 'ms932':\n    case 'ms_kanji':\n    case 'shift-jis':\n    case 'shift_jis':\n    case 'sjis':\n    case 'windows-31j':\n    case 'x-sjis':\n      return 'Shift_JIS'\n    case 'cseuckr':\n    case 'csksc56011987':\n    case 'euc-kr':\n    case 'iso-ir-149':\n    case 'korean':\n    case 'ks_c_5601-1987':\n    case 'ks_c_5601-1989':\n    case 'ksc5601':\n    case 'ksc_5601':\n    case 'windows-949':\n      return 'EUC-KR'\n    case 'csiso2022kr':\n    case 'hz-gb-2312':\n    case 'iso-2022-cn':\n    case 'iso-2022-cn-ext':\n    case 'iso-2022-kr':\n    case 'replacement':\n      return 'replacement'\n    case 'unicodefffe':\n    case 'utf-16be':\n      return 'UTF-16BE'\n    case 'csunicode':\n    case 'iso-10646-ucs-2':\n    case 'ucs-2':\n    case 'unicode':\n    case 'unicodefeff':\n    case 'utf-16':\n    case 'utf-16le':\n      return 'UTF-16LE'\n    case 'x-user-defined':\n      return 'x-user-defined'\n    default: return 'failure'\n  }\n}\n\nmodule.exports = {\n  getEncoding\n}\n", "'use strict'\n\nconst {\n  kState,\n  kError,\n  kResult,\n  kAborted,\n  kLastProgressEventFired\n} = require('./symbols')\nconst { ProgressEvent } = require('./progressevent')\nconst { getEncoding } = require('./encoding')\nconst { DOMException } = require('../fetch/constants')\nconst { serializeAMimeType, parseMIMEType } = require('../fetch/dataURL')\nconst { types } = require('util')\nconst { StringDecoder } = require('string_decoder')\nconst { btoa } = require('buffer')\n\n/** @type {PropertyDescriptor} */\nconst staticPropertyDescriptors = {\n  enumerable: true,\n  writable: false,\n  configurable: false\n}\n\n/**\n * @see https://w3c.github.io/FileAPI/#readOperation\n * @param {import('./filereader').FileReader} fr\n * @param {import('buffer').Blob} blob\n * @param {string} type\n * @param {string?} encodingName\n */\nfunction readOperation (fr, blob, type, encodingName) {\n  // 1. If fr\u2019s state is \"loading\", throw an InvalidStateError\n  //    DOMException.\n  if (fr[kState] === 'loading') {\n    throw new DOMException('Invalid state', 'InvalidStateError')\n  }\n\n  // 2. Set fr\u2019s state to \"loading\".\n  fr[kState] = 'loading'\n\n  // 3. Set fr\u2019s result to null.\n  fr[kResult] = null\n\n  // 4. Set fr\u2019s error to null.\n  fr[kError] = null\n\n  // 5. Let stream be the result of calling get stream on blob.\n  /** @type {import('stream/web').ReadableStream} */\n  const stream = blob.stream()\n\n  // 6. Let reader be the result of getting a reader from stream.\n  const reader = stream.getReader()\n\n  // 7. Let bytes be an empty byte sequence.\n  /** @type {Uint8Array[]} */\n  const bytes = []\n\n  // 8. Let chunkPromise be the result of reading a chunk from\n  //    stream with reader.\n  let chunkPromise = reader.read()\n\n  // 9. Let isFirstChunk be true.\n  let isFirstChunk = true\n\n  // 10. In parallel, while true:\n  // Note: \"In parallel\" just means non-blocking\n  // Note 2: readOperation itself cannot be async as double\n  // reading the body would then reject the promise, instead\n  // of throwing an error.\n  ;(async () => {\n    while (!fr[kAborted]) {\n      // 1. Wait for chunkPromise to be fulfilled or rejected.\n      try {\n        const { done, value } = await chunkPromise\n\n        // 2. If chunkPromise is fulfilled, and isFirstChunk is\n        //    true, queue a task to fire a progress event called\n        //    loadstart at fr.\n        if (isFirstChunk && !fr[kAborted]) {\n          queueMicrotask(() => {\n            fireAProgressEvent('loadstart', fr)\n          })\n        }\n\n        // 3. Set isFirstChunk to false.\n        isFirstChunk = false\n\n        // 4. If chunkPromise is fulfilled with an object whose\n        //    done property is false and whose value property is\n        //    a Uint8Array object, run these steps:\n        if (!done && types.isUint8Array(value)) {\n          // 1. Let bs be the byte sequence represented by the\n          //    Uint8Array object.\n\n          // 2. Append bs to bytes.\n          bytes.push(value)\n\n          // 3. If roughly 50ms have passed since these steps\n          //    were last invoked, queue a task to fire a\n          //    progress event called progress at fr.\n          if (\n            (\n              fr[kLastProgressEventFired] === undefined ||\n              Date.now() - fr[kLastProgressEventFired] >= 50\n            ) &&\n            !fr[kAborted]\n          ) {\n            fr[kLastProgressEventFired] = Date.now()\n            queueMicrotask(() => {\n              fireAProgressEvent('progress', fr)\n            })\n          }\n\n          // 4. Set chunkPromise to the result of reading a\n          //    chunk from stream with reader.\n          chunkPromise = reader.read()\n        } else if (done) {\n          // 5. Otherwise, if chunkPromise is fulfilled with an\n          //    object whose done property is true, queue a task\n          //    to run the following steps and abort this algorithm:\n          queueMicrotask(() => {\n            // 1. Set fr\u2019s state to \"done\".\n            fr[kState] = 'done'\n\n            // 2. Let result be the result of package data given\n            //    bytes, type, blob\u2019s type, and encodingName.\n            try {\n              const result = packageData(bytes, type, blob.type, encodingName)\n\n              // 4. Else:\n\n              if (fr[kAborted]) {\n                return\n              }\n\n              // 1. Set fr\u2019s result to result.\n              fr[kResult] = result\n\n              // 2. Fire a progress event called load at the fr.\n              fireAProgressEvent('load', fr)\n            } catch (error) {\n              // 3. If package data threw an exception error:\n\n              // 1. Set fr\u2019s error to error.\n              fr[kError] = error\n\n              // 2. Fire a progress event called error at fr.\n              fireAProgressEvent('error', fr)\n            }\n\n            // 5. If fr\u2019s state is not \"loading\", fire a progress\n            //    event called loadend at the fr.\n            if (fr[kState] !== 'loading') {\n              fireAProgressEvent('loadend', fr)\n            }\n          })\n\n          break\n        }\n      } catch (error) {\n        if (fr[kAborted]) {\n          return\n        }\n\n        // 6. Otherwise, if chunkPromise is rejected with an\n        //    error error, queue a task to run the following\n        //    steps and abort this algorithm:\n        queueMicrotask(() => {\n          // 1. Set fr\u2019s state to \"done\".\n          fr[kState] = 'done'\n\n          // 2. Set fr\u2019s error to error.\n          fr[kError] = error\n\n          // 3. Fire a progress event called error at fr.\n          fireAProgressEvent('error', fr)\n\n          // 4. If fr\u2019s state is not \"loading\", fire a progress\n          //    event called loadend at fr.\n          if (fr[kState] !== 'loading') {\n            fireAProgressEvent('loadend', fr)\n          }\n        })\n\n        break\n      }\n    }\n  })()\n}\n\n/**\n * @see https://w3c.github.io/FileAPI/#fire-a-progress-event\n * @see https://dom.spec.whatwg.org/#concept-event-fire\n * @param {string} e The name of the event\n * @param {import('./filereader').FileReader} reader\n */\nfunction fireAProgressEvent (e, reader) {\n  // The progress event e does not bubble. e.bubbles must be false\n  // The progress event e is NOT cancelable. e.cancelable must be false\n  const event = new ProgressEvent(e, {\n    bubbles: false,\n    cancelable: false\n  })\n\n  reader.dispatchEvent(event)\n}\n\n/**\n * @see https://w3c.github.io/FileAPI/#blob-package-data\n * @param {Uint8Array[]} bytes\n * @param {string} type\n * @param {string?} mimeType\n * @param {string?} encodingName\n */\nfunction packageData (bytes, type, mimeType, encodingName) {\n  // 1. A Blob has an associated package data algorithm, given\n  //    bytes, a type, a optional mimeType, and a optional\n  //    encodingName, which switches on type and runs the\n  //    associated steps:\n\n  switch (type) {\n    case 'DataURL': {\n      // 1. Return bytes as a DataURL [RFC2397] subject to\n      //    the considerations below:\n      //  * Use mimeType as part of the Data URL if it is\n      //    available in keeping with the Data URL\n      //    specification [RFC2397].\n      //  * If mimeType is not available return a Data URL\n      //    without a media-type. [RFC2397].\n\n      // https://datatracker.ietf.org/doc/html/rfc2397#section-3\n      // dataurl    := \"data:\" [ mediatype ] [ \";base64\" ] \",\" data\n      // mediatype  := [ type \"/\" subtype ] *( \";\" parameter )\n      // data       := *urlchar\n      // parameter  := attribute \"=\" value\n      let dataURL = 'data:'\n\n      const parsed = parseMIMEType(mimeType || 'application/octet-stream')\n\n      if (parsed !== 'failure') {\n        dataURL += serializeAMimeType(parsed)\n      }\n\n      dataURL += ';base64,'\n\n      const decoder = new StringDecoder('latin1')\n\n      for (const chunk of bytes) {\n        dataURL += btoa(decoder.write(chunk))\n      }\n\n      dataURL += btoa(decoder.end())\n\n      return dataURL\n    }\n    case 'Text': {\n      // 1. Let encoding be failure\n      let encoding = 'failure'\n\n      // 2. If the encodingName is present, set encoding to the\n      //    result of getting an encoding from encodingName.\n      if (encodingName) {\n        encoding = getEncoding(encodingName)\n      }\n\n      // 3. If encoding is failure, and mimeType is present:\n      if (encoding === 'failure' && mimeType) {\n        // 1. Let type be the result of parse a MIME type\n        //    given mimeType.\n        const type = parseMIMEType(mimeType)\n\n        // 2. If type is not failure, set encoding to the result\n        //    of getting an encoding from type\u2019s parameters[\"charset\"].\n        if (type !== 'failure') {\n          encoding = getEncoding(type.parameters.get('charset'))\n        }\n      }\n\n      // 4. If encoding is failure, then set encoding to UTF-8.\n      if (encoding === 'failure') {\n        encoding = 'UTF-8'\n      }\n\n      // 5. Decode bytes using fallback encoding encoding, and\n      //    return the result.\n      return decode(bytes, encoding)\n    }\n    case 'ArrayBuffer': {\n      // Return a new ArrayBuffer whose contents are bytes.\n      const sequence = combineByteSequences(bytes)\n\n      return sequence.buffer\n    }\n    case 'BinaryString': {\n      // Return bytes as a binary string, in which every byte\n      //  is represented by a code unit of equal value [0..255].\n      let binaryString = ''\n\n      const decoder = new StringDecoder('latin1')\n\n      for (const chunk of bytes) {\n        binaryString += decoder.write(chunk)\n      }\n\n      binaryString += decoder.end()\n\n      return binaryString\n    }\n  }\n}\n\n/**\n * @see https://encoding.spec.whatwg.org/#decode\n * @param {Uint8Array[]} ioQueue\n * @param {string} encoding\n */\nfunction decode (ioQueue, encoding) {\n  const bytes = combineByteSequences(ioQueue)\n\n  // 1. Let BOMEncoding be the result of BOM sniffing ioQueue.\n  const BOMEncoding = BOMSniffing(bytes)\n\n  let slice = 0\n\n  // 2. If BOMEncoding is non-null:\n  if (BOMEncoding !== null) {\n    // 1. Set encoding to BOMEncoding.\n    encoding = BOMEncoding\n\n    // 2. Read three bytes from ioQueue, if BOMEncoding is\n    //    UTF-8; otherwise read two bytes.\n    //    (Do nothing with those bytes.)\n    slice = BOMEncoding === 'UTF-8' ? 3 : 2\n  }\n\n  // 3. Process a queue with an instance of encoding\u2019s\n  //    decoder, ioQueue, output, and \"replacement\".\n\n  // 4. Return output.\n\n  const sliced = bytes.slice(slice)\n  return new TextDecoder(encoding).decode(sliced)\n}\n\n/**\n * @see https://encoding.spec.whatwg.org/#bom-sniff\n * @param {Uint8Array} ioQueue\n */\nfunction BOMSniffing (ioQueue) {\n  // 1. Let BOM be the result of peeking 3 bytes from ioQueue,\n  //    converted to a byte sequence.\n  const [a, b, c] = ioQueue\n\n  // 2. For each of the rows in the table below, starting with\n  //    the first one and going down, if BOM starts with the\n  //    bytes given in the first column, then return the\n  //    encoding given in the cell in the second column of that\n  //    row. Otherwise, return null.\n  if (a === 0xEF && b === 0xBB && c === 0xBF) {\n    return 'UTF-8'\n  } else if (a === 0xFE && b === 0xFF) {\n    return 'UTF-16BE'\n  } else if (a === 0xFF && b === 0xFE) {\n    return 'UTF-16LE'\n  }\n\n  return null\n}\n\n/**\n * @param {Uint8Array[]} sequences\n */\nfunction combineByteSequences (sequences) {\n  const size = sequences.reduce((a, b) => {\n    return a + b.byteLength\n  }, 0)\n\n  let offset = 0\n\n  return sequences.reduce((a, b) => {\n    a.set(b, offset)\n    offset += b.byteLength\n    return a\n  }, new Uint8Array(size))\n}\n\nmodule.exports = {\n  staticPropertyDescriptors,\n  readOperation,\n  fireAProgressEvent\n}\n", "'use strict'\n\nconst {\n  staticPropertyDescriptors,\n  readOperation,\n  fireAProgressEvent\n} = require('./util')\nconst {\n  kState,\n  kError,\n  kResult,\n  kEvents,\n  kAborted\n} = require('./symbols')\nconst { webidl } = require('../fetch/webidl')\nconst { kEnumerableProperty } = require('../core/util')\n\nclass FileReader extends EventTarget {\n  constructor () {\n    super()\n\n    this[kState] = 'empty'\n    this[kResult] = null\n    this[kError] = null\n    this[kEvents] = {\n      loadend: null,\n      error: null,\n      abort: null,\n      load: null,\n      progress: null,\n      loadstart: null\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dfn-readAsArrayBuffer\n   * @param {import('buffer').Blob} blob\n   */\n  readAsArrayBuffer (blob) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsArrayBuffer' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    // The readAsArrayBuffer(blob) method, when invoked,\n    // must initiate a read operation for blob with ArrayBuffer.\n    readOperation(this, blob, 'ArrayBuffer')\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#readAsBinaryString\n   * @param {import('buffer').Blob} blob\n   */\n  readAsBinaryString (blob) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsBinaryString' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    // The readAsBinaryString(blob) method, when invoked,\n    // must initiate a read operation for blob with BinaryString.\n    readOperation(this, blob, 'BinaryString')\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#readAsDataText\n   * @param {import('buffer').Blob} blob\n   * @param {string?} encoding\n   */\n  readAsText (blob, encoding = undefined) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsText' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    if (encoding !== undefined) {\n      encoding = webidl.converters.DOMString(encoding)\n    }\n\n    // The readAsText(blob, encoding) method, when invoked,\n    // must initiate a read operation for blob with Text and encoding.\n    readOperation(this, blob, 'Text', encoding)\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dfn-readAsDataURL\n   * @param {import('buffer').Blob} blob\n   */\n  readAsDataURL (blob) {\n    webidl.brandCheck(this, FileReader)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'FileReader.readAsDataURL' })\n\n    blob = webidl.converters.Blob(blob, { strict: false })\n\n    // The readAsDataURL(blob) method, when invoked, must\n    // initiate a read operation for blob with DataURL.\n    readOperation(this, blob, 'DataURL')\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dfn-abort\n   */\n  abort () {\n    // 1. If this's state is \"empty\" or if this's state is\n    //    \"done\" set this's result to null and terminate\n    //    this algorithm.\n    if (this[kState] === 'empty' || this[kState] === 'done') {\n      this[kResult] = null\n      return\n    }\n\n    // 2. If this's state is \"loading\" set this's state to\n    //    \"done\" and set this's result to null.\n    if (this[kState] === 'loading') {\n      this[kState] = 'done'\n      this[kResult] = null\n    }\n\n    // 3. If there are any tasks from this on the file reading\n    //    task source in an affiliated task queue, then remove\n    //    those tasks from that task queue.\n    this[kAborted] = true\n\n    // 4. Terminate the algorithm for the read method being processed.\n    // TODO\n\n    // 5. Fire a progress event called abort at this.\n    fireAProgressEvent('abort', this)\n\n    // 6. If this's state is not \"loading\", fire a progress\n    //    event called loadend at this.\n    if (this[kState] !== 'loading') {\n      fireAProgressEvent('loadend', this)\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dom-filereader-readystate\n   */\n  get readyState () {\n    webidl.brandCheck(this, FileReader)\n\n    switch (this[kState]) {\n      case 'empty': return this.EMPTY\n      case 'loading': return this.LOADING\n      case 'done': return this.DONE\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dom-filereader-result\n   */\n  get result () {\n    webidl.brandCheck(this, FileReader)\n\n    // The result attribute\u2019s getter, when invoked, must return\n    // this's result.\n    return this[kResult]\n  }\n\n  /**\n   * @see https://w3c.github.io/FileAPI/#dom-filereader-error\n   */\n  get error () {\n    webidl.brandCheck(this, FileReader)\n\n    // The error attribute\u2019s getter, when invoked, must return\n    // this's error.\n    return this[kError]\n  }\n\n  get onloadend () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].loadend\n  }\n\n  set onloadend (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].loadend) {\n      this.removeEventListener('loadend', this[kEvents].loadend)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].loadend = fn\n      this.addEventListener('loadend', fn)\n    } else {\n      this[kEvents].loadend = null\n    }\n  }\n\n  get onerror () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].error\n  }\n\n  set onerror (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].error) {\n      this.removeEventListener('error', this[kEvents].error)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].error = fn\n      this.addEventListener('error', fn)\n    } else {\n      this[kEvents].error = null\n    }\n  }\n\n  get onloadstart () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].loadstart\n  }\n\n  set onloadstart (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].loadstart) {\n      this.removeEventListener('loadstart', this[kEvents].loadstart)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].loadstart = fn\n      this.addEventListener('loadstart', fn)\n    } else {\n      this[kEvents].loadstart = null\n    }\n  }\n\n  get onprogress () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].progress\n  }\n\n  set onprogress (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].progress) {\n      this.removeEventListener('progress', this[kEvents].progress)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].progress = fn\n      this.addEventListener('progress', fn)\n    } else {\n      this[kEvents].progress = null\n    }\n  }\n\n  get onload () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].load\n  }\n\n  set onload (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].load) {\n      this.removeEventListener('load', this[kEvents].load)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].load = fn\n      this.addEventListener('load', fn)\n    } else {\n      this[kEvents].load = null\n    }\n  }\n\n  get onabort () {\n    webidl.brandCheck(this, FileReader)\n\n    return this[kEvents].abort\n  }\n\n  set onabort (fn) {\n    webidl.brandCheck(this, FileReader)\n\n    if (this[kEvents].abort) {\n      this.removeEventListener('abort', this[kEvents].abort)\n    }\n\n    if (typeof fn === 'function') {\n      this[kEvents].abort = fn\n      this.addEventListener('abort', fn)\n    } else {\n      this[kEvents].abort = null\n    }\n  }\n}\n\n// https://w3c.github.io/FileAPI/#dom-filereader-empty\nFileReader.EMPTY = FileReader.prototype.EMPTY = 0\n// https://w3c.github.io/FileAPI/#dom-filereader-loading\nFileReader.LOADING = FileReader.prototype.LOADING = 1\n// https://w3c.github.io/FileAPI/#dom-filereader-done\nFileReader.DONE = FileReader.prototype.DONE = 2\n\nObject.defineProperties(FileReader.prototype, {\n  EMPTY: staticPropertyDescriptors,\n  LOADING: staticPropertyDescriptors,\n  DONE: staticPropertyDescriptors,\n  readAsArrayBuffer: kEnumerableProperty,\n  readAsBinaryString: kEnumerableProperty,\n  readAsText: kEnumerableProperty,\n  readAsDataURL: kEnumerableProperty,\n  abort: kEnumerableProperty,\n  readyState: kEnumerableProperty,\n  result: kEnumerableProperty,\n  error: kEnumerableProperty,\n  onloadstart: kEnumerableProperty,\n  onprogress: kEnumerableProperty,\n  onload: kEnumerableProperty,\n  onabort: kEnumerableProperty,\n  onerror: kEnumerableProperty,\n  onloadend: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'FileReader',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  }\n})\n\nObject.defineProperties(FileReader, {\n  EMPTY: staticPropertyDescriptors,\n  LOADING: staticPropertyDescriptors,\n  DONE: staticPropertyDescriptors\n})\n\nmodule.exports = {\n  FileReader\n}\n", "'use strict'\n\nmodule.exports = {\n  kConstruct: require('../core/symbols').kConstruct\n}\n", "'use strict'\n\nconst assert = require('assert')\nconst { URLSerializer } = require('../fetch/dataURL')\nconst { isValidHeaderName } = require('../fetch/util')\n\n/**\n * @see https://url.spec.whatwg.org/#concept-url-equals\n * @param {URL} A\n * @param {URL} B\n * @param {boolean | undefined} excludeFragment\n * @returns {boolean}\n */\nfunction urlEquals (A, B, excludeFragment = false) {\n  const serializedA = URLSerializer(A, excludeFragment)\n\n  const serializedB = URLSerializer(B, excludeFragment)\n\n  return serializedA === serializedB\n}\n\n/**\n * @see https://github.com/chromium/chromium/blob/694d20d134cb553d8d89e5500b9148012b1ba299/content/browser/cache_storage/cache_storage_cache.cc#L260-L262\n * @param {string} header\n */\nfunction fieldValues (header) {\n  assert(header !== null)\n\n  const values = []\n\n  for (let value of header.split(',')) {\n    value = value.trim()\n\n    if (!value.length) {\n      continue\n    } else if (!isValidHeaderName(value)) {\n      continue\n    }\n\n    values.push(value)\n  }\n\n  return values\n}\n\nmodule.exports = {\n  urlEquals,\n  fieldValues\n}\n", "'use strict'\n\nconst { kConstruct } = require('./symbols')\nconst { urlEquals, fieldValues: getFieldValues } = require('./util')\nconst { kEnumerableProperty, isDisturbed } = require('../core/util')\nconst { kHeadersList } = require('../core/symbols')\nconst { webidl } = require('../fetch/webidl')\nconst { Response, cloneResponse } = require('../fetch/response')\nconst { Request } = require('../fetch/request')\nconst { kState, kHeaders, kGuard, kRealm } = require('../fetch/symbols')\nconst { fetching } = require('../fetch/index')\nconst { urlIsHttpHttpsScheme, createDeferredPromise, readAllBytes } = require('../fetch/util')\nconst assert = require('assert')\nconst { getGlobalDispatcher } = require('../global')\n\n/**\n * @see https://w3c.github.io/ServiceWorker/#dfn-cache-batch-operation\n * @typedef {Object} CacheBatchOperation\n * @property {'delete' | 'put'} type\n * @property {any} request\n * @property {any} response\n * @property {import('../../types/cache').CacheQueryOptions} options\n */\n\n/**\n * @see https://w3c.github.io/ServiceWorker/#dfn-request-response-list\n * @typedef {[any, any][]} requestResponseList\n */\n\nclass Cache {\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dfn-relevant-request-response-list\n   * @type {requestResponseList}\n   */\n  #relevantRequestResponseList\n\n  constructor () {\n    if (arguments[0] !== kConstruct) {\n      webidl.illegalConstructor()\n    }\n\n    this.#relevantRequestResponseList = arguments[1]\n  }\n\n  async match (request, options = {}) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.match' })\n\n    request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    const p = await this.matchAll(request, options)\n\n    if (p.length === 0) {\n      return\n    }\n\n    return p[0]\n  }\n\n  async matchAll (request = undefined, options = {}) {\n    webidl.brandCheck(this, Cache)\n\n    if (request !== undefined) request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    // 1.\n    let r = null\n\n    // 2.\n    if (request !== undefined) {\n      if (request instanceof Request) {\n        // 2.1.1\n        r = request[kState]\n\n        // 2.1.2\n        if (r.method !== 'GET' && !options.ignoreMethod) {\n          return []\n        }\n      } else if (typeof request === 'string') {\n        // 2.2.1\n        r = new Request(request)[kState]\n      }\n    }\n\n    // 5.\n    // 5.1\n    const responses = []\n\n    // 5.2\n    if (request === undefined) {\n      // 5.2.1\n      for (const requestResponse of this.#relevantRequestResponseList) {\n        responses.push(requestResponse[1])\n      }\n    } else { // 5.3\n      // 5.3.1\n      const requestResponses = this.#queryCache(r, options)\n\n      // 5.3.2\n      for (const requestResponse of requestResponses) {\n        responses.push(requestResponse[1])\n      }\n    }\n\n    // 5.4\n    // We don't implement CORs so we don't need to loop over the responses, yay!\n\n    // 5.5.1\n    const responseList = []\n\n    // 5.5.2\n    for (const response of responses) {\n      // 5.5.2.1\n      const responseObject = new Response(response.body?.source ?? null)\n      const body = responseObject[kState].body\n      responseObject[kState] = response\n      responseObject[kState].body = body\n      responseObject[kHeaders][kHeadersList] = response.headersList\n      responseObject[kHeaders][kGuard] = 'immutable'\n\n      responseList.push(responseObject)\n    }\n\n    // 6.\n    return Object.freeze(responseList)\n  }\n\n  async add (request) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.add' })\n\n    request = webidl.converters.RequestInfo(request)\n\n    // 1.\n    const requests = [request]\n\n    // 2.\n    const responseArrayPromise = this.addAll(requests)\n\n    // 3.\n    return await responseArrayPromise\n  }\n\n  async addAll (requests) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.addAll' })\n\n    requests = webidl.converters['sequence<RequestInfo>'](requests)\n\n    // 1.\n    const responsePromises = []\n\n    // 2.\n    const requestList = []\n\n    // 3.\n    for (const request of requests) {\n      if (typeof request === 'string') {\n        continue\n      }\n\n      // 3.1\n      const r = request[kState]\n\n      // 3.2\n      if (!urlIsHttpHttpsScheme(r.url) || r.method !== 'GET') {\n        throw webidl.errors.exception({\n          header: 'Cache.addAll',\n          message: 'Expected http/s scheme when method is not GET.'\n        })\n      }\n    }\n\n    // 4.\n    /** @type {ReturnType<typeof fetching>[]} */\n    const fetchControllers = []\n\n    // 5.\n    for (const request of requests) {\n      // 5.1\n      const r = new Request(request)[kState]\n\n      // 5.2\n      if (!urlIsHttpHttpsScheme(r.url)) {\n        throw webidl.errors.exception({\n          header: 'Cache.addAll',\n          message: 'Expected http/s scheme.'\n        })\n      }\n\n      // 5.4\n      r.initiator = 'fetch'\n      r.destination = 'subresource'\n\n      // 5.5\n      requestList.push(r)\n\n      // 5.6\n      const responsePromise = createDeferredPromise()\n\n      // 5.7\n      fetchControllers.push(fetching({\n        request: r,\n        dispatcher: getGlobalDispatcher(),\n        processResponse (response) {\n          // 1.\n          if (response.type === 'error' || response.status === 206 || response.status < 200 || response.status > 299) {\n            responsePromise.reject(webidl.errors.exception({\n              header: 'Cache.addAll',\n              message: 'Received an invalid status code or the request failed.'\n            }))\n          } else if (response.headersList.contains('vary')) { // 2.\n            // 2.1\n            const fieldValues = getFieldValues(response.headersList.get('vary'))\n\n            // 2.2\n            for (const fieldValue of fieldValues) {\n              // 2.2.1\n              if (fieldValue === '*') {\n                responsePromise.reject(webidl.errors.exception({\n                  header: 'Cache.addAll',\n                  message: 'invalid vary field value'\n                }))\n\n                for (const controller of fetchControllers) {\n                  controller.abort()\n                }\n\n                return\n              }\n            }\n          }\n        },\n        processResponseEndOfBody (response) {\n          // 1.\n          if (response.aborted) {\n            responsePromise.reject(new DOMException('aborted', 'AbortError'))\n            return\n          }\n\n          // 2.\n          responsePromise.resolve(response)\n        }\n      }))\n\n      // 5.8\n      responsePromises.push(responsePromise.promise)\n    }\n\n    // 6.\n    const p = Promise.all(responsePromises)\n\n    // 7.\n    const responses = await p\n\n    // 7.1\n    const operations = []\n\n    // 7.2\n    let index = 0\n\n    // 7.3\n    for (const response of responses) {\n      // 7.3.1\n      /** @type {CacheBatchOperation} */\n      const operation = {\n        type: 'put', // 7.3.2\n        request: requestList[index], // 7.3.3\n        response // 7.3.4\n      }\n\n      operations.push(operation) // 7.3.5\n\n      index++ // 7.3.6\n    }\n\n    // 7.5\n    const cacheJobPromise = createDeferredPromise()\n\n    // 7.6.1\n    let errorData = null\n\n    // 7.6.2\n    try {\n      this.#batchCacheOperations(operations)\n    } catch (e) {\n      errorData = e\n    }\n\n    // 7.6.3\n    queueMicrotask(() => {\n      // 7.6.3.1\n      if (errorData === null) {\n        cacheJobPromise.resolve(undefined)\n      } else {\n        // 7.6.3.2\n        cacheJobPromise.reject(errorData)\n      }\n    })\n\n    // 7.7\n    return cacheJobPromise.promise\n  }\n\n  async put (request, response) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 2, { header: 'Cache.put' })\n\n    request = webidl.converters.RequestInfo(request)\n    response = webidl.converters.Response(response)\n\n    // 1.\n    let innerRequest = null\n\n    // 2.\n    if (request instanceof Request) {\n      innerRequest = request[kState]\n    } else { // 3.\n      innerRequest = new Request(request)[kState]\n    }\n\n    // 4.\n    if (!urlIsHttpHttpsScheme(innerRequest.url) || innerRequest.method !== 'GET') {\n      throw webidl.errors.exception({\n        header: 'Cache.put',\n        message: 'Expected an http/s scheme when method is not GET'\n      })\n    }\n\n    // 5.\n    const innerResponse = response[kState]\n\n    // 6.\n    if (innerResponse.status === 206) {\n      throw webidl.errors.exception({\n        header: 'Cache.put',\n        message: 'Got 206 status'\n      })\n    }\n\n    // 7.\n    if (innerResponse.headersList.contains('vary')) {\n      // 7.1.\n      const fieldValues = getFieldValues(innerResponse.headersList.get('vary'))\n\n      // 7.2.\n      for (const fieldValue of fieldValues) {\n        // 7.2.1\n        if (fieldValue === '*') {\n          throw webidl.errors.exception({\n            header: 'Cache.put',\n            message: 'Got * vary field value'\n          })\n        }\n      }\n    }\n\n    // 8.\n    if (innerResponse.body && (isDisturbed(innerResponse.body.stream) || innerResponse.body.stream.locked)) {\n      throw webidl.errors.exception({\n        header: 'Cache.put',\n        message: 'Response body is locked or disturbed'\n      })\n    }\n\n    // 9.\n    const clonedResponse = cloneResponse(innerResponse)\n\n    // 10.\n    const bodyReadPromise = createDeferredPromise()\n\n    // 11.\n    if (innerResponse.body != null) {\n      // 11.1\n      const stream = innerResponse.body.stream\n\n      // 11.2\n      const reader = stream.getReader()\n\n      // 11.3\n      readAllBytes(reader).then(bodyReadPromise.resolve, bodyReadPromise.reject)\n    } else {\n      bodyReadPromise.resolve(undefined)\n    }\n\n    // 12.\n    /** @type {CacheBatchOperation[]} */\n    const operations = []\n\n    // 13.\n    /** @type {CacheBatchOperation} */\n    const operation = {\n      type: 'put', // 14.\n      request: innerRequest, // 15.\n      response: clonedResponse // 16.\n    }\n\n    // 17.\n    operations.push(operation)\n\n    // 19.\n    const bytes = await bodyReadPromise.promise\n\n    if (clonedResponse.body != null) {\n      clonedResponse.body.source = bytes\n    }\n\n    // 19.1\n    const cacheJobPromise = createDeferredPromise()\n\n    // 19.2.1\n    let errorData = null\n\n    // 19.2.2\n    try {\n      this.#batchCacheOperations(operations)\n    } catch (e) {\n      errorData = e\n    }\n\n    // 19.2.3\n    queueMicrotask(() => {\n      // 19.2.3.1\n      if (errorData === null) {\n        cacheJobPromise.resolve()\n      } else { // 19.2.3.2\n        cacheJobPromise.reject(errorData)\n      }\n    })\n\n    return cacheJobPromise.promise\n  }\n\n  async delete (request, options = {}) {\n    webidl.brandCheck(this, Cache)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'Cache.delete' })\n\n    request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    /**\n     * @type {Request}\n     */\n    let r = null\n\n    if (request instanceof Request) {\n      r = request[kState]\n\n      if (r.method !== 'GET' && !options.ignoreMethod) {\n        return false\n      }\n    } else {\n      assert(typeof request === 'string')\n\n      r = new Request(request)[kState]\n    }\n\n    /** @type {CacheBatchOperation[]} */\n    const operations = []\n\n    /** @type {CacheBatchOperation} */\n    const operation = {\n      type: 'delete',\n      request: r,\n      options\n    }\n\n    operations.push(operation)\n\n    const cacheJobPromise = createDeferredPromise()\n\n    let errorData = null\n    let requestResponses\n\n    try {\n      requestResponses = this.#batchCacheOperations(operations)\n    } catch (e) {\n      errorData = e\n    }\n\n    queueMicrotask(() => {\n      if (errorData === null) {\n        cacheJobPromise.resolve(!!requestResponses?.length)\n      } else {\n        cacheJobPromise.reject(errorData)\n      }\n    })\n\n    return cacheJobPromise.promise\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dom-cache-keys\n   * @param {any} request\n   * @param {import('../../types/cache').CacheQueryOptions} options\n   * @returns {readonly Request[]}\n   */\n  async keys (request = undefined, options = {}) {\n    webidl.brandCheck(this, Cache)\n\n    if (request !== undefined) request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.CacheQueryOptions(options)\n\n    // 1.\n    let r = null\n\n    // 2.\n    if (request !== undefined) {\n      // 2.1\n      if (request instanceof Request) {\n        // 2.1.1\n        r = request[kState]\n\n        // 2.1.2\n        if (r.method !== 'GET' && !options.ignoreMethod) {\n          return []\n        }\n      } else if (typeof request === 'string') { // 2.2\n        r = new Request(request)[kState]\n      }\n    }\n\n    // 4.\n    const promise = createDeferredPromise()\n\n    // 5.\n    // 5.1\n    const requests = []\n\n    // 5.2\n    if (request === undefined) {\n      // 5.2.1\n      for (const requestResponse of this.#relevantRequestResponseList) {\n        // 5.2.1.1\n        requests.push(requestResponse[0])\n      }\n    } else { // 5.3\n      // 5.3.1\n      const requestResponses = this.#queryCache(r, options)\n\n      // 5.3.2\n      for (const requestResponse of requestResponses) {\n        // 5.3.2.1\n        requests.push(requestResponse[0])\n      }\n    }\n\n    // 5.4\n    queueMicrotask(() => {\n      // 5.4.1\n      const requestList = []\n\n      // 5.4.2\n      for (const request of requests) {\n        const requestObject = new Request('https://a')\n        requestObject[kState] = request\n        requestObject[kHeaders][kHeadersList] = request.headersList\n        requestObject[kHeaders][kGuard] = 'immutable'\n        requestObject[kRealm] = request.client\n\n        // 5.4.2.1\n        requestList.push(requestObject)\n      }\n\n      // 5.4.3\n      promise.resolve(Object.freeze(requestList))\n    })\n\n    return promise.promise\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#batch-cache-operations-algorithm\n   * @param {CacheBatchOperation[]} operations\n   * @returns {requestResponseList}\n   */\n  #batchCacheOperations (operations) {\n    // 1.\n    const cache = this.#relevantRequestResponseList\n\n    // 2.\n    const backupCache = [...cache]\n\n    // 3.\n    const addedItems = []\n\n    // 4.1\n    const resultList = []\n\n    try {\n      // 4.2\n      for (const operation of operations) {\n        // 4.2.1\n        if (operation.type !== 'delete' && operation.type !== 'put') {\n          throw webidl.errors.exception({\n            header: 'Cache.#batchCacheOperations',\n            message: 'operation type does not match \"delete\" or \"put\"'\n          })\n        }\n\n        // 4.2.2\n        if (operation.type === 'delete' && operation.response != null) {\n          throw webidl.errors.exception({\n            header: 'Cache.#batchCacheOperations',\n            message: 'delete operation should not have an associated response'\n          })\n        }\n\n        // 4.2.3\n        if (this.#queryCache(operation.request, operation.options, addedItems).length) {\n          throw new DOMException('???', 'InvalidStateError')\n        }\n\n        // 4.2.4\n        let requestResponses\n\n        // 4.2.5\n        if (operation.type === 'delete') {\n          // 4.2.5.1\n          requestResponses = this.#queryCache(operation.request, operation.options)\n\n          // TODO: the spec is wrong, this is needed to pass WPTs\n          if (requestResponses.length === 0) {\n            return []\n          }\n\n          // 4.2.5.2\n          for (const requestResponse of requestResponses) {\n            const idx = cache.indexOf(requestResponse)\n            assert(idx !== -1)\n\n            // 4.2.5.2.1\n            cache.splice(idx, 1)\n          }\n        } else if (operation.type === 'put') { // 4.2.6\n          // 4.2.6.1\n          if (operation.response == null) {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'put operation should have an associated response'\n            })\n          }\n\n          // 4.2.6.2\n          const r = operation.request\n\n          // 4.2.6.3\n          if (!urlIsHttpHttpsScheme(r.url)) {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'expected http or https scheme'\n            })\n          }\n\n          // 4.2.6.4\n          if (r.method !== 'GET') {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'not get method'\n            })\n          }\n\n          // 4.2.6.5\n          if (operation.options != null) {\n            throw webidl.errors.exception({\n              header: 'Cache.#batchCacheOperations',\n              message: 'options must not be defined'\n            })\n          }\n\n          // 4.2.6.6\n          requestResponses = this.#queryCache(operation.request)\n\n          // 4.2.6.7\n          for (const requestResponse of requestResponses) {\n            const idx = cache.indexOf(requestResponse)\n            assert(idx !== -1)\n\n            // 4.2.6.7.1\n            cache.splice(idx, 1)\n          }\n\n          // 4.2.6.8\n          cache.push([operation.request, operation.response])\n\n          // 4.2.6.10\n          addedItems.push([operation.request, operation.response])\n        }\n\n        // 4.2.7\n        resultList.push([operation.request, operation.response])\n      }\n\n      // 4.3\n      return resultList\n    } catch (e) { // 5.\n      // 5.1\n      this.#relevantRequestResponseList.length = 0\n\n      // 5.2\n      this.#relevantRequestResponseList = backupCache\n\n      // 5.3\n      throw e\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#query-cache\n   * @param {any} requestQuery\n   * @param {import('../../types/cache').CacheQueryOptions} options\n   * @param {requestResponseList} targetStorage\n   * @returns {requestResponseList}\n   */\n  #queryCache (requestQuery, options, targetStorage) {\n    /** @type {requestResponseList} */\n    const resultList = []\n\n    const storage = targetStorage ?? this.#relevantRequestResponseList\n\n    for (const requestResponse of storage) {\n      const [cachedRequest, cachedResponse] = requestResponse\n      if (this.#requestMatchesCachedItem(requestQuery, cachedRequest, cachedResponse, options)) {\n        resultList.push(requestResponse)\n      }\n    }\n\n    return resultList\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#request-matches-cached-item-algorithm\n   * @param {any} requestQuery\n   * @param {any} request\n   * @param {any | null} response\n   * @param {import('../../types/cache').CacheQueryOptions | undefined} options\n   * @returns {boolean}\n   */\n  #requestMatchesCachedItem (requestQuery, request, response = null, options) {\n    // if (options?.ignoreMethod === false && request.method === 'GET') {\n    //   return false\n    // }\n\n    const queryURL = new URL(requestQuery.url)\n\n    const cachedURL = new URL(request.url)\n\n    if (options?.ignoreSearch) {\n      cachedURL.search = ''\n\n      queryURL.search = ''\n    }\n\n    if (!urlEquals(queryURL, cachedURL, true)) {\n      return false\n    }\n\n    if (\n      response == null ||\n      options?.ignoreVary ||\n      !response.headersList.contains('vary')\n    ) {\n      return true\n    }\n\n    const fieldValues = getFieldValues(response.headersList.get('vary'))\n\n    for (const fieldValue of fieldValues) {\n      if (fieldValue === '*') {\n        return false\n      }\n\n      const requestValue = request.headersList.get(fieldValue)\n      const queryValue = requestQuery.headersList.get(fieldValue)\n\n      // If one has the header and the other doesn't, or one has\n      // a different value than the other, return false\n      if (requestValue !== queryValue) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nObject.defineProperties(Cache.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'Cache',\n    configurable: true\n  },\n  match: kEnumerableProperty,\n  matchAll: kEnumerableProperty,\n  add: kEnumerableProperty,\n  addAll: kEnumerableProperty,\n  put: kEnumerableProperty,\n  delete: kEnumerableProperty,\n  keys: kEnumerableProperty\n})\n\nconst cacheQueryOptionConverters = [\n  {\n    key: 'ignoreSearch',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'ignoreMethod',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'ignoreVary',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  }\n]\n\nwebidl.converters.CacheQueryOptions = webidl.dictionaryConverter(cacheQueryOptionConverters)\n\nwebidl.converters.MultiCacheQueryOptions = webidl.dictionaryConverter([\n  ...cacheQueryOptionConverters,\n  {\n    key: 'cacheName',\n    converter: webidl.converters.DOMString\n  }\n])\n\nwebidl.converters.Response = webidl.interfaceConverter(Response)\n\nwebidl.converters['sequence<RequestInfo>'] = webidl.sequenceConverter(\n  webidl.converters.RequestInfo\n)\n\nmodule.exports = {\n  Cache\n}\n", "'use strict'\n\nconst { kConstruct } = require('./symbols')\nconst { Cache } = require('./cache')\nconst { webidl } = require('../fetch/webidl')\nconst { kEnumerableProperty } = require('../core/util')\n\nclass CacheStorage {\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dfn-relevant-name-to-cache-map\n   * @type {Map<string, import('./cache').requestResponseList}\n   */\n  #caches = new Map()\n\n  constructor () {\n    if (arguments[0] !== kConstruct) {\n      webidl.illegalConstructor()\n    }\n  }\n\n  async match (request, options = {}) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.match' })\n\n    request = webidl.converters.RequestInfo(request)\n    options = webidl.converters.MultiCacheQueryOptions(options)\n\n    // 1.\n    if (options.cacheName != null) {\n      // 1.1.1.1\n      if (this.#caches.has(options.cacheName)) {\n        // 1.1.1.1.1\n        const cacheList = this.#caches.get(options.cacheName)\n        const cache = new Cache(kConstruct, cacheList)\n\n        return await cache.match(request, options)\n      }\n    } else { // 2.\n      // 2.2\n      for (const cacheList of this.#caches.values()) {\n        const cache = new Cache(kConstruct, cacheList)\n\n        // 2.2.1.2\n        const response = await cache.match(request, options)\n\n        if (response !== undefined) {\n          return response\n        }\n      }\n    }\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#cache-storage-has\n   * @param {string} cacheName\n   * @returns {Promise<boolean>}\n   */\n  async has (cacheName) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.has' })\n\n    cacheName = webidl.converters.DOMString(cacheName)\n\n    // 2.1.1\n    // 2.2\n    return this.#caches.has(cacheName)\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#dom-cachestorage-open\n   * @param {string} cacheName\n   * @returns {Promise<Cache>}\n   */\n  async open (cacheName) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.open' })\n\n    cacheName = webidl.converters.DOMString(cacheName)\n\n    // 2.1\n    if (this.#caches.has(cacheName)) {\n      // await caches.open('v1') !== await caches.open('v1')\n\n      // 2.1.1\n      const cache = this.#caches.get(cacheName)\n\n      // 2.1.1.1\n      return new Cache(kConstruct, cache)\n    }\n\n    // 2.2\n    const cache = []\n\n    // 2.3\n    this.#caches.set(cacheName, cache)\n\n    // 2.4\n    return new Cache(kConstruct, cache)\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#cache-storage-delete\n   * @param {string} cacheName\n   * @returns {Promise<boolean>}\n   */\n  async delete (cacheName) {\n    webidl.brandCheck(this, CacheStorage)\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CacheStorage.delete' })\n\n    cacheName = webidl.converters.DOMString(cacheName)\n\n    return this.#caches.delete(cacheName)\n  }\n\n  /**\n   * @see https://w3c.github.io/ServiceWorker/#cache-storage-keys\n   * @returns {string[]}\n   */\n  async keys () {\n    webidl.brandCheck(this, CacheStorage)\n\n    // 2.1\n    const keys = this.#caches.keys()\n\n    // 2.2\n    return [...keys]\n  }\n}\n\nObject.defineProperties(CacheStorage.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'CacheStorage',\n    configurable: true\n  },\n  match: kEnumerableProperty,\n  has: kEnumerableProperty,\n  open: kEnumerableProperty,\n  delete: kEnumerableProperty,\n  keys: kEnumerableProperty\n})\n\nmodule.exports = {\n  CacheStorage\n}\n", "'use strict'\n\n// https://wicg.github.io/cookie-store/#cookie-maximum-attribute-value-size\nconst maxAttributeValueSize = 1024\n\n// https://wicg.github.io/cookie-store/#cookie-maximum-name-value-pair-size\nconst maxNameValuePairSize = 4096\n\nmodule.exports = {\n  maxAttributeValueSize,\n  maxNameValuePairSize\n}\n", "'use strict'\n\nconst assert = require('assert')\nconst { kHeadersList } = require('../core/symbols')\n\nfunction isCTLExcludingHtab (value) {\n  if (value.length === 0) {\n    return false\n  }\n\n  for (const char of value) {\n    const code = char.charCodeAt(0)\n\n    if (\n      (code >= 0x00 || code <= 0x08) ||\n      (code >= 0x0A || code <= 0x1F) ||\n      code === 0x7F\n    ) {\n      return false\n    }\n  }\n}\n\n/**\n CHAR           = <any US-ASCII character (octets 0 - 127)>\n token          = 1*<any CHAR except CTLs or separators>\n separators     = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n                | \",\" | \";\" | \":\" | \"\\\" | <\">\n                | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n                | \"{\" | \"}\" | SP | HT\n * @param {string} name\n */\nfunction validateCookieName (name) {\n  for (const char of name) {\n    const code = char.charCodeAt(0)\n\n    if (\n      (code <= 0x20 || code > 0x7F) ||\n      char === '(' ||\n      char === ')' ||\n      char === '>' ||\n      char === '<' ||\n      char === '@' ||\n      char === ',' ||\n      char === ';' ||\n      char === ':' ||\n      char === '\\\\' ||\n      char === '\"' ||\n      char === '/' ||\n      char === '[' ||\n      char === ']' ||\n      char === '?' ||\n      char === '=' ||\n      char === '{' ||\n      char === '}'\n    ) {\n      throw new Error('Invalid cookie name')\n    }\n  }\n}\n\n/**\n cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n                       ; US-ASCII characters excluding CTLs,\n                       ; whitespace DQUOTE, comma, semicolon,\n                       ; and backslash\n * @param {string} value\n */\nfunction validateCookieValue (value) {\n  for (const char of value) {\n    const code = char.charCodeAt(0)\n\n    if (\n      code < 0x21 || // exclude CTLs (0-31)\n      code === 0x22 ||\n      code === 0x2C ||\n      code === 0x3B ||\n      code === 0x5C ||\n      code > 0x7E // non-ascii\n    ) {\n      throw new Error('Invalid header value')\n    }\n  }\n}\n\n/**\n * path-value        = <any CHAR except CTLs or \";\">\n * @param {string} path\n */\nfunction validateCookiePath (path) {\n  for (const char of path) {\n    const code = char.charCodeAt(0)\n\n    if (code < 0x21 || char === ';') {\n      throw new Error('Invalid cookie path')\n    }\n  }\n}\n\n/**\n * I have no idea why these values aren't allowed to be honest,\n * but Deno tests these. - Khafra\n * @param {string} domain\n */\nfunction validateCookieDomain (domain) {\n  if (\n    domain.startsWith('-') ||\n    domain.endsWith('.') ||\n    domain.endsWith('-')\n  ) {\n    throw new Error('Invalid cookie domain')\n  }\n}\n\n/**\n * @see https://www.rfc-editor.org/rfc/rfc7231#section-7.1.1.1\n * @param {number|Date} date\n  IMF-fixdate  = day-name \",\" SP date1 SP time-of-day SP GMT\n  ; fixed length/zone/capitalization subset of the format\n  ; see Section 3.3 of [RFC5322]\n\n  day-name     = %x4D.6F.6E ; \"Mon\", case-sensitive\n              / %x54.75.65 ; \"Tue\", case-sensitive\n              / %x57.65.64 ; \"Wed\", case-sensitive\n              / %x54.68.75 ; \"Thu\", case-sensitive\n              / %x46.72.69 ; \"Fri\", case-sensitive\n              / %x53.61.74 ; \"Sat\", case-sensitive\n              / %x53.75.6E ; \"Sun\", case-sensitive\n  date1        = day SP month SP year\n                  ; e.g., 02 Jun 1982\n\n  day          = 2DIGIT\n  month        = %x4A.61.6E ; \"Jan\", case-sensitive\n              / %x46.65.62 ; \"Feb\", case-sensitive\n              / %x4D.61.72 ; \"Mar\", case-sensitive\n              / %x41.70.72 ; \"Apr\", case-sensitive\n              / %x4D.61.79 ; \"May\", case-sensitive\n              / %x4A.75.6E ; \"Jun\", case-sensitive\n              / %x4A.75.6C ; \"Jul\", case-sensitive\n              / %x41.75.67 ; \"Aug\", case-sensitive\n              / %x53.65.70 ; \"Sep\", case-sensitive\n              / %x4F.63.74 ; \"Oct\", case-sensitive\n              / %x4E.6F.76 ; \"Nov\", case-sensitive\n              / %x44.65.63 ; \"Dec\", case-sensitive\n  year         = 4DIGIT\n\n  GMT          = %x47.4D.54 ; \"GMT\", case-sensitive\n\n  time-of-day  = hour \":\" minute \":\" second\n              ; 00:00:00 - 23:59:60 (leap second)\n\n  hour         = 2DIGIT\n  minute       = 2DIGIT\n  second       = 2DIGIT\n */\nfunction toIMFDate (date) {\n  if (typeof date === 'number') {\n    date = new Date(date)\n  }\n\n  const days = [\n    'Sun', 'Mon', 'Tue', 'Wed',\n    'Thu', 'Fri', 'Sat'\n  ]\n\n  const months = [\n    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\n  ]\n\n  const dayName = days[date.getUTCDay()]\n  const day = date.getUTCDate().toString().padStart(2, '0')\n  const month = months[date.getUTCMonth()]\n  const year = date.getUTCFullYear()\n  const hour = date.getUTCHours().toString().padStart(2, '0')\n  const minute = date.getUTCMinutes().toString().padStart(2, '0')\n  const second = date.getUTCSeconds().toString().padStart(2, '0')\n\n  return `${dayName}, ${day} ${month} ${year} ${hour}:${minute}:${second} GMT`\n}\n\n/**\n max-age-av        = \"Max-Age=\" non-zero-digit *DIGIT\n                       ; In practice, both expires-av and max-age-av\n                       ; are limited to dates representable by the\n                       ; user agent.\n * @param {number} maxAge\n */\nfunction validateCookieMaxAge (maxAge) {\n  if (maxAge < 0) {\n    throw new Error('Invalid cookie max-age')\n  }\n}\n\n/**\n * @see https://www.rfc-editor.org/rfc/rfc6265#section-4.1.1\n * @param {import('./index').Cookie} cookie\n */\nfunction stringify (cookie) {\n  if (cookie.name.length === 0) {\n    return null\n  }\n\n  validateCookieName(cookie.name)\n  validateCookieValue(cookie.value)\n\n  const out = [`${cookie.name}=${cookie.value}`]\n\n  // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cookie-prefixes-00#section-3.1\n  // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cookie-prefixes-00#section-3.2\n  if (cookie.name.startsWith('__Secure-')) {\n    cookie.secure = true\n  }\n\n  if (cookie.name.startsWith('__Host-')) {\n    cookie.secure = true\n    cookie.domain = null\n    cookie.path = '/'\n  }\n\n  if (cookie.secure) {\n    out.push('Secure')\n  }\n\n  if (cookie.httpOnly) {\n    out.push('HttpOnly')\n  }\n\n  if (typeof cookie.maxAge === 'number') {\n    validateCookieMaxAge(cookie.maxAge)\n    out.push(`Max-Age=${cookie.maxAge}`)\n  }\n\n  if (cookie.domain) {\n    validateCookieDomain(cookie.domain)\n    out.push(`Domain=${cookie.domain}`)\n  }\n\n  if (cookie.path) {\n    validateCookiePath(cookie.path)\n    out.push(`Path=${cookie.path}`)\n  }\n\n  if (cookie.expires && cookie.expires.toString() !== 'Invalid Date') {\n    out.push(`Expires=${toIMFDate(cookie.expires)}`)\n  }\n\n  if (cookie.sameSite) {\n    out.push(`SameSite=${cookie.sameSite}`)\n  }\n\n  for (const part of cookie.unparsed) {\n    if (!part.includes('=')) {\n      throw new Error('Invalid unparsed')\n    }\n\n    const [key, ...value] = part.split('=')\n\n    out.push(`${key.trim()}=${value.join('=')}`)\n  }\n\n  return out.join('; ')\n}\n\nlet kHeadersListNode\n\nfunction getHeadersList (headers) {\n  if (headers[kHeadersList]) {\n    return headers[kHeadersList]\n  }\n\n  if (!kHeadersListNode) {\n    kHeadersListNode = Object.getOwnPropertySymbols(headers).find(\n      (symbol) => symbol.description === 'headers list'\n    )\n\n    assert(kHeadersListNode, 'Headers cannot be parsed')\n  }\n\n  const headersList = headers[kHeadersListNode]\n  assert(headersList)\n\n  return headersList\n}\n\nmodule.exports = {\n  isCTLExcludingHtab,\n  stringify,\n  getHeadersList\n}\n", "'use strict'\n\nconst { maxNameValuePairSize, maxAttributeValueSize } = require('./constants')\nconst { isCTLExcludingHtab } = require('./util')\nconst { collectASequenceOfCodePointsFast } = require('../fetch/dataURL')\nconst assert = require('assert')\n\n/**\n * @description Parses the field-value attributes of a set-cookie header string.\n * @see https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4\n * @param {string} header\n * @returns if the header is invalid, null will be returned\n */\nfunction parseSetCookie (header) {\n  // 1. If the set-cookie-string contains a %x00-08 / %x0A-1F / %x7F\n  //    character (CTL characters excluding HTAB): Abort these steps and\n  //    ignore the set-cookie-string entirely.\n  if (isCTLExcludingHtab(header)) {\n    return null\n  }\n\n  let nameValuePair = ''\n  let unparsedAttributes = ''\n  let name = ''\n  let value = ''\n\n  // 2. If the set-cookie-string contains a %x3B (\";\") character:\n  if (header.includes(';')) {\n    // 1. The name-value-pair string consists of the characters up to,\n    //    but not including, the first %x3B (\";\"), and the unparsed-\n    //    attributes consist of the remainder of the set-cookie-string\n    //    (including the %x3B (\";\") in question).\n    const position = { position: 0 }\n\n    nameValuePair = collectASequenceOfCodePointsFast(';', header, position)\n    unparsedAttributes = header.slice(position.position)\n  } else {\n    // Otherwise:\n\n    // 1. The name-value-pair string consists of all the characters\n    //    contained in the set-cookie-string, and the unparsed-\n    //    attributes is the empty string.\n    nameValuePair = header\n  }\n\n  // 3. If the name-value-pair string lacks a %x3D (\"=\") character, then\n  //    the name string is empty, and the value string is the value of\n  //    name-value-pair.\n  if (!nameValuePair.includes('=')) {\n    value = nameValuePair\n  } else {\n    //    Otherwise, the name string consists of the characters up to, but\n    //    not including, the first %x3D (\"=\") character, and the (possibly\n    //    empty) value string consists of the characters after the first\n    //    %x3D (\"=\") character.\n    const position = { position: 0 }\n    name = collectASequenceOfCodePointsFast(\n      '=',\n      nameValuePair,\n      position\n    )\n    value = nameValuePair.slice(position.position + 1)\n  }\n\n  // 4. Remove any leading or trailing WSP characters from the name\n  //    string and the value string.\n  name = name.trim()\n  value = value.trim()\n\n  // 5. If the sum of the lengths of the name string and the value string\n  //    is more than 4096 octets, abort these steps and ignore the set-\n  //    cookie-string entirely.\n  if (name.length + value.length > maxNameValuePairSize) {\n    return null\n  }\n\n  // 6. The cookie-name is the name string, and the cookie-value is the\n  //    value string.\n  return {\n    name, value, ...parseUnparsedAttributes(unparsedAttributes)\n  }\n}\n\n/**\n * Parses the remaining attributes of a set-cookie header\n * @see https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4\n * @param {string} unparsedAttributes\n * @param {[Object.<string, unknown>]={}} cookieAttributeList\n */\nfunction parseUnparsedAttributes (unparsedAttributes, cookieAttributeList = {}) {\n  // 1. If the unparsed-attributes string is empty, skip the rest of\n  //    these steps.\n  if (unparsedAttributes.length === 0) {\n    return cookieAttributeList\n  }\n\n  // 2. Discard the first character of the unparsed-attributes (which\n  //    will be a %x3B (\";\") character).\n  assert(unparsedAttributes[0] === ';')\n  unparsedAttributes = unparsedAttributes.slice(1)\n\n  let cookieAv = ''\n\n  // 3. If the remaining unparsed-attributes contains a %x3B (\";\")\n  //    character:\n  if (unparsedAttributes.includes(';')) {\n    // 1. Consume the characters of the unparsed-attributes up to, but\n    //    not including, the first %x3B (\";\") character.\n    cookieAv = collectASequenceOfCodePointsFast(\n      ';',\n      unparsedAttributes,\n      { position: 0 }\n    )\n    unparsedAttributes = unparsedAttributes.slice(cookieAv.length)\n  } else {\n    // Otherwise:\n\n    // 1. Consume the remainder of the unparsed-attributes.\n    cookieAv = unparsedAttributes\n    unparsedAttributes = ''\n  }\n\n  // Let the cookie-av string be the characters consumed in this step.\n\n  let attributeName = ''\n  let attributeValue = ''\n\n  // 4. If the cookie-av string contains a %x3D (\"=\") character:\n  if (cookieAv.includes('=')) {\n    // 1. The (possibly empty) attribute-name string consists of the\n    //    characters up to, but not including, the first %x3D (\"=\")\n    //    character, and the (possibly empty) attribute-value string\n    //    consists of the characters after the first %x3D (\"=\")\n    //    character.\n    const position = { position: 0 }\n\n    attributeName = collectASequenceOfCodePointsFast(\n      '=',\n      cookieAv,\n      position\n    )\n    attributeValue = cookieAv.slice(position.position + 1)\n  } else {\n    // Otherwise:\n\n    // 1. The attribute-name string consists of the entire cookie-av\n    //    string, and the attribute-value string is empty.\n    attributeName = cookieAv\n  }\n\n  // 5. Remove any leading or trailing WSP characters from the attribute-\n  //    name string and the attribute-value string.\n  attributeName = attributeName.trim()\n  attributeValue = attributeValue.trim()\n\n  // 6. If the attribute-value is longer than 1024 octets, ignore the\n  //    cookie-av string and return to Step 1 of this algorithm.\n  if (attributeValue.length > maxAttributeValueSize) {\n    return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n  }\n\n  // 7. Process the attribute-name and attribute-value according to the\n  //    requirements in the following subsections.  (Notice that\n  //    attributes with unrecognized attribute-names are ignored.)\n  const attributeNameLowercase = attributeName.toLowerCase()\n\n  // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.1\n  // If the attribute-name case-insensitively matches the string\n  // \"Expires\", the user agent MUST process the cookie-av as follows.\n  if (attributeNameLowercase === 'expires') {\n    // 1. Let the expiry-time be the result of parsing the attribute-value\n    //    as cookie-date (see Section 5.1.1).\n    const expiryTime = new Date(attributeValue)\n\n    // 2. If the attribute-value failed to parse as a cookie date, ignore\n    //    the cookie-av.\n\n    cookieAttributeList.expires = expiryTime\n  } else if (attributeNameLowercase === 'max-age') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.2\n    // If the attribute-name case-insensitively matches the string \"Max-\n    // Age\", the user agent MUST process the cookie-av as follows.\n\n    // 1. If the first character of the attribute-value is not a DIGIT or a\n    //    \"-\" character, ignore the cookie-av.\n    const charCode = attributeValue.charCodeAt(0)\n\n    if ((charCode < 48 || charCode > 57) && attributeValue[0] !== '-') {\n      return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n    }\n\n    // 2. If the remainder of attribute-value contains a non-DIGIT\n    //    character, ignore the cookie-av.\n    if (!/^\\d+$/.test(attributeValue)) {\n      return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n    }\n\n    // 3. Let delta-seconds be the attribute-value converted to an integer.\n    const deltaSeconds = Number(attributeValue)\n\n    // 4. Let cookie-age-limit be the maximum age of the cookie (which\n    //    SHOULD be 400 days or less, see Section 4.1.2.2).\n\n    // 5. Set delta-seconds to the smaller of its present value and cookie-\n    //    age-limit.\n    // deltaSeconds = Math.min(deltaSeconds * 1000, maxExpiresMs)\n\n    // 6. If delta-seconds is less than or equal to zero (0), let expiry-\n    //    time be the earliest representable date and time.  Otherwise, let\n    //    the expiry-time be the current date and time plus delta-seconds\n    //    seconds.\n    // const expiryTime = deltaSeconds <= 0 ? Date.now() : Date.now() + deltaSeconds\n\n    // 7. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of Max-Age and an attribute-value of expiry-time.\n    cookieAttributeList.maxAge = deltaSeconds\n  } else if (attributeNameLowercase === 'domain') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.3\n    // If the attribute-name case-insensitively matches the string \"Domain\",\n    // the user agent MUST process the cookie-av as follows.\n\n    // 1. Let cookie-domain be the attribute-value.\n    let cookieDomain = attributeValue\n\n    // 2. If cookie-domain starts with %x2E (\".\"), let cookie-domain be\n    //    cookie-domain without its leading %x2E (\".\").\n    if (cookieDomain[0] === '.') {\n      cookieDomain = cookieDomain.slice(1)\n    }\n\n    // 3. Convert the cookie-domain to lower case.\n    cookieDomain = cookieDomain.toLowerCase()\n\n    // 4. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of Domain and an attribute-value of cookie-domain.\n    cookieAttributeList.domain = cookieDomain\n  } else if (attributeNameLowercase === 'path') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.4\n    // If the attribute-name case-insensitively matches the string \"Path\",\n    // the user agent MUST process the cookie-av as follows.\n\n    // 1. If the attribute-value is empty or if the first character of the\n    //    attribute-value is not %x2F (\"/\"):\n    let cookiePath = ''\n    if (attributeValue.length === 0 || attributeValue[0] !== '/') {\n      // 1. Let cookie-path be the default-path.\n      cookiePath = '/'\n    } else {\n      // Otherwise:\n\n      // 1. Let cookie-path be the attribute-value.\n      cookiePath = attributeValue\n    }\n\n    // 2. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of Path and an attribute-value of cookie-path.\n    cookieAttributeList.path = cookiePath\n  } else if (attributeNameLowercase === 'secure') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.5\n    // If the attribute-name case-insensitively matches the string \"Secure\",\n    // the user agent MUST append an attribute to the cookie-attribute-list\n    // with an attribute-name of Secure and an empty attribute-value.\n\n    cookieAttributeList.secure = true\n  } else if (attributeNameLowercase === 'httponly') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.6\n    // If the attribute-name case-insensitively matches the string\n    // \"HttpOnly\", the user agent MUST append an attribute to the cookie-\n    // attribute-list with an attribute-name of HttpOnly and an empty\n    // attribute-value.\n\n    cookieAttributeList.httpOnly = true\n  } else if (attributeNameLowercase === 'samesite') {\n    // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#section-5.4.7\n    // If the attribute-name case-insensitively matches the string\n    // \"SameSite\", the user agent MUST process the cookie-av as follows:\n\n    // 1. Let enforcement be \"Default\".\n    let enforcement = 'Default'\n\n    const attributeValueLowercase = attributeValue.toLowerCase()\n    // 2. If cookie-av's attribute-value is a case-insensitive match for\n    //    \"None\", set enforcement to \"None\".\n    if (attributeValueLowercase.includes('none')) {\n      enforcement = 'None'\n    }\n\n    // 3. If cookie-av's attribute-value is a case-insensitive match for\n    //    \"Strict\", set enforcement to \"Strict\".\n    if (attributeValueLowercase.includes('strict')) {\n      enforcement = 'Strict'\n    }\n\n    // 4. If cookie-av's attribute-value is a case-insensitive match for\n    //    \"Lax\", set enforcement to \"Lax\".\n    if (attributeValueLowercase.includes('lax')) {\n      enforcement = 'Lax'\n    }\n\n    // 5. Append an attribute to the cookie-attribute-list with an\n    //    attribute-name of \"SameSite\" and an attribute-value of\n    //    enforcement.\n    cookieAttributeList.sameSite = enforcement\n  } else {\n    cookieAttributeList.unparsed ??= []\n\n    cookieAttributeList.unparsed.push(`${attributeName}=${attributeValue}`)\n  }\n\n  // 8. Return to Step 1 of this algorithm.\n  return parseUnparsedAttributes(unparsedAttributes, cookieAttributeList)\n}\n\nmodule.exports = {\n  parseSetCookie,\n  parseUnparsedAttributes\n}\n", "'use strict'\n\nconst { parseSetCookie } = require('./parse')\nconst { stringify, getHeadersList } = require('./util')\nconst { webidl } = require('../fetch/webidl')\nconst { Headers } = require('../fetch/headers')\n\n/**\n * @typedef {Object} Cookie\n * @property {string} name\n * @property {string} value\n * @property {Date|number|undefined} expires\n * @property {number|undefined} maxAge\n * @property {string|undefined} domain\n * @property {string|undefined} path\n * @property {boolean|undefined} secure\n * @property {boolean|undefined} httpOnly\n * @property {'Strict'|'Lax'|'None'} sameSite\n * @property {string[]} unparsed\n */\n\n/**\n * @param {Headers} headers\n * @returns {Record<string, string>}\n */\nfunction getCookies (headers) {\n  webidl.argumentLengthCheck(arguments, 1, { header: 'getCookies' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  const cookie = headers.get('cookie')\n  const out = {}\n\n  if (!cookie) {\n    return out\n  }\n\n  for (const piece of cookie.split(';')) {\n    const [name, ...value] = piece.split('=')\n\n    out[name.trim()] = value.join('=')\n  }\n\n  return out\n}\n\n/**\n * @param {Headers} headers\n * @param {string} name\n * @param {{ path?: string, domain?: string }|undefined} attributes\n * @returns {void}\n */\nfunction deleteCookie (headers, name, attributes) {\n  webidl.argumentLengthCheck(arguments, 2, { header: 'deleteCookie' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  name = webidl.converters.DOMString(name)\n  attributes = webidl.converters.DeleteCookieAttributes(attributes)\n\n  // Matches behavior of\n  // https://github.com/denoland/deno_std/blob/63827b16330b82489a04614027c33b7904e08be5/http/cookie.ts#L278\n  setCookie(headers, {\n    name,\n    value: '',\n    expires: new Date(0),\n    ...attributes\n  })\n}\n\n/**\n * @param {Headers} headers\n * @returns {Cookie[]}\n */\nfunction getSetCookies (headers) {\n  webidl.argumentLengthCheck(arguments, 1, { header: 'getSetCookies' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  const cookies = getHeadersList(headers).cookies\n\n  if (!cookies) {\n    return []\n  }\n\n  // In older versions of undici, cookies is a list of name:value.\n  return cookies.map((pair) => parseSetCookie(Array.isArray(pair) ? pair[1] : pair))\n}\n\n/**\n * @param {Headers} headers\n * @param {Cookie} cookie\n * @returns {void}\n */\nfunction setCookie (headers, cookie) {\n  webidl.argumentLengthCheck(arguments, 2, { header: 'setCookie' })\n\n  webidl.brandCheck(headers, Headers, { strict: false })\n\n  cookie = webidl.converters.Cookie(cookie)\n\n  const str = stringify(cookie)\n\n  if (str) {\n    headers.append('Set-Cookie', stringify(cookie))\n  }\n}\n\nwebidl.converters.DeleteCookieAttributes = webidl.dictionaryConverter([\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'path',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'domain',\n    defaultValue: null\n  }\n])\n\nwebidl.converters.Cookie = webidl.dictionaryConverter([\n  {\n    converter: webidl.converters.DOMString,\n    key: 'name'\n  },\n  {\n    converter: webidl.converters.DOMString,\n    key: 'value'\n  },\n  {\n    converter: webidl.nullableConverter((value) => {\n      if (typeof value === 'number') {\n        return webidl.converters['unsigned long long'](value)\n      }\n\n      return new Date(value)\n    }),\n    key: 'expires',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters['long long']),\n    key: 'maxAge',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'domain',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.DOMString),\n    key: 'path',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.boolean),\n    key: 'secure',\n    defaultValue: null\n  },\n  {\n    converter: webidl.nullableConverter(webidl.converters.boolean),\n    key: 'httpOnly',\n    defaultValue: null\n  },\n  {\n    converter: webidl.converters.USVString,\n    key: 'sameSite',\n    allowedValues: ['Strict', 'Lax', 'None']\n  },\n  {\n    converter: webidl.sequenceConverter(webidl.converters.DOMString),\n    key: 'unparsed',\n    defaultValue: []\n  }\n])\n\nmodule.exports = {\n  getCookies,\n  deleteCookie,\n  getSetCookies,\n  setCookie\n}\n", "'use strict'\n\n// This is a Globally Unique Identifier unique used\n// to validate that the endpoint accepts websocket\n// connections.\n// See https://www.rfc-editor.org/rfc/rfc6455.html#section-1.3\nconst uid = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11'\n\n/** @type {PropertyDescriptor} */\nconst staticPropertyDescriptors = {\n  enumerable: true,\n  writable: false,\n  configurable: false\n}\n\nconst states = {\n  CONNECTING: 0,\n  OPEN: 1,\n  CLOSING: 2,\n  CLOSED: 3\n}\n\nconst opcodes = {\n  CONTINUATION: 0x0,\n  TEXT: 0x1,\n  BINARY: 0x2,\n  CLOSE: 0x8,\n  PING: 0x9,\n  PONG: 0xA\n}\n\nconst maxUnsigned16Bit = 2 ** 16 - 1 // 65535\n\nconst parserStates = {\n  INFO: 0,\n  PAYLOADLENGTH_16: 2,\n  PAYLOADLENGTH_64: 3,\n  READ_DATA: 4\n}\n\nconst emptyBuffer = Buffer.allocUnsafe(0)\n\nmodule.exports = {\n  uid,\n  staticPropertyDescriptors,\n  states,\n  opcodes,\n  maxUnsigned16Bit,\n  parserStates,\n  emptyBuffer\n}\n", "'use strict'\n\nmodule.exports = {\n  kWebSocketURL: Symbol('url'),\n  kReadyState: Symbol('ready state'),\n  kController: Symbol('controller'),\n  kResponse: Symbol('response'),\n  kBinaryType: Symbol('binary type'),\n  kSentClose: Symbol('sent close'),\n  kReceivedClose: Symbol('received close'),\n  kByteParser: Symbol('byte parser')\n}\n", "'use strict'\n\nconst { webidl } = require('../fetch/webidl')\nconst { kEnumerableProperty } = require('../core/util')\nconst { MessagePort } = require('worker_threads')\n\n/**\n * @see https://html.spec.whatwg.org/multipage/comms.html#messageevent\n */\nclass MessageEvent extends Event {\n  #eventInit\n\n  constructor (type, eventInitDict = {}) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'MessageEvent constructor' })\n\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.MessageEventInit(eventInitDict)\n\n    super(type, eventInitDict)\n\n    this.#eventInit = eventInitDict\n  }\n\n  get data () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.data\n  }\n\n  get origin () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.origin\n  }\n\n  get lastEventId () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.lastEventId\n  }\n\n  get source () {\n    webidl.brandCheck(this, MessageEvent)\n\n    return this.#eventInit.source\n  }\n\n  get ports () {\n    webidl.brandCheck(this, MessageEvent)\n\n    if (!Object.isFrozen(this.#eventInit.ports)) {\n      Object.freeze(this.#eventInit.ports)\n    }\n\n    return this.#eventInit.ports\n  }\n\n  initMessageEvent (\n    type,\n    bubbles = false,\n    cancelable = false,\n    data = null,\n    origin = '',\n    lastEventId = '',\n    source = null,\n    ports = []\n  ) {\n    webidl.brandCheck(this, MessageEvent)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'MessageEvent.initMessageEvent' })\n\n    return new MessageEvent(type, {\n      bubbles, cancelable, data, origin, lastEventId, source, ports\n    })\n  }\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#the-closeevent-interface\n */\nclass CloseEvent extends Event {\n  #eventInit\n\n  constructor (type, eventInitDict = {}) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'CloseEvent constructor' })\n\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.CloseEventInit(eventInitDict)\n\n    super(type, eventInitDict)\n\n    this.#eventInit = eventInitDict\n  }\n\n  get wasClean () {\n    webidl.brandCheck(this, CloseEvent)\n\n    return this.#eventInit.wasClean\n  }\n\n  get code () {\n    webidl.brandCheck(this, CloseEvent)\n\n    return this.#eventInit.code\n  }\n\n  get reason () {\n    webidl.brandCheck(this, CloseEvent)\n\n    return this.#eventInit.reason\n  }\n}\n\n// https://html.spec.whatwg.org/multipage/webappapis.html#the-errorevent-interface\nclass ErrorEvent extends Event {\n  #eventInit\n\n  constructor (type, eventInitDict) {\n    webidl.argumentLengthCheck(arguments, 1, { header: 'ErrorEvent constructor' })\n\n    super(type, eventInitDict)\n\n    type = webidl.converters.DOMString(type)\n    eventInitDict = webidl.converters.ErrorEventInit(eventInitDict ?? {})\n\n    this.#eventInit = eventInitDict\n  }\n\n  get message () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.message\n  }\n\n  get filename () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.filename\n  }\n\n  get lineno () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.lineno\n  }\n\n  get colno () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.colno\n  }\n\n  get error () {\n    webidl.brandCheck(this, ErrorEvent)\n\n    return this.#eventInit.error\n  }\n}\n\nObject.defineProperties(MessageEvent.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'MessageEvent',\n    configurable: true\n  },\n  data: kEnumerableProperty,\n  origin: kEnumerableProperty,\n  lastEventId: kEnumerableProperty,\n  source: kEnumerableProperty,\n  ports: kEnumerableProperty,\n  initMessageEvent: kEnumerableProperty\n})\n\nObject.defineProperties(CloseEvent.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'CloseEvent',\n    configurable: true\n  },\n  reason: kEnumerableProperty,\n  code: kEnumerableProperty,\n  wasClean: kEnumerableProperty\n})\n\nObject.defineProperties(ErrorEvent.prototype, {\n  [Symbol.toStringTag]: {\n    value: 'ErrorEvent',\n    configurable: true\n  },\n  message: kEnumerableProperty,\n  filename: kEnumerableProperty,\n  lineno: kEnumerableProperty,\n  colno: kEnumerableProperty,\n  error: kEnumerableProperty\n})\n\nwebidl.converters.MessagePort = webidl.interfaceConverter(MessagePort)\n\nwebidl.converters['sequence<MessagePort>'] = webidl.sequenceConverter(\n  webidl.converters.MessagePort\n)\n\nconst eventInit = [\n  {\n    key: 'bubbles',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'cancelable',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'composed',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  }\n]\n\nwebidl.converters.MessageEventInit = webidl.dictionaryConverter([\n  ...eventInit,\n  {\n    key: 'data',\n    converter: webidl.converters.any,\n    defaultValue: null\n  },\n  {\n    key: 'origin',\n    converter: webidl.converters.USVString,\n    defaultValue: ''\n  },\n  {\n    key: 'lastEventId',\n    converter: webidl.converters.DOMString,\n    defaultValue: ''\n  },\n  {\n    key: 'source',\n    // Node doesn't implement WindowProxy or ServiceWorker, so the only\n    // valid value for source is a MessagePort.\n    converter: webidl.nullableConverter(webidl.converters.MessagePort),\n    defaultValue: null\n  },\n  {\n    key: 'ports',\n    converter: webidl.converters['sequence<MessagePort>'],\n    get defaultValue () {\n      return []\n    }\n  }\n])\n\nwebidl.converters.CloseEventInit = webidl.dictionaryConverter([\n  ...eventInit,\n  {\n    key: 'wasClean',\n    converter: webidl.converters.boolean,\n    defaultValue: false\n  },\n  {\n    key: 'code',\n    converter: webidl.converters['unsigned short'],\n    defaultValue: 0\n  },\n  {\n    key: 'reason',\n    converter: webidl.converters.USVString,\n    defaultValue: ''\n  }\n])\n\nwebidl.converters.ErrorEventInit = webidl.dictionaryConverter([\n  ...eventInit,\n  {\n    key: 'message',\n    converter: webidl.converters.DOMString,\n    defaultValue: ''\n  },\n  {\n    key: 'filename',\n    converter: webidl.converters.USVString,\n    defaultValue: ''\n  },\n  {\n    key: 'lineno',\n    converter: webidl.converters['unsigned long'],\n    defaultValue: 0\n  },\n  {\n    key: 'colno',\n    converter: webidl.converters['unsigned long'],\n    defaultValue: 0\n  },\n  {\n    key: 'error',\n    converter: webidl.converters.any\n  }\n])\n\nmodule.exports = {\n  MessageEvent,\n  CloseEvent,\n  ErrorEvent\n}\n", "'use strict'\n\nconst { kReadyState, kController, kResponse, kBinaryType, kWebSocketURL } = require('./symbols')\nconst { states, opcodes } = require('./constants')\nconst { MessageEvent, ErrorEvent } = require('./events')\n\n/* globals Blob */\n\n/**\n * @param {import('./websocket').WebSocket} ws\n */\nfunction isEstablished (ws) {\n  // If the server's response is validated as provided for above, it is\n  // said that _The WebSocket Connection is Established_ and that the\n  // WebSocket Connection is in the OPEN state.\n  return ws[kReadyState] === states.OPEN\n}\n\n/**\n * @param {import('./websocket').WebSocket} ws\n */\nfunction isClosing (ws) {\n  // Upon either sending or receiving a Close control frame, it is said\n  // that _The WebSocket Closing Handshake is Started_ and that the\n  // WebSocket connection is in the CLOSING state.\n  return ws[kReadyState] === states.CLOSING\n}\n\n/**\n * @param {import('./websocket').WebSocket} ws\n */\nfunction isClosed (ws) {\n  return ws[kReadyState] === states.CLOSED\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#concept-event-fire\n * @param {string} e\n * @param {EventTarget} target\n * @param {EventInit | undefined} eventInitDict\n */\nfunction fireEvent (e, target, eventConstructor = Event, eventInitDict) {\n  // 1. If eventConstructor is not given, then let eventConstructor be Event.\n\n  // 2. Let event be the result of creating an event given eventConstructor,\n  //    in the relevant realm of target.\n  // 3. Initialize event\u2019s type attribute to e.\n  const event = new eventConstructor(e, eventInitDict) // eslint-disable-line new-cap\n\n  // 4. Initialize any other IDL attributes of event as described in the\n  //    invocation of this algorithm.\n\n  // 5. Return the result of dispatching event at target, with legacy target\n  //    override flag set if set.\n  target.dispatchEvent(event)\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#feedback-from-the-protocol\n * @param {import('./websocket').WebSocket} ws\n * @param {number} type Opcode\n * @param {Buffer} data application data\n */\nfunction websocketMessageReceived (ws, type, data) {\n  // 1. If ready state is not OPEN (1), then return.\n  if (ws[kReadyState] !== states.OPEN) {\n    return\n  }\n\n  // 2. Let dataForEvent be determined by switching on type and binary type:\n  let dataForEvent\n\n  if (type === opcodes.TEXT) {\n    // -> type indicates that the data is Text\n    //      a new DOMString containing data\n    try {\n      dataForEvent = new TextDecoder('utf-8', { fatal: true }).decode(data)\n    } catch {\n      failWebsocketConnection(ws, 'Received invalid UTF-8 in text frame.')\n      return\n    }\n  } else if (type === opcodes.BINARY) {\n    if (ws[kBinaryType] === 'blob') {\n      // -> type indicates that the data is Binary and binary type is \"blob\"\n      //      a new Blob object, created in the relevant Realm of the WebSocket\n      //      object, that represents data as its raw data\n      dataForEvent = new Blob([data])\n    } else {\n      // -> type indicates that the data is Binary and binary type is \"arraybuffer\"\n      //      a new ArrayBuffer object, created in the relevant Realm of the\n      //      WebSocket object, whose contents are data\n      dataForEvent = new Uint8Array(data).buffer\n    }\n  }\n\n  // 3. Fire an event named message at the WebSocket object, using MessageEvent,\n  //    with the origin attribute initialized to the serialization of the WebSocket\n  //    object\u2019s url's origin, and the data attribute initialized to dataForEvent.\n  fireEvent('message', ws, MessageEvent, {\n    origin: ws[kWebSocketURL].origin,\n    data: dataForEvent\n  })\n}\n\n/**\n * @see https://datatracker.ietf.org/doc/html/rfc6455\n * @see https://datatracker.ietf.org/doc/html/rfc2616\n * @see https://bugs.chromium.org/p/chromium/issues/detail?id=398407\n * @param {string} protocol\n */\nfunction isValidSubprotocol (protocol) {\n  // If present, this value indicates one\n  // or more comma-separated subprotocol the client wishes to speak,\n  // ordered by preference.  The elements that comprise this value\n  // MUST be non-empty strings with characters in the range U+0021 to\n  // U+007E not including separator characters as defined in\n  // [RFC2616] and MUST all be unique strings.\n  if (protocol.length === 0) {\n    return false\n  }\n\n  for (const char of protocol) {\n    const code = char.charCodeAt(0)\n\n    if (\n      code < 0x21 ||\n      code > 0x7E ||\n      char === '(' ||\n      char === ')' ||\n      char === '<' ||\n      char === '>' ||\n      char === '@' ||\n      char === ',' ||\n      char === ';' ||\n      char === ':' ||\n      char === '\\\\' ||\n      char === '\"' ||\n      char === '/' ||\n      char === '[' ||\n      char === ']' ||\n      char === '?' ||\n      char === '=' ||\n      char === '{' ||\n      char === '}' ||\n      code === 32 || // SP\n      code === 9 // HT\n    ) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @see https://datatracker.ietf.org/doc/html/rfc6455#section-7-4\n * @param {number} code\n */\nfunction isValidStatusCode (code) {\n  if (code >= 1000 && code < 1015) {\n    return (\n      code !== 1004 && // reserved\n      code !== 1005 && // \"MUST NOT be set as a status code\"\n      code !== 1006 // \"MUST NOT be set as a status code\"\n    )\n  }\n\n  return code >= 3000 && code <= 4999\n}\n\n/**\n * @param {import('./websocket').WebSocket} ws\n * @param {string|undefined} reason\n */\nfunction failWebsocketConnection (ws, reason) {\n  const { [kController]: controller, [kResponse]: response } = ws\n\n  controller.abort()\n\n  if (response?.socket && !response.socket.destroyed) {\n    response.socket.destroy()\n  }\n\n  if (reason) {\n    fireEvent('error', ws, ErrorEvent, {\n      error: new Error(reason)\n    })\n  }\n}\n\nmodule.exports = {\n  isEstablished,\n  isClosing,\n  isClosed,\n  fireEvent,\n  isValidSubprotocol,\n  isValidStatusCode,\n  failWebsocketConnection,\n  websocketMessageReceived\n}\n", "'use strict'\n\nconst diagnosticsChannel = require('diagnostics_channel')\nconst { uid, states } = require('./constants')\nconst {\n  kReadyState,\n  kSentClose,\n  kByteParser,\n  kReceivedClose\n} = require('./symbols')\nconst { fireEvent, failWebsocketConnection } = require('./util')\nconst { CloseEvent } = require('./events')\nconst { makeRequest } = require('../fetch/request')\nconst { fetching } = require('../fetch/index')\nconst { Headers } = require('../fetch/headers')\nconst { getGlobalDispatcher } = require('../global')\nconst { kHeadersList } = require('../core/symbols')\n\nconst channels = {}\nchannels.open = diagnosticsChannel.channel('undici:websocket:open')\nchannels.close = diagnosticsChannel.channel('undici:websocket:close')\nchannels.socketError = diagnosticsChannel.channel('undici:websocket:socket_error')\n\n/** @type {import('crypto')} */\nlet crypto\ntry {\n  crypto = require('crypto')\n} catch {\n\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#concept-websocket-establish\n * @param {URL} url\n * @param {string|string[]} protocols\n * @param {import('./websocket').WebSocket} ws\n * @param {(response: any) => void} onEstablish\n * @param {Partial<import('../../types/websocket').WebSocketInit>} options\n */\nfunction establishWebSocketConnection (url, protocols, ws, onEstablish, options) {\n  // 1. Let requestURL be a copy of url, with its scheme set to \"http\", if url\u2019s\n  //    scheme is \"ws\", and to \"https\" otherwise.\n  const requestURL = url\n\n  requestURL.protocol = url.protocol === 'ws:' ? 'http:' : 'https:'\n\n  // 2. Let request be a new request, whose URL is requestURL, client is client,\n  //    service-workers mode is \"none\", referrer is \"no-referrer\", mode is\n  //    \"websocket\", credentials mode is \"include\", cache mode is \"no-store\" ,\n  //    and redirect mode is \"error\".\n  const request = makeRequest({\n    urlList: [requestURL],\n    serviceWorkers: 'none',\n    referrer: 'no-referrer',\n    mode: 'websocket',\n    credentials: 'include',\n    cache: 'no-store',\n    redirect: 'error'\n  })\n\n  // Note: undici extension, allow setting custom headers.\n  if (options.headers) {\n    const headersList = new Headers(options.headers)[kHeadersList]\n\n    request.headersList = headersList\n  }\n\n  // 3. Append (`Upgrade`, `websocket`) to request\u2019s header list.\n  // 4. Append (`Connection`, `Upgrade`) to request\u2019s header list.\n  // Note: both of these are handled by undici currently.\n  // https://github.com/nodejs/undici/blob/68c269c4144c446f3f1220951338daef4a6b5ec4/lib/client.js#L1397\n\n  // 5. Let keyValue be a nonce consisting of a randomly selected\n  //    16-byte value that has been forgiving-base64-encoded and\n  //    isomorphic encoded.\n  const keyValue = crypto.randomBytes(16).toString('base64')\n\n  // 6. Append (`Sec-WebSocket-Key`, keyValue) to request\u2019s\n  //    header list.\n  request.headersList.append('sec-websocket-key', keyValue)\n\n  // 7. Append (`Sec-WebSocket-Version`, `13`) to request\u2019s\n  //    header list.\n  request.headersList.append('sec-websocket-version', '13')\n\n  // 8. For each protocol in protocols, combine\n  //    (`Sec-WebSocket-Protocol`, protocol) in request\u2019s header\n  //    list.\n  for (const protocol of protocols) {\n    request.headersList.append('sec-websocket-protocol', protocol)\n  }\n\n  // 9. Let permessageDeflate be a user-agent defined\n  //    \"permessage-deflate\" extension header value.\n  // https://github.com/mozilla/gecko-dev/blob/ce78234f5e653a5d3916813ff990f053510227bc/netwerk/protocol/websocket/WebSocketChannel.cpp#L2673\n  // TODO: enable once permessage-deflate is supported\n  const permessageDeflate = '' // 'permessage-deflate; 15'\n\n  // 10. Append (`Sec-WebSocket-Extensions`, permessageDeflate) to\n  //     request\u2019s header list.\n  // request.headersList.append('sec-websocket-extensions', permessageDeflate)\n\n  // 11. Fetch request with useParallelQueue set to true, and\n  //     processResponse given response being these steps:\n  const controller = fetching({\n    request,\n    useParallelQueue: true,\n    dispatcher: options.dispatcher ?? getGlobalDispatcher(),\n    processResponse (response) {\n      // 1. If response is a network error or its status is not 101,\n      //    fail the WebSocket connection.\n      if (response.type === 'error' || response.status !== 101) {\n        failWebsocketConnection(ws, 'Received network error or non-101 status code.')\n        return\n      }\n\n      // 2. If protocols is not the empty list and extracting header\n      //    list values given `Sec-WebSocket-Protocol` and response\u2019s\n      //    header list results in null, failure, or the empty byte\n      //    sequence, then fail the WebSocket connection.\n      if (protocols.length !== 0 && !response.headersList.get('Sec-WebSocket-Protocol')) {\n        failWebsocketConnection(ws, 'Server did not respond with sent protocols.')\n        return\n      }\n\n      // 3. Follow the requirements stated step 2 to step 6, inclusive,\n      //    of the last set of steps in section 4.1 of The WebSocket\n      //    Protocol to validate response. This either results in fail\n      //    the WebSocket connection or the WebSocket connection is\n      //    established.\n\n      // 2. If the response lacks an |Upgrade| header field or the |Upgrade|\n      //    header field contains a value that is not an ASCII case-\n      //    insensitive match for the value \"websocket\", the client MUST\n      //    _Fail the WebSocket Connection_.\n      if (response.headersList.get('Upgrade')?.toLowerCase() !== 'websocket') {\n        failWebsocketConnection(ws, 'Server did not set Upgrade header to \"websocket\".')\n        return\n      }\n\n      // 3. If the response lacks a |Connection| header field or the\n      //    |Connection| header field doesn't contain a token that is an\n      //    ASCII case-insensitive match for the value \"Upgrade\", the client\n      //    MUST _Fail the WebSocket Connection_.\n      if (response.headersList.get('Connection')?.toLowerCase() !== 'upgrade') {\n        failWebsocketConnection(ws, 'Server did not set Connection header to \"upgrade\".')\n        return\n      }\n\n      // 4. If the response lacks a |Sec-WebSocket-Accept| header field or\n      //    the |Sec-WebSocket-Accept| contains a value other than the\n      //    base64-encoded SHA-1 of the concatenation of the |Sec-WebSocket-\n      //    Key| (as a string, not base64-decoded) with the string \"258EAFA5-\n      //    E914-47DA-95CA-C5AB0DC85B11\" but ignoring any leading and\n      //    trailing whitespace, the client MUST _Fail the WebSocket\n      //    Connection_.\n      const secWSAccept = response.headersList.get('Sec-WebSocket-Accept')\n      const digest = crypto.createHash('sha1').update(keyValue + uid).digest('base64')\n      if (secWSAccept !== digest) {\n        failWebsocketConnection(ws, 'Incorrect hash received in Sec-WebSocket-Accept header.')\n        return\n      }\n\n      // 5. If the response includes a |Sec-WebSocket-Extensions| header\n      //    field and this header field indicates the use of an extension\n      //    that was not present in the client's handshake (the server has\n      //    indicated an extension not requested by the client), the client\n      //    MUST _Fail the WebSocket Connection_.  (The parsing of this\n      //    header field to determine which extensions are requested is\n      //    discussed in Section 9.1.)\n      const secExtension = response.headersList.get('Sec-WebSocket-Extensions')\n\n      if (secExtension !== null && secExtension !== permessageDeflate) {\n        failWebsocketConnection(ws, 'Received different permessage-deflate than the one set.')\n        return\n      }\n\n      // 6. If the response includes a |Sec-WebSocket-Protocol| header field\n      //    and this header field indicates the use of a subprotocol that was\n      //    not present in the client's handshake (the server has indicated a\n      //    subprotocol not requested by the client), the client MUST _Fail\n      //    the WebSocket Connection_.\n      const secProtocol = response.headersList.get('Sec-WebSocket-Protocol')\n\n      if (secProtocol !== null && secProtocol !== request.headersList.get('Sec-WebSocket-Protocol')) {\n        failWebsocketConnection(ws, 'Protocol was not set in the opening handshake.')\n        return\n      }\n\n      response.socket.on('data', onSocketData)\n      response.socket.on('close', onSocketClose)\n      response.socket.on('error', onSocketError)\n\n      if (channels.open.hasSubscribers) {\n        channels.open.publish({\n          address: response.socket.address(),\n          protocol: secProtocol,\n          extensions: secExtension\n        })\n      }\n\n      onEstablish(response)\n    }\n  })\n\n  return controller\n}\n\n/**\n * @param {Buffer} chunk\n */\nfunction onSocketData (chunk) {\n  if (!this.ws[kByteParser].write(chunk)) {\n    this.pause()\n  }\n}\n\n/**\n * @see https://websockets.spec.whatwg.org/#feedback-from-the-protocol\n * @see https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.4\n */\nfunction onSocketClose () {\n  const { ws } = this\n\n  // If the TCP connection was closed after the\n  // WebSocket closing handshake was completed, the WebSocket connection\n  // is said to have been closed _cleanly_.\n  const wasClean = ws[kSentClose] && ws[kReceivedClose]\n\n  let code = 1005\n  let reason = ''\n\n  const result = ws[kByteParser].closingInfo\n\n  if (result) {\n    code = result.code ?? 1005\n    reason = result.reason\n  } else if (!ws[kSentClose]) {\n    // If _The WebSocket\n    // Connection is Closed_ and no Close control frame was received by the\n    // endpoint (such as could occur if the underlying transport connection\n    // is lost), _The WebSocket Connection Close Code_ is considered to be\n    // 1006.\n    code = 1006\n  }\n\n  // 1. Change the ready state to CLOSED (3).\n  ws[kReadyState] = states.CLOSED\n\n  // 2. If the user agent was required to fail the WebSocket\n  //    connection, or if the WebSocket connection was closed\n  //    after being flagged as full, fire an event named error\n  //    at the WebSocket object.\n  // TODO\n\n  // 3. Fire an event named close at the WebSocket object,\n  //    using CloseEvent, with the wasClean attribute\n  //    initialized to true if the connection closed cleanly\n  //    and false otherwise, the code attribute initialized to\n  //    the WebSocket connection close code, and the reason\n  //    attribute initialized to the result of applying UTF-8\n  //    decode without BOM to the WebSocket connection close\n  //    reason.\n  fireEvent('close', ws, CloseEvent, {\n    wasClean, code, reason\n  })\n\n  if (channels.close.hasSubscribers) {\n    channels.close.publish({\n      websocket: ws,\n      code,\n      reason\n    })\n  }\n}\n\nfunction onSocketError (error) {\n  const { ws } = this\n\n  ws[kReadyState] = states.CLOSING\n\n  if (channels.socketError.hasSubscribers) {\n    channels.socketError.publish(error)\n  }\n\n  this.destroy()\n}\n\nmodule.exports = {\n  establishWebSocketConnection\n}\n", "'use strict'\n\nconst { maxUnsigned16Bit } = require('./constants')\n\n/** @type {import('crypto')} */\nlet crypto\ntry {\n  crypto = require('crypto')\n} catch {\n\n}\n\nclass WebsocketFrameSend {\n  /**\n   * @param {Buffer|undefined} data\n   */\n  constructor (data) {\n    this.frameData = data\n    this.maskKey = crypto.randomBytes(4)\n  }\n\n  createFrame (opcode) {\n    const bodyLength = this.frameData?.byteLength ?? 0\n\n    /** @type {number} */\n    let payloadLength = bodyLength // 0-125\n    let offset = 6\n\n    if (bodyLength > maxUnsigned16Bit) {\n      offset += 8 // payload length is next 8 bytes\n      payloadLength = 127\n    } else if (bodyLength > 125) {\n      offset += 2 // payload length is next 2 bytes\n      payloadLength = 126\n    }\n\n    const buffer = Buffer.allocUnsafe(bodyLength + offset)\n\n    // Clear first 2 bytes, everything else is overwritten\n    buffer[0] = buffer[1] = 0\n    buffer[0] |= 0x80 // FIN\n    buffer[0] = (buffer[0] & 0xF0) + opcode // opcode\n\n    /*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */\n    buffer[offset - 4] = this.maskKey[0]\n    buffer[offset - 3] = this.maskKey[1]\n    buffer[offset - 2] = this.maskKey[2]\n    buffer[offset - 1] = this.maskKey[3]\n\n    buffer[1] = payloadLength\n\n    if (payloadLength === 126) {\n      buffer.writeUInt16BE(bodyLength, 2)\n    } else if (payloadLength === 127) {\n      // Clear extended payload length\n      buffer[2] = buffer[3] = 0\n      buffer.writeUIntBE(bodyLength, 4, 6)\n    }\n\n    buffer[1] |= 0x80 // MASK\n\n    // mask body\n    for (let i = 0; i < bodyLength; i++) {\n      buffer[offset + i] = this.frameData[i] ^ this.maskKey[i % 4]\n    }\n\n    return buffer\n  }\n}\n\nmodule.exports = {\n  WebsocketFrameSend\n}\n", "'use strict'\n\nconst { Writable } = require('stream')\nconst diagnosticsChannel = require('diagnostics_channel')\nconst { parserStates, opcodes, states, emptyBuffer } = require('./constants')\nconst { kReadyState, kSentClose, kResponse, kReceivedClose } = require('./symbols')\nconst { isValidStatusCode, failWebsocketConnection, websocketMessageReceived } = require('./util')\nconst { WebsocketFrameSend } = require('./frame')\n\n// This code was influenced by ws released under the MIT license.\n// Copyright (c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n// Copyright (c) 2013 Arnout Kazemier and contributors\n// Copyright (c) 2016 Luigi Pinca and contributors\n\nconst channels = {}\nchannels.ping = diagnosticsChannel.channel('undici:websocket:ping')\nchannels.pong = diagnosticsChannel.channel('undici:websocket:pong')\n\nclass ByteParser extends Writable {\n  #buffers = []\n  #byteOffset = 0\n\n  #state = parserStates.INFO\n\n  #info = {}\n  #fragments = []\n\n  constructor (ws) {\n    super()\n\n    this.ws = ws\n  }\n\n  /**\n   * @param {Buffer} chunk\n   * @param {() => void} callback\n   */\n  _write (chunk, _, callback) {\n    this.#buffers.push(chunk)\n    this.#byteOffset += chunk.length\n\n    this.run(callback)\n  }\n\n  /**\n   * Runs whenever a new chunk is received.\n   * Callback is called whenever there are no more chunks buffering,\n   * or not enough bytes are buffered to parse.\n   */\n  run (callback) {\n    while (true) {\n      if (this.#state === parserStates.INFO) {\n        // If there aren't enough bytes to parse the payload length, etc.\n        if (this.#byteOffset < 2) {\n          return callback()\n        }\n\n        const buffer = this.consume(2)\n\n        this.#info.fin = (buffer[0] & 0x80) !== 0\n        this.#info.opcode = buffer[0] & 0x0F\n\n        // If we receive a fragmented message, we use the type of the first\n        // frame to parse the full message as binary/text, when it's terminated\n        this.#info.originalOpcode ??= this.#info.opcode\n\n        this.#info.fragmented = !this.#info.fin && this.#info.opcode !== opcodes.CONTINUATION\n\n        if (this.#info.fragmented && this.#info.opcode !== opcodes.BINARY && this.#info.opcode !== opcodes.TEXT) {\n          // Only text and binary frames can be fragmented\n          failWebsocketConnection(this.ws, 'Invalid frame type was fragmented.')\n          return\n        }\n\n        const payloadLength = buffer[1] & 0x7F\n\n        if (payloadLength <= 125) {\n          this.#info.payloadLength = payloadLength\n          this.#state = parserStates.READ_DATA\n        } else if (payloadLength === 126) {\n          this.#state = parserStates.PAYLOADLENGTH_16\n        } else if (payloadLength === 127) {\n          this.#state = parserStates.PAYLOADLENGTH_64\n        }\n\n        if (this.#info.fragmented && payloadLength > 125) {\n          // A fragmented frame can't be fragmented itself\n          failWebsocketConnection(this.ws, 'Fragmented frame exceeded 125 bytes.')\n          return\n        } else if (\n          (this.#info.opcode === opcodes.PING ||\n            this.#info.opcode === opcodes.PONG ||\n            this.#info.opcode === opcodes.CLOSE) &&\n          payloadLength > 125\n        ) {\n          // Control frames can have a payload length of 125 bytes MAX\n          failWebsocketConnection(this.ws, 'Payload length for control frame exceeded 125 bytes.')\n          return\n        } else if (this.#info.opcode === opcodes.CLOSE) {\n          if (payloadLength === 1) {\n            failWebsocketConnection(this.ws, 'Received close frame with a 1-byte body.')\n            return\n          }\n\n          const body = this.consume(payloadLength)\n\n          this.#info.closeInfo = this.parseCloseBody(false, body)\n\n          if (!this.ws[kSentClose]) {\n            // If an endpoint receives a Close frame and did not previously send a\n            // Close frame, the endpoint MUST send a Close frame in response.  (When\n            // sending a Close frame in response, the endpoint typically echos the\n            // status code it received.)\n            const body = Buffer.allocUnsafe(2)\n            body.writeUInt16BE(this.#info.closeInfo.code, 0)\n            const closeFrame = new WebsocketFrameSend(body)\n\n            this.ws[kResponse].socket.write(\n              closeFrame.createFrame(opcodes.CLOSE),\n              (err) => {\n                if (!err) {\n                  this.ws[kSentClose] = true\n                }\n              }\n            )\n          }\n\n          // Upon either sending or receiving a Close control frame, it is said\n          // that _The WebSocket Closing Handshake is Started_ and that the\n          // WebSocket connection is in the CLOSING state.\n          this.ws[kReadyState] = states.CLOSING\n          this.ws[kReceivedClose] = true\n\n          this.end()\n\n          return\n        } else if (this.#info.opcode === opcodes.PING) {\n          // Upon receipt of a Ping frame, an endpoint MUST send a Pong frame in\n          // response, unless it already received a Close frame.\n          // A Pong frame sent in response to a Ping frame must have identical\n          // \"Application data\"\n\n          const body = this.consume(payloadLength)\n\n          if (!this.ws[kReceivedClose]) {\n            const frame = new WebsocketFrameSend(body)\n\n            this.ws[kResponse].socket.write(frame.createFrame(opcodes.PONG))\n\n            if (channels.ping.hasSubscribers) {\n              channels.ping.publish({\n                payload: body\n              })\n            }\n          }\n\n          this.#state = parserStates.INFO\n\n          if (this.#byteOffset > 0) {\n            continue\n          } else {\n            callback()\n            return\n          }\n        } else if (this.#info.opcode === opcodes.PONG) {\n          // A Pong frame MAY be sent unsolicited.  This serves as a\n          // unidirectional heartbeat.  A response to an unsolicited Pong frame is\n          // not expected.\n\n          const body = this.consume(payloadLength)\n\n          if (channels.pong.hasSubscribers) {\n            channels.pong.publish({\n              payload: body\n            })\n          }\n\n          if (this.#byteOffset > 0) {\n            continue\n          } else {\n            callback()\n            return\n          }\n        }\n      } else if (this.#state === parserStates.PAYLOADLENGTH_16) {\n        if (this.#byteOffset < 2) {\n          return callback()\n        }\n\n        const buffer = this.consume(2)\n\n        this.#info.payloadLength = buffer.readUInt16BE(0)\n        this.#state = parserStates.READ_DATA\n      } else if (this.#state === parserStates.PAYLOADLENGTH_64) {\n        if (this.#byteOffset < 8) {\n          return callback()\n        }\n\n        const buffer = this.consume(8)\n        const upper = buffer.readUInt32BE(0)\n\n        // 2^31 is the maxinimum bytes an arraybuffer can contain\n        // on 32-bit systems. Although, on 64-bit systems, this is\n        // 2^53-1 bytes.\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\n        // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/common/globals.h;drc=1946212ac0100668f14eb9e2843bdd846e510a1e;bpv=1;bpt=1;l=1275\n        // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/objects/js-array-buffer.h;l=34;drc=1946212ac0100668f14eb9e2843bdd846e510a1e\n        if (upper > 2 ** 31 - 1) {\n          failWebsocketConnection(this.ws, 'Received payload length > 2^31 bytes.')\n          return\n        }\n\n        const lower = buffer.readUInt32BE(4)\n\n        this.#info.payloadLength = (upper << 8) + lower\n        this.#state = parserStates.READ_DATA\n      } else if (this.#state === parserStates.READ_DATA) {\n        if (this.#byteOffset < this.#info.payloadLength) {\n          // If there is still more data in this chunk that needs to be read\n          return callback()\n        } else if (this.#byteOffset >= this.#info.payloadLength) {\n          // If the server sent multiple frames in a single chunk\n\n          const body = this.consume(this.#info.payloadLength)\n\n          this.#fragments.push(body)\n\n          // If the frame is unfragmented, or a fragmented frame was terminated,\n          // a message was received\n          if (!this.#info.fragmented || (this.#info.fin && this.#info.opcode === opcodes.CONTINUATION)) {\n            const fullMessage = Buffer.concat(this.#fragments)\n\n            websocketMessageReceived(this.ws, this.#info.originalOpcode, fullMessage)\n\n            this.#info = {}\n            this.#fragments.length = 0\n          }\n\n          this.#state = parserStates.INFO\n        }\n      }\n\n      if (this.#byteOffset > 0) {\n        continue\n      } else {\n        callback()\n        break\n      }\n    }\n  }\n\n  /**\n   * Take n bytes from the buffered Buffers\n   * @param {number} n\n   * @returns {Buffer|null}\n   */\n  consume (n) {\n    if (n > this.#byteOffset) {\n      return null\n    } else if (n === 0) {\n      return emptyBuffer\n    }\n\n    if (this.#buffers[0].length === n) {\n      this.#byteOffset -= this.#buffers[0].length\n      return this.#buffers.shift()\n    }\n\n    const buffer = Buffer.allocUnsafe(n)\n    let offset = 0\n\n    while (offset !== n) {\n      const next = this.#buffers[0]\n      const { length } = next\n\n      if (length + offset === n) {\n        buffer.set(this.#buffers.shift(), offset)\n        break\n      } else if (length + offset > n) {\n        buffer.set(next.subarray(0, n - offset), offset)\n        this.#buffers[0] = next.subarray(n - offset)\n        break\n      } else {\n        buffer.set(this.#buffers.shift(), offset)\n        offset += next.length\n      }\n    }\n\n    this.#byteOffset -= n\n\n    return buffer\n  }\n\n  parseCloseBody (onlyCode, data) {\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.5\n    /** @type {number|undefined} */\n    let code\n\n    if (data.length >= 2) {\n      // _The WebSocket Connection Close Code_ is\n      // defined as the status code (Section 7.4) contained in the first Close\n      // control frame received by the application\n      code = data.readUInt16BE(0)\n    }\n\n    if (onlyCode) {\n      if (!isValidStatusCode(code)) {\n        return null\n      }\n\n      return { code }\n    }\n\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.6\n    /** @type {Buffer} */\n    let reason = data.subarray(2)\n\n    // Remove BOM\n    if (reason[0] === 0xEF && reason[1] === 0xBB && reason[2] === 0xBF) {\n      reason = reason.subarray(3)\n    }\n\n    if (code !== undefined && !isValidStatusCode(code)) {\n      return null\n    }\n\n    try {\n      // TODO: optimize this\n      reason = new TextDecoder('utf-8', { fatal: true }).decode(reason)\n    } catch {\n      return null\n    }\n\n    return { code, reason }\n  }\n\n  get closingInfo () {\n    return this.#info.closeInfo\n  }\n}\n\nmodule.exports = {\n  ByteParser\n}\n", "'use strict'\n\nconst { webidl } = require('../fetch/webidl')\nconst { DOMException } = require('../fetch/constants')\nconst { URLSerializer } = require('../fetch/dataURL')\nconst { getGlobalOrigin } = require('../fetch/global')\nconst { staticPropertyDescriptors, states, opcodes, emptyBuffer } = require('./constants')\nconst {\n  kWebSocketURL,\n  kReadyState,\n  kController,\n  kBinaryType,\n  kResponse,\n  kSentClose,\n  kByteParser\n} = require('./symbols')\nconst { isEstablished, isClosing, isValidSubprotocol, failWebsocketConnection, fireEvent } = require('./util')\nconst { establishWebSocketConnection } = require('./connection')\nconst { WebsocketFrameSend } = require('./frame')\nconst { ByteParser } = require('./receiver')\nconst { kEnumerableProperty, isBlobLike } = require('../core/util')\nconst { getGlobalDispatcher } = require('../global')\nconst { types } = require('util')\n\nlet experimentalWarned = false\n\n// https://websockets.spec.whatwg.org/#interface-definition\nclass WebSocket extends EventTarget {\n  #events = {\n    open: null,\n    error: null,\n    close: null,\n    message: null\n  }\n\n  #bufferedAmount = 0\n  #protocol = ''\n  #extensions = ''\n\n  /**\n   * @param {string} url\n   * @param {string|string[]} protocols\n   */\n  constructor (url, protocols = []) {\n    super()\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'WebSocket constructor' })\n\n    if (!experimentalWarned) {\n      experimentalWarned = true\n      process.emitWarning('WebSockets are experimental, expect them to change at any time.', {\n        code: 'UNDICI-WS'\n      })\n    }\n\n    const options = webidl.converters['DOMString or sequence<DOMString> or WebSocketInit'](protocols)\n\n    url = webidl.converters.USVString(url)\n    protocols = options.protocols\n\n    // 1. Let baseURL be this's relevant settings object's API base URL.\n    const baseURL = getGlobalOrigin()\n\n    // 1. Let urlRecord be the result of applying the URL parser to url with baseURL.\n    let urlRecord\n\n    try {\n      urlRecord = new URL(url, baseURL)\n    } catch (e) {\n      // 3. If urlRecord is failure, then throw a \"SyntaxError\" DOMException.\n      throw new DOMException(e, 'SyntaxError')\n    }\n\n    // 4. If urlRecord\u2019s scheme is \"http\", then set urlRecord\u2019s scheme to \"ws\".\n    if (urlRecord.protocol === 'http:') {\n      urlRecord.protocol = 'ws:'\n    } else if (urlRecord.protocol === 'https:') {\n      // 5. Otherwise, if urlRecord\u2019s scheme is \"https\", set urlRecord\u2019s scheme to \"wss\".\n      urlRecord.protocol = 'wss:'\n    }\n\n    // 6. If urlRecord\u2019s scheme is not \"ws\" or \"wss\", then throw a \"SyntaxError\" DOMException.\n    if (urlRecord.protocol !== 'ws:' && urlRecord.protocol !== 'wss:') {\n      throw new DOMException(\n        `Expected a ws: or wss: protocol, got ${urlRecord.protocol}`,\n        'SyntaxError'\n      )\n    }\n\n    // 7. If urlRecord\u2019s fragment is non-null, then throw a \"SyntaxError\"\n    //    DOMException.\n    if (urlRecord.hash || urlRecord.href.endsWith('#')) {\n      throw new DOMException('Got fragment', 'SyntaxError')\n    }\n\n    // 8. If protocols is a string, set protocols to a sequence consisting\n    //    of just that string.\n    if (typeof protocols === 'string') {\n      protocols = [protocols]\n    }\n\n    // 9. If any of the values in protocols occur more than once or otherwise\n    //    fail to match the requirements for elements that comprise the value\n    //    of `Sec-WebSocket-Protocol` fields as defined by The WebSocket\n    //    protocol, then throw a \"SyntaxError\" DOMException.\n    if (protocols.length !== new Set(protocols.map(p => p.toLowerCase())).size) {\n      throw new DOMException('Invalid Sec-WebSocket-Protocol value', 'SyntaxError')\n    }\n\n    if (protocols.length > 0 && !protocols.every(p => isValidSubprotocol(p))) {\n      throw new DOMException('Invalid Sec-WebSocket-Protocol value', 'SyntaxError')\n    }\n\n    // 10. Set this's url to urlRecord.\n    this[kWebSocketURL] = new URL(urlRecord.href)\n\n    // 11. Let client be this's relevant settings object.\n\n    // 12. Run this step in parallel:\n\n    //    1. Establish a WebSocket connection given urlRecord, protocols,\n    //       and client.\n    this[kController] = establishWebSocketConnection(\n      urlRecord,\n      protocols,\n      this,\n      (response) => this.#onConnectionEstablished(response),\n      options\n    )\n\n    // Each WebSocket object has an associated ready state, which is a\n    // number representing the state of the connection. Initially it must\n    // be CONNECTING (0).\n    this[kReadyState] = WebSocket.CONNECTING\n\n    // The extensions attribute must initially return the empty string.\n\n    // The protocol attribute must initially return the empty string.\n\n    // Each WebSocket object has an associated binary type, which is a\n    // BinaryType. Initially it must be \"blob\".\n    this[kBinaryType] = 'blob'\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#dom-websocket-close\n   * @param {number|undefined} code\n   * @param {string|undefined} reason\n   */\n  close (code = undefined, reason = undefined) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (code !== undefined) {\n      code = webidl.converters['unsigned short'](code, { clamp: true })\n    }\n\n    if (reason !== undefined) {\n      reason = webidl.converters.USVString(reason)\n    }\n\n    // 1. If code is present, but is neither an integer equal to 1000 nor an\n    //    integer in the range 3000 to 4999, inclusive, throw an\n    //    \"InvalidAccessError\" DOMException.\n    if (code !== undefined) {\n      if (code !== 1000 && (code < 3000 || code > 4999)) {\n        throw new DOMException('invalid code', 'InvalidAccessError')\n      }\n    }\n\n    let reasonByteLength = 0\n\n    // 2. If reason is present, then run these substeps:\n    if (reason !== undefined) {\n      // 1. Let reasonBytes be the result of encoding reason.\n      // 2. If reasonBytes is longer than 123 bytes, then throw a\n      //    \"SyntaxError\" DOMException.\n      reasonByteLength = Buffer.byteLength(reason)\n\n      if (reasonByteLength > 123) {\n        throw new DOMException(\n          `Reason must be less than 123 bytes; received ${reasonByteLength}`,\n          'SyntaxError'\n        )\n      }\n    }\n\n    // 3. Run the first matching steps from the following list:\n    if (this[kReadyState] === WebSocket.CLOSING || this[kReadyState] === WebSocket.CLOSED) {\n      // If this's ready state is CLOSING (2) or CLOSED (3)\n      // Do nothing.\n    } else if (!isEstablished(this)) {\n      // If the WebSocket connection is not yet established\n      // Fail the WebSocket connection and set this's ready state\n      // to CLOSING (2).\n      failWebsocketConnection(this, 'Connection was closed before it was established.')\n      this[kReadyState] = WebSocket.CLOSING\n    } else if (!isClosing(this)) {\n      // If the WebSocket closing handshake has not yet been started\n      // Start the WebSocket closing handshake and set this's ready\n      // state to CLOSING (2).\n      // - If neither code nor reason is present, the WebSocket Close\n      //   message must not have a body.\n      // - If code is present, then the status code to use in the\n      //   WebSocket Close message must be the integer given by code.\n      // - If reason is also present, then reasonBytes must be\n      //   provided in the Close message after the status code.\n\n      const frame = new WebsocketFrameSend()\n\n      // If neither code nor reason is present, the WebSocket Close\n      // message must not have a body.\n\n      // If code is present, then the status code to use in the\n      // WebSocket Close message must be the integer given by code.\n      if (code !== undefined && reason === undefined) {\n        frame.frameData = Buffer.allocUnsafe(2)\n        frame.frameData.writeUInt16BE(code, 0)\n      } else if (code !== undefined && reason !== undefined) {\n        // If reason is also present, then reasonBytes must be\n        // provided in the Close message after the status code.\n        frame.frameData = Buffer.allocUnsafe(2 + reasonByteLength)\n        frame.frameData.writeUInt16BE(code, 0)\n        // the body MAY contain UTF-8-encoded data with value /reason/\n        frame.frameData.write(reason, 2, 'utf-8')\n      } else {\n        frame.frameData = emptyBuffer\n      }\n\n      /** @type {import('stream').Duplex} */\n      const socket = this[kResponse].socket\n\n      socket.write(frame.createFrame(opcodes.CLOSE), (err) => {\n        if (!err) {\n          this[kSentClose] = true\n        }\n      })\n\n      // Upon either sending or receiving a Close control frame, it is said\n      // that _The WebSocket Closing Handshake is Started_ and that the\n      // WebSocket connection is in the CLOSING state.\n      this[kReadyState] = states.CLOSING\n    } else {\n      // Otherwise\n      // Set this's ready state to CLOSING (2).\n      this[kReadyState] = WebSocket.CLOSING\n    }\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#dom-websocket-send\n   * @param {NodeJS.TypedArray|ArrayBuffer|Blob|string} data\n   */\n  send (data) {\n    webidl.brandCheck(this, WebSocket)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'WebSocket.send' })\n\n    data = webidl.converters.WebSocketSendData(data)\n\n    // 1. If this's ready state is CONNECTING, then throw an\n    //    \"InvalidStateError\" DOMException.\n    if (this[kReadyState] === WebSocket.CONNECTING) {\n      throw new DOMException('Sent before connected.', 'InvalidStateError')\n    }\n\n    // 2. Run the appropriate set of steps from the following list:\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-6.1\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-5.2\n\n    if (!isEstablished(this) || isClosing(this)) {\n      return\n    }\n\n    /** @type {import('stream').Duplex} */\n    const socket = this[kResponse].socket\n\n    // If data is a string\n    if (typeof data === 'string') {\n      // If the WebSocket connection is established and the WebSocket\n      // closing handshake has not yet started, then the user agent\n      // must send a WebSocket Message comprised of the data argument\n      // using a text frame opcode; if the data cannot be sent, e.g.\n      // because it would need to be buffered but the buffer is full,\n      // the user agent must flag the WebSocket as full and then close\n      // the WebSocket connection. Any invocation of this method with a\n      // string argument that does not throw an exception must increase\n      // the bufferedAmount attribute by the number of bytes needed to\n      // express the argument as UTF-8.\n\n      const value = Buffer.from(data)\n      const frame = new WebsocketFrameSend(value)\n      const buffer = frame.createFrame(opcodes.TEXT)\n\n      this.#bufferedAmount += value.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= value.byteLength\n      })\n    } else if (types.isArrayBuffer(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need\n      // to be buffered but the buffer is full, the user agent must flag\n      // the WebSocket as full and then close the WebSocket connection.\n      // The data to be sent is the data stored in the buffer described\n      // by the ArrayBuffer object. Any invocation of this method with an\n      // ArrayBuffer argument that does not throw an exception must\n      // increase the bufferedAmount attribute by the length of the\n      // ArrayBuffer in bytes.\n\n      const value = Buffer.from(data)\n      const frame = new WebsocketFrameSend(value)\n      const buffer = frame.createFrame(opcodes.BINARY)\n\n      this.#bufferedAmount += value.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= value.byteLength\n      })\n    } else if (ArrayBuffer.isView(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need to\n      // be buffered but the buffer is full, the user agent must flag the\n      // WebSocket as full and then close the WebSocket connection. The\n      // data to be sent is the data stored in the section of the buffer\n      // described by the ArrayBuffer object that data references. Any\n      // invocation of this method with this kind of argument that does\n      // not throw an exception must increase the bufferedAmount attribute\n      // by the length of data\u2019s buffer in bytes.\n\n      const ab = Buffer.from(data, data.byteOffset, data.byteLength)\n\n      const frame = new WebsocketFrameSend(ab)\n      const buffer = frame.createFrame(opcodes.BINARY)\n\n      this.#bufferedAmount += ab.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= ab.byteLength\n      })\n    } else if (isBlobLike(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need to\n      // be buffered but the buffer is full, the user agent must flag the\n      // WebSocket as full and then close the WebSocket connection. The data\n      // to be sent is the raw data represented by the Blob object. Any\n      // invocation of this method with a Blob argument that does not throw\n      // an exception must increase the bufferedAmount attribute by the size\n      // of the Blob object\u2019s raw data, in bytes.\n\n      const frame = new WebsocketFrameSend()\n\n      data.arrayBuffer().then((ab) => {\n        const value = Buffer.from(ab)\n        frame.frameData = value\n        const buffer = frame.createFrame(opcodes.BINARY)\n\n        this.#bufferedAmount += value.byteLength\n        socket.write(buffer, () => {\n          this.#bufferedAmount -= value.byteLength\n        })\n      })\n    }\n  }\n\n  get readyState () {\n    webidl.brandCheck(this, WebSocket)\n\n    // The readyState getter steps are to return this's ready state.\n    return this[kReadyState]\n  }\n\n  get bufferedAmount () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#bufferedAmount\n  }\n\n  get url () {\n    webidl.brandCheck(this, WebSocket)\n\n    // The url getter steps are to return this's url, serialized.\n    return URLSerializer(this[kWebSocketURL])\n  }\n\n  get extensions () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#extensions\n  }\n\n  get protocol () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#protocol\n  }\n\n  get onopen () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.open\n  }\n\n  set onopen (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.open) {\n      this.removeEventListener('open', this.#events.open)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.open = fn\n      this.addEventListener('open', fn)\n    } else {\n      this.#events.open = null\n    }\n  }\n\n  get onerror () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.error\n  }\n\n  set onerror (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.error) {\n      this.removeEventListener('error', this.#events.error)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.error = fn\n      this.addEventListener('error', fn)\n    } else {\n      this.#events.error = null\n    }\n  }\n\n  get onclose () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.close\n  }\n\n  set onclose (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.close) {\n      this.removeEventListener('close', this.#events.close)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.close = fn\n      this.addEventListener('close', fn)\n    } else {\n      this.#events.close = null\n    }\n  }\n\n  get onmessage () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.message\n  }\n\n  set onmessage (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.message) {\n      this.removeEventListener('message', this.#events.message)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.message = fn\n      this.addEventListener('message', fn)\n    } else {\n      this.#events.message = null\n    }\n  }\n\n  get binaryType () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this[kBinaryType]\n  }\n\n  set binaryType (type) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (type !== 'blob' && type !== 'arraybuffer') {\n      this[kBinaryType] = 'blob'\n    } else {\n      this[kBinaryType] = type\n    }\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#feedback-from-the-protocol\n   */\n  #onConnectionEstablished (response) {\n    // processResponse is called when the \"response\u2019s header list has been received and initialized.\"\n    // once this happens, the connection is open\n    this[kResponse] = response\n\n    const parser = new ByteParser(this)\n    parser.on('drain', function onParserDrain () {\n      this.ws[kResponse].socket.resume()\n    })\n\n    response.socket.ws = this\n    this[kByteParser] = parser\n\n    // 1. Change the ready state to OPEN (1).\n    this[kReadyState] = states.OPEN\n\n    // 2. Change the extensions attribute\u2019s value to the extensions in use, if\n    //    it is not the null value.\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-9.1\n    const extensions = response.headersList.get('sec-websocket-extensions')\n\n    if (extensions !== null) {\n      this.#extensions = extensions\n    }\n\n    // 3. Change the protocol attribute\u2019s value to the subprotocol in use, if\n    //    it is not the null value.\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-1.9\n    const protocol = response.headersList.get('sec-websocket-protocol')\n\n    if (protocol !== null) {\n      this.#protocol = protocol\n    }\n\n    // 4. Fire an event named open at the WebSocket object.\n    fireEvent('open', this)\n  }\n}\n\n// https://websockets.spec.whatwg.org/#dom-websocket-connecting\nWebSocket.CONNECTING = WebSocket.prototype.CONNECTING = states.CONNECTING\n// https://websockets.spec.whatwg.org/#dom-websocket-open\nWebSocket.OPEN = WebSocket.prototype.OPEN = states.OPEN\n// https://websockets.spec.whatwg.org/#dom-websocket-closing\nWebSocket.CLOSING = WebSocket.prototype.CLOSING = states.CLOSING\n// https://websockets.spec.whatwg.org/#dom-websocket-closed\nWebSocket.CLOSED = WebSocket.prototype.CLOSED = states.CLOSED\n\nObject.defineProperties(WebSocket.prototype, {\n  CONNECTING: staticPropertyDescriptors,\n  OPEN: staticPropertyDescriptors,\n  CLOSING: staticPropertyDescriptors,\n  CLOSED: staticPropertyDescriptors,\n  url: kEnumerableProperty,\n  readyState: kEnumerableProperty,\n  bufferedAmount: kEnumerableProperty,\n  onopen: kEnumerableProperty,\n  onerror: kEnumerableProperty,\n  onclose: kEnumerableProperty,\n  close: kEnumerableProperty,\n  onmessage: kEnumerableProperty,\n  binaryType: kEnumerableProperty,\n  send: kEnumerableProperty,\n  extensions: kEnumerableProperty,\n  protocol: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'WebSocket',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  }\n})\n\nObject.defineProperties(WebSocket, {\n  CONNECTING: staticPropertyDescriptors,\n  OPEN: staticPropertyDescriptors,\n  CLOSING: staticPropertyDescriptors,\n  CLOSED: staticPropertyDescriptors\n})\n\nwebidl.converters['sequence<DOMString>'] = webidl.sequenceConverter(\n  webidl.converters.DOMString\n)\n\nwebidl.converters['DOMString or sequence<DOMString>'] = function (V) {\n  if (webidl.util.Type(V) === 'Object' && Symbol.iterator in V) {\n    return webidl.converters['sequence<DOMString>'](V)\n  }\n\n  return webidl.converters.DOMString(V)\n}\n\n// This implements the propsal made in https://github.com/whatwg/websockets/issues/42\nwebidl.converters.WebSocketInit = webidl.dictionaryConverter([\n  {\n    key: 'protocols',\n    converter: webidl.converters['DOMString or sequence<DOMString>'],\n    get defaultValue () {\n      return []\n    }\n  },\n  {\n    key: 'dispatcher',\n    converter: (V) => V,\n    get defaultValue () {\n      return getGlobalDispatcher()\n    }\n  },\n  {\n    key: 'headers',\n    converter: webidl.nullableConverter(webidl.converters.HeadersInit)\n  }\n])\n\nwebidl.converters['DOMString or sequence<DOMString> or WebSocketInit'] = function (V) {\n  if (webidl.util.Type(V) === 'Object' && !(Symbol.iterator in V)) {\n    return webidl.converters.WebSocketInit(V)\n  }\n\n  return { protocols: webidl.converters['DOMString or sequence<DOMString>'](V) }\n}\n\nwebidl.converters.WebSocketSendData = function (V) {\n  if (webidl.util.Type(V) === 'Object') {\n    if (isBlobLike(V)) {\n      return webidl.converters.Blob(V, { strict: false })\n    }\n\n    if (ArrayBuffer.isView(V) || types.isAnyArrayBuffer(V)) {\n      return webidl.converters.BufferSource(V)\n    }\n  }\n\n  return webidl.converters.USVString(V)\n}\n\nmodule.exports = {\n  WebSocket\n}\n", "'use strict'\n\nconst Client = require('./lib/client')\nconst Dispatcher = require('./lib/dispatcher')\nconst errors = require('./lib/core/errors')\nconst Pool = require('./lib/pool')\nconst BalancedPool = require('./lib/balanced-pool')\nconst Agent = require('./lib/agent')\nconst util = require('./lib/core/util')\nconst { InvalidArgumentError } = errors\nconst api = require('./lib/api')\nconst buildConnector = require('./lib/core/connect')\nconst MockClient = require('./lib/mock/mock-client')\nconst MockAgent = require('./lib/mock/mock-agent')\nconst MockPool = require('./lib/mock/mock-pool')\nconst mockErrors = require('./lib/mock/mock-errors')\nconst ProxyAgent = require('./lib/proxy-agent')\nconst RetryHandler = require('./lib/handler/RetryHandler')\nconst { getGlobalDispatcher, setGlobalDispatcher } = require('./lib/global')\nconst DecoratorHandler = require('./lib/handler/DecoratorHandler')\nconst RedirectHandler = require('./lib/handler/RedirectHandler')\nconst createRedirectInterceptor = require('./lib/interceptor/redirectInterceptor')\n\nlet hasCrypto\ntry {\n  require('crypto')\n  hasCrypto = true\n} catch {\n  hasCrypto = false\n}\n\nObject.assign(Dispatcher.prototype, api)\n\nmodule.exports.Dispatcher = Dispatcher\nmodule.exports.Client = Client\nmodule.exports.Pool = Pool\nmodule.exports.BalancedPool = BalancedPool\nmodule.exports.Agent = Agent\nmodule.exports.ProxyAgent = ProxyAgent\nmodule.exports.RetryHandler = RetryHandler\n\nmodule.exports.DecoratorHandler = DecoratorHandler\nmodule.exports.RedirectHandler = RedirectHandler\nmodule.exports.createRedirectInterceptor = createRedirectInterceptor\n\nmodule.exports.buildConnector = buildConnector\nmodule.exports.errors = errors\n\nfunction makeDispatcher (fn) {\n  return (url, opts, handler) => {\n    if (typeof opts === 'function') {\n      handler = opts\n      opts = null\n    }\n\n    if (!url || (typeof url !== 'string' && typeof url !== 'object' && !(url instanceof URL))) {\n      throw new InvalidArgumentError('invalid url')\n    }\n\n    if (opts != null && typeof opts !== 'object') {\n      throw new InvalidArgumentError('invalid opts')\n    }\n\n    if (opts && opts.path != null) {\n      if (typeof opts.path !== 'string') {\n        throw new InvalidArgumentError('invalid opts.path')\n      }\n\n      let path = opts.path\n      if (!opts.path.startsWith('/')) {\n        path = `/${path}`\n      }\n\n      url = new URL(util.parseOrigin(url).origin + path)\n    } else {\n      if (!opts) {\n        opts = typeof url === 'object' ? url : {}\n      }\n\n      url = util.parseURL(url)\n    }\n\n    const { agent, dispatcher = getGlobalDispatcher() } = opts\n\n    if (agent) {\n      throw new InvalidArgumentError('unsupported opts.agent. Did you mean opts.client?')\n    }\n\n    return fn.call(dispatcher, {\n      ...opts,\n      origin: url.origin,\n      path: url.search ? `${url.pathname}${url.search}` : url.pathname,\n      method: opts.method || (opts.body ? 'PUT' : 'GET')\n    }, handler)\n  }\n}\n\nmodule.exports.setGlobalDispatcher = setGlobalDispatcher\nmodule.exports.getGlobalDispatcher = getGlobalDispatcher\n\nif (util.nodeMajor > 16 || (util.nodeMajor === 16 && util.nodeMinor >= 8)) {\n  let fetchImpl = null\n  module.exports.fetch = async function fetch (resource) {\n    if (!fetchImpl) {\n      fetchImpl = require('./lib/fetch').fetch\n    }\n\n    try {\n      return await fetchImpl(...arguments)\n    } catch (err) {\n      if (typeof err === 'object') {\n        Error.captureStackTrace(err, this)\n      }\n\n      throw err\n    }\n  }\n  module.exports.Headers = require('./lib/fetch/headers').Headers\n  module.exports.Response = require('./lib/fetch/response').Response\n  module.exports.Request = require('./lib/fetch/request').Request\n  module.exports.FormData = require('./lib/fetch/formdata').FormData\n  module.exports.File = require('./lib/fetch/file').File\n  module.exports.FileReader = require('./lib/fileapi/filereader').FileReader\n\n  const { setGlobalOrigin, getGlobalOrigin } = require('./lib/fetch/global')\n\n  module.exports.setGlobalOrigin = setGlobalOrigin\n  module.exports.getGlobalOrigin = getGlobalOrigin\n\n  const { CacheStorage } = require('./lib/cache/cachestorage')\n  const { kConstruct } = require('./lib/cache/symbols')\n\n  // Cache & CacheStorage are tightly coupled with fetch. Even if it may run\n  // in an older version of Node, it doesn't have any use without fetch.\n  module.exports.caches = new CacheStorage(kConstruct)\n}\n\nif (util.nodeMajor >= 16) {\n  const { deleteCookie, getCookies, getSetCookies, setCookie } = require('./lib/cookies')\n\n  module.exports.deleteCookie = deleteCookie\n  module.exports.getCookies = getCookies\n  module.exports.getSetCookies = getSetCookies\n  module.exports.setCookie = setCookie\n\n  const { parseMIMEType, serializeAMimeType } = require('./lib/fetch/dataURL')\n\n  module.exports.parseMIMEType = parseMIMEType\n  module.exports.serializeAMimeType = serializeAMimeType\n}\n\nif (util.nodeMajor >= 18 && hasCrypto) {\n  const { WebSocket } = require('./lib/websocket/websocket')\n\n  module.exports.WebSocket = WebSocket\n}\n\nmodule.exports.request = makeDispatcher(api.request)\nmodule.exports.stream = makeDispatcher(api.stream)\nmodule.exports.pipeline = makeDispatcher(api.pipeline)\nmodule.exports.connect = makeDispatcher(api.connect)\nmodule.exports.upgrade = makeDispatcher(api.upgrade)\n\nmodule.exports.MockClient = MockClient\nmodule.exports.MockPool = MockPool\nmodule.exports.MockAgent = MockAgent\nmodule.exports.mockErrors = mockErrors\n", "\"use strict\";\n\nconst undici = require(\"undici\");\nconst realFetch = undici.fetch;\n\nconst crypto = require('node:crypto');\nconst util = require(\"util\");\nconst TextEncoder = util.TextEncoder;\nconst TextDecoder = util.TextDecoder;\n\nif (!global.fetch) {\n\tglobal.fetch = function (url, options) {\n\t\tif (/^\\/\\//.test(url)) {\n\t\t\turl = \"https:\" + url;\n\t\t}\n\t\treturn realFetch.call(this, url, options);\n\t};\n\tglobal.Response = undici.Response;\n\tglobal.Headers = undici.Headers;\n\tglobal.Request = undici.Request;\n}\nif (!global.TextDecoder) {\n\tglobal.TextDecoder = TextDecoder;\n}\nif (!global.TextEncoder) {\n\tglobal.TextEncoder = TextEncoder;\n}\n\nmodule.exports = {\n\tBuffer: Buffer,\n\tCrypto: crypto.webcrypto\n}\n", "import base64url from 'base64url';\n// import { createHash } from 'crypto';\nimport { sign } from './ar-data-bundle';\nimport { BundleItem } from './BundleItem';\nimport { SignatureConfig, SIG_CONFIG } from './constants';\nimport { deserializeTags } from './tags';\nimport { byteArrayToLong } from './utils';\nimport { getCryptoDriver } from '$/utils';\nimport { indexToType, Signer } from './signing/index';\nimport { getSignatureData } from './ar-data-base';\nimport { Crypto } from 'warp-isomorphic';\nimport { Buffer } from 'buffer';\n\nexport const MAX_TAG_BYTES = 4096;\nexport const MIN_BINARY_SIZE = 80;\n\nexport class DataItem implements BundleItem {\n  private binary: Buffer;\n  private _id: Buffer;\n\n  constructor(binary: Buffer) {\n    this.binary = binary;\n  }\n\n  static isDataItem(obj: any): obj is DataItem {\n    return obj.binary !== undefined;\n  }\n\n  get signatureType(): SignatureConfig {\n    const signatureTypeVal: number = byteArrayToLong(this.binary.subarray(0, 2));\n    if (SignatureConfig?.[signatureTypeVal] !== undefined) {\n      return signatureTypeVal;\n    }\n    throw new Error('Unknown signature type: ' + signatureTypeVal);\n  }\n\n  async isValid(): Promise<boolean> {\n    return DataItem.verify(this.binary);\n  }\n\n  get id(): Promise<string> | string {\n    return (async () => {\n      return base64url.encode(await this.rawId);\n    })();\n  }\n\n  set id(id: string | Promise<string>) {\n    this._id = base64url.toBuffer(id as string);\n  }\n\n  get rawId(): Promise<Buffer> | Buffer {\n    return (async () => {\n      return Buffer.from(await Crypto.subtle.digest('SHA-256', this.rawSignature));\n    })();\n    // return createHash('sha256').update(this.rawSignature).digest();\n  }\n\n  set rawId(id: Buffer | Promise<Buffer>) {\n    this._id = id as Buffer;\n  }\n\n  get rawSignature(): Buffer {\n    return this.binary.subarray(2, 2 + this.signatureLength);\n  }\n\n  get signature(): string {\n    return base64url.encode(this.rawSignature);\n  }\n\n  set rawOwner(pubkey: Buffer) {\n    if (pubkey.byteLength != this.ownerLength)\n      throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${pubkey.byteLength} bytes.`);\n    this.binary.set(pubkey, 2 + this.signatureLength);\n  }\n\n  get rawOwner(): Buffer {\n    return this.binary.subarray(2 + this.signatureLength, 2 + this.signatureLength + this.ownerLength);\n  }\n\n  get signatureLength(): number {\n    return SIG_CONFIG[this.signatureType].sigLength;\n  }\n\n  get owner(): string {\n    return base64url.encode(this.rawOwner);\n  }\n\n  get ownerLength(): number {\n    return SIG_CONFIG[this.signatureType].pubLength;\n  }\n\n  get rawTarget(): Buffer {\n    const targetStart = this.getTargetStart();\n    const isPresent = this.binary[targetStart] == 1;\n    return isPresent ? this.binary.subarray(targetStart + 1, targetStart + 33) : Buffer.alloc(0);\n  }\n\n  get target(): string {\n    return base64url.encode(this.rawTarget);\n  }\n\n  get rawAnchor(): Buffer {\n    const anchorStart = this.getAnchorStart();\n    const isPresent = this.binary[anchorStart] == 1;\n\n    return isPresent ? this.binary.subarray(anchorStart + 1, anchorStart + 33) : Buffer.alloc(0);\n  }\n\n  get anchor(): string {\n    return this.rawAnchor.toString();\n  }\n\n  get rawTags(): Buffer {\n    const tagsStart = this.getTagsStart();\n    const tagsSize = byteArrayToLong(this.binary.subarray(tagsStart + 8, tagsStart + 16));\n    return this.binary.subarray(tagsStart + 16, tagsStart + 16 + tagsSize);\n  }\n\n  get tags(): { name: string; value: string }[] {\n    const tagsStart = this.getTagsStart();\n    const tagsCount = byteArrayToLong(this.binary.subarray(tagsStart, tagsStart + 8));\n    if (tagsCount == 0) {\n      return [];\n    }\n\n    const tagsSize = byteArrayToLong(this.binary.subarray(tagsStart + 8, tagsStart + 16));\n\n    return deserializeTags(Buffer.from(this.binary.subarray(tagsStart + 16, tagsStart + 16 + tagsSize)));\n  }\n\n  get tagsB64Url(): { name: string; value: string }[] {\n    const _tags = this.tags;\n    return _tags.map((t) => ({\n      name: base64url.encode(t.name),\n      value: base64url.encode(t.value),\n    }));\n  }\n\n  getStartOfData(): number {\n    const tagsStart = this.getTagsStart();\n\n    const numberOfTagBytesArray = this.binary.subarray(tagsStart + 8, tagsStart + 16);\n    const numberOfTagBytes = byteArrayToLong(numberOfTagBytesArray);\n    return tagsStart + 16 + numberOfTagBytes;\n  }\n\n  get rawData(): Buffer {\n    const tagsStart = this.getTagsStart();\n\n    const numberOfTagBytesArray = this.binary.subarray(tagsStart + 8, tagsStart + 16);\n    const numberOfTagBytes = byteArrayToLong(numberOfTagBytesArray);\n    const dataStart = tagsStart + 16 + numberOfTagBytes;\n\n    return this.binary.subarray(dataStart, this.binary.length);\n  }\n\n  get data(): string {\n    return base64url.encode(this.rawData);\n  }\n\n  /**\n   * UNSAFE!!\n   * DO NOT MUTATE THE BINARY ARRAY. THIS WILL CAUSE UNDEFINED BEHAVIOUR.\n   */\n  getRaw(): Buffer {\n    return this.binary;\n  }\n\n  public async sign(signer: Signer): Promise<Buffer> {\n    this._id = await sign(this, signer);\n    return this.rawId;\n  }\n\n  public async setSignature(signature: Buffer): Promise<void> {\n    this.binary.set(signature, 2);\n    this._id = Buffer.from(await getCryptoDriver().hash(signature));\n  }\n\n  public isSigned(): boolean {\n    return (this._id?.length ?? 0) > 0;\n  }\n\n  /**\n   * Returns a JSON representation of a DataItem\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  public toJSON(): {\n    owner: string;\n    data: string;\n    signature: string;\n    target: string;\n    tags: { name: string; value: string }[];\n  } {\n    return {\n      signature: this.signature,\n      owner: this.owner,\n      target: this.target,\n      tags: this.tags.map((t) => ({\n        name: base64url.encode(t.name),\n        value: base64url.encode(t.value),\n      })),\n      data: this.data,\n    };\n  }\n\n  /**\n   * Verifies a `Buffer` and checks it fits the format of a DataItem\n   *\n   * A binary is valid iff:\n   * - the tags are encoded correctly\n   */\n  static async verify(buffer: Buffer): Promise<boolean> {\n    if (buffer.byteLength < MIN_BINARY_SIZE) {\n      return false;\n    }\n    const item = new DataItem(buffer);\n    const sigType = item.signatureType;\n    const tagsStart = item.getTagsStart();\n\n    const numberOfTags = byteArrayToLong(buffer.subarray(tagsStart, tagsStart + 8));\n    const numberOfTagBytesArray = buffer.subarray(tagsStart + 8, tagsStart + 16);\n    const numberOfTagBytes = byteArrayToLong(numberOfTagBytesArray);\n\n    if (numberOfTagBytes > MAX_TAG_BYTES) return false;\n\n    if (numberOfTags > 0) {\n      try {\n        const tags: { name: string; value: string }[] = deserializeTags(\n          Buffer.from(buffer.subarray(tagsStart + 16, tagsStart + 16 + numberOfTagBytes))\n        );\n\n        if (tags.length !== numberOfTags) {\n          return false;\n        }\n      } catch (e) {\n        return false;\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    const Signer = indexToType[sigType];\n\n    const signatureData = await getSignatureData(item);\n    return await Signer.verify(item.rawOwner, signatureData, item.rawSignature);\n  }\n\n  public async getSignatureData(): Promise<Uint8Array> {\n    return getSignatureData(this);\n  }\n\n  /**\n   * Returns the start byte of the tags section (number of tags)\n   *\n   * @private\n   */\n  private getTagsStart(): number {\n    const targetStart = this.getTargetStart();\n    const targetPresent = this.binary[targetStart] == 1;\n    let tagsStart = targetStart + (targetPresent ? 33 : 1);\n    const anchorPresent = this.binary[tagsStart] == 1;\n    tagsStart += anchorPresent ? 33 : 1;\n\n    return tagsStart;\n  }\n\n  /**\n   * Returns the start byte of the tags section (number of tags)\n   *\n   * @private\n   */\n  private getTargetStart(): number {\n    return 2 + this.signatureLength + this.ownerLength;\n  }\n\n  /**\n   * Returns the start byte of the tags section (number of tags)\n   *\n   * @private\n   */\n  private getAnchorStart(): number {\n    let anchorStart = this.getTargetStart() + 1;\n    const targetPresent = this.binary[this.getTargetStart()] == 1;\n    anchorStart += targetPresent ? 32 : 0;\n\n    return anchorStart;\n  }\n}\n", "import { DataItem } from './DataItem';\nimport { Signer } from './signing';\nimport base64url from 'base64url';\nimport { longTo8ByteArray, shortTo2ByteArray } from './utils';\nimport { serializeTags } from './tags';\n\nexport interface DataItemCreateOptions {\n  target?: string;\n  anchor?: string;\n  tags?: { name: string; value: string }[];\n}\n\nexport function createData(data: string | Uint8Array, signer: Signer, opts?: DataItemCreateOptions): DataItem {\n  // TODO: Add asserts\n  // Parse all values to a buffer and\n  const _owner = signer.publicKey;\n\n  const _target = opts?.target ? base64url.toBuffer(opts.target) : null;\n  const target_length = 1 + (_target?.byteLength ?? 0);\n  const _anchor = opts?.anchor ? Buffer.from(opts.anchor) : null;\n  const anchor_length = 1 + (_anchor?.byteLength ?? 0);\n  const _tags = (opts?.tags?.length ?? 0) > 0 ? serializeTags(opts.tags) : null;\n  const tags_length = 16 + (_tags ? _tags.byteLength : 0);\n  const _data = typeof data === 'string' ? Buffer.from(data) : Buffer.from(data);\n  const data_length = _data.byteLength;\n\n  // See [https://github.com/joshbenaron/arweave-standards/blob/ans104/ans/ANS-104.md#13-dataitem-format]\n  const length =\n    2 + signer.signatureLength + signer.ownerLength + target_length + anchor_length + tags_length + data_length;\n  // Create array with set length\n  const bytes = Buffer.alloc(length);\n\n  bytes.set(shortTo2ByteArray(signer.signatureType), 0);\n  // Push bytes for `signature`\n  bytes.set(new Uint8Array(signer.signatureLength).fill(0), 2);\n  // // Push bytes for `id`\n  // bytes.set(EMPTY_ARRAY, 32);\n  // Push bytes for `owner`\n\n  if (_owner.byteLength !== signer.ownerLength)\n    throw new Error(`Owner must be ${signer.ownerLength} bytes, but was incorrectly ${_owner.byteLength}`);\n  bytes.set(_owner, 2 + signer.signatureLength);\n\n  const position = 2 + signer.signatureLength + signer.ownerLength;\n  // Push `presence byte` and push `target` if present\n  // 64 + OWNER_LENGTH\n  bytes[position] = _target ? 1 : 0;\n  if (_target) {\n    if (_target.byteLength !== 32) throw new Error(`Target must be 32 bytes but was incorrectly ${_target.byteLength}`);\n    bytes.set(_target, position + 1);\n  }\n\n  // Push `presence byte` and push `anchor` if present\n  // 64 + OWNER_LENGTH\n  const anchor_start = position + target_length;\n  let tags_start = anchor_start + 1;\n  bytes[anchor_start] = _anchor ? 1 : 0;\n  if (_anchor) {\n    tags_start += _anchor.byteLength;\n    if (_anchor.byteLength !== 32) throw new Error('Anchor must be 32 bytes');\n    bytes.set(_anchor, anchor_start + 1);\n  }\n\n  bytes.set(longTo8ByteArray(opts?.tags?.length ?? 0), tags_start);\n  const bytesCount = longTo8ByteArray(_tags?.byteLength ?? 0);\n  bytes.set(bytesCount, tags_start + 8);\n  if (_tags) {\n    bytes.set(_tags, tags_start + 16);\n  }\n\n  const data_start = tags_start + tags_length;\n\n  bytes.set(_data, data_start);\n\n  return new DataItem(bytes);\n}\n", "export * from './signing';\nexport * from './ar-data-create';\nexport * from './DataItem';\nexport * from './signing/index';\nexport * from './tags';\nexport * from './constants';\n", "export * from './src/index';\n", null, null, null, null, null, null, null, null, null, null, "import { Token } from './token';\n\n/**\n * Lists are arrays of zero or more members, each of which can be an Item\n * or an Inner List, both of which can be Parameterized\n */\nexport type List = (InnerList|Item)[];\n\n/**\n * An Inner List is an array of zero or more Items. Both the individual Items\n * and the Inner List itself can be Parameterized.\n */\nexport type InnerList = [Item[], Parameters];\n\n/**\n * Parameters are an ordered map of key-value pairs that are associated with\n * an Item or Inner List. The keys are unique within the scope of the\n * Parameters they occur within, and the values are bare items (i.e., they\n * themselves cannot be parameterized\n */\nexport type Parameters = Map<string, BareItem>;\n\n/**\n * Dictionaries are ordered maps of key-value pairs, where the keys are short\n * textual strings and the values are Items or arrays of Items, both of which\n * can be Parameterized.\n *\n * There can be zero or more members, and their keys are unique in the scope\n * of the Dictionary they occur within.\n */\nexport type Dictionary = Map<string, Item|InnerList>;\n\nexport class ByteSequence {\n\n  base64Value: string;\n  constructor(base64Value: string) {\n\n    this.base64Value = base64Value;\n\n  }\n\n  toBase64(): string {\n\n    return this.base64Value;\n\n  }\n\n}\n\nexport type BareItem = number | string | Token | ByteSequence | boolean;\n\nexport type Item = [BareItem, Parameters];\n", "import { Item, InnerList, BareItem, ByteSequence } from './types';\n\nconst asciiRe = /^[\\x20-\\x7E]*$/;\nconst tokenRe = /^[a-zA-Z*][:/!#$%&'*+\\-.^_`|~A-Za-z0-9]*$/;\nconst keyRe = /^[a-z*][*\\-_.a-z0-9]*$/;\n\nexport function isAscii(str: string): boolean {\n\n  return asciiRe.test(str);\n\n}\n\nexport function isValidTokenStr(str: string): boolean {\n\n  return tokenRe.test(str);\n\n}\n\nexport function isValidKeyStr(str: string): boolean {\n\n  return keyRe.test(str);\n\n}\n\n\nexport function isInnerList(input: Item | InnerList): input is InnerList {\n\n  return Array.isArray(input[0]);\n\n}\n\n\nexport function isByteSequence(input: BareItem): input is ByteSequence {\n\n  return typeof input === 'object' && 'base64Value' in input;\n\n}\n", "import { isValidTokenStr } from './util';\n\nexport class Token {\n\n  private value: string;\n  constructor(value: string) {\n\n    if (!isValidTokenStr(value)) {\n      throw new TypeError('Invalid character in Token string. Tokens must start with *, A-Z and the rest of the string may only contain a-z, A-Z, 0-9, :/!#$%&\\'*+-.^_`|~');\n    }\n    this.value = value;\n\n  }\n\n  toString(): string {\n\n    return this.value;\n\n  }\n\n}\n", "import {\n  BareItem,\n  ByteSequence,\n  Dictionary,\n  InnerList,\n  Item,\n  List,\n  Parameters,\n} from './types';\n\nimport { Token } from './token';\n\nimport { isAscii, isInnerList, isValidKeyStr } from './util';\n\nexport class SerializeError extends Error {}\n\nexport function serializeList(input: List): string {\n\n  return input.map(value => {\n\n    if (isInnerList(value)) {\n      return serializeInnerList(value);\n    } else {\n      return serializeItem(value);\n    }\n\n  }).join(', ');\n\n}\n\nexport function serializeDictionary(input: Dictionary): string {\n\n  return Array.from(\n    input.entries()\n  ).map(([key, value]) => {\n\n    let out = serializeKey(key);\n    if (value[0]===true) {\n      out += serializeParameters(value[1]);\n    } else {\n      out += '=';\n      if (isInnerList(value)) {\n        out += serializeInnerList(value);\n      } else {\n        out += serializeItem(value);\n      }\n    }\n    return out;\n\n  }).join(', ');\n\n}\n\nexport function serializeItem(input: Item): string {\n\n  return serializeBareItem(input[0]) + serializeParameters(input[1]);\n\n}\n\nexport function serializeInnerList(input: InnerList): string {\n\n  return `(${input[0].map(value => serializeItem(value)).join(' ')})${serializeParameters(input[1])}`;\n\n}\n\n\nexport function serializeBareItem(input: BareItem): string {\n  if (typeof input === 'number') {\n    if (Number.isInteger(input)) {\n      return serializeInteger(input);\n    }\n    return serializeDecimal(input);\n  }\n  if (typeof input === 'string') {\n    return serializeString(input);\n  }\n  if (input instanceof Token) {\n    return serializeToken(input);\n  }\n  if (input instanceof ByteSequence) {\n    return serializeByteSequence(input);\n  }\n  if (typeof input === 'boolean') {\n    return serializeBoolean(input);\n  }\n  throw new SerializeError(`Cannot serialize values of type ${typeof input}`);\n}\n\nexport function serializeInteger(input: number): string {\n\n  if (input < -999_999_999_999_999 || input > 999_999_999_999_999) {\n    throw new SerializeError('Structured headers can only encode integers in the range range of -999,999,999,999,999 to 999,999,999,999,999 inclusive');\n  }\n  return input.toString();\n}\n\nexport function serializeDecimal(input: number): string {\n  const out = input.toFixed(3).replace(/0+$/,'');\n  const signifantDigits = out.split('.')[0].replace('-','').length;\n\n  if (signifantDigits > 12) {\n    throw new SerializeError('Fractional numbers are not allowed to have more than 12 significant digits before the decimal point');\n  }\n  return out;\n}\n\nexport function serializeString(input: string): string {\n  if (!isAscii(input)) {\n    throw new SerializeError('Only ASCII strings may be serialized');\n  }\n  return `\"${input.replace(/(\"|\\\\)/g, (v) => '\\\\' + v)}\"`;\n}\n\nexport function serializeBoolean(input: boolean): string {\n  return input ? '?1' : '?0';\n}\n\nexport function serializeByteSequence(input: ByteSequence): string {\n  return `:${input.toBase64()}:`;\n}\n\nexport function serializeToken(input: Token): string {\n  return input.toString();\n}\n\nexport function serializeParameters(input: Parameters): string {\n\n  return Array.from(input).map(([key, value]) => {\n\n    let out = ';' + serializeKey(key);\n    if (value!==true) {\n      out+='=' + serializeBareItem(value);\n    }\n    return out;\n\n  }).join('');\n\n}\n\nexport function serializeKey(input: string): string {\n\n  if (!isValidKeyStr(input)) {\n    throw new SerializeError('Keys in dictionaries must only contain lowercase letter, numbers, _-*. and must start with a letter or *');\n  }\n  return input;\n\n}\n", "import {\n  Dictionary,\n  List,\n  Item,\n  BareItem,\n  Parameters,\n  InnerList,\n  ByteSequence\n} from './types';\n\nimport { Token } from './token';\n\nimport { isAscii } from './util';\n\nexport function parseDictionary(input: string): Dictionary {\n\n  const parser = new Parser(input);\n  return parser.parseDictionary();\n\n}\n\nexport function parseList(input: string): List {\n\n  const parser = new Parser(input);\n  return parser.parseList();\n\n}\n\nexport function parseItem(input: string): Item {\n\n  const parser = new Parser(input);\n  return parser.parseItem();\n\n}\n\nexport class ParseError extends Error {\n\n  constructor(position: number, message:string) {\n\n    super(`Parse error: ${message} at offset ${position}`);\n\n  }\n\n}\n\nexport default class Parser {\n\n  input: string;\n  pos: number;\n\n  constructor(input: string) {\n    this.input = input;\n    this.pos = 0;\n  }\n\n  parseDictionary(): Dictionary {\n\n    this.skipWS();\n    const dictionary = new Map();\n    while(!this.eof()) {\n\n      const thisKey = this.parseKey();\n      let member;\n      if (this.lookChar()==='=') {\n        this.pos++;\n        member = this.parseItemOrInnerList();\n      } else {\n        member = [true, this.parseParameters()];\n      }\n      dictionary.set(thisKey, member);\n      this.skipOWS();\n      if (this.eof()) {\n        return dictionary;\n      }\n      this.expectChar(',');\n      this.pos++;\n      this.skipOWS();\n      if (this.eof()) {\n        throw new ParseError(this.pos, 'Dictionary contained a trailing comma');\n      }\n    }\n    return dictionary;\n\n  }\n\n  parseList(): List {\n\n    this.skipWS();\n    const members: List = [];\n    while(!this.eof()) {\n      members.push(\n        this.parseItemOrInnerList()\n      );\n      this.skipOWS();\n      if (this.eof()) {\n        return members;\n      }\n      this.expectChar(',');\n      this.pos++;\n      this.skipOWS();\n      if (this.eof()) {\n        throw new ParseError(this.pos, 'A list may not end with a trailing comma');\n      }\n    }\n\n    return members;\n\n  }\n\n  parseItem(standaloneItem: boolean = true): Item {\n\n    if (standaloneItem) this.skipWS();\n\n    const result: Item = [\n      this.parseBareItem(),\n      this.parseParameters()\n    ];\n\n    if (standaloneItem) this.checkTrail();\n    return result;\n\n  }\n\n  private parseItemOrInnerList(): Item|InnerList {\n\n    if (this.lookChar()==='(') {\n      return this.parseInnerList();\n    } else {\n      return this.parseItem(false);\n    }\n\n  }\n\n  private parseInnerList(): InnerList {\n\n    this.expectChar('(');\n    this.pos++;\n\n    const innerList: Item[] = [];\n\n    while(!this.eof()) {\n      this.skipWS();\n      if (this.lookChar() === ')') {\n        this.pos++;\n        return [\n          innerList,\n          this.parseParameters()\n        ];\n      }\n\n      innerList.push(this.parseItem(false));\n\n      const nextChar = this.lookChar();\n      if (nextChar!==' ' && nextChar !== ')') {\n        throw new ParseError(this.pos, 'Expected a whitespace or ) after every item in an inner list');\n      }\n    }\n\n\n    throw new ParseError(this.pos, 'Could not find end of inner list');\n\n  }\n\n  private parseBareItem(): BareItem {\n\n    const char = this.lookChar();\n    if (char === undefined) {\n      throw new ParseError(this.pos, 'Unexpected end of string');\n    }\n    if (char.match(/^[-0-9]/)) {\n      return this.parseIntegerOrDecimal();\n    }\n    if (char === '\"') {\n      return this.parseString();\n    }\n    if (char.match(/^[A-Za-z*]/)) {\n      return this.parseToken();\n    }\n    if (char === ':' ) {\n      return this.parseByteSequence();\n    }\n    if (char === '?') {\n      return this.parseBoolean();\n    }\n\n    throw new ParseError(this.pos, 'Unexpected input');\n\n  }\n\n  private parseParameters(): Parameters {\n\n    const parameters = new Map();\n    while(!this.eof()) {\n      const char = this.lookChar();\n      if (char!==';') {\n        break;\n      }\n      this.pos++;\n      this.skipWS();\n      const key = this.parseKey();\n      let value: BareItem = true;\n      if (this.lookChar() === '=') {\n        this.pos++;\n        value = this.parseBareItem();\n      }\n      parameters.set(key, value);\n    }\n\n    return parameters;\n\n  }\n\n  private parseIntegerOrDecimal(): number {\n\n    let type: 'integer' | 'decimal' = 'integer';\n    let sign = 1;\n    let inputNumber = '';\n    if (this.lookChar()==='-') {\n      sign = -1;\n      this.pos++;\n    }\n\n    // The spec wants this check but it's unreachable code.\n    //if (this.eof()) {\n    //  throw new ParseError(this.pos, 'Empty integer');\n    //}\n\n    if (!isDigit(this.lookChar())) {\n      throw new ParseError(this.pos, 'Expected a digit (0-9)');\n    }\n\n    while(!this.eof()) {\n      const char = this.getChar();\n      if (isDigit(char)) {\n        inputNumber+=char;\n      } else if (type === 'integer' && char === '.') {\n        if (inputNumber.length>12) {\n          throw new ParseError(this.pos, 'Exceeded maximum decimal length');\n        }\n        inputNumber+='.';\n        type = 'decimal';\n      } else {\n        // We need to 'prepend' the character, so it's just a rewind\n        this.pos--;\n        break;\n      }\n\n      if (type === 'integer' && inputNumber.length>15) {\n        throw new ParseError(this.pos, 'Exceeded maximum integer length');\n      }\n      if (type === 'decimal' && inputNumber.length>16) {\n        throw new ParseError(this.pos, 'Exceeded maximum decimal length');\n      }\n    }\n\n    if (type === 'integer') {\n      return parseInt(inputNumber, 10) * sign;\n    } else {\n      if (inputNumber.endsWith('.')) {\n        throw new ParseError(this.pos, 'Decimal cannot end on a period');\n      }\n      if (inputNumber.split('.')[1].length>3) {\n        throw new ParseError(this.pos, 'Number of digits after the decimal point cannot exceed 3');\n      }\n      return parseFloat(inputNumber) * sign;\n    }\n\n  }\n\n  private parseString(): string {\n\n    let outputString = '';\n    this.expectChar('\"');\n    this.pos++;\n\n    while(!this.eof()) {\n      const char = this.getChar();\n      if (char==='\\\\') {\n        if (this.eof()) {\n          throw new ParseError(this.pos, 'Unexpected end of input');\n        }\n        const nextChar = this.getChar();\n        if (nextChar!=='\\\\' && nextChar !== '\"') {\n          throw new ParseError(this.pos, 'A backslash must be followed by another backslash or double quote');\n        }\n        outputString+=nextChar;\n      } else if (char === '\"') {\n        return outputString;\n      } else if (!isAscii(char)) {\n        throw new ParseError(this.pos, 'Strings must be in the ASCII range');\n      } else {\n        outputString += char;\n      }\n\n    }\n    throw new ParseError(this.pos, 'Unexpected end of input');\n\n  }\n\n  private parseToken(): Token {\n\n    // The specification wants this check, but it's an unreachable code block.\n    // if (!/^[A-Za-z*]/.test(this.lookChar())) {\n    //  throw new ParseError(this.pos, 'A token must begin with an asterisk or letter (A-Z, a-z)');\n    //}\n\n    let outputString = '';\n\n    while(!this.eof()) {\n      const char = this.lookChar();\n      if (char===undefined || !/^[:/!#$%&'*+\\-.^_`|~A-Za-z0-9]$/.test(char)) {\n        return new Token(outputString);\n      }\n      outputString += this.getChar();\n    }\n\n    return new Token(outputString);\n\n  }\n\n  private parseByteSequence(): ByteSequence {\n\n    this.expectChar(':');\n    this.pos++;\n    const endPos = this.input.indexOf(':', this.pos);\n    if (endPos === -1) {\n      throw new ParseError(this.pos, 'Could not find a closing \":\" character to mark end of Byte Sequence');\n    }\n    const b64Content = this.input.substring(this.pos, endPos);\n    this.pos += b64Content.length+1;\n\n    if (!/^[A-Za-z0-9+/=]*$/.test(b64Content)) {\n      throw new ParseError(this.pos, 'ByteSequence does not contain a valid base64 string');\n    }\n\n    return new ByteSequence(b64Content);\n\n  }\n\n  private parseBoolean(): boolean {\n\n    this.expectChar('?');\n    this.pos++;\n\n    const char = this.getChar();\n    if (char === '1') {\n      return true;\n    }\n    if (char === '0') {\n      return false;\n    }\n    throw new ParseError(this.pos, 'Unexpected character. Expected a \"1\" or a \"0\"');\n\n  }\n\n  private parseKey(): string {\n\n    if (!this.lookChar()?.match(/^[a-z*]/)) {\n      throw new ParseError(this.pos, 'A key must begin with an asterisk or letter (a-z)');\n    }\n\n    let outputString = '';\n\n    while(!this.eof()) {\n      const char = this.lookChar();\n      if (char===undefined || !/^[a-z0-9_\\-.*]$/.test(char)) {\n        return outputString;\n      }\n      outputString += this.getChar();\n    }\n\n    return outputString;\n\n  }\n\n  /**\n   * Looks at the next character without advancing the cursor.\n   *\n   * Returns undefined if we were at the end of the string.\n   */\n  private lookChar():string|undefined {\n\n    return this.input[this.pos];\n\n  }\n\n  /**\n   * Checks if the next character is 'char', and fail otherwise.\n   */\n  private expectChar(char: string): void {\n\n    if (this.lookChar()!==char) {\n      throw new ParseError(this.pos, `Expected ${char}`);\n    }\n\n  }\n\n  private getChar(): string {\n\n    return this.input[this.pos++];\n\n  }\n  private eof():boolean {\n\n    return this.pos>=this.input.length;\n\n  }\n  // Advances the pointer to skip all whitespace.\n  private skipOWS(): void {\n\n    while (true) {\n      const c = this.input.substr(this.pos, 1);\n      if (c === ' ' || c === '\\t') {\n        this.pos++;\n      } else {\n        break;\n      }\n    }\n\n  }\n  // Advances the pointer to skip all spaces\n  private skipWS(): void {\n\n    while(this.lookChar()===' ') {\n      this.pos++;\n    }\n\n  }\n\n  // At the end of parsing, we need to make sure there are no bytes after the\n  // header except whitespace.\n  private checkTrail(): void {\n\n    this.skipWS();\n    if (!this.eof()) {\n      throw new ParseError(this.pos, 'Unexpected characters at end of input');\n    }\n\n  }\n\n}\n\nconst isDigitRegex = /^[0-9]$/;\nfunction isDigit(char: string|undefined): boolean {\n\n  if (char===undefined) return false;\n  return isDigitRegex.test(char);\n\n}\n", "export * from './serializer';\nexport * from './parser';\nexport * from './types';\nexport * from './util';\nexport { Token } from './token';\n", null, null, null, null, "\"use strict\";\n\n(function (exports) {\n\n    // control sequences for coloring\n\n    exports.black = \"\\x1b[30m\"\n    exports.red = \"\\x1b[31m\"\n    exports.green = \"\\x1b[32m\"\n    exports.yellow = \"\\x1b[33m\"\n    exports.blue = \"\\x1b[34m\"\n    exports.magenta = \"\\x1b[35m\"\n    exports.cyan = \"\\x1b[36m\"\n    exports.lightgray = \"\\x1b[37m\"\n    exports.default = \"\\x1b[39m\"\n    exports.darkgray = \"\\x1b[90m\"\n    exports.lightred = \"\\x1b[91m\"\n    exports.lightgreen = \"\\x1b[92m\"\n    exports.lightyellow = \"\\x1b[93m\"\n    exports.lightblue = \"\\x1b[94m\"\n    exports.lightmagenta = \"\\x1b[95m\"\n    exports.lightcyan = \"\\x1b[96m\"\n    exports.white = \"\\x1b[97m\"\n    exports.reset = \"\\x1b[0m\"\n\n    function colored (char, color) {\n        // do not color it if color is not specified\n        return (color === undefined) ? char : (color + char + exports.reset)\n    }\n\n    exports.colored = colored\n\n    exports.plot = function (series, cfg = undefined) {\n        // this function takes oth one array and array of arrays\n        // if an array of numbers is passed it is transfored to\n        // an array of exactly one array with numbers\n        if (typeof(series[0]) == \"number\"){\n            series = [series]\n        }\n\n        cfg = (typeof cfg !== 'undefined') ? cfg : {}\n\n        let min = (typeof cfg.min !== 'undefined') ? cfg.min : series[0][0]\n        let max = (typeof cfg.max !== 'undefined') ? cfg.max : series[0][0]\n\n        for (let j = 0; j < series.length; j++) {\n            for (let i = 0; i < series[j].length; i++) {\n                min = Math.min(min, series[j][i])\n                max = Math.max(max, series[j][i])\n            }\n        }\n\n        let defaultSymbols = [ '\u253C', '\u2524', '\u2576', '\u2574', '\u2500', '\u2570', '\u256D', '\u256E', '\u256F', '\u2502' ]\n        let range   = Math.abs (max - min)\n        let offset  = (typeof cfg.offset  !== 'undefined') ? cfg.offset  : 3\n        let padding = (typeof cfg.padding !== 'undefined') ? cfg.padding : '           '\n        let height  = (typeof cfg.height  !== 'undefined') ? cfg.height  : range\n        let colors  = (typeof cfg.colors !== 'undefined') ? cfg.colors : []\n        let ratio   = range !== 0 ? height / range : 1;\n        let min2    = Math.round (min * ratio)\n        let max2    = Math.round (max * ratio)\n        let rows    = Math.abs (max2 - min2)\n        let width = 0\n        for (let i = 0; i < series.length; i++) {\n            width = Math.max(width, series[i].length)\n        }\n        width = width + offset\n        let symbols = (typeof cfg.symbols !== 'undefined') ? cfg.symbols : defaultSymbols\n        let format  = (typeof cfg.format !== 'undefined') ? cfg.format : function (x) {\n            return (padding + x.toFixed (2)).slice (-padding.length)\n        }\n\n        let result = new Array (rows + 1) // empty space\n        for (let i = 0; i <= rows; i++) {\n            result[i] = new Array (width)\n            for (let j = 0; j < width; j++) {\n                result[i][j] = ' '\n            }\n        }\n        for (let y = min2; y <= max2; ++y) { // axis + labels\n            let label = format (rows > 0 ? max - (y - min2) * range / rows : y, y - min2)\n            result[y - min2][Math.max (offset - label.length, 0)] = label\n            result[y - min2][offset - 1] = (y == 0) ? symbols[0] : symbols[1]\n        }\n\n        for (let j = 0; j < series.length; j++) {\n            let currentColor = colors[j % colors.length]\n            let y0 = Math.round (series[j][0] * ratio) - min2\n            result[rows - y0][offset - 1] = colored(symbols[0], currentColor) // first value\n\n            for (let x = 0; x < series[j].length - 1; x++) { // plot the line\n                let y0 = Math.round (series[j][x + 0] * ratio) - min2\n                let y1 = Math.round (series[j][x + 1] * ratio) - min2\n                if (y0 == y1) {\n                    result[rows - y0][x + offset] = colored(symbols[4], currentColor)\n                } else {\n                    result[rows - y1][x + offset] = colored((y0 > y1) ? symbols[5] : symbols[6], currentColor)\n                    result[rows - y0][x + offset] = colored((y0 > y1) ? symbols[7] : symbols[8], currentColor)\n                    let from = Math.min (y0, y1)\n                    let to = Math.max (y0, y1)\n                    for (let y = from + 1; y < to; y++) {\n                        result[rows - y][x + offset] = colored(symbols[9], currentColor)\n                    }\n                }\n            }\n        }\n        return result.map (function (x) { return x.join ('') }).join ('\\n')\n    }\n\n}) (typeof exports === 'undefined' ? /* istanbul ignore next */ this['asciichart'] = {} : exports);\n", "#!/usr/bin/env node\n// import fs from 'fs';\n// import path from 'path';\nimport minimist from 'minimist';\n\nimport { CLI_ARGS } from './helpers/config.ts';\nimport { ArgumentsInterface, CommandInterface, OptionInterface } from './helpers/types.ts';\nimport { checkProcessEnv, log } from './helpers/utils.ts';\n\n// import { fileURLToPath } from 'node:url';\n// import { dirname } from 'node:path';\n\n// const __dirname_local =\n//   typeof __dirname !== 'undefined'\n//     ? __dirname\n//     : dirname(fileURLToPath(import.meta.url));\n\nimport helpCommand from './commands/help.ts';\nimport reportCommand from './commands/report.ts';\n\n(async function () {\n\tconsole.log(helpCommand.name)\n\tconst commands: { [key: string]: any } = {\n\t\thelp: { ...helpCommand },\n\t\treport: { ...reportCommand }\n\t};\n\n\tconsole.log(commands)\n\n\ttry {\n\t  const argv = minimist(process.argv.slice(2));\n\t  const command = argv._[0];\n\t  const commandValues = argv._.slice(1);\n\n\t  if (commands[command]) {\n\t\tawait commands[command].execute({ argv, commandValues, commands });\n\t  } else {\n\t\tif (command) log(`Command not found: ${command}`, 1);\n\t\tawait commands[CLI_ARGS.commands.help].execute({ argv, commandValues, commands });\n\t  }\n\t} catch (error) {\n\t  console.error('Error initializing CLI:', error);\n\t}\n})();", "export const DAILY_HEIGHT_INTERVAL = 720;\n\nexport const ENDPOINTS = {\n\tarweave: 'https://arweave.net',\n\tarweavePrice: 'https://api.coingecko.com/api/v3/simple/price?ids=arweave&vs_currencies=usd'\n}\n\nexport const CLI_ARGS = {\n\tcommands: {\n\t\thelp: 'help',\n\t\treport: 'report'\n\t}\n}", "import clc from 'cli-color';\nimport { Spinner } from 'cli-spinner';\n\nexport class CliSpinner {\n\tprivate spinner: Spinner;\n\tprivate message: string;\n\tprivate spinnerString: string;\n\n\tconstructor(\n\t\tmessage: string,\n\t\tspinnerString = '\u280B\u2819\u2839\u2838\u283C\u2834\u2826\u2827\u2807\u280F'\n\t) {\n\t\tthis.message = message;\n\t\tthis.spinnerString = spinnerString;\n\t\tthis.spinner = new Spinner(this.getMessage());\n\t\tthis.spinner.setSpinnerString(this.spinnerString);\n\t\tthis.spinner.start();\n\t}\n\n\tgetMessage() {\n\t\treturn `%s ${clc.green(this.message)}`\n\t}\n\n\tsetMessage(message: string) {\n\t\tthis.spinner.stop();\n\t\tthis.message = message;\n\t\tthis.spinner = new Spinner(this.getMessage());\n\t\tthis.spinner.setSpinnerString(this.spinnerString);\n\t\tthis.spinner.start();\n\t}\n\n\tstart() {\n\t\tthis.spinner.start();\n\t}\n\t\n\tstop(clear: boolean = true) {\n\t\tthis.spinner.stop(clear);\n\t}\n}\n\nexport function log(message: any, status?: 0 | 1): void {\n\tconst now = new Date();\n\tconst formattedDate = now.toISOString().slice(0, 19).replace('T', ' ');\n\tif (status !== undefined) {\n\t\tconsole.log(`${formattedDate} - ${status === 0 ? clc.green(message) : clc.red(message)}`);\n\t} else {\n\t\tconsole.log(`${formattedDate} - ${message}`);\n\t}\n}\n\nexport function checkProcessEnv(processArg: string): string {\n\treturn processArg.indexOf('ts-node') || processArg.indexOf('--loader ts-node/esm') > -1 ? '.ts' : '.js';\n}\n\nexport function getTagValue(list: { [key: string]: any }[], name: string): string | null {\n\tfor (let i = 0; i < list.length; i++) {\n\t\tif (list[i]) {\n\t\t\tif (list[i]!.name === name) {\n\t\t\t\treturn list[i]!.value as string;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport function formatCount(count: string): string {\n\tif (count === '0' || !Number(count)) return '0';\n\n\tif (count.includes('.')) {\n\t\tlet parts = count.split('.');\n\t\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n\t\t// Find the position of the last non-zero digit within the first 6 decimal places\n\t\tlet index = 0;\n\t\tfor (let i = 0; i < Math.min(parts[1].length, 6); i++) {\n\t\t\tif (parts[1][i] !== '0') {\n\t\t\t\tindex = i + 1;\n\t\t\t}\n\t\t}\n\n\t\tif (index === 0) {\n\t\t\t// If all decimals are zeros, keep two decimal places\n\t\t\tparts[1] = '00';\n\t\t} else {\n\t\t\t// Otherwise, truncate to the last non-zero digit\n\t\t\tparts[1] = parts[1].substring(0, index);\n\n\t\t\t// If the decimal part is longer than 4 digits, truncate to 4 digits\n\t\t\tif (parts[1].length > 4 && parts[1].substring(0, 4) !== '0000') {\n\t\t\t\tparts[1] = parts[1].substring(0, 4);\n\t\t\t}\n\t\t}\n\n\t\treturn parts.join('.');\n\t} else {\n\t\treturn count.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\t}\n}", "import clc from 'cli-color';\nimport figlet from 'figlet';\n\nimport { CLI_ARGS } from '../helpers/config.ts';\nimport { ArgumentsInterface, CommandInterface, OptionInterface } from '../helpers/types.ts';\n\nconst command: CommandInterface = {\n\tname: CLI_ARGS.commands.help,\n\tdescription: `Display help text`,\n\texecute: async (args: ArgumentsInterface): Promise<void> => {\n\t\tconsole.log(`${clc.blackBright(figlet.textSync('UCM', { font: 'Slant', width: process.stdout.columns }))}`);\n\t\tconsole.log(`\\nUniversal Content Marketplace CLI`);\n\t\tconsole.log(`\\nUsage: ${clc.green('ucm')} ${clc.green('[command]')} ${clc.green('[arguments]')}\\n`);\n\n\t\tlet formattedArgs: string;\n\t\t\n\t\tconsole.log(`${clc.blackBright('Commands')}`);\n\t\targs.commands.forEach((command) => {\n\t\t\tif (command.args && command.args.length) {\n\t\t\t\tformattedArgs = '<';\n\t\t\t\tcommand.args.forEach((arg: string) => {\n\t\t\t\t\tformattedArgs += arg;\n\t\t\t\t});\n\t\t\t\tformattedArgs += '>';\n\t\t\t}\n\t\t\tconsole.log(`${clc.green(command.name)}${formattedArgs ? ` ${formattedArgs}` : ''} ${clc.blackBright(`(${command.description})`)}`);\n\t\t\tif (command.options && command.options.length) {\n\t\t\t\tconst spacer = (count: number) => ' '.repeat(count);\n\t\t\t\tconsole.log(`${spacer(4)}${clc.blackBright('Arguments')}`);\n\t\t\t\t{\n\t\t\t\t\tcommand.options.forEach((option) => {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t`${spacer(4)}${clc.green(`--${option.name}`)}${option.arg ? ` ${option.arg}` : ''} ${clc.blackBright(\n\t\t\t\t\t\t\t\t`(${option.description})`\n\t\t\t\t\t\t\t)}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (option.suboptions && option.suboptions.length) {\n\t\t\t\t\t\t\tconsole.log(`${' '.repeat(6)}${clc.blackBright('Suboptions')}`);\n\t\t\t\t\t\t\tlogOptions(option.suboptions);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconsole.log('');\n\t},\n};\n\nfunction logOptions(options: OptionInterface[], indent = 6) {\n\tconst spacer = (count: number) => ' '.repeat(count);\n\tconst indentIncrease = 4;\n\n\toptions.forEach((option) => {\n\t\tlet label = clc.green(`--${option.name}`);\n\t\tif (option.topLevel) label = clc.white(option.name);\n\n\t\tconsole.log(\n\t\t\t`${spacer(indent)}${label}${option.arg ? ` ${option.arg}` : ''}${\n\t\t\t\toption.description ? ` ${clc.blackBright(`(${option.description})`)}` : ''\n\t\t\t}`\n\t\t);\n\n\t\tif (option.suboptions && option.suboptions.length) {\n\t\t\tlogOptions(option.suboptions, indent + indentIncrease);\n\t\t}\n\t});\n}\n\nexport default command;\n", "import clc from 'cli-color';\nimport fs from 'fs';\nimport { Chart, registerables } from 'chart.js';\nimport { createCanvas } from 'canvas';\n\nimport { connect } from '@permaweb/aoconnect';\nimport Permaweb from '@permaweb/libs';\n\nimport { CLI_ARGS, DAILY_HEIGHT_INTERVAL, ENDPOINTS } from '../helpers/config.ts';\nimport { ArgumentsInterface, CommandInterface, DataRecord, Report } from '../helpers/types.ts';\nimport { CliSpinner, formatCount, getTagValue, log } from '../helpers/utils.ts';\n\nChart.register(...registerables);\n\nconst command: CommandInterface = {\n\tname: CLI_ARGS.commands.report,\n\tdescription: `Run a volume report for a specified amount of time`,\n\texecute: async (args: ArgumentsInterface): Promise<void> => {\n\t\tconst intervalArg = args.commandValues[0] || '1-week';\n\n\t\tconst regex = /^(\\d+)\\s*-?\\s*(day|week|month|year)s?$/i;\n\t\tconst match = intervalArg.match(regex);\n\n\t\tif (!match) {\n\t\t\tconsole.error(`Invalid interval format. Use something like '2-days', '1-week', or '1-month'.`);\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.log(clc.blackBright('UCM Volume Report'));\n\n\t\tconst count = parseInt(match[1], 10);\n\t\tconst unit = match[2].toLowerCase();\n\n\t\tconst unitMapping: { [key: string]: number } = {\n\t\t\tday: 1,\n\t\t\tweek: 7,\n\t\t\tmonth: 30,\n\t\t\tyear: 365,\n\t\t};\n\n\t\tconst permaweb = Permaweb.init({ ao: connect({ MODE: 'legacy' }) });\n\n\t\ttry {\n\t\t\tconst arweaveResponse = await fetch(ENDPOINTS.arweave);\n\t\t\tconst currentHeight = (await arweaveResponse.json()).height;\n\n\t\t\tconsole.log(clc.blackBright(`Current Height: ${formatCount(currentHeight.toString())}\\n`));\n\n\t\t\tconst days = count * unitMapping[unit];\n\t\t\tconsole.log(`Generating report for the last ${clc.yellow(`${days} day(s)`)}...`);\n\n\t\t\tconst now = new Date();\n\t\t\tconst startDate = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\n\t\t\tconst endDate = now;\n\n\t\t\tconst formatDate = (date: Date) => date.toISOString().slice(0, 10);\n\t\t\tconsole.log(`Report period: ${clc.cyan(formatDate(startDate))} to ${clc.cyan(formatDate(endDate))}`);\n\n\t\t\tconst baseTags = [\n\t\t\t\t{ name: 'Action', values: ['Credit-Notice'] },\n\t\t\t\t{ name: 'X-Order-Action', values: ['Create-Order'] },\n\t\t\t\t{ name: 'Data-Protocol', values: ['ao'] },\n\t\t\t\t{ name: 'Type', values: ['Message'] },\n\t\t\t\t{ name: 'Variant', values: ['ao.TN.1'] },\n\t\t\t];\n\n\t\t\tconst spinner = new CliSpinner('Getting total order count...');\n\n\t\t\tconst orderData = await permaweb.getGQLData({\n\t\t\t\ttags: [...baseTags],\n\t\t\t\trecipients: ['hqdL4AZaFZ0huQHbAsYxdTwG6vpibK7ALWKNzmWaD4Q'],\n\t\t\t\tminBlock: currentHeight - days * DAILY_HEIGHT_INTERVAL,\n\t\t\t\tmaxBlock: currentHeight\n\t\t\t});\n\n\t\t\tspinner.stop();\n\t\t\tconsole.log(`Total order count: ${clc.green(orderData?.count ? formatCount(orderData.count.toString()) : 'N/A')}\\n`);\n\n\t\t\tconsole.log(clc.blackBright('Getting price data...'));\n\t\t\tconst arweavePriceResponse = await fetch(ENDPOINTS.arweavePrice);\n\t\t\tconst arweavePrice = (await arweavePriceResponse.json()).arweave.usd;\n\n\t\t\tconsole.log(clc.blackBright('Getting GQL Data...\\n'));\n\n\t\t\tconst intervalData: DataRecord[] = [];\n\t\t\tfor (let i = 0; i < days; i++) {\n\t\t\t\tconst intervalEnd = currentHeight - (i * DAILY_HEIGHT_INTERVAL);\n\t\t\t\tconst intervalStart = intervalEnd - DAILY_HEIGHT_INTERVAL;\n\n\t\t\t\tspinner.stop();\n\t\t\t\tconsole.log(`Day ${i + 1}: ${clc.blackBright(`Blocks ${formatCount(intervalStart.toString())} to ${formatCount(intervalEnd.toString())}`)}`);\n\t\t\t\tspinner.start();\n\n\t\t\t\tconst purchaseData = await permaweb.getAggregatedGQLData({\n\t\t\t\t\ttags: [\n\t\t\t\t\t\t...baseTags,\n\t\t\t\t\t\t{ name: 'X-Dominant-Token', values: ['xU9zFkq3X2ZQ6olwNVvr1vUWIjc3kXTWr7xKQD6dh10'] }\n\t\t\t\t\t],\n\t\t\t\t\trecipients: ['hqdL4AZaFZ0huQHbAsYxdTwG6vpibK7ALWKNzmWaD4Q'],\n\t\t\t\t\tminBlock: intervalStart,\n\t\t\t\t\tmaxBlock: intervalEnd\n\t\t\t\t}, (message: string) => {\n\t\t\t\t\tif (message.includes('Pages to fetch')) {\n\t\t\t\t\t\tspinner.stop();\n\t\t\t\t\t\tconsole.log(clc.blackBright(message))\n\t\t\t\t\t\tspinner.start();\n\t\t\t\t\t}\n\t\t\t\t\telse spinner.setMessage(message)\n\t\t\t\t});\n\n\t\t\t\tlet totalSwap = BigInt(0);\n\t\t\t\tif (purchaseData) {\n\t\t\t\t\tfor (const result of purchaseData) {\n\t\t\t\t\t\tconst quantity = getTagValue(result.node.tags, 'Quantity');\n\t\t\t\t\t\tif (quantity) totalSwap += BigInt(quantity);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst convertedAmount = totalSwap / BigInt(Math.pow(10, 12));\n\t\t\t\tconst usdValue = parseFloat(convertedAmount.toString()) * arweavePrice;\n\n\t\t\t\tintervalData.push({\n\t\t\t\t\tday: days - i,\n\t\t\t\t\tvolume: convertedAmount.toString(),\n\t\t\t\t\tusd: usdValue\n\t\t\t\t});\n\t\t\t\tconsole.log('\\n');\n\t\t\t}\n\n\t\t\tspinner.stop();\n\t\t\tlet totalSwapValue = BigInt(0);\n\t\t\tlet totalUsdValue = Number(0);\n\t\t\tconsole.log(`\\n${clc.blackBright('Volume Summary')}`);\n\t\t\tintervalData.length > 0 ? (intervalData.reverse()).forEach(record => {\n\t\t\t\ttotalSwapValue += BigInt(record.volume);\n\t\t\t\ttotalUsdValue += record.usd;\n\t\t\t\tconsole.log(`Day ${record.day}: ${clc.green(formatCount(record.volume))} wAR, ${clc.green(formatCount(record.usd.toString()))} USD`);\n\t\t\t}) : console.log('-');\n\n\t\t\tconsole.log(`\\n${clc.blackBright('Totals')}`);\n\t\t\tconsole.log(`${clc.green(formatCount(totalSwapValue.toString()))} wAR`);\n\t\t\tconsole.log(`${clc.green(formatCount(totalUsdValue.toString()))} USD`);\n\t\t\tconsole.log('\\n');\n\n\t\t\tawait exportReportData({\n\t\t\t\tdate: new Date().toISOString(),\n\t\t\t\tintervalData\n\t\t\t}, days);\n\n\t\t} catch (e: any) {\n\t\t\tlog(e.message ?? 'Error running report', 1);\n\t\t}\n\t}\n};\n\nexport default command;\n\nasync function exportReportData(report: Report, intervals: number): Promise<void> {\n\tconst reportsDir = './reports';\n\tif (!fs.existsSync(reportsDir)) {\n\t\tfs.mkdirSync(reportsDir, { recursive: true });\n\t}\n\n\tconst reportEndDate = new Date(report.date);\n\tconst reportStartDate = new Date(reportEndDate);\n\treportStartDate.setDate(reportStartDate.getDate() - (intervals - 1));\n\n\tconst formatDate = (date: Date) => date.toISOString().slice(0, 10);\n\tconst dateRangeStr = `${formatDate(reportStartDate)}_${formatDate(reportEndDate)}`;\n\n\tconst timestamp = Date.now();\n\tconst jsonPath = `${reportsDir}/volume-report-${dateRangeStr}-${timestamp}.json`;\n\tconst updatedChartPath = `${reportsDir}/volume-report-chart-${dateRangeStr}-${timestamp}.png`;\n\n\tconst latestData = report.intervalData;\n\tconst labels = latestData.map(record => `Day ${record.day}`);\n\tconst volumes = latestData.map(record => parseFloat(record.volume));\n\tconst usdValues = latestData.map(record => record.usd);\n\n\tconst width = 800;\n\tconst height = 400;\n\n\tconst canvas = createCanvas(width, height);\n\tconst ctx = canvas.getContext('2d');\n\n\tconst configuration = {\n\t\ttype: 'line',\n\t\tdata: {\n\t\t\tlabels: labels, // Use your existing data\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Wrapped AR Swapped',\n\t\t\t\t\tdata: volumes,\n\t\t\t\t\tborderColor: '#006DFF',\n\t\t\t\t\tbackgroundColor: 'rgba(0, 109, 255, 0.2)',\n\t\t\t\t\tfill: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'USD Volume',\n\t\t\t\t\tdata: usdValues,\n\t\t\t\t\tborderColor: '#71C9A4',\n\t\t\t\t\tbackgroundColor: 'rgba(113, 201, 164, 0.2)',\n\t\t\t\t\tfill: true,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\toptions: {\n\t\t\ttitle: {\n\t\t\t\tdisplay: true,\n\t\t\t\ttext: `UCM Volume (${formatDate(reportStartDate)} to ${formatDate(reportEndDate)})`,\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tdisplay: true,\n\t\t\t},\n\t\t\tlayout: {\n\t\t\t\tpadding: {\n\t\t\t\t\ttop: 20,\n\t\t\t\t\tright: 20,\n\t\t\t\t\tbottom: 25,\n\t\t\t\t\tleft: 20,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n\n\tnew Chart(ctx as any, configuration as any);\n\n\t// Export the chart as an image\n\tconst buffer = canvas.toBuffer('image/png');\n\tfs.writeFileSync('./chart.png', buffer);\n\tconsole.log('Chart saved as chart.png');\n\n\ttry {\n\t\tconst days = report.intervalData.map(record => `Day ${record.day}`);\n\t\tconst volumes = report.intervalData.map(record => parseFloat(record.volume));\n\t\tconst usdValues = report.intervalData.map(record => record.usd);\n\n\t\tconsole.log('Blue line: Volume (wAR)');\n\t\tconsole.log('Green line: USD Volume\\n');\n\n\t\tconst asciichart = await import('asciichart');\n\n\t\tfunction interpolate(data: any) {\n\t\t\tconst interpolated = [];\n\t\t\tfor (let i = 0; i < data.length - 1; i++) {\n\t\t\t\tinterpolated.push(data[i]);\n\t\t\t\tinterpolated.push((data[i] + data[i + 1]) / 2);\n\t\t\t}\n\t\t\tinterpolated.push(data[data.length - 1]);\n\t\t\treturn interpolated;\n\t\t}\n\n\t\tconst volumesInterpolated = interpolate(volumes);\n\t\tconst usdValuesInterpolated = interpolate(usdValues);\n\n\t\tconst config = {\n\t\t\theight: 10,\n\t\t\tcolors: [\n\t\t\t\tasciichart.blue,\n\t\t\t\tasciichart.green,\n\t\t\t]\n\t\t};\n\n\t\tconsole.log(asciichart.plot([volumesInterpolated, usdValuesInterpolated], config));\n\n\t} catch (error) {\n\t\tconsole.error('Error generating chart:', error);\n\t}\n}", "/*!\n * @kurkle/color v0.3.4\n * https://github.com/kurkle/color#readme\n * (c) 2024 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names$1 = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n", "/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || value === undefined;\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n", "import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n", "import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n", "import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n", "import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n", "import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n", "const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n", "export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n", "\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n", "import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n", "import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n", "import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n", "import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas?: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  if (!ctx && !canvas) {\n    return;\n  }\n\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n", "import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n", "/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n", "import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n", "import type {ChartArea, Scale} from '../types/index.js';\nimport type Chart from '../core/core.controller.js';\nimport type {ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  chart.height = Math.floor(chart.height);\n  chart.width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    if (_isDomSupported()) {\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    }\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n", "import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n", "export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n", "import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n", "import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n", "import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n", "import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n", "import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  let found = false;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      found = true;\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n\n  if (!found && !options.all) {\n    return 0;\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data, meta) {\n  const {iScale, vScale} = meta;\n  const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n  const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      [iAxisKey]: key,\n      [vAxisKey]: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (and thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal metadata accordingly.\n\n    if (isObject(data)) {\n      const meta = this._cachedMeta;\n      this._data = convertObjectDataToArray(data, meta);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n      meta._stacked = isStacked(meta.vScale, meta);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {\n  _arrayUnique, isArray, isNullOrUndef,\n  valueOrDefault, resolveObjectKey, sign, defined\n} from '../helpers/index.js';\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\n\n/**\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\n * @private\n */\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      // Ignore truncated pixels\n      return;\n    }\n    if (defined(prev)) {\n      // curr - prev === 0 is ignored\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\n/**\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\n * @private\n */\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    // When bar thickness is enforced, category and bar percentages are ignored.\n    // Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\n    // and deprecate barPercentage since this value is ignored when thickness is absolute.\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\n\n/**\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\n * percentage options are 1), based on the previous and following categories. This mode\n * generates bars with different widths when data are not evenly spaced.\n * @private\n */\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n\n  if (prev === null) {\n    // first data: its size is double based on the next point or,\n    // if it's also the last data, we use the scale size.\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    // last data: its size is also double based on the previous point.\n    next = curr + curr - prev;\n  }\n\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  // Store `barEnd` (furthest away from origin) as parsed value,\n  // to make stacking straight forward\n  item[vScale.axis] = barEnd;\n\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\n\nexport default class BarController extends DatasetController {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'bar',\n\n    categoryPercentage: 0.8,\n    barPercentage: 0.9,\n    grouped: true,\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'base', 'width', 'height']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n        offset: true,\n        grid: {\n          offset: true\n        }\n      },\n      _value_: {\n        type: 'linear',\n        beginAtZero: true,\n      }\n    }\n  };\n\n\n  /**\n\t * Overriding primitive data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding array data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding object data parsing since we support mixed primitive/array\n\t * value-scale data for float bars\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      // float bar: only one end of the bar is considered by `super`\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n\n  initialize() {\n    this.enableOptionSharing = true;\n\n    super.initialize();\n\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n\n  /**\n\t * Returns the stacks based on groups and bar visibility.\n\t * @param {number} [last] - The dataset index\n\t * @param {number} [dataIndex] - The data index of the ruler\n\t * @returns {string[]} The list of stack IDs\n\t * @private\n\t */\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n    const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);\n    const iScaleValue = currentParsed && currentParsed[iScale.axis];\n\n    const skipNull = (meta) => {\n      const parsed = meta._parsed.find(item => item[iScale.axis] === iScaleValue);\n      const val = parsed && parsed[meta.vScale.axis];\n\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n\n      // stacked   | meta.stack\n      //           | found | not found | undefined\n      // false     |   x   |     x     |     x\n      // true      |       |     x     |\n      // undefined |       |     x     |     x\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n\n    // No stacks? that means there is no visible data. Let's still initialize an `undefined`\n    // stack where possible invisible bars will be located.\n    // https://github.com/chartjs/Chart.js/issues/6368\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n\n    return stacks;\n  }\n\n  /**\n\t * Returns the effective number of stacks based on groups and bar visibility.\n\t * @private\n\t */\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n\n  /**\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\n\t * @param {number} [datasetIndex] - The dataset index\n\t * @param {string} [name] - The stack name to find\n   * @param {number} [dataIndex]\n\t * @returns {number} The stack index\n\t * @private\n\t */\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1; // indexOf returns -1 if element is not present\n\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      // bar thickness ratio used for non-grouped bars\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n\n  /**\n\t * Note: pixel values are not clamped to the scale area.\n\t * @private\n\t */\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked, index: datasetIndex}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      // bars crossing origin are not stacked\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      // When not visible, no height\n      head = base;\n    }\n\n    size = head - base;\n\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n\n      if (_stacked && !floating) {\n        // visual data coordinates after applying minBarLength\n        parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n      }\n    }\n\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      // For non-grouped bar charts, exact pixel values are used\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {valueOrDefault} from '../helpers/helpers.core.js';\n\nexport default class BubbleController extends DatasetController {\n\n  static id = 'bubble';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'borderWidth', 'radius']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n\n  update(mode) {\n    const points = this._cachedMeta.data;\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n\n    // In case values were cached (and thus frozen), we need to clone the values\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n\n    // Custom radius resolution\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n\n    return values;\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {isObject, resolveObjectKey, toPercentage, toDimension, valueOrDefault} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {toRadians, PI, TAU, HALF_PI, _angleBetween} from '../helpers/helpers.math.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  // If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\n\nexport default class DoughnutController extends DatasetController {\n\n  static id = 'doughnut';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'arc',\n    animation: {\n      // Boolean - Whether we animate the rotation of the Doughnut\n      animateRotate: true,\n      // Boolean - Whether we animate scaling the Doughnut from the centre\n      animateScale: false\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n      },\n    },\n    // The percentage of the chart that we cut out of the middle.\n    cutout: '50%',\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%',\n\n    // Spacing between arcs\n    spacing: 0,\n\n    indexAxis: 'r',\n  };\n\n  static descriptors = {\n    _scriptable: (name) => name !== 'spacing',\n    _indexable: (name) => name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash'),\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    // Need to override these to give a nice default\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n\n  linkScales() {}\n\n  /**\n\t * Override data parsing, since we are not using scales\n\t */\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n\n  /**\n\t * @private\n\t */\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n\n  /**\n\t * Get the maximal rotation & circumference extents\n\t * across all visible datasets.\n\t */\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n\n    // Compute the maximal rotation & circumference limits.\n    // If we only consider our dataset, this can cause problems when two datasets\n    // are both less than a circle with different rotations (starting angles)\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n\n    meta.total = this.calculateTotal();\n\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @private\n   */\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n\n    return total;\n  }\n\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n\n    if (!arcs) {\n      // Find the outmost visible dataset\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n\n    if (!arcs) {\n      return 0;\n    }\n\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n\n  getMaxOffset(arcs) {\n    let max = 0;\n\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n\n  /**\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\n\t * @private\n\t */\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n\n    return ringWeightOffset;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n\n  /**\n\t * Returns the sum of all visible data set weights.\n\t * @private\n\t */\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {toRadians, PI, formatNumber, _parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class PolarAreaController extends DatasetController {\n\n  static id = 'polarArea';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    dataElementType: 'arc',\n    animation: {\n      animateRotate: true,\n      animateScale: true\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n      },\n    },\n    indexAxis: 'r',\n    startAngle: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    },\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n        angleLines: {\n          display: false\n        },\n        beginAtZero: true,\n        grid: {\n          circular: true\n        },\n        pointLabels: {\n          display: false\n        },\n        startAngle: 0\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @protected\n   */\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n\n    return range;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n\n    const defaultAngle = 360 / this.countVisibleElements();\n\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\n", "import DoughnutController from './controller.doughnut.js';\n\n// Pie charts are Doughnut chart with different defaults\nexport default class PieController extends DoughnutController {\n\n  static id = 'pie';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    // The percentage of the chart that we cut out of the middle.\n    cutout: 0,\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%'\n  };\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {_parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class RadarController extends DatasetController {\n\n  static id = 'radar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n    indexAxis: 'r',\n    showLine: true,\n    elements: {\n      line: {\n        fill: 'start'\n      }\n    },\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n\n    // Update Line\n    line.points = points;\n    // In resize mode only point locations change, so no need to set the points or options.\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n\n      this.updateElement(line, undefined, properties, mode);\n    }\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\n", "import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class ScatterController extends DatasetController {\n\n  static id = 'scatter';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n    showLine: false,\n    fill: false\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n\n    interaction: {\n      mode: 'point'\n    },\n\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + ')'\n    };\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    if (this.options.showLine) {\n\n      // https://github.com/chartjs/Chart.js/issues/11333\n      if (!this.datasetElementType) {\n        this.addElements();\n      }\n      const {dataset: line, _dataset} = meta;\n\n      // Update Line\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    } else if (this.datasetElementType) {\n      // https://github.com/chartjs/Chart.js/issues/11333\n      delete meta.dataset;\n      this.datasetElementType = false;\n    }\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  addElements() {\n    const {showLine} = this.options;\n\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = this.chart.registry.getElement('line');\n    }\n\n    super.addElements();\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n\n    if (!data.length) {\n      return border;\n    }\n\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\n", "/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<string, string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: TimeUnit): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: TimeUnit): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek'): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<string, string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase\n};\n", "import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n", "import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n", "\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n", "/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n", "/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  if (node) {\n    node.addEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction removeListener(chart, type, listener) {\n  if (chart && chart.canvas) {\n    chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = canvas && _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n", "import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n", "import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n", "import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n", "import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        case 'inner':\n          if (i === ilen - 1) {\n            left -= width;\n          } else if (i > 0) {\n            left -= width / 2;\n          }\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n", "import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n", "import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n", "import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n", "import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).some((key) => isFunction(value[key]));\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n", "import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n  return scale.options.clip ? scale[field] : chartArea[field];\n}\n\nfunction getDatasetArea(meta, chartArea) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: getSizeForArea(xScale, chartArea, 'left'),\n      right: getSizeForArea(xScale, chartArea, 'right'),\n      top: getSizeForArea(yScale, chartArea, 'top'),\n      bottom: getSizeForArea(yScale, chartArea, 'bottom')\n    };\n  }\n  return chartArea;\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      // Unset pending resize request now to avoid possible recursion within _resize\n      this._resizeBeforeDraw = null;\n      this._resize(width, height);\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta, this.chartArea);\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the event inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n", "import Element from '../core/core.element.js';\nimport {_angleBetween, getAngleFromPoint, TAU, HALF_PI, valueOrDefault} from '../helpers/index.js';\nimport {PI, _isBetween, _limitValue} from '../helpers/helpers.math.js';\nimport {_readValueToProps} from '../helpers/helpers.options.js';\nimport type {ArcOptions, Point} from '../types/index.js';\n\n\nfunction clipArc(ctx: CanvasRenderingContext2D, element: ArcElement, endAngle: number) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n\n  // Draw an inner border by clipping the arc and drawing a double-width border\n  // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\n/**\n * Parse border radius from the provided options\n */\nfunction parseBorderRadius(arc: ArcElement, innerRadius: number, outerRadius: number, angleDelta: number) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  // Outer limits are complicated. We want to compute the available angular distance at\n  // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n  // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n  //\n  // If the borderRadius is large, that value can become negative.\n  // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n  // we know that the thickness term will dominate and compute the limits at that point\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\n\n/**\n * Convert (r, 𝜃) to (x, y)\n */\nfunction rThetaToXY(r: number, theta: number, x: number, y: number) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\n\n\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */\nfunction pathArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  end: number,\n  circular: boolean,\n) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n\n  let spacingOffset = 0;\n  const alpha = end - start;\n\n  if (spacing) {\n    // When spacing is present, it is the same for all items\n    // So we adjust the start and end angle of the arc such that\n    // the distance is the same as it would be without the spacing\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius(element, innerRadius, outerRadius, endAngle - startAngle);\n\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n\n  ctx.beginPath();\n\n  if (circular) {\n    // The first arc segments from point 1 to point a to point 2\n    const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n    ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n\n    // The corner segment from point 2 to point 3\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n\n    // The line from point 3 to point 4\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n\n    // The corner segment from point 4 to point 5\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n\n    // The inner arc from point 5 to point b to point 6\n    const innerMidAdjustedAngle = ((endAngle - (innerEnd / innerRadius)) + (startAngle + (innerStart / innerRadius))) / 2;\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), innerMidAdjustedAngle, true);\n    ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + (innerStart / innerRadius), true);\n\n    // The corner segment from point 6 to point 7\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n\n    // The line from point 7 to point 8\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n\n    // The corner segment from point 8 to point 1\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawBorder(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference, options} = element;\n  const {borderWidth, borderJoinStyle, borderDash, borderDashOffset} = options;\n  const inner = options.borderAlign === 'inner';\n\n  if (!borderWidth) {\n    return;\n  }\n\n  ctx.setLineDash(borderDash || []);\n  ctx.lineDashOffset = borderDashOffset;\n\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.stroke();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  if (!fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.stroke();\n  }\n}\n\nexport interface ArcProps extends Point {\n  startAngle: number;\n  endAngle: number;\n  innerRadius: number;\n  outerRadius: number;\n  circumference: number;\n}\n\nexport default class ArcElement extends Element<ArcProps, ArcOptions> {\n\n  static id = 'arc';\n\n  static defaults = {\n    borderAlign: 'center',\n    borderColor: '#fff',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: undefined,\n    borderRadius: 0,\n    borderWidth: 2,\n    offset: 0,\n    spacing: 0,\n    angle: undefined,\n    circular: true,\n  };\n\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor'\n  };\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash'\n  };\n\n  circumference: number;\n  endAngle: number;\n  fullCircles: number;\n  innerRadius: number;\n  outerRadius: number;\n  pixelMargin: number;\n  startAngle: number;\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(chartX: number, chartY: number, useFinalPosition: boolean) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;\n    const betweenAngles = _circumference >= TAU || nonZeroBetween;\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n\n    return (betweenAngles && withinRadius);\n  }\n\n  getCenterPoint(useFinalPosition: boolean) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius'\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n\n  tooltipPosition(useFinalPosition: boolean) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 4;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n\n    ctx.save();\n\n    const halfAngle = (this.startAngle + this.endAngle) / 2;\n    ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n    const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n    const radiusOffset = offset * fix;\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n\n    drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, circular);\n\n    ctx.restore();\n  }\n}\n", "import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n", "import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n", "import Element from '../core/core.element.js';\nimport {isObject, _isBetween, _limitValue} from '../helpers/index.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {toTRBL, toTRBLCorners} from '../helpers/helpers.options.js';\n\n/** @typedef {{ x: number, y: number, base: number, horizontal: boolean, width: number, height: number }} BarProps */\n\n/**\n * Helper function to get the bounds of the bar regardless of the orientation\n * @param {BarElement} bar the bar\n * @param {boolean} [useFinalPosition]\n * @return {object} bounds of the bar\n * @private\n */\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = /** @type {BarProps} */ (bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition));\n\n  let left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {left, top, right, bottom};\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n\n  // If the value is an object, assume the user knows what they are doing\n  // and apply as directed.\n  const enableBorder = enableBorderRadius || isObject(value);\n\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\n\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\n/**\n * Add a path of a rectangle to the current sub-path\n * @param {CanvasRenderingContext2D} ctx Context\n * @param {*} rect Bounding rect\n */\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nexport default class BarElement extends Element {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderSkipped: 'start',\n    borderWidth: 0,\n    borderRadius: 0,\n    inflateAmount: 'auto',\n    pointStyle: undefined\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n\n    ctx.save();\n\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n\n    ctx.restore();\n  }\n\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = /** @type {BarProps} */ (this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition));\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\n", "import {DoughnutController, PolarAreaController, defaults} from '../index.js';\nimport type {Chart, ChartDataset} from '../types.js';\n\nexport interface ColorsPluginOptions {\n  enabled?: boolean;\n  forceOverride?: boolean;\n}\n\ninterface ColorsDescriptor {\n  backgroundColor?: unknown;\n  borderColor?: unknown;\n}\n\nconst BORDER_COLORS = [\n  'rgb(54, 162, 235)', // blue\n  'rgb(255, 99, 132)', // red\n  'rgb(255, 159, 64)', // orange\n  'rgb(255, 205, 86)', // yellow\n  'rgb(75, 192, 192)', // green\n  'rgb(153, 102, 255)', // purple\n  'rgb(201, 203, 207)' // grey\n];\n\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map(color => color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\n\nfunction getBorderColor(i: number) {\n  return BORDER_COLORS[i % BORDER_COLORS.length];\n}\n\nfunction getBackgroundColor(i: number) {\n  return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\n\nfunction colorizeDefaultDataset(dataset: ChartDataset, i: number) {\n  dataset.borderColor = getBorderColor(i);\n  dataset.backgroundColor = getBackgroundColor(i);\n\n  return ++i;\n}\n\nfunction colorizeDoughnutDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBorderColor(i++));\n\n  return i;\n}\n\nfunction colorizePolarAreaDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBackgroundColor(i++));\n\n  return i;\n}\n\nfunction getColorizer(chart: Chart) {\n  let i = 0;\n\n  return (dataset: ChartDataset, datasetIndex: number) => {\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n\n    if (controller instanceof DoughnutController) {\n      i = colorizeDoughnutDataset(dataset, i);\n    } else if (controller instanceof PolarAreaController) {\n      i = colorizePolarAreaDataset(dataset, i);\n    } else if (controller) {\n      i = colorizeDefaultDataset(dataset, i);\n    }\n  };\n}\n\nfunction containsColorsDefinitions(\n  descriptors: ColorsDescriptor[] | Record<string, ColorsDescriptor>\n) {\n  let k: number | string;\n\n  for (k in descriptors) {\n    if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction containsColorsDefinition(\n  descriptor: ColorsDescriptor\n) {\n  return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\n\nfunction containsDefaultColorsDefenitions() {\n  return defaults.borderColor !== 'rgba(0,0,0,0.1)' || defaults.backgroundColor !== 'rgba(0,0,0,0.1)';\n}\n\nexport default {\n  id: 'colors',\n\n  defaults: {\n    enabled: true,\n    forceOverride: false\n  } as ColorsPluginOptions,\n\n  beforeLayout(chart: Chart, _args, options: ColorsPluginOptions) {\n    if (!options.enabled) {\n      return;\n    }\n\n    const {\n      data: {datasets},\n      options: chartOptions\n    } = chart.config;\n    const {elements} = chartOptions;\n\n    const containsColorDefenition = (\n      containsColorsDefinitions(datasets) ||\n      containsColorsDefinition(chartOptions) ||\n      (elements && containsColorsDefinitions(elements)) ||\n      containsDefaultColorsDefenitions());\n\n    if (!options.forceOverride && containsColorDefenition) {\n      return;\n    }\n\n    const colorizer = getColorizer(chart);\n\n    datasets.forEach(colorizer);\n  }\n};\n", "import {_limitValue, _lookupByKey, isNullOrUndef, resolve} from '../helpers/index.js';\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  /**\n   * Implementation of the Largest Triangle Three Buckets algorithm.\n   *\n   * This implementation is based on the original implementation by Sveinn Steinarsson\n   * in https://github.com/sveinn-steinarsson/flot-downsample/blob/master/jquery.flot.downsample.js\n   *\n   * The original implementation is MIT licensed.\n   */\n  const samples = options.samples || availableWidth;\n  // There are less points than the threshold, returning the whole array\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  const decimated = [];\n\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  // Starting from offset\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n\n    // Adding offset\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n\n    // Adding offset\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n\n    // Note that this is changed from the original algorithm which initializes these\n    // values to 1. The reason for this change is that if the area is small, nextA\n    // would never be set and thus a crash would occur in the next loop as `a` would become\n    // `undefined`. Since the area is always positive, but could be 0 in the case of a flat trace,\n    // initializing with a negative number is the correct solution.\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  // Include the last point\n  decimated[sampledIndex++] = data[endIndex];\n\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      // Use point.x here because we're computing the average data `x` value\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      // Push up to 4 points, 3 for the last interval and the first point for this interval\n      const lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        // The interval is defined by 4 points: start, min, max, end.\n        // The starting point is already considered at this point, so we need to determine which\n        // of the other points to add. We need to sort these points to ensure the decimated data\n        // is still sorted and then ensure there are no duplicates.\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n\n      // lastIndex === startIndex will occur when a range has only 1 point which could\n      // happen with very uneven data\n      if (i > 0 && lastIndex !== startIndex) {\n        // Last point in the previous interval\n        decimated.push(data[lastIndex]);\n      }\n\n      // Start of the new interval\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: data,\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count;\n\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {start, count};\n}\n\nexport default {\n  id: 'decimation',\n\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      // The decimation plugin may have been previously enabled. Need to remove old `dataset._data` handlers\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    // Assume the entire chart is available to show a few more points than needed\n    const availableWidth = chart.width;\n\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        // Decimation is only supported for lines that have an X indexAxis\n        return;\n      }\n\n      if (!meta.controller.supportsDecimation) {\n        // Only line datasets are supported\n        return;\n      }\n\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        // Only linear interpolation is supported\n        return;\n      }\n\n      if (chart.options.parsing) {\n        // Plugin only supports data that does not need parsing\n        return;\n      }\n\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        // No decimation is required until we are above this threshold\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        // First time we are seeing this dataset\n        // We override the 'data' property with a setter that stores the\n        // raw data in _data, but reads the decimated data from _decimated\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      // Point the chart to the decimated data\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n", "import {_boundSegment, _boundSegments, _normalizeAngle} from '../../helpers/index.js';\n\nexport function _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n\n    if (!target.segments) {\n      // Special case for boundary not supporting `segments` (simpleArc)\n      // Bounds are provided as `target` for partial circle, or undefined for full circle\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n\n    // Get all segments from `target` that intersect the bounds of current segment of `line`\n    const targetSegments = _boundSegments(target, bounds);\n\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\n\nexport function _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\n\nexport function _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\n\nexport function _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n", "/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {isArray} from '../../helpers/index.js';\nimport {_pointsFromSegments} from './filler.segment.js';\n\n/**\n * @param {PointElement[] | { x: number; y: number; }} boundary\n * @param {LineElement} line\n * @return {LineElement?}\n */\nexport function _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    // @ts-ignore\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nexport function _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n", "import {isObject, isFinite, valueOrDefault} from '../../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.line.js').default } LineElement\n * @typedef { import('../../types/index.js').FillTarget } FillTarget\n * @typedef { import('../../types/index.js').ComplexFillTarget } ComplexFillTarget\n */\n\nexport function _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\n/**\n * @param {LineElement} line\n * @param {number} index\n * @param {number} count\n */\nexport function _decodeFill(line, index, count) {\n  /** @type {string | {value: number}} */\n  const fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  let target = parseFloat(fill);\n\n  if (isFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\n\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n\n  return target;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @returns {number | null}\n */\nexport function _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @param {number} startValue\n * @returns {number | undefined}\n */\nexport function _getTargetValue(fill, scale, startValue) {\n  let value;\n\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\n\n/**\n * @param {LineElement} line\n */\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n", "/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {_isBetween} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\n\n/**\n * @param {{ chart: Chart; scale: Scale; index: number; line: LineElement; }} source\n * @return {LineElement}\n */\nexport function _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @return {LineElement[]}\n */\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\n\n/**\n * @param {PointElement[]} points\n * @param {PointElement} sourcePoint\n * @param {LineElement[]} linesBelow\n */\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      // First point of an segment -> need to add another point before this,\n      // from next line below.\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        // In the middle of an segment, no need to add more points.\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\n\n/**\n * @param {LineElement} line\n * @param {PointElement} sourcePoint\n * @param {string} property\n * @returns {{point?: PointElement, first?: boolean, last?: boolean}}\n */\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n", "import {TAU} from '../../helpers/index.js';\n\n// TODO: use elements.ArcElement instead\nexport class simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n", "import {isFinite} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\nimport {_getTargetPixel, _getTargetValue} from './filler.options.js';\nimport {_buildStackLine} from './filler.target.stack.js';\nimport {simpleArc} from './simpleArc.js';\n\n/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nexport function _getTarget(source) {\n  const {chart, fill, line} = source;\n\n  if (isFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n\n  if (fill === 'shape') {\n    return true;\n  }\n\n  const boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return _createBoundaryLine(boundary, line);\n}\n\n/**\n * @param {Chart} chart\n * @param {number} index\n */\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\n\n\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n\n  if (isFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n\n  return null;\n}\n\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\n", "import {clipArea, unclipArea} from '../../helpers/index.js';\nimport {_findSegmentEnd, _getBounds, _segments} from './filler.segment.js';\nimport {_getTarget} from './filler.target.js';\n\nexport function _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n\n  ctx.restore();\n}\n\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n\n    ctx.beginPath();\n\n    const lineLoop = !!line.pathSegment(ctx, src);\n\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n\n    ctx.restore();\n  }\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\n", "/**\n * Plugin based on discussion from the following Chart.js issues:\n * @see https://github.com/chartjs/Chart.js/issues/2380#issuecomment-279961569\n * @see https://github.com/chartjs/Chart.js/issues/2440#issuecomment-256461897\n */\n\nimport LineElement from '../../elements/element.line.js';\nimport {_drawfill} from './filler.drawing.js';\nimport {_shouldApplyFill} from './filler.helper.js';\nimport {_decodeFill, _resolveTarget} from './filler.options.js';\n\nexport default {\n  id: 'filler',\n\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n", "import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n", "import Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {PI, isArray, toPadding, toFont} from '../helpers/index.js';\nimport {_toLeftRightCenter, _alignStartEnd} from '../helpers/helpers.extras.js';\nimport {renderText} from '../helpers/helpers.canvas.js';\n\nexport class Title extends Element {\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n\n    this.left = 0;\n    this.top = 0;\n\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n\n    if (!opts.display) {\n      return;\n    }\n\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\n\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nexport default {\n  id: 'title',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Title,\n\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000         // by default greater than legend (1000) to be above\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n", "import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n", "import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let xSet = new Set();\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        xSet.add(pos.x);\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    // No visible items where found, return false so we don't have to divide by 0 which reduces in NaN\n    if (count === 0 || xSet.size === 0) {\n      return false;\n    }\n\n    const xAverage = [...xSet].reduce((a, b) => a + b) / xSet.size;\n\n    return {\n      x: xAverage,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      // But make sure that active elements are still valid.\n      return lastActive.filter(i =>\n        this.chart.data.datasets[i.datasetIndex] &&\n        this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined\n      );\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n", "import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n", "import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n", "import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n", "import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n", "import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash || []);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0 || (index === 0 && this.min < 0)) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if ((index === 0 && this.min >= 0) && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n        strokeColor: optsAtIndex.textStrokeColor,\n        strokeWidth: optsAtIndex.textStrokeWidth,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n", "import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if it's not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, /** @type {Unit} */ (parser))\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @protected\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort(sorter).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n", "import TimeScale from './scale.time.js';\nimport {_lookupByKey} from '../helpers/helpers.collection.js';\n\n/**\n * Linearly interpolates the given source `val` using the table. If value is out of bounds, values\n * at edges are used for the interpolation.\n * @param {object} table\n * @param {number} val\n * @param {boolean} [reverse] lookup time based on position instead of vice versa\n * @return {object}\n */\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nclass TimeSeriesScale extends TimeScale {\n\n  static id = 'timeseries';\n\n  /**\n   * @type {any}\n   */\n  static defaults = TimeScale.defaults;\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {object[]} */\n    this._table = [];\n    /** @type {number} */\n    this._minPos = undefined;\n    /** @type {number} */\n    this._tableRange = undefined;\n  }\n\n  /**\n\t * @protected\n\t */\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n\n  /**\n\t * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\n\t * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\n\t * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\n\t * extremity (left + width or top + height). Note that it would be more optimized to directly\n\t * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\n\t * to create the lookup table. The table ALWAYS contains at least two items: min and max.\n\t * @param {number[]} timestamps\n\t * @return {object[]}\n\t * @protected\n\t */\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n\n    if (items.length < 2) {\n      // In case there is less that 2 timestamps between min and max, the scale is defined by min and max\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n\n      // only add points that breaks the scale linearity\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n\n  /**\n    * Generates all timestamps defined in the data.\n    * Important: this method can return ticks outside the min and max range, it's the\n    * responsibility of the calling code to clamp values if needed.\n    * @protected\n    */\n  _generate() {\n    const min = this.min;\n    const max = this.max;\n    let timestamps = super.getDataTimestamps();\n    if (!timestamps.includes(min) || !timestamps.length) {\n      timestamps.splice(0, 0, min);\n    }\n    if (!timestamps.includes(max) || timestamps.length === 1) {\n      timestamps.push(max);\n    }\n    return timestamps.sort((a, b) => a - b);\n  }\n\n  /**\n\t * Returns all timestamps\n\t * @return {number[]}\n\t * @private\n\t */\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      // If combining labels and data (data might not contain all labels),\n      // we need to recheck uniqueness and sort\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n\n    return timestamps;\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\n\nexport default TimeSeriesScale;\n", "export * from './controllers/index.js';\nexport * from './core/index.js';\nexport * from './elements/index.js';\nexport * from './platform/index.js';\nexport * from './plugins/index.js';\nexport * from './scales/index.js';\n\nimport * as controllers from './controllers/index.js';\nimport * as elements from './elements/index.js';\nimport * as plugins from './plugins/index.js';\nimport * as scales from './scales/index.js';\n\nexport {\n  controllers,\n  elements,\n  plugins,\n  scales,\n};\n\nexport const registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n", "/**\n * A function that always returns `false`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.T\n * @example\n *\n *      R.F(); //=> false\n */\nvar F = function () {\n  return false;\n};\nexport default F;", "/**\n * A function that always returns `true`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.F\n * @example\n *\n *      R.T(); //=> true\n */\nvar T = function () {\n  return true;\n};\nexport default T;", "/**\n * A special placeholder value used to specify \"gaps\" within curried functions,\n * allowing partial application of any combination of arguments, regardless of\n * their positions.\n *\n * If `g` is a curried ternary function and `_` is `R.__`, the following are\n * equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2, _)(1, 3)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @name __\n * @constant\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @example\n *\n *      const greet = R.replace('{name}', R.__, 'Hello, {name}!');\n *      greet('Alice'); //=> 'Hello, Alice!'\n */\nexport default {\n  '@@functional/placeholder': true\n};", "export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}", "import _isPlaceholder from \"./_isPlaceholder.js\";\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}", "import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}", "/**\n * Private `concat` function to merge two array-like objects.\n *\n * @private\n * @param {Array|Arguments} [set1=[]] An array-like object.\n * @param {Array|Arguments} [set2=[]] An array-like object.\n * @return {Array} A new, merged array.\n * @example\n *\n *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n */\nexport default function _concat(set1, set2) {\n  set1 = set1 || [];\n  set2 = set2 || [];\n  var idx;\n  var len1 = set1.length;\n  var len2 = set2.length;\n  var result = [];\n  idx = 0;\n  while (idx < len1) {\n    result[result.length] = set1[idx];\n    idx += 1;\n  }\n  idx = 0;\n  while (idx < len2) {\n    result[result.length] = set2[idx];\n    idx += 1;\n  }\n  return result;\n}", "export default function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}", "import _arity from \"./_arity.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    var hasPlaceholder = false;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      } else {\n        hasPlaceholder = true;\n      }\n      combinedIdx += 1;\n    }\n    return !hasPlaceholder && left <= 0 ? fn.apply(this, combined) : _arity(Math.max(0, left), _curryN(length, combined, fn));\n  };\n}", "import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _curryN from \"./internal/_curryN.js\";\n\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\nvar curryN = /*#__PURE__*/_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\nexport default curryN;", "import _curry1 from \"./_curry1.js\";\nimport _curry2 from \"./_curry2.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}", "/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};", "export default function _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}", "import _isArray from \"./_isArray.js\";\nimport _isTransformer from \"./_isTransformer.js\";\n\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer created by [transducerCreator] to return a new transformer\n * (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} transducerCreator transducer factory if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\nexport default function _dispatchable(methodNames, transducerCreator, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n    var obj = arguments[arguments.length - 1];\n    if (!_isArray(obj)) {\n      var idx = 0;\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, Array.prototype.slice.call(arguments, 0, -1));\n        }\n        idx += 1;\n      }\n      if (_isTransformer(obj)) {\n        var transducer = transducerCreator.apply(null, Array.prototype.slice.call(arguments, 0, -1));\n        return transducer(obj);\n      }\n    }\n    return fn.apply(this, arguments);\n  };\n}", "export default function _reduced(x) {\n  return x && x['@@transducer/reduced'] ? x : {\n    '@@transducer/value': x,\n    '@@transducer/reduced': true\n  };\n}", "export default {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};", "export default function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n  return list;\n}", "export default function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n    idx += 1;\n  }\n  return false;\n}", "export default function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}", "export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}", "// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\nexport default typeof Object.is === 'function' ? Object.is : _objectIs;", "import _has from \"./_has.js\";\nvar toString = Object.prototype.toString;\nvar _isArguments = /*#__PURE__*/function () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\nexport default _isArguments;", "import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport _isArguments from \"./internal/_isArguments.js\";\n\n// cover IE < 9 keys issues\nvar hasEnumBug = ! /*#__PURE__*/{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n// Safari bug\nvar hasArgsEnumBug = /*#__PURE__*/function () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\nvar contains = function contains(list, item) {\n  var idx = 0;\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n    idx += 1;\n  }\n  return false;\n};\n\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ? /*#__PURE__*/_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) : /*#__PURE__*/_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n  var prop, nIdx;\n  var ks = [];\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n      nIdx -= 1;\n    }\n  }\n  return ks;\n});\nexport default keys;", "import _curry1 from \"./internal/_curry1.js\";\n\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig * -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(async () => {}); //=> \"AsyncFunction\"\n *      R.type(undefined); //=> \"Undefined\"\n *      R.type(BigInt(123)); //=> \"BigInt\"\n */\nvar type = /*#__PURE__*/_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\nexport default type;", "import _arrayFromIterator from \"./_arrayFromIterator.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _functionName from \"./_functionName.js\";\nimport _has from \"./_has.js\";\nimport _objectIs from \"./_objectIs.js\";\nimport keys from \"../keys.js\";\nimport type from \"../type.js\";\n\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n  var b = _arrayFromIterator(bIterator);\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  }\n\n  // if *a* array contains any element that is not included in *b*\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\nexport default function _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n  var typeA = type(a);\n  if (typeA !== type(b)) {\n    return false;\n  }\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n      break;\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n      break;\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n      break;\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n      break;\n  }\n  var idx = stackA.length - 1;\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n    idx -= 1;\n  }\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n  var keysA = keys(a);\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n  while (idx >= 0) {\n    var key = keysA[idx];\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n    idx -= 1;\n  }\n  return true;\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _equals from \"./internal/_equals.js\";\n\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\nvar equals = /*#__PURE__*/_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\nexport default equals;", "import equals from \"../equals.js\";\nexport default function _indexOf(list, a, idx) {\n  var inf, item;\n  // Array.prototype.indexOf doesn't exist below IE9\n  if (typeof list.indexOf === 'function') {\n    switch (typeof a) {\n      case 'number':\n        if (a === 0) {\n          // manually crawl the list to distinguish between +0 and -0\n          inf = 1 / a;\n          while (idx < list.length) {\n            item = list[idx];\n            if (item === 0 && 1 / item === inf) {\n              return idx;\n            }\n            idx += 1;\n          }\n          return -1;\n        } else if (a !== a) {\n          // NaN\n          while (idx < list.length) {\n            item = list[idx];\n            if (typeof item === 'number' && item !== item) {\n              return idx;\n            }\n            idx += 1;\n          }\n          return -1;\n        }\n        // non-zero numbers can utilise Set\n        return list.indexOf(a, idx);\n\n      // all these types can utilise Set\n      case 'string':\n      case 'boolean':\n      case 'function':\n      case 'undefined':\n        return list.indexOf(a, idx);\n      case 'object':\n        if (a === null) {\n          // null can utilise Set\n          return list.indexOf(a, idx);\n        }\n    }\n  }\n  // anything else not covered above, defer to R.equals\n  while (idx < list.length) {\n    if (equals(list[idx], a)) {\n      return idx;\n    }\n    idx += 1;\n  }\n  return -1;\n}", "import _indexOf from \"./_indexOf.js\";\nexport default function _includes(a, list) {\n  return _indexOf(list, a, 0) >= 0;\n}", "export default function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n  return result;\n}", "export default function _quote(s) {\n  var escaped = s.replace(/\\\\/g, '\\\\\\\\').replace(/[\\b]/g, '\\\\b') // \\b matches word boundary; [\\b] matches backspace\n  .replace(/\\f/g, '\\\\f').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\t/g, '\\\\t').replace(/\\v/g, '\\\\v').replace(/\\0/g, '\\\\0');\n  return '\"' + escaped.replace(/\"/g, '\\\\\"') + '\"';\n}", "/**\n * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.\n */\nvar pad = function pad(n) {\n  return (n < 10 ? '0' : '') + n;\n};\nvar _toISOString = typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {\n  return d.toISOString();\n} : function _toISOString(d) {\n  return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n};\nexport default _toISOString;", "export default function _complement(f) {\n  return function () {\n    return !f.apply(this, arguments);\n  };\n}", "export default function _arrayReduce(reducer, acc, list) {\n  var index = 0;\n  var length = list.length;\n  while (index < length) {\n    acc = reducer(acc, list[index]);\n    index += 1;\n  }\n  return acc;\n}", "export default function _filter(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n  while (idx < len) {\n    if (fn(list[idx])) {\n      result[result.length] = list[idx];\n    }\n    idx += 1;\n  }\n  return result;\n}", "export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}", "import _xfBase from \"./_xfBase.js\";\nvar XFilter = /*#__PURE__*/function () {\n  function XFilter(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XFilter.prototype['@@transducer/init'] = _xfBase.init;\n  XFilter.prototype['@@transducer/result'] = _xfBase.result;\n  XFilter.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n  return XFilter;\n}();\nexport default function _xfilter(f) {\n  return function (xf) {\n    return new XFilter(f, xf);\n  };\n}", "import _arrayReduce from \"./internal/_arrayReduce.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _filter from \"./internal/_filter.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _xfilter from \"./internal/_xfilter.js\";\nimport keys from \"./keys.js\";\n\n/**\n * Takes a predicate and a `Filterable`, and returns a new filterable of the\n * same type containing the members of the given filterable which satisfy the\n * given predicate. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * Dispatches to the `filter` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @category Object\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array} Filterable\n * @see R.reject, R.transduce, R.addIndex\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *\n *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\nvar filter = /*#__PURE__*/_curry2( /*#__PURE__*/_dispatchable(['fantasy-land/filter', 'filter'], _xfilter, function (pred, filterable) {\n  return _isObject(filterable) ? _arrayReduce(function (acc, key) {\n    if (pred(filterable[key])) {\n      acc[key] = filterable[key];\n    }\n    return acc;\n  }, {}, keys(filterable)) :\n  // else\n  _filter(pred, filterable);\n}));\nexport default filter;", "import _complement from \"./internal/_complement.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport filter from \"./filter.js\";\n\n/**\n * The complement of [`filter`](#filter).\n *\n * Acts as a transducer if a transformer is given in list position. Filterable\n * objects include plain objects or any object that has a filter method such\n * as `Array`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array}\n * @see R.filter, R.transduce, R.addIndex\n * @example\n *\n *      const isOdd = (n) => n % 2 !== 0;\n *\n *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.reject(isOdd, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\nvar reject = /*#__PURE__*/_curry2(function reject(pred, filterable) {\n  return filter(_complement(pred), filterable);\n});\nexport default reject;", "import _includes from \"./_includes.js\";\nimport _map from \"./_map.js\";\nimport _quote from \"./_quote.js\";\nimport _toISOString from \"./_toISOString.js\";\nimport keys from \"../keys.js\";\nimport reject from \"../reject.js\";\nexport default function _toString(x, seen) {\n  var recur = function recur(y) {\n    var xs = seen.concat([x]);\n    return _includes(y, xs) ? '<Circular>' : _toString(y, xs);\n  };\n\n  //  mapPairs :: (Object, [String]) -> [String]\n  var mapPairs = function (obj, keys) {\n    return _map(function (k) {\n      return _quote(k) + ': ' + recur(obj[k]);\n    }, keys.slice().sort());\n  };\n  switch (Object.prototype.toString.call(x)) {\n    case '[object Arguments]':\n      return '(function() { return arguments; }(' + _map(recur, x).join(', ') + '))';\n    case '[object Array]':\n      return '[' + _map(recur, x).concat(mapPairs(x, reject(function (k) {\n        return /^\\d+$/.test(k);\n      }, keys(x)))).join(', ') + ']';\n    case '[object Boolean]':\n      return typeof x === 'object' ? 'new Boolean(' + recur(x.valueOf()) + ')' : x.toString();\n    case '[object Date]':\n      return 'new Date(' + (isNaN(x.valueOf()) ? recur(NaN) : _quote(_toISOString(x))) + ')';\n    case '[object Map]':\n      return 'new Map(' + recur(Array.from(x)) + ')';\n    case '[object Null]':\n      return 'null';\n    case '[object Number]':\n      return typeof x === 'object' ? 'new Number(' + recur(x.valueOf()) + ')' : 1 / x === -Infinity ? '-0' : x.toString(10);\n    case '[object Set]':\n      return 'new Set(' + recur(Array.from(x).sort()) + ')';\n    case '[object String]':\n      return typeof x === 'object' ? 'new String(' + recur(x.valueOf()) + ')' : _quote(x);\n    case '[object Undefined]':\n      return 'undefined';\n    default:\n      if (typeof x.toString === 'function') {\n        var repr = x.toString();\n        if (repr !== '[object Object]') {\n          return repr;\n        }\n      }\n      return '{' + mapPairs(x, keys(x)).join(', ') + '}';\n  }\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _toString from \"./internal/_toString.js\";\n\n/**\n * Returns the string representation of the given value. `eval`'ing the output\n * should result in a value equivalent to the input value. Many of the built-in\n * `toString` methods do not satisfy this requirement.\n *\n * If the given value is an `[object Object]` with a `toString` method other\n * than `Object.prototype.toString`, this method is invoked with no arguments\n * to produce the return value. This means user-defined constructor functions\n * can provide a suitable `toString` method. For example:\n *\n *     function Point(x, y) {\n *       this.x = x;\n *       this.y = y;\n *     }\n *\n *     Point.prototype.toString = function() {\n *       return 'new Point(' + this.x + ', ' + this.y + ')';\n *     };\n *\n *     R.toString(new Point(1, 2)); //=> 'new Point(1, 2)'\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category String\n * @sig * -> String\n * @param {*} val\n * @return {String}\n * @example\n *\n *      R.toString(42); //=> '42'\n *      R.toString('abc'); //=> '\"abc\"'\n *      R.toString([1, 2, 3]); //=> '[1, 2, 3]'\n *      R.toString({foo: 1, bar: 2, baz: 3}); //=> '{\"bar\": 2, \"baz\": 3, \"foo\": 1}'\n *      R.toString(new Date('2001-02-03T04:05:06Z')); //=> 'new Date(\"2001-02-03T04:05:06.000Z\")'\n */\nvar toString = /*#__PURE__*/_curry1(function toString(val) {\n  return _toString(val, []);\n});\nexport default toString;", "import _curry2 from \"./internal/_curry2.js\";\nimport toString from \"./toString.js\";\n\n/**\n * Returns the larger of its two arguments.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> a\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @see R.maxBy, R.min\n * @example\n *\n *      R.max(789, 123); //=> 789\n *      R.max('a', 'b'); //=> 'b'\n */\nvar max = /*#__PURE__*/_curry2(function max(a, b) {\n  if (a === b) {\n    return b;\n  }\n  function safeMax(x, y) {\n    if (x > y !== y > x) {\n      return y > x ? y : x;\n    }\n    return undefined;\n  }\n  var maxByValue = safeMax(a, b);\n  if (maxByValue !== undefined) {\n    return maxByValue;\n  }\n  var maxByType = safeMax(typeof a, typeof b);\n  if (maxByType !== undefined) {\n    return maxByType === typeof a ? a : b;\n  }\n  var stringA = toString(a);\n  var maxByStringValue = safeMax(stringA, toString(b));\n  if (maxByStringValue !== undefined) {\n    return maxByStringValue === stringA ? a : b;\n  }\n  return b;\n});\nexport default max;", "import _xfBase from \"./_xfBase.js\";\nvar XMap = /*#__PURE__*/function () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n  return XMap;\n}();\nvar _xmap = function _xmap(f) {\n  return function (xf) {\n    return new XMap(f, xf);\n  };\n};\nexport default _xmap;", "import _arrayReduce from \"./internal/_arrayReduce.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _map from \"./internal/_map.js\";\nimport _xmap from \"./internal/_xmap.js\";\nimport curryN from \"./curryN.js\";\nimport keys from \"./keys.js\";\n\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex, R.pluck, R.project\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\nvar map = /*#__PURE__*/_curry2( /*#__PURE__*/_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n    case '[object Object]':\n      return _arrayReduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n    default:\n      return _map(fn, functor);\n  }\n}));\nexport default map;", "/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nexport default Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};", "export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}", "import _isString from \"./_isString.js\";\nexport default function _nth(offset, list) {\n  var idx = offset < 0 ? list.length + offset : offset;\n  return _isString(list) ? list.charAt(idx) : list[idx];\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport _nth from \"./internal/_nth.js\";\n\n/**\n * Returns a function that when supplied an object returns the indicated\n * property of that object, if it exists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx -> {s: a} -> a | Undefined\n * @param {String|Number} p The property name or array index\n * @param {Object} obj The object to query\n * @return {*} The value at `obj.p`.\n * @see R.path, R.props, R.pluck, R.project, R.nth\n * @example\n *\n *      R.prop('x', {x: 100}); //=> 100\n *      R.prop('x', {}); //=> undefined\n *      R.prop(0, [100]); //=> 100\n *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n */\n\nvar prop = /*#__PURE__*/_curry2(function prop(p, obj) {\n  if (obj == null) {\n    return;\n  }\n  return _isInteger(p) ? _nth(p, obj) : obj[p];\n});\nexport default prop;", "import _curry2 from \"./internal/_curry2.js\";\nimport map from \"./map.js\";\nimport prop from \"./prop.js\";\n\n/**\n * Returns a new list by plucking the same named property off all objects in\n * the list supplied.\n *\n * `pluck` will work on\n * any [functor](https://github.com/fantasyland/fantasy-land#functor) in\n * addition to arrays, as it is equivalent to `R.map(R.prop(k), f)`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => k -> f {k: v} -> f v\n * @param {Number|String} key The key name to pluck off of each object.\n * @param {Array} f The array or functor to consider.\n * @return {Array} The list of values for the given key.\n * @see R.project, R.prop, R.props\n * @example\n *\n *      var getAges = R.pluck('age');\n *      getAges([{name: 'fred', age: 29}, {name: 'wilma', age: 27}]); //=> [29, 27]\n *\n *      R.pluck(0, [[1, 2], [3, 4]]);               //=> [1, 3]\n *      R.pluck('val', {a: {val: 3}, b: {val: 5}}); //=> {a: 3, b: 5}\n * @symb R.pluck('x', [{x: 1, y: 2}, {x: 3, y: 4}, {x: 5, y: 6}]) = [1, 3, 5]\n * @symb R.pluck(0, [[1, 2], [3, 4], [5, 6]]) = [1, 3, 5]\n */\nvar pluck = /*#__PURE__*/_curry2(function pluck(p, list) {\n  return map(prop(p), list);\n});\nexport default pluck;", "import _curry1 from \"./_curry1.js\";\nimport _isArray from \"./_isArray.js\";\nimport _isString from \"./_isString.js\";\n\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @private\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      _isArrayLike([]); //=> true\n *      _isArrayLike(true); //=> false\n *      _isArrayLike({}); //=> false\n *      _isArrayLike({length: 10}); //=> false\n *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n *      _isArrayLike({nodeType: 1, length: 1}) // => false\n */\nvar _isArrayLike = /*#__PURE__*/_curry1(function isArrayLike(x) {\n  if (_isArray(x)) {\n    return true;\n  }\n  if (!x) {\n    return false;\n  }\n  if (typeof x !== 'object') {\n    return false;\n  }\n  if (_isString(x)) {\n    return false;\n  }\n  if (x.length === 0) {\n    return true;\n  }\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n  return false;\n});\nexport default _isArrayLike;", "import _isArrayLike from \"./_isArrayLike.js\";\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\nexport default function _createReduce(arrayReduce, methodReduce, iterableReduce) {\n  return function _reduce(xf, acc, list) {\n    if (_isArrayLike(list)) {\n      return arrayReduce(xf, acc, list);\n    }\n    if (list == null) {\n      return acc;\n    }\n    if (typeof list['fantasy-land/reduce'] === 'function') {\n      return methodReduce(xf, acc, list, 'fantasy-land/reduce');\n    }\n    if (list[symIterator] != null) {\n      return iterableReduce(xf, acc, list[symIterator]());\n    }\n    if (typeof list.next === 'function') {\n      return iterableReduce(xf, acc, list);\n    }\n    if (typeof list.reduce === 'function') {\n      return methodReduce(xf, acc, list, 'reduce');\n    }\n    throw new TypeError('reduce: list must be array or iterable');\n  };\n}", "export default function _xArrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n    idx += 1;\n  }\n  return xf['@@transducer/result'](acc);\n}", "import _arity from \"./internal/_arity.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n * @see R.partial\n * @example\n *\n *      const log = R.bind(console.log, console);\n *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n *      // logs {a: 2}\n * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n */\nvar bind = /*#__PURE__*/_curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function () {\n    return fn.apply(thisObj, arguments);\n  });\n});\nexport default bind;", "import _createReduce from \"./_createReduce.js\";\nimport _xArrayReduce from \"./_xArrayReduce.js\";\nimport bind from \"../bind.js\";\nfunction _xIterableReduce(xf, acc, iter) {\n  var step = iter.next();\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n    step = iter.next();\n  }\n  return xf['@@transducer/result'](acc);\n}\nfunction _xMethodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\nvar _xReduce = /*#__PURE__*/_createReduce(_xArrayReduce, _xMethodReduce, _xIterableReduce);\nexport default _xReduce;", "var XWrap = /*#__PURE__*/function () {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n  XWrap.prototype['@@transducer/init'] = function () {\n    throw new Error('init not implemented on XWrap');\n  };\n  XWrap.prototype['@@transducer/result'] = function (acc) {\n    return acc;\n  };\n  XWrap.prototype['@@transducer/step'] = function (acc, x) {\n    return this.f(acc, x);\n  };\n  return XWrap;\n}();\nexport default function _xwrap(fn) {\n  return new XWrap(fn);\n}", "import _curry3 from \"./internal/_curry3.js\";\nimport _xReduce from \"./internal/_xReduce.js\";\nimport _xwrap from \"./internal/_xwrap.js\";\n\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to shortcut the iteration.\n *\n * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function\n * is *(value, acc)*.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduce` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n *\n * Be cautious of mutating and returning the accumulator. If you reuse it across\n * invocations, it will continue to accumulate onto the same value. The general\n * recommendation is to always return a new value. If you can't do so for\n * performance reasons, then be sure to reinitialize the accumulator on each\n * invocation.\n *\n * Dispatches to the `reduce` method of the third argument, if present. When\n * doing so, it is up to the user to handle the [`R.reduced`](#reduced)\n * shortcuting, as this is not implemented by `reduce`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduced, R.addIndex, R.reduceRight\n * @example\n *\n *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10\n *      //          -               -10\n *      //         / \\              / \\\n *      //        -   4           -6   4\n *      //       / \\              / \\\n *      //      -   3   ==>     -3   3\n *      //     / \\              / \\\n *      //    -   2           -1   2\n *      //   / \\              / \\\n *      //  0   1            0   1\n *\n * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)\n */\nvar reduce = /*#__PURE__*/_curry3(function (xf, acc, list) {\n  return _xReduce(typeof xf === 'function' ? _xwrap(xf) : xf, acc, list);\n});\nexport default reduce;", "import _curry1 from \"./internal/_curry1.js\";\n\n/**\n * Returns a function that always returns the given value. Note that for\n * non-primitives the value returned is a reference to the original value.\n *\n * This function is known as `const`, `constant`, or `K` (for K combinator) in\n * other languages and libraries.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> (* -> a)\n * @param {*} val The value to wrap in a function\n * @return {Function} A Function :: * -> val.\n * @example\n *\n *      const t = R.always('Tee');\n *      t(); //=> 'Tee'\n */\nvar always = /*#__PURE__*/_curry1(function always(val) {\n  return function () {\n    return val;\n  };\n});\nexport default always;", "import _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n\n/**\n * Returns a new list containing the contents of the given list, followed by\n * the given element.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> [a]\n * @param {*} el The element to add to the end of the new list.\n * @param {Array} list The list of elements to add a new item to.\n *        list.\n * @return {Array} A new list containing the elements of the old list followed by `el`.\n * @see R.prepend\n * @example\n *\n *      R.append('tests', ['write', 'more']); //=> ['write', 'more', 'tests']\n *      R.append('tests', []); //=> ['tests']\n *      R.append(['tests'], ['write', 'more']); //=> ['write', 'more', ['tests']]\n */\nvar append = /*#__PURE__*/_curry2(function append(el, list) {\n  return _concat(list, [el]);\n});\nexport default append;", "import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\n\n/**\n * Returns a curried equivalent of the provided function. The curried function\n * has two unusual capabilities. First, its arguments needn't be provided one\n * at a time. If `f` is a ternary function and `g` is `R.curry(f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * Please note that default parameters don't count towards a [function arity](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/length)\n * and therefore `curry` won't work well with those.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> a) -> (* -> a)\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curryN, R.partial\n * @example\n *\n *      const addFourNumbers = (a, b, c, d) => a + b + c + d;\n *      const curriedAddFourNumbers = R.curry(addFourNumbers);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n *\n *      // R.curry not working well with default parameters\n *      const h = R.curry((a, b, c = 2) => a + b + c);\n *      h(1)(2)(7); //=> Error! (`3` is not a function!)\n */\nvar curry = /*#__PURE__*/_curry1(function curry(fn) {\n  return curryN(fn.length, fn);\n});\nexport default curry;", "import _isArray from \"./_isArray.js\";\nimport _isInteger from \"./_isInteger.js\";\n\n/**\n * Makes a shallow clone of an object, setting or overriding the specified\n * property with the given value. Note that this copies and flattens prototype\n * properties onto the new object as well. All non-primitive properties are\n * copied by reference.\n *\n * @private\n * @param {String|Number} prop The property name to set\n * @param {*} val The new value\n * @param {Object|Array} obj The object to clone\n * @return {Object|Array} A new object equivalent to the original except for the changed property.\n */\nexport default function _assoc(prop, val, obj) {\n  if (_isInteger(prop) && _isArray(obj)) {\n    var arr = [].concat(obj);\n    arr[prop] = val;\n    return arr;\n  }\n  var result = {};\n  for (var p in obj) {\n    result[p] = obj[p];\n  }\n  result[prop] = val;\n  return result;\n}", "import _curry1 from \"./internal/_curry1.js\";\n\n/**\n * Checks if the input value is `null` or `undefined`.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Type\n * @sig * -> Boolean\n * @param {*} x The value to test.\n * @return {Boolean} `true` if `x` is `undefined` or `null`, otherwise `false`.\n * @example\n *\n *      R.isNil(null); //=> true\n *      R.isNil(undefined); //=> true\n *      R.isNil(0); //=> false\n *      R.isNil([]); //=> false\n */\nvar isNil = /*#__PURE__*/_curry1(function isNil(x) {\n  return x == null;\n});\nexport default isNil;", "import _curry3 from \"./internal/_curry3.js\";\nimport _has from \"./internal/_has.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport _assoc from \"./internal/_assoc.js\";\nimport isNil from \"./isNil.js\";\n\n/**\n * Makes a shallow clone of an object, setting or overriding the nodes required\n * to create the given path, and placing the specific value at the tail end of\n * that path. Note that this copies and flattens prototype properties onto the\n * new object as well. All non-primitive properties are copied by reference.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> a -> {a} -> {a}\n * @param {Array} path the path to set\n * @param {*} val The new value\n * @param {Object} obj The object to clone\n * @return {Object} A new object equivalent to the original except along the specified path.\n * @see R.dissocPath\n * @example\n *\n *      R.assocPath(['a', 'b', 'c'], 42, {a: {b: {c: 0}}}); //=> {a: {b: {c: 42}}}\n *\n *      // Any missing or non-object keys in path will be overridden\n *      R.assocPath(['a', 'b', 'c'], 42, {a: 5}); //=> {a: {b: {c: 42}}}\n */\nvar assocPath = /*#__PURE__*/_curry3(function assocPath(path, val, obj) {\n  if (path.length === 0) {\n    return val;\n  }\n  var idx = path[0];\n  if (path.length > 1) {\n    var nextObj = !isNil(obj) && _has(idx, obj) && typeof obj[idx] === 'object' ? obj[idx] : _isInteger(path[1]) ? [] : {};\n    val = assocPath(Array.prototype.slice.call(path, 1), val, nextObj);\n  }\n  return _assoc(idx, val, obj);\n});\nexport default assocPath;", "import _curry3 from \"./internal/_curry3.js\";\nimport assocPath from \"./assocPath.js\";\n\n/**\n * Makes a shallow clone of an object, setting or overriding the specified\n * property with the given value. Note that this copies and flattens prototype\n * properties onto the new object as well. All non-primitive properties are\n * copied by reference.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @typedefn Idx = String | Int\n * @sig Idx -> a -> {k: v} -> {k: v}\n * @param {String|Number} prop The property name to set\n * @param {*} val The new value\n * @param {Object} obj The object to clone\n * @return {Object} A new object equivalent to the original except for the changed property.\n * @see R.dissoc, R.pick\n * @example\n *\n *      R.assoc('c', 3, {a: 1, b: 2}); //=> {a: 1, b: 2, c: 3}\n */\nvar assoc = /*#__PURE__*/_curry3(function assoc(prop, val, obj) {\n  return assocPath([prop], val, obj);\n});\nexport default assoc;", "export default function _isFunction(x) {\n  var type = Object.prototype.toString.call(x);\n  return type === '[object Function]' || type === '[object AsyncFunction]' || type === '[object GeneratorFunction]' || type === '[object AsyncGeneratorFunction]';\n}", "import _isArrayLike from \"./_isArrayLike.js\";\n\n/**\n * `_makeFlat` is a helper function that returns a one-level or fully recursive\n * function based on the flag passed in.\n *\n * @private\n */\nexport default function _makeFlat(recursive) {\n  return function flatt(list) {\n    var value, jlen, j;\n    var result = [];\n    var idx = 0;\n    var ilen = list.length;\n    while (idx < ilen) {\n      if (_isArrayLike(list[idx])) {\n        value = recursive ? flatt(list[idx]) : list[idx];\n        j = 0;\n        jlen = value.length;\n        while (j < jlen) {\n          result[result.length] = value[j];\n          j += 1;\n        }\n      } else {\n        result[result.length] = list[idx];\n      }\n      idx += 1;\n    }\n    return result;\n  };\n}", "export default function _forceReduced(x) {\n  return {\n    '@@transducer/value': x,\n    '@@transducer/reduced': true\n  };\n}", "import _forceReduced from \"./_forceReduced.js\";\nimport _isArrayLike from \"./_isArrayLike.js\";\nimport _xArrayReduce from \"./_xArrayReduce.js\";\nimport _xReduce from \"./_xReduce.js\";\nimport _xfBase from \"./_xfBase.js\";\nvar tInit = '@@transducer/init';\nvar tStep = '@@transducer/step';\nvar tResult = '@@transducer/result';\nvar XPreservingReduced = /*#__PURE__*/function () {\n  function XPreservingReduced(xf) {\n    this.xf = xf;\n  }\n  XPreservingReduced.prototype[tInit] = _xfBase.init;\n  XPreservingReduced.prototype[tResult] = _xfBase.result;\n  XPreservingReduced.prototype[tStep] = function (result, input) {\n    var ret = this.xf[tStep](result, input);\n    return ret['@@transducer/reduced'] ? _forceReduced(ret) : ret;\n  };\n  return XPreservingReduced;\n}();\nvar XFlatCat = /*#__PURE__*/function () {\n  function XFlatCat(xf) {\n    this.xf = new XPreservingReduced(xf);\n  }\n  XFlatCat.prototype[tInit] = _xfBase.init;\n  XFlatCat.prototype[tResult] = _xfBase.result;\n  XFlatCat.prototype[tStep] = function (result, input) {\n    return !_isArrayLike(input) ? _xArrayReduce(this.xf, result, [input]) : _xReduce(this.xf, result, input);\n  };\n  return XFlatCat;\n}();\nvar _flatCat = function _xcat(xf) {\n  return new XFlatCat(xf);\n};\nexport default _flatCat;", "import _flatCat from \"./_flatCat.js\";\nimport _xmap from \"./_xmap.js\";\nexport default function _xchain(f) {\n  return function (xf) {\n    return _xmap(f)(_flatCat(xf));\n  };\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _makeFlat from \"./internal/_makeFlat.js\";\nimport _xchain from \"./internal/_xchain.js\";\nimport map from \"./map.js\";\n\n/**\n * `chain` maps a function over a list and concatenates the results. `chain`\n * is also known as `flatMap` in some libraries.\n *\n * Dispatches to the `chain` method of the second argument, if present,\n * according to the [FantasyLand Chain spec](https://github.com/fantasyland/fantasy-land#chain).\n *\n * If second argument is a function, `chain(f, g)(x)` is equivalent to `f(g(x), x)`.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig Chain m => (a -> m b) -> m a -> m b\n * @param {Function} fn The function to map with\n * @param {Array} list The list to map over\n * @return {Array} The result of flat-mapping `list` with `fn`\n * @example\n *\n *      const duplicate = n => [n, n];\n *      R.chain(duplicate, [1, 2, 3]); //=> [1, 1, 2, 2, 3, 3]\n *\n *      R.chain(R.append, R.head)([1, 2, 3]); //=> [1, 2, 3, 1]\n */\nvar chain = /*#__PURE__*/_curry2( /*#__PURE__*/_dispatchable(['fantasy-land/chain', 'chain'], _xchain, function chain(fn, monad) {\n  if (typeof monad === 'function') {\n    return function (x) {\n      return fn(monad(x))(x);\n    };\n  }\n  return _makeFlat(false)(map(fn, monad));\n}));\nexport default chain;", "export default function _pipe(f, g) {\n  return function () {\n    return g.call(this, f.apply(this, arguments));\n  };\n}", "import _isArray from \"./_isArray.js\";\n\n/**\n * This checks whether a function has a [methodname] function. If it isn't an\n * array it will execute that function otherwise it will default to the ramda\n * implementation.\n *\n * @private\n * @param {Function} fn ramda implementation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\nexport default function _checkForMethod(methodname, fn) {\n  return function () {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, Array.prototype.slice.call(arguments, 0, length - 1));\n  };\n}", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry3 from \"./internal/_curry3.js\";\n\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\nvar slice = /*#__PURE__*/_curry3( /*#__PURE__*/_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\nexport default slice;", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport slice from \"./slice.js\";\n\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.head, R.init, R.last\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\nvar tail = /*#__PURE__*/_curry1( /*#__PURE__*/_checkForMethod('tail', /*#__PURE__*/slice(1, Infinity)));\nexport default tail;", "import _arity from \"./internal/_arity.js\";\nimport _pipe from \"./internal/_pipe.js\";\nimport reduce from \"./reduce.js\";\nimport tail from \"./tail.js\";\n\n/**\n * Performs left-to-right function composition. The first argument may have\n * any arity; the remaining arguments must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * **Note:** The result of pipe is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      const f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n * @symb R.pipe(f, g, h)(a, b) = h(g(f(a, b)))\n * @symb R.pipe(f, g, h)(a)(b) = h(g(f(a)))(b)\n */\nexport default function pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n  return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));\n}", "export default function _identity(x) {\n  return x;\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _identity from \"./internal/_identity.js\";\n\n/**\n * A function that does nothing but return the parameter supplied to it. Good\n * as a default or placeholder function.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> a\n * @param {*} x The value to return.\n * @return {*} The input value, `x`.\n * @example\n *\n *      R.identity(1); //=> 1\n *\n *      const obj = {};\n *      R.identity(obj) === obj; //=> true\n * @symb R.identity(a) = a\n */\nvar identity = /*#__PURE__*/_curry1(_identity);\nexport default identity;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport _isString from \"./internal/_isString.js\";\nimport toString from \"./toString.js\";\n\n/**\n * Returns the result of concatenating the given lists or strings.\n *\n * Note: `R.concat` expects both arguments to be of the same type,\n * unlike the native `Array.prototype.concat` method. It will throw\n * an error if you `concat` an Array with a non-Array value.\n *\n * Dispatches to the `concat` method of the first argument, if present.\n * Can also concatenate two members of a [fantasy-land\n * compatible semigroup](https://github.com/fantasyland/fantasy-land#semigroup).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a] -> [a]\n * @sig String -> String -> String\n * @param {Array|String} firstList The first list\n * @param {Array|String} secondList The second list\n * @return {Array|String} A list consisting of the elements of `firstList` followed by the elements of\n * `secondList`.\n *\n * @example\n *\n *      R.concat('ABC', 'DEF'); // 'ABCDEF'\n *      R.concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n *      R.concat([], []); //=> []\n */\nvar concat = /*#__PURE__*/_curry2(function concat(a, b) {\n  if (_isArray(a)) {\n    if (_isArray(b)) {\n      return a.concat(b);\n    }\n    throw new TypeError(toString(b) + ' is not an array');\n  }\n  if (_isString(a)) {\n    if (_isString(b)) {\n      return a + b;\n    }\n    throw new TypeError(toString(b) + ' is not a string');\n  }\n  if (a != null && _isFunction(a['fantasy-land/concat'])) {\n    return a['fantasy-land/concat'](b);\n  }\n  if (a != null && _isFunction(a.concat)) {\n    return a.concat(b);\n  }\n  throw new TypeError(toString(a) + ' does not have a method named \"concat\" or \"fantasy-land/concat\"');\n});\nexport default concat;", "import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport map from \"./map.js\";\nimport max from \"./max.js\";\nimport reduce from \"./reduce.js\";\n\n/**\n * Returns a function, `fn`, which encapsulates `if/else, if/else, ...` logic.\n * `R.cond` takes a list of [predicate, transformer] pairs. All of the arguments\n * to `fn` are applied to each of the predicates in turn until one returns a\n * \"truthy\" value, at which point `fn` returns the result of applying its\n * arguments to the corresponding transformer. If none of the predicates\n * matches, `fn` returns undefined.\n *\n * **Please note**: This is not a direct substitute for a `switch` statement.\n * Remember that both elements of every pair passed to `cond` are *functions*,\n * and `cond` returns a function.\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Logic\n * @sig [[(*... -> Boolean),(*... -> *)]] -> (*... -> *)\n * @param {Array} pairs A list of [predicate, transformer]\n * @return {Function}\n * @see R.ifElse, R.unless, R.when\n * @example\n *\n *      const fn = R.cond([\n *        [R.equals(0),   R.always('water freezes at 0\u00B0C')],\n *        [R.equals(100), R.always('water boils at 100\u00B0C')],\n *        [R.T,           temp => 'nothing special happens at ' + temp + '\u00B0C']\n *      ]);\n *      fn(0); //=> 'water freezes at 0\u00B0C'\n *      fn(50); //=> 'nothing special happens at 50\u00B0C'\n *      fn(100); //=> 'water boils at 100\u00B0C'\n */\nvar cond = /*#__PURE__*/_curry1(function cond(pairs) {\n  var arity = reduce(max, 0, map(function (pair) {\n    return pair[0].length;\n  }, pairs));\n  return _arity(arity, function () {\n    var idx = 0;\n    while (idx < pairs.length) {\n      if (pairs[idx][0].apply(this, arguments)) {\n        return pairs[idx][1].apply(this, arguments);\n      }\n      idx += 1;\n    }\n  });\n});\nexport default cond;", "import _curry2 from \"./internal/_curry2.js\";\nimport _map from \"./internal/_map.js\";\nimport curryN from \"./curryN.js\";\nimport max from \"./max.js\";\nimport pluck from \"./pluck.js\";\nimport reduce from \"./reduce.js\";\n\n/**\n * Accepts a converging function and a list of branching functions and returns\n * a new function. The arity of the new function is the same as the arity of\n * the longest branching function. When invoked, this new function is applied\n * to some arguments, and each branching function is applied to those same\n * arguments. The results of each branching function are passed as arguments\n * to the converging function to produce the return value.\n *\n * @func\n * @memberOf R\n * @since v0.4.2\n * @category Function\n * @sig ((x1, x2, ...) -> z) -> [((a, b, ...) -> x1), ((a, b, ...) -> x2), ...] -> (a -> b -> ... -> z)\n * @param {Function} after A function. `after` will be invoked with the return values of\n *        `fn1` and `fn2` as its arguments.\n * @param {Array} functions A list of functions.\n * @return {Function} A new function.\n * @see R.useWith\n * @example\n *\n *      const average = R.converge(R.divide, [R.sum, R.length])\n *      average([1, 2, 3, 4, 5, 6, 7]) //=> 4\n *\n *      const strangeConcat = R.converge(R.concat, [R.toUpper, R.toLower])\n *      strangeConcat(\"Yodel\") //=> \"YODELyodel\"\n *\n * @symb R.converge(f, [g, h])(a, b) = f(g(a, b), h(a, b))\n */\nvar converge = /*#__PURE__*/_curry2(function converge(after, fns) {\n  return curryN(reduce(max, 0, pluck('length', fns)), function () {\n    var args = arguments;\n    var context = this;\n    return after.apply(context, _map(function (fn) {\n      return fn.apply(context, args);\n    }, fns));\n  });\n});\nexport default converge;", "import _curry2 from \"./internal/_curry2.js\";\n\n/**\n * Returns the second argument if it is not `null`, `undefined` or `NaN`;\n * otherwise the first argument is returned.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Logic\n * @sig a -> b -> a | b\n * @param {a} default The default value.\n * @param {b} val `val` will be returned instead of `default` unless `val` is `null`, `undefined` or `NaN`.\n * @return {*} The second value if it is not `null`, `undefined` or `NaN`, otherwise the default value\n * @example\n *\n *      const defaultTo42 = R.defaultTo(42);\n *\n *      defaultTo42(null);  //=> 42\n *      defaultTo42(undefined);  //=> 42\n *      defaultTo42(false);  //=> false\n *      defaultTo42('Ramda');  //=> 'Ramda'\n *      // parseInt('string') results in NaN\n *      defaultTo42(parseInt('string')); //=> 42\n */\nvar defaultTo = /*#__PURE__*/_curry2(function defaultTo(d, v) {\n  return v == null || v !== v ? d : v;\n});\nexport default defaultTo;", "import _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\nvar XFind = /*#__PURE__*/function () {\n  function XFind(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.found = false;\n  }\n  XFind.prototype['@@transducer/init'] = _xfBase.init;\n  XFind.prototype['@@transducer/result'] = function (result) {\n    if (!this.found) {\n      result = this.xf['@@transducer/step'](result, void 0);\n    }\n    return this.xf['@@transducer/result'](result);\n  };\n  XFind.prototype['@@transducer/step'] = function (result, input) {\n    if (this.f(input)) {\n      this.found = true;\n      result = _reduced(this.xf['@@transducer/step'](result, input));\n    }\n    return result;\n  };\n  return XFind;\n}();\nexport default function _xfind(f) {\n  return function (xf) {\n    return new XFind(f, xf);\n  };\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xfind from \"./internal/_xfind.js\";\n\n/**\n * Returns the first element of the list which matches the predicate, or\n * `undefined` if no element matches.\n *\n * Dispatches to the `find` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> a | undefined\n * @param {Function} fn The predicate function used to determine if the element is the\n *        desired one.\n * @param {Array} list The array to consider.\n * @return {Object} The element found, or `undefined`.\n * @see R.transduce\n * @example\n *\n *      const xs = [{a: 1}, {a: 2}, {a: 3}];\n *      R.find(R.propEq(2, 'a'))(xs); //=> {a: 2}\n *      R.find(R.propEq(4, 'a'))(xs); //=> undefined\n */\nvar find = /*#__PURE__*/_curry2( /*#__PURE__*/_dispatchable(['find'], _xfind, function find(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  while (idx < len) {\n    if (fn(list[idx])) {\n      return list[idx];\n    }\n    idx += 1;\n  }\n}));\nexport default find;", "import _curry2 from \"./internal/_curry2.js\";\nimport _has from \"./internal/_has.js\";\nimport isNil from \"./isNil.js\";\n\n/**\n * Returns whether or not a path exists in an object. Only the object's\n * own properties are checked.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> {a} -> Boolean\n * @param {Array} path The path to use.\n * @param {Object} obj The object to check the path in.\n * @return {Boolean} Whether the path exists.\n * @see R.has\n * @example\n *\n *      R.hasPath(['a', 'b'], {a: {b: 2}});         // => true\n *      R.hasPath(['a', 'b'], {a: {b: undefined}}); // => true\n *      R.hasPath(['a', 'b'], {a: {c: 2}});         // => false\n *      R.hasPath(['a', 'b'], {});                  // => false\n */\nvar hasPath = /*#__PURE__*/_curry2(function hasPath(_path, obj) {\n  if (_path.length === 0 || isNil(obj)) {\n    return false;\n  }\n  var val = obj;\n  var idx = 0;\n  while (idx < _path.length) {\n    if (!isNil(val) && _has(_path[idx], val)) {\n      val = val[_path[idx]];\n      idx += 1;\n    } else {\n      return false;\n    }\n  }\n  return true;\n});\nexport default hasPath;", "import _curry2 from \"./internal/_curry2.js\";\nimport hasPath from \"./hasPath.js\";\n\n/**\n * Returns whether or not an object has an own property with the specified name\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Object\n * @sig s -> {s: x} -> Boolean\n * @param {String} prop The name of the property to check for.\n * @param {Object} obj The object to query.\n * @return {Boolean} Whether the property exists.\n * @example\n *\n *      const hasName = R.has('name');\n *      hasName({name: 'alice'});   //=> true\n *      hasName({name: 'bob'});     //=> true\n *      hasName({});                //=> false\n *\n *      const point = {x: 0, y: 0};\n *      const pointHas = R.has(R.__, point);\n *      pointHas('x');  //=> true\n *      pointHas('y');  //=> true\n *      pointHas('z');  //=> false\n */\nvar has = /*#__PURE__*/_curry2(function has(prop, obj) {\n  return hasPath([prop], obj);\n});\nexport default has;", "import _curry3 from \"./internal/_curry3.js\";\nimport curryN from \"./curryN.js\";\n\n/**\n * Creates a function that will process either the `onTrue` or the `onFalse`\n * function depending upon the result of the `condition` predicate.\n *\n * Note that `ifElse` takes its arity from the longest of the three functions passed to it.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Logic\n * @sig (*... -> Boolean) -> (*... -> *) -> (*... -> *) -> (*... -> *)\n * @param {Function} condition A predicate function\n * @param {Function} onTrue A function to invoke when the `condition` evaluates to a truthy value.\n * @param {Function} onFalse A function to invoke when the `condition` evaluates to a falsy value.\n * @return {Function} A new function that will process either the `onTrue` or the `onFalse`\n *                    function depending upon the result of the `condition` predicate.\n * @see R.unless, R.when, R.cond\n * @example\n *\n *      const incCount = R.ifElse(\n *        R.has('count'),\n *        R.over(R.lensProp('count'), R.inc),\n *        R.assoc('count', 1)\n *      );\n *      incCount({ count: 1 }); //=> { count: 2 }\n *      incCount({});           //=> { count: 1 }\n */\nvar ifElse = /*#__PURE__*/_curry3(function ifElse(condition, onTrue, onFalse) {\n  return curryN(Math.max(condition.length, onTrue.length, onFalse.length), function _ifElse() {\n    return condition.apply(this, arguments) ? onTrue.apply(this, arguments) : onFalse.apply(this, arguments);\n  });\n});\nexport default ifElse;", "import _includes from \"./internal/_includes.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n\n/**\n * Returns `true` if the specified value is equal, in [`R.equals`](#equals)\n * terms, to at least one element of the given list; `false` otherwise.\n * Also works with strings.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category List\n * @sig a -> [a] -> Boolean\n * @param {Object} a The item to compare against.\n * @param {Array} list The array to consider.\n * @return {Boolean} `true` if an equivalent item is in the list, `false` otherwise.\n * @see R.any\n * @example\n *\n *      R.includes(3, [1, 2, 3]); //=> true\n *      R.includes(4, [1, 2, 3]); //=> false\n *      R.includes({ name: 'Fred' }, [{ name: 'Fred' }]); //=> true\n *      R.includes([42], [[42]]); //=> true\n *      R.includes('ba', 'banana'); //=>true\n */\nvar includes = /*#__PURE__*/_curry2(_includes);\nexport default includes;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport curryN from \"./curryN.js\";\nimport toString from \"./toString.js\";\n\n/**\n * Given an `arity` (Number) and a `name` (String) the `invoker` function\n * returns a curried function that takes `arity` arguments and a `context`\n * object. It will \"invoke\" the `name`'d function (a method) on the `context`\n * object.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig Number -> String -> (a -> b -> ... -> n -> Object -> *)\n * @param {Number} arity Number of arguments the returned function should take\n *        before the target object.\n * @param {String} method Name of any of the target object's methods to call.\n * @return {Function} A new curried function.\n * @see R.construct\n * @example\n *      // A function with no arguments\n *      const asJson = invoker(0, \"json\")\n *      // Just like calling .then((response) => response.json())\n *      fetch(\"http://example.com/index.json\").then(asJson)\n *\n *      // A function with one argument\n *      const sliceFrom = invoker(1, 'slice');\n *      sliceFrom(6, 'abcdefghijklm'); //=> 'ghijklm'\n *\n *      // A function with two arguments\n *      const sliceFrom6 = invoker(2, 'slice')(6);\n *      sliceFrom6(8, 'abcdefghijklm'); //=> 'gh'\n *\n *      // NOTE: You can't simply pass some of the arguments to the initial invoker function.\n *      const firstCreditCardSection = invoker(2, \"slice\", 0, 4)\n *      firstCreditCardSection(\"4242 4242 4242 4242\") // => Function<...>\n *\n *      // Since invoker returns a curried function, you may partially apply it to create the function you need.\n *      const firstCreditCardSection = invoker(2, \"slice\")(0, 4)\n *      firstCreditCardSection(\"4242 4242 4242 4242\") // => \"4242\"\n *\n * @symb R.invoker(0, 'method')(o) = o['method']()\n * @symb R.invoker(1, 'method')(a, o) = o['method'](a)\n * @symb R.invoker(2, 'method')(a, b, o) = o['method'](a, b)\n */\nvar invoker = /*#__PURE__*/_curry2(function invoker(arity, method) {\n  return curryN(arity + 1, function () {\n    var target = arguments[arity];\n    if (target != null && _isFunction(target[method])) {\n      return target[method].apply(target, Array.prototype.slice.call(arguments, 0, arity));\n    }\n    throw new TypeError(toString(target) + ' does not have a method named \"' + method + '\"');\n  });\n});\nexport default invoker;", "import _curry2 from \"./internal/_curry2.js\";\n\n/**\n * See if an object (i.e. `val`) is an instance of the supplied constructor. This\n * function will check up the inheritance chain, if any.\n * If `val` was created using `Object.create`, `R.is(Object, val) === true`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Type\n * @sig (* -> {*}) -> a -> Boolean\n * @param {Object} ctor A constructor\n * @param {*} val The value to test\n * @return {Boolean}\n * @example\n *\n *      R.is(Object, {}); //=> true\n *      R.is(Number, 1); //=> true\n *      R.is(Object, 1); //=> false\n *      R.is(String, 's'); //=> true\n *      R.is(String, new String('')); //=> true\n *      R.is(Object, new String('')); //=> true\n *      R.is(Object, 's'); //=> false\n *      R.is(Number, {}); //=> false\n */\nvar is = /*#__PURE__*/_curry2(function is(Ctor, val) {\n  return val instanceof Ctor || val != null && (val.constructor === Ctor || Ctor.name === 'Object' && typeof val === 'object');\n});\nexport default is;", "import isNil from \"./isNil.js\";\nimport _curry1 from \"./internal/_curry1.js\";\n\n/**\n * Checks if the input value is not `null` and not `undefined`.\n *\n * @func\n * @memberOf R\n * @since v0.29.0\n * @category Type\n * @sig * -> Boolean\n * @param {*} x The value to test.\n * @return {Boolean} `true` if `x` is not `undefined` or not `null`, otherwise `false`.\n * @example\n *\n *      R.isNotNil(null); //=> false\n *      R.isNotNil(undefined); //=> false\n *      R.isNotNil(0); //=> true\n *      R.isNotNil([]); //=> true\n */\nvar isNotNil = /*#__PURE__*/_curry1(function isNotNil(x) {\n  return !isNil(x);\n});\nexport default isNotNil;", "import invoker from \"./invoker.js\";\n\n/**\n * Returns a string made by inserting the `separator` between each element and\n * concatenating all the elements into a single string.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig String -> [a] -> String\n * @param {Number|String} separator The string used to separate the elements.\n * @param {Array} xs The elements to join into a string.\n * @return {String} str The string made by concatenating `xs` with `separator`.\n * @see R.split\n * @example\n *\n *      const spacer = R.join(' ');\n *      spacer(['a', 2, 3.4]);   //=> 'a 2 3.4'\n *      R.join('|', [1, 2, 3]);    //=> '1|2|3'\n */\nvar join = /*#__PURE__*/invoker(1, 'join');\nexport default join;", "import _curry1 from \"./internal/_curry1.js\";\nimport converge from \"./converge.js\";\n\n/**\n * juxt applies a list of functions to a list of values.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Function\n * @sig [(a, b, ..., m) -> n] -> ((a, b, ..., m) -> [n])\n * @param {Array} fns An array of functions\n * @return {Function} A function that returns a list of values after applying each of the original `fns` to its parameters.\n * @see R.applySpec\n * @example\n *\n *      const getRange = R.juxt([Math.min, Math.max]);\n *      getRange(3, 4, 9, -3); //=> [-3, 9]\n * @symb R.juxt([f, g, h])(a, b) = [f(a, b), g(a, b), h(a, b)]\n */\nvar juxt = /*#__PURE__*/_curry1(function juxt(fns) {\n  return converge(function () {\n    return Array.prototype.slice.call(arguments, 0);\n  }, fns);\n});\nexport default juxt;", "import _isInteger from \"./_isInteger.js\";\nimport _nth from \"./_nth.js\";\nexport default function _path(pathAr, obj) {\n  var val = obj;\n  for (var i = 0; i < pathAr.length; i += 1) {\n    if (val == null) {\n      return undefined;\n    }\n    var p = pathAr[i];\n    if (_isInteger(p)) {\n      val = _nth(p, val);\n    } else {\n      val = val[p];\n    }\n  }\n  return val;\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _path from \"./internal/_path.js\";\n\n/**\n * Retrieves the value at a given path. The nodes of the path can be arbitrary strings or non-negative integers.\n * For anything else, the value is unspecified. Integer paths are meant to index arrays, strings are meant for objects.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> {a} -> a | Undefined\n * @sig Idx = String | NonNegativeInt\n * @param {Array} path The path to use.\n * @param {Object} obj The object or array to retrieve the nested property from.\n * @return {*} The data at `path`.\n * @see R.prop, R.nth, R.assocPath, R.dissocPath\n * @example\n *\n *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n *      R.path(['a', 'b', 0], {a: {b: [1, 2, 3]}}); //=> 1\n *      R.path(['a', 'b', -2], {a: {b: [1, 2, 3]}}); //=> 2\n *      R.path([2], {'2': 2}); //=> 2\n *      R.path([-2], {'-2': 'a'}); //=> undefined\n */\n\nvar path = /*#__PURE__*/_curry2(_path);\nexport default path;", "import _curry3 from \"./internal/_curry3.js\";\nimport prop from \"./prop.js\";\nimport equals from \"./equals.js\";\n\n/**\n * Returns `true` if the specified object property is equal, in\n * [`R.equals`](#equals) terms, to the given value; `false` otherwise.\n * You can test multiple properties with [`R.whereEq`](#whereEq),\n * and test nested path property with [`R.pathEq`](#pathEq).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig a -> String -> Object -> Boolean\n * @param {*} val The value to compare the property with\n * @param {String} name the specified object property's key\n * @param {*} obj The object to check the property in\n * @return {Boolean} `true` if the value equals the specified object property,\n *         `false` otherwise.\n * @see R.whereEq, R.pathEq, R.propSatisfies, R.equals\n * @example\n *\n *      const abby = {name: 'Abby', age: 7, hair: 'blond'};\n *      const fred = {name: 'Fred', age: 12, hair: 'brown'};\n *      const rusty = {name: 'Rusty', age: 10, hair: 'brown'};\n *      const alois = {name: 'Alois', age: 15, disposition: 'surly'};\n *      const kids = [abby, fred, rusty, alois];\n *      const hasBrownHair = R.propEq('brown', 'hair');\n *      R.filter(hasBrownHair, kids); //=> [fred, rusty]\n */\nvar propEq = /*#__PURE__*/_curry3(function propEq(val, name, obj) {\n  return equals(val, prop(name, obj));\n});\nexport default propEq;", "import _curry3 from \"./internal/_curry3.js\";\nimport defaultTo from \"./defaultTo.js\";\nimport prop from \"./prop.js\";\n\n/**\n * Return the specified property of the given non-null object if the property\n * is present and it's value is not `null`, `undefined` or `NaN`.\n *\n * Otherwise the first argument is returned.\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Object\n * @sig a -> String -> Object -> a\n * @param {*} val The default value.\n * @param {String} p The name of the property to return.\n * @param {Object} obj The object to query.\n * @return {*} The value of given property of the supplied object or the default value.\n * @example\n *\n *      const alice = {\n *        name: 'ALICE',\n *        age: 101\n *      };\n *      const favorite = R.prop('favoriteLibrary');\n *      const favoriteWithDefault = R.propOr('Ramda', 'favoriteLibrary');\n *\n *      favorite(alice);  //=> undefined\n *      favoriteWithDefault(alice);  //=> 'Ramda'\n */\nvar propOr = /*#__PURE__*/_curry3(function propOr(val, p, obj) {\n  return defaultTo(val, prop(p, obj));\n});\nexport default propOr;", "import _xfBase from \"./_xfBase.js\";\nvar XTap = /*#__PURE__*/function () {\n  function XTap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XTap.prototype['@@transducer/init'] = _xfBase.init;\n  XTap.prototype['@@transducer/result'] = _xfBase.result;\n  XTap.prototype['@@transducer/step'] = function (result, input) {\n    this.f(input);\n    return this.xf['@@transducer/step'](result, input);\n  };\n  return XTap;\n}();\nexport default function _xtap(f) {\n  return function (xf) {\n    return new XTap(f, xf);\n  };\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xtap from \"./internal/_xtap.js\";\n\n/**\n * Runs the given function with the supplied object, then returns the object.\n *\n * Acts as a transducer if a transformer is given as second parameter.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (a -> *) -> a -> a\n * @param {Function} fn The function to call with `x`. The return value of `fn` will be thrown away.\n * @param {*} x\n * @return {*} `x`.\n * @example\n *\n *      const sayX = x => console.log('x is ' + x);\n *      R.tap(sayX, 100); //=> 100\n *      // logs 'x is 100'\n * @symb R.tap(f, a) = (f(a), a)\n */\nvar tap = /*#__PURE__*/_curry2( /*#__PURE__*/_dispatchable([], _xtap, function tap(fn, x) {\n  fn(x);\n  return x;\n}));\nexport default tap;", "/**\n * @module LRUCache\n */\n\n// module-private names and types\ntype Perf = { now: () => number }\nconst perf: Perf =\n  typeof performance === 'object' &&\n  performance &&\n  typeof performance.now === 'function'\n    ? performance\n    : Date\n\nconst warned = new Set<string>()\n\n// either a function or a class\ntype ForC = ((...a: any[]) => any) | { new (...a: any[]): any }\n\n/* c8 ignore start */\nconst PROCESS = (\n  typeof process === 'object' && !!process ? process : {}\n) as { [k: string]: any }\n/* c8 ignore start */\n\nconst emitWarning = (\n  msg: string,\n  type: string,\n  code: string,\n  fn: ForC\n) => {\n  typeof PROCESS.emitWarning === 'function'\n    ? PROCESS.emitWarning(msg, type, code, fn)\n    : console.error(`[${code}] ${type}: ${msg}`)\n}\n\nlet AC = globalThis.AbortController\nlet AS = globalThis.AbortSignal\n\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n  //@ts-ignore\n  AS = class AbortSignal {\n    onabort?: (...a: any[]) => any\n    _onabort: ((...a: any[]) => any)[] = []\n    reason?: any\n    aborted: boolean = false\n    addEventListener(_: string, fn: (...a: any[]) => any) {\n      this._onabort.push(fn)\n    }\n  }\n  //@ts-ignore\n  AC = class AbortController {\n    constructor() {\n      warnACPolyfill()\n    }\n    signal = new AS()\n    abort(reason: any) {\n      if (this.signal.aborted) return\n      //@ts-ignore\n      this.signal.reason = reason\n      //@ts-ignore\n      this.signal.aborted = true\n      //@ts-ignore\n      for (const fn of this.signal._onabort) {\n        fn(reason)\n      }\n      this.signal.onabort?.(reason)\n    }\n  }\n  let printACPolyfillWarning =\n    PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1'\n  const warnACPolyfill = () => {\n    if (!printACPolyfillWarning) return\n    printACPolyfillWarning = false\n    emitWarning(\n      'AbortController is not defined. If using lru-cache in ' +\n        'node 14, load an AbortController polyfill from the ' +\n        '`node-abort-controller` package. A minimal polyfill is ' +\n        'provided for use by LRUCache.fetch(), but it should not be ' +\n        'relied upon in other contexts (eg, passing it to other APIs that ' +\n        'use AbortController/AbortSignal might have undesirable effects). ' +\n        'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.',\n      'NO_ABORT_CONTROLLER',\n      'ENOTSUP',\n      warnACPolyfill\n    )\n  }\n}\n/* c8 ignore stop */\n\nconst shouldWarn = (code: string) => !warned.has(code)\n\nconst TYPE = Symbol('type')\nexport type PosInt = number & { [TYPE]: 'Positive Integer' }\nexport type Index = number & { [TYPE]: 'LRUCache Index' }\n\nconst isPosInt = (n: any): n is PosInt =>\n  n && n === Math.floor(n) && n > 0 && isFinite(n)\n\nexport type UintArray = Uint8Array | Uint16Array | Uint32Array\nexport type NumberArray = UintArray | number[]\n\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max: number) =>\n  !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n    ? Uint8Array\n    : max <= Math.pow(2, 16)\n    ? Uint16Array\n    : max <= Math.pow(2, 32)\n    ? Uint32Array\n    : max <= Number.MAX_SAFE_INTEGER\n    ? ZeroArray\n    : null\n/* c8 ignore stop */\n\nclass ZeroArray extends Array<number> {\n  constructor(size: number) {\n    super(size)\n    this.fill(0)\n  }\n}\nexport type { ZeroArray }\nexport type { Stack }\n\nexport type StackLike = Stack | Index[]\nclass Stack {\n  heap: NumberArray\n  length: number\n  // private constructor\n  static #constructing: boolean = false\n  static create(max: number): StackLike {\n    const HeapCls = getUintArray(max)\n    if (!HeapCls) return []\n    Stack.#constructing = true\n    const s = new Stack(max, HeapCls)\n    Stack.#constructing = false\n    return s\n  }\n  constructor(\n    max: number,\n    HeapCls: { new (n: number): NumberArray }\n  ) {\n    /* c8 ignore start */\n    if (!Stack.#constructing) {\n      throw new TypeError('instantiate Stack using Stack.create(n)')\n    }\n    /* c8 ignore stop */\n    this.heap = new HeapCls(max)\n    this.length = 0\n  }\n  push(n: Index) {\n    this.heap[this.length++] = n\n  }\n  pop(): Index {\n    return this.heap[--this.length] as Index\n  }\n}\n\n/**\n * Promise representing an in-progress {@link LRUCache#fetch} call\n */\nexport type BackgroundFetch<V> = Promise<V | undefined> & {\n  __returned: BackgroundFetch<V> | undefined\n  __abortController: AbortController\n  __staleWhileFetching: V | undefined\n}\n\nexport type DisposeTask<K, V> = [\n  value: V,\n  key: K,\n  reason: LRUCache.DisposeReason\n]\n\nexport namespace LRUCache {\n  /**\n   * An integer greater than 0, reflecting the calculated size of items\n   */\n  export type Size = number\n\n  /**\n   * Integer greater than 0, representing some number of milliseconds, or the\n   * time at which a TTL started counting from.\n   */\n  export type Milliseconds = number\n\n  /**\n   * An integer greater than 0, reflecting a number of items\n   */\n  export type Count = number\n\n  /**\n   * The reason why an item was removed from the cache, passed\n   * to the {@link Disposer} methods.\n   *\n   * - `evict`: The item was evicted because it is the least recently used,\n   *   and the cache is full.\n   * - `set`: A new value was set, overwriting the old value being disposed.\n   * - `delete`: The item was explicitly deleted, either by calling\n   *   {@link LRUCache#delete}, {@link LRUCache#clear}, or\n   *   {@link LRUCache#set} with an undefined value.\n   * - `expire`: The item was removed due to exceeding its TTL.\n   * - `fetch`: A {@link OptionsBase#fetchMethod} operation returned\n   *   `undefined` or was aborted, causing the item to be deleted.\n   */\n  export type DisposeReason =\n    | 'evict'\n    | 'set'\n    | 'delete'\n    | 'expire'\n    | 'fetch'\n  /**\n   * A method called upon item removal, passed as the\n   * {@link OptionsBase.dispose} and/or\n   * {@link OptionsBase.disposeAfter} options.\n   */\n  export type Disposer<K, V> = (\n    value: V,\n    key: K,\n    reason: DisposeReason\n  ) => void\n\n  /**\n   * A function that returns the effective calculated size\n   * of an entry in the cache.\n   */\n  export type SizeCalculator<K, V> = (value: V, key: K) => Size\n\n  /**\n   * Options provided to the\n   * {@link OptionsBase.fetchMethod} function.\n   */\n  export interface FetcherOptions<K, V, FC = unknown> {\n    signal: AbortSignal\n    options: FetcherFetchOptions<K, V, FC>\n    /**\n     * Object provided in the {@link FetchOptions.context} option to\n     * {@link LRUCache#fetch}\n     */\n    context: FC\n  }\n\n  /**\n   * Occasionally, it may be useful to track the internal behavior of the\n   * cache, particularly for logging, debugging, or for behavior within the\n   * `fetchMethod`. To do this, you can pass a `status` object to the\n   * {@link LRUCache#fetch}, {@link LRUCache#get}, {@link LRUCache#set},\n   * {@link LRUCache#memo}, and {@link LRUCache#has} methods.\n   *\n   * The `status` option should be a plain JavaScript object. The following\n   * fields will be set on it appropriately, depending on the situation.\n   */\n  export interface Status<V> {\n    /**\n     * The status of a set() operation.\n     *\n     * - add: the item was not found in the cache, and was added\n     * - update: the item was in the cache, with the same value provided\n     * - replace: the item was in the cache, and replaced\n     * - miss: the item was not added to the cache for some reason\n     */\n    set?: 'add' | 'update' | 'replace' | 'miss'\n\n    /**\n     * the ttl stored for the item, or undefined if ttls are not used.\n     */\n    ttl?: Milliseconds\n\n    /**\n     * the start time for the item, or undefined if ttls are not used.\n     */\n    start?: Milliseconds\n\n    /**\n     * The timestamp used for TTL calculation\n     */\n    now?: Milliseconds\n\n    /**\n     * the remaining ttl for the item, or undefined if ttls are not used.\n     */\n    remainingTTL?: Milliseconds\n\n    /**\n     * The calculated size for the item, if sizes are used.\n     */\n    entrySize?: Size\n\n    /**\n     * The total calculated size of the cache, if sizes are used.\n     */\n    totalCalculatedSize?: Size\n\n    /**\n     * A flag indicating that the item was not stored, due to exceeding the\n     * {@link OptionsBase.maxEntrySize}\n     */\n    maxEntrySizeExceeded?: true\n\n    /**\n     * The old value, specified in the case of `set:'update'` or\n     * `set:'replace'`\n     */\n    oldValue?: V\n\n    /**\n     * The results of a {@link LRUCache#has} operation\n     *\n     * - hit: the item was found in the cache\n     * - stale: the item was found in the cache, but is stale\n     * - miss: the item was not found in the cache\n     */\n    has?: 'hit' | 'stale' | 'miss'\n\n    /**\n     * The status of a {@link LRUCache#fetch} operation.\n     * Note that this can change as the underlying fetch() moves through\n     * various states.\n     *\n     * - inflight: there is another fetch() for this key which is in process\n     * - get: there is no {@link OptionsBase.fetchMethod}, so\n     *   {@link LRUCache#get} was called.\n     * - miss: the item is not in cache, and will be fetched.\n     * - hit: the item is in the cache, and was resolved immediately.\n     * - stale: the item is in the cache, but stale.\n     * - refresh: the item is in the cache, and not stale, but\n     *   {@link FetchOptions.forceRefresh} was specified.\n     */\n    fetch?: 'get' | 'inflight' | 'miss' | 'hit' | 'stale' | 'refresh'\n\n    /**\n     * The {@link OptionsBase.fetchMethod} was called\n     */\n    fetchDispatched?: true\n\n    /**\n     * The cached value was updated after a successful call to\n     * {@link OptionsBase.fetchMethod}\n     */\n    fetchUpdated?: true\n\n    /**\n     * The reason for a fetch() rejection.  Either the error raised by the\n     * {@link OptionsBase.fetchMethod}, or the reason for an\n     * AbortSignal.\n     */\n    fetchError?: Error\n\n    /**\n     * The fetch received an abort signal\n     */\n    fetchAborted?: true\n\n    /**\n     * The abort signal received was ignored, and the fetch was allowed to\n     * continue.\n     */\n    fetchAbortIgnored?: true\n\n    /**\n     * The fetchMethod promise resolved successfully\n     */\n    fetchResolved?: true\n\n    /**\n     * The fetchMethod promise was rejected\n     */\n    fetchRejected?: true\n\n    /**\n     * The status of a {@link LRUCache#get} operation.\n     *\n     * - fetching: The item is currently being fetched.  If a previous value\n     *   is present and allowed, that will be returned.\n     * - stale: The item is in the cache, and is stale.\n     * - hit: the item is in the cache\n     * - miss: the item is not in the cache\n     */\n    get?: 'stale' | 'hit' | 'miss'\n\n    /**\n     * A fetch or get operation returned a stale value.\n     */\n    returnedStale?: true\n  }\n\n  /**\n   * options which override the options set in the LRUCache constructor\n   * when calling {@link LRUCache#fetch}.\n   *\n   * This is the union of {@link GetOptions} and {@link SetOptions}, plus\n   * {@link OptionsBase.noDeleteOnFetchRejection},\n   * {@link OptionsBase.allowStaleOnFetchRejection},\n   * {@link FetchOptions.forceRefresh}, and\n   * {@link FetcherOptions.context}\n   *\n   * Any of these may be modified in the {@link OptionsBase.fetchMethod}\n   * function, but the {@link GetOptions} fields will of course have no\n   * effect, as the {@link LRUCache#get} call already happened by the time\n   * the fetchMethod is called.\n   */\n  export interface FetcherFetchOptions<K, V, FC = unknown>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      | 'allowStale'\n      | 'updateAgeOnGet'\n      | 'noDeleteOnStaleGet'\n      | 'sizeCalculation'\n      | 'ttl'\n      | 'noDisposeOnSet'\n      | 'noUpdateTTL'\n      | 'noDeleteOnFetchRejection'\n      | 'allowStaleOnFetchRejection'\n      | 'ignoreFetchAbort'\n      | 'allowStaleOnFetchAbort'\n    > {\n    status?: Status<V>\n    size?: Size\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#fetch} method.\n   */\n  export interface FetchOptions<K, V, FC>\n    extends FetcherFetchOptions<K, V, FC> {\n    /**\n     * Set to true to force a re-load of the existing data, even if it\n     * is not yet stale.\n     */\n    forceRefresh?: boolean\n    /**\n     * Context provided to the {@link OptionsBase.fetchMethod} as\n     * the {@link FetcherOptions.context} param.\n     *\n     * If the FC type is specified as unknown (the default),\n     * undefined or void, then this is optional.  Otherwise, it will\n     * be required.\n     */\n    context?: FC\n    signal?: AbortSignal\n    status?: Status<V>\n  }\n  /**\n   * Options provided to {@link LRUCache#fetch} when the FC type is something\n   * other than `unknown`, `undefined`, or `void`\n   */\n  export interface FetchOptionsWithContext<K, V, FC>\n    extends FetchOptions<K, V, FC> {\n    context: FC\n  }\n  /**\n   * Options provided to {@link LRUCache#fetch} when the FC type is\n   * `undefined` or `void`\n   */\n  export interface FetchOptionsNoContext<K, V>\n    extends FetchOptions<K, V, undefined> {\n    context?: undefined\n  }\n\n  export interface MemoOptions<K, V, FC = unknown>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      | 'allowStale'\n      | 'updateAgeOnGet'\n      | 'noDeleteOnStaleGet'\n      | 'sizeCalculation'\n      | 'ttl'\n      | 'noDisposeOnSet'\n      | 'noUpdateTTL'\n      | 'noDeleteOnFetchRejection'\n      | 'allowStaleOnFetchRejection'\n      | 'ignoreFetchAbort'\n      | 'allowStaleOnFetchAbort'\n    > {\n    /**\n     * Set to true to force a re-load of the existing data, even if it\n     * is not yet stale.\n     */\n    forceRefresh?: boolean\n    /**\n     * Context provided to the {@link OptionsBase.memoMethod} as\n     * the {@link MemoizerOptions.context} param.\n     *\n     * If the FC type is specified as unknown (the default),\n     * undefined or void, then this is optional.  Otherwise, it will\n     * be required.\n     */\n    context?: FC\n    status?: Status<V>\n  }\n  /**\n   * Options provided to {@link LRUCache#memo} when the FC type is something\n   * other than `unknown`, `undefined`, or `void`\n   */\n  export interface MemoOptionsWithContext<K, V, FC>\n    extends MemoOptions<K, V, FC> {\n    context: FC\n  }\n  /**\n   * Options provided to {@link LRUCache#memo} when the FC type is\n   * `undefined` or `void`\n   */\n  export interface MemoOptionsNoContext<K, V>\n    extends MemoOptions<K, V, undefined> {\n    context?: undefined\n  }\n\n  /**\n   * Options provided to the\n   * {@link OptionsBase.memoMethod} function.\n   */\n  export interface MemoizerOptions<K, V, FC = unknown> {\n    options: MemoizerMemoOptions<K, V, FC>\n    /**\n     * Object provided in the {@link MemoOptions.context} option to\n     * {@link LRUCache#memo}\n     */\n    context: FC\n  }\n\n  /**\n   * options which override the options set in the LRUCache constructor\n   * when calling {@link LRUCache#memo}.\n   *\n   * This is the union of {@link GetOptions} and {@link SetOptions}, plus\n   * {@link MemoOptions.forceRefresh}, and\n   * {@link MemoerOptions.context}\n   *\n   * Any of these may be modified in the {@link OptionsBase.memoMethod}\n   * function, but the {@link GetOptions} fields will of course have no\n   * effect, as the {@link LRUCache#get} call already happened by the time\n   * the memoMethod is called.\n   */\n  export interface MemoizerMemoOptions<K, V, FC = unknown>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      | 'allowStale'\n      | 'updateAgeOnGet'\n      | 'noDeleteOnStaleGet'\n      | 'sizeCalculation'\n      | 'ttl'\n      | 'noDisposeOnSet'\n      | 'noUpdateTTL'\n    > {\n    status?: Status<V>\n    size?: Size\n    start?: Milliseconds\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#has} method.\n   */\n  export interface HasOptions<K, V, FC>\n    extends Pick<OptionsBase<K, V, FC>, 'updateAgeOnHas'> {\n    status?: Status<V>\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#get} method.\n   */\n  export interface GetOptions<K, V, FC>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      'allowStale' | 'updateAgeOnGet' | 'noDeleteOnStaleGet'\n    > {\n    status?: Status<V>\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#peek} method.\n   */\n  export interface PeekOptions<K, V, FC>\n    extends Pick<OptionsBase<K, V, FC>, 'allowStale'> {}\n\n  /**\n   * Options that may be passed to the {@link LRUCache#set} method.\n   */\n  export interface SetOptions<K, V, FC>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      'sizeCalculation' | 'ttl' | 'noDisposeOnSet' | 'noUpdateTTL'\n    > {\n    /**\n     * If size tracking is enabled, then setting an explicit size\n     * in the {@link LRUCache#set} call will prevent calling the\n     * {@link OptionsBase.sizeCalculation} function.\n     */\n    size?: Size\n    /**\n     * If TTL tracking is enabled, then setting an explicit start\n     * time in the {@link LRUCache#set} call will override the\n     * default time from `performance.now()` or `Date.now()`.\n     *\n     * Note that it must be a valid value for whichever time-tracking\n     * method is in use.\n     */\n    start?: Milliseconds\n    status?: Status<V>\n  }\n\n  /**\n   * The type signature for the {@link OptionsBase.fetchMethod} option.\n   */\n  export type Fetcher<K, V, FC = unknown> = (\n    key: K,\n    staleValue: V | undefined,\n    options: FetcherOptions<K, V, FC>\n  ) => Promise<V | undefined | void> | V | undefined | void\n\n  /**\n   * the type signature for the {@link OptionsBase.memoMethod} option.\n   */\n  export type Memoizer<K, V, FC = unknown> = (\n    key: K,\n    staleValue: V | undefined,\n    options: MemoizerOptions<K, V, FC>\n  ) => V\n\n  /**\n   * Options which may be passed to the {@link LRUCache} constructor.\n   *\n   * Most of these may be overridden in the various options that use\n   * them.\n   *\n   * Despite all being technically optional, the constructor requires that\n   * a cache is at minimum limited by one or more of {@link OptionsBase.max},\n   * {@link OptionsBase.ttl}, or {@link OptionsBase.maxSize}.\n   *\n   * If {@link OptionsBase.ttl} is used alone, then it is strongly advised\n   * (and in fact required by the type definitions here) that the cache\n   * also set {@link OptionsBase.ttlAutopurge}, to prevent potentially\n   * unbounded storage.\n   *\n   * All options are also available on the {@link LRUCache} instance, making\n   * it safe to pass an LRUCache instance as the options argumemnt to\n   * make another empty cache of the same type.\n   *\n   * Some options are marked as read-only, because changing them after\n   * instantiation is not safe. Changing any of the other options will of\n   * course only have an effect on subsequent method calls.\n   */\n  export interface OptionsBase<K, V, FC> {\n    /**\n     * The maximum number of items to store in the cache before evicting\n     * old entries. This is read-only on the {@link LRUCache} instance,\n     * and may not be overridden.\n     *\n     * If set, then storage space will be pre-allocated at construction\n     * time, and the cache will perform significantly faster.\n     *\n     * Note that significantly fewer items may be stored, if\n     * {@link OptionsBase.maxSize} and/or {@link OptionsBase.ttl} are also\n     * set.\n     *\n     * **It is strongly recommended to set a `max` to prevent unbounded growth\n     * of the cache.**\n     */\n    max?: Count\n\n    /**\n     * Max time in milliseconds for items to live in cache before they are\n     * considered stale.  Note that stale items are NOT preemptively removed by\n     * default, and MAY live in the cache, contributing to its LRU max, long\n     * after they have expired, unless {@link OptionsBase.ttlAutopurge} is\n     * set.\n     *\n     * If set to `0` (the default value), then that means \"do not track\n     * TTL\", not \"expire immediately\".\n     *\n     * Also, as this cache is optimized for LRU/MRU operations, some of\n     * the staleness/TTL checks will reduce performance, as they will incur\n     * overhead by deleting items.\n     *\n     * This is not primarily a TTL cache, and does not make strong TTL\n     * guarantees. There is no pre-emptive pruning of expired items, but you\n     * _may_ set a TTL on the cache, and it will treat expired items as missing\n     * when they are fetched, and delete them.\n     *\n     * Optional, but must be a non-negative integer in ms if specified.\n     *\n     * This may be overridden by passing an options object to `cache.set()`.\n     *\n     * At least one of `max`, `maxSize`, or `TTL` is required. This must be a\n     * positive integer if set.\n     *\n     * Even if ttl tracking is enabled, **it is strongly recommended to set a\n     * `max` to prevent unbounded growth of the cache.**\n     *\n     * If ttl tracking is enabled, and `max` and `maxSize` are not set,\n     * and `ttlAutopurge` is not set, then a warning will be emitted\n     * cautioning about the potential for unbounded memory consumption.\n     * (The TypeScript definitions will also discourage this.)\n     */\n    ttl?: Milliseconds\n\n    /**\n     * Minimum amount of time in ms in which to check for staleness.\n     * Defaults to 1, which means that the current time is checked\n     * at most once per millisecond.\n     *\n     * Set to 0 to check the current time every time staleness is tested.\n     * (This reduces performance, and is theoretically unnecessary.)\n     *\n     * Setting this to a higher value will improve performance somewhat\n     * while using ttl tracking, albeit at the expense of keeping stale\n     * items around a bit longer than their TTLs would indicate.\n     *\n     * @default 1\n     */\n    ttlResolution?: Milliseconds\n\n    /**\n     * Preemptively remove stale items from the cache.\n     *\n     * Note that this may *significantly* degrade performance, especially if\n     * the cache is storing a large number of items. It is almost always best\n     * to just leave the stale items in the cache, and let them fall out as new\n     * items are added.\n     *\n     * Note that this means that {@link OptionsBase.allowStale} is a bit\n     * pointless, as stale items will be deleted almost as soon as they\n     * expire.\n     *\n     * Use with caution!\n     */\n    ttlAutopurge?: boolean\n\n    /**\n     * When using time-expiring entries with `ttl`, setting this to `true` will\n     * make each item's age reset to 0 whenever it is retrieved from cache with\n     * {@link LRUCache#get}, causing it to not expire. (It can still fall out\n     * of cache based on recency of use, of course.)\n     *\n     * Has no effect if {@link OptionsBase.ttl} is not set.\n     *\n     * This may be overridden by passing an options object to `cache.get()`.\n     */\n    updateAgeOnGet?: boolean\n\n    /**\n     * When using time-expiring entries with `ttl`, setting this to `true` will\n     * make each item's age reset to 0 whenever its presence in the cache is\n     * checked with {@link LRUCache#has}, causing it to not expire. (It can\n     * still fall out of cache based on recency of use, of course.)\n     *\n     * Has no effect if {@link OptionsBase.ttl} is not set.\n     */\n    updateAgeOnHas?: boolean\n\n    /**\n     * Allow {@link LRUCache#get} and {@link LRUCache#fetch} calls to return\n     * stale data, if available.\n     *\n     * By default, if you set `ttl`, stale items will only be deleted from the\n     * cache when you `get(key)`. That is, it's not preemptively pruning items,\n     * unless {@link OptionsBase.ttlAutopurge} is set.\n     *\n     * If you set `allowStale:true`, it'll return the stale value *as well as*\n     * deleting it. If you don't set this, then it'll return `undefined` when\n     * you try to get a stale entry.\n     *\n     * Note that when a stale entry is fetched, _even if it is returned due to\n     * `allowStale` being set_, it is removed from the cache immediately. You\n     * can suppress this behavior by setting\n     * {@link OptionsBase.noDeleteOnStaleGet}, either in the constructor, or in\n     * the options provided to {@link LRUCache#get}.\n     *\n     * This may be overridden by passing an options object to `cache.get()`.\n     * The `cache.has()` method will always return `false` for stale items.\n     *\n     * Only relevant if a ttl is set.\n     */\n    allowStale?: boolean\n\n    /**\n     * Function that is called on items when they are dropped from the\n     * cache, as `dispose(value, key, reason)`.\n     *\n     * This can be handy if you want to close file descriptors or do\n     * other cleanup tasks when items are no longer stored in the cache.\n     *\n     * **NOTE**: It is called _before_ the item has been fully removed\n     * from the cache, so if you want to put it right back in, you need\n     * to wait until the next tick. If you try to add it back in during\n     * the `dispose()` function call, it will break things in subtle and\n     * weird ways.\n     *\n     * Unlike several other options, this may _not_ be overridden by\n     * passing an option to `set()`, for performance reasons.\n     *\n     * The `reason` will be one of the following strings, corresponding\n     * to the reason for the item's deletion:\n     *\n     * - `evict` Item was evicted to make space for a new addition\n     * - `set` Item was overwritten by a new value\n     * - `expire` Item expired its TTL\n     * - `fetch` Item was deleted due to a failed or aborted fetch, or a\n     *   fetchMethod returning `undefined.\n     * - `delete` Item was removed by explicit `cache.delete(key)`,\n     *   `cache.clear()`, or `cache.set(key, undefined)`.\n     */\n    dispose?: Disposer<K, V>\n\n    /**\n     * The same as {@link OptionsBase.dispose}, but called *after* the entry\n     * is completely removed and the cache is once again in a clean state.\n     *\n     * It is safe to add an item right back into the cache at this point.\n     * However, note that it is *very* easy to inadvertently create infinite\n     * recursion this way.\n     */\n    disposeAfter?: Disposer<K, V>\n\n    /**\n     * Set to true to suppress calling the\n     * {@link OptionsBase.dispose} function if the entry key is\n     * still accessible within the cache.\n     *\n     * This may be overridden by passing an options object to\n     * {@link LRUCache#set}.\n     *\n     * Only relevant if `dispose` or `disposeAfter` are set.\n     */\n    noDisposeOnSet?: boolean\n\n    /**\n     * Boolean flag to tell the cache to not update the TTL when setting a new\n     * value for an existing key (ie, when updating a value rather than\n     * inserting a new value).  Note that the TTL value is _always_ set (if\n     * provided) when adding a new entry into the cache.\n     *\n     * Has no effect if a {@link OptionsBase.ttl} is not set.\n     *\n     * May be passed as an option to {@link LRUCache#set}.\n     */\n    noUpdateTTL?: boolean\n\n    /**\n     * Set to a positive integer to track the sizes of items added to the\n     * cache, and automatically evict items in order to stay below this size.\n     * Note that this may result in fewer than `max` items being stored.\n     *\n     * Attempting to add an item to the cache whose calculated size is greater\n     * that this amount will be a no-op. The item will not be cached, and no\n     * other items will be evicted.\n     *\n     * Optional, must be a positive integer if provided.\n     *\n     * Sets `maxEntrySize` to the same value, unless a different value is\n     * provided for `maxEntrySize`.\n     *\n     * At least one of `max`, `maxSize`, or `TTL` is required. This must be a\n     * positive integer if set.\n     *\n     * Even if size tracking is enabled, **it is strongly recommended to set a\n     * `max` to prevent unbounded growth of the cache.**\n     *\n     * Note also that size tracking can negatively impact performance,\n     * though for most cases, only minimally.\n     */\n    maxSize?: Size\n\n    /**\n     * The maximum allowed size for any single item in the cache.\n     *\n     * If a larger item is passed to {@link LRUCache#set} or returned by a\n     * {@link OptionsBase.fetchMethod} or {@link OptionsBase.memoMethod}, then\n     * it will not be stored in the cache.\n     *\n     * Attempting to add an item whose calculated size is greater than\n     * this amount will not cache the item or evict any old items, but\n     * WILL delete an existing value if one is already present.\n     *\n     * Optional, must be a positive integer if provided. Defaults to\n     * the value of `maxSize` if provided.\n     */\n    maxEntrySize?: Size\n\n    /**\n     * A function that returns a number indicating the item's size.\n     *\n     * Requires {@link OptionsBase.maxSize} to be set.\n     *\n     * If not provided, and {@link OptionsBase.maxSize} or\n     * {@link OptionsBase.maxEntrySize} are set, then all\n     * {@link LRUCache#set} calls **must** provide an explicit\n     * {@link SetOptions.size} or sizeCalculation param.\n     */\n    sizeCalculation?: SizeCalculator<K, V>\n\n    /**\n     * Method that provides the implementation for {@link LRUCache#fetch}\n     *\n     * ```ts\n     * fetchMethod(key, staleValue, { signal, options, context })\n     * ```\n     *\n     * If `fetchMethod` is not provided, then `cache.fetch(key)` is equivalent\n     * to `Promise.resolve(cache.get(key))`.\n     *\n     * If at any time, `signal.aborted` is set to `true`, or if the\n     * `signal.onabort` method is called, or if it emits an `'abort'` event\n     * which you can listen to with `addEventListener`, then that means that\n     * the fetch should be abandoned. This may be passed along to async\n     * functions aware of AbortController/AbortSignal behavior.\n     *\n     * The `fetchMethod` should **only** return `undefined` or a Promise\n     * resolving to `undefined` if the AbortController signaled an `abort`\n     * event. In all other cases, it should return or resolve to a value\n     * suitable for adding to the cache.\n     *\n     * The `options` object is a union of the options that may be provided to\n     * `set()` and `get()`. If they are modified, then that will result in\n     * modifying the settings to `cache.set()` when the value is resolved, and\n     * in the case of\n     * {@link OptionsBase.noDeleteOnFetchRejection} and\n     * {@link OptionsBase.allowStaleOnFetchRejection}, the handling of\n     * `fetchMethod` failures.\n     *\n     * For example, a DNS cache may update the TTL based on the value returned\n     * from a remote DNS server by changing `options.ttl` in the `fetchMethod`.\n     */\n    fetchMethod?: Fetcher<K, V, FC>\n\n    /**\n     * Method that provides the implementation for {@link LRUCache#memo}\n     */\n    memoMethod?: Memoizer<K, V, FC>\n\n    /**\n     * Set to true to suppress the deletion of stale data when a\n     * {@link OptionsBase.fetchMethod} returns a rejected promise.\n     */\n    noDeleteOnFetchRejection?: boolean\n\n    /**\n     * Do not delete stale items when they are retrieved with\n     * {@link LRUCache#get}.\n     *\n     * Note that the `get` return value will still be `undefined`\n     * unless {@link OptionsBase.allowStale} is true.\n     *\n     * When using time-expiring entries with `ttl`, by default stale\n     * items will be removed from the cache when the key is accessed\n     * with `cache.get()`.\n     *\n     * Setting this option will cause stale items to remain in the cache, until\n     * they are explicitly deleted with `cache.delete(key)`, or retrieved with\n     * `noDeleteOnStaleGet` set to `false`.\n     *\n     * This may be overridden by passing an options object to `cache.get()`.\n     *\n     * Only relevant if a ttl is used.\n     */\n    noDeleteOnStaleGet?: boolean\n\n    /**\n     * Set to true to allow returning stale data when a\n     * {@link OptionsBase.fetchMethod} throws an error or returns a rejected\n     * promise.\n     *\n     * This differs from using {@link OptionsBase.allowStale} in that stale\n     * data will ONLY be returned in the case that the {@link LRUCache#fetch}\n     * fails, not any other times.\n     *\n     * If a `fetchMethod` fails, and there is no stale value available, the\n     * `fetch()` will resolve to `undefined`. Ie, all `fetchMethod` errors are\n     * suppressed.\n     *\n     * Implies `noDeleteOnFetchRejection`.\n     *\n     * This may be set in calls to `fetch()`, or defaulted on the constructor,\n     * or overridden by modifying the options object in the `fetchMethod`.\n     */\n    allowStaleOnFetchRejection?: boolean\n\n    /**\n     * Set to true to return a stale value from the cache when the\n     * `AbortSignal` passed to the {@link OptionsBase.fetchMethod} dispatches\n     * an `'abort'` event, whether user-triggered, or due to internal cache\n     * behavior.\n     *\n     * Unless {@link OptionsBase.ignoreFetchAbort} is also set, the underlying\n     * {@link OptionsBase.fetchMethod} will still be considered canceled, and\n     * any value it returns will be ignored and not cached.\n     *\n     * Caveat: since fetches are aborted when a new value is explicitly\n     * set in the cache, this can lead to fetch returning a stale value,\n     * since that was the fallback value _at the moment the `fetch()` was\n     * initiated_, even though the new updated value is now present in\n     * the cache.\n     *\n     * For example:\n     *\n     * ```ts\n     * const cache = new LRUCache<string, any>({\n     *   ttl: 100,\n     *   fetchMethod: async (url, oldValue, { signal }) =>  {\n     *     const res = await fetch(url, { signal })\n     *     return await res.json()\n     *   }\n     * })\n     * cache.set('https://example.com/', { some: 'data' })\n     * // 100ms go by...\n     * const result = cache.fetch('https://example.com/')\n     * cache.set('https://example.com/', { other: 'thing' })\n     * console.log(await result) // { some: 'data' }\n     * console.log(cache.get('https://example.com/')) // { other: 'thing' }\n     * ```\n     */\n    allowStaleOnFetchAbort?: boolean\n\n    /**\n     * Set to true to ignore the `abort` event emitted by the `AbortSignal`\n     * object passed to {@link OptionsBase.fetchMethod}, and still cache the\n     * resulting resolution value, as long as it is not `undefined`.\n     *\n     * When used on its own, this means aborted {@link LRUCache#fetch} calls\n     * are not immediately resolved or rejected when they are aborted, and\n     * instead take the full time to await.\n     *\n     * When used with {@link OptionsBase.allowStaleOnFetchAbort}, aborted\n     * {@link LRUCache#fetch} calls will resolve immediately to their stale\n     * cached value or `undefined`, and will continue to process and eventually\n     * update the cache when they resolve, as long as the resulting value is\n     * not `undefined`, thus supporting a \"return stale on timeout while\n     * refreshing\" mechanism by passing `AbortSignal.timeout(n)` as the signal.\n     *\n     * For example:\n     *\n     * ```ts\n     * const c = new LRUCache({\n     *   ttl: 100,\n     *   ignoreFetchAbort: true,\n     *   allowStaleOnFetchAbort: true,\n     *   fetchMethod: async (key, oldValue, { signal }) => {\n     *     // note: do NOT pass the signal to fetch()!\n     *     // let's say this fetch can take a long time.\n     *     const res = await fetch(`https://slow-backend-server/${key}`)\n     *     return await res.json()\n     *   },\n     * })\n     *\n     * // this will return the stale value after 100ms, while still\n     * // updating in the background for next time.\n     * const val = await c.fetch('key', { signal: AbortSignal.timeout(100) })\n     * ```\n     *\n     * **Note**: regardless of this setting, an `abort` event _is still\n     * emitted on the `AbortSignal` object_, so may result in invalid results\n     * when passed to other underlying APIs that use AbortSignals.\n     *\n     * This may be overridden in the {@link OptionsBase.fetchMethod} or the\n     * call to {@link LRUCache#fetch}.\n     */\n    ignoreFetchAbort?: boolean\n  }\n\n  export interface OptionsMaxLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    max: Count\n  }\n  export interface OptionsTTLLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    ttl: Milliseconds\n    ttlAutopurge: boolean\n  }\n  export interface OptionsSizeLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    maxSize: Size\n  }\n\n  /**\n   * The valid safe options for the {@link LRUCache} constructor\n   */\n  export type Options<K, V, FC> =\n    | OptionsMaxLimit<K, V, FC>\n    | OptionsSizeLimit<K, V, FC>\n    | OptionsTTLLimit<K, V, FC>\n\n  /**\n   * Entry objects used by {@link LRUCache#load} and {@link LRUCache#dump},\n   * and returned by {@link LRUCache#info}.\n   */\n  export interface Entry<V> {\n    value: V\n    ttl?: Milliseconds\n    size?: Size\n    start?: Milliseconds\n  }\n}\n\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nexport class LRUCache<K extends {}, V extends {}, FC = unknown>\n  implements Map<K, V>\n{\n  // options that cannot be changed without disaster\n  readonly #max: LRUCache.Count\n  readonly #maxSize: LRUCache.Size\n  readonly #dispose?: LRUCache.Disposer<K, V>\n  readonly #disposeAfter?: LRUCache.Disposer<K, V>\n  readonly #fetchMethod?: LRUCache.Fetcher<K, V, FC>\n  readonly #memoMethod?: LRUCache.Memoizer<K, V, FC>\n\n  /**\n   * {@link LRUCache.OptionsBase.ttl}\n   */\n  ttl: LRUCache.Milliseconds\n\n  /**\n   * {@link LRUCache.OptionsBase.ttlResolution}\n   */\n  ttlResolution: LRUCache.Milliseconds\n  /**\n   * {@link LRUCache.OptionsBase.ttlAutopurge}\n   */\n  ttlAutopurge: boolean\n  /**\n   * {@link LRUCache.OptionsBase.updateAgeOnGet}\n   */\n  updateAgeOnGet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.updateAgeOnHas}\n   */\n  updateAgeOnHas: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStale}\n   */\n  allowStale: boolean\n\n  /**\n   * {@link LRUCache.OptionsBase.noDisposeOnSet}\n   */\n  noDisposeOnSet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.noUpdateTTL}\n   */\n  noUpdateTTL: boolean\n  /**\n   * {@link LRUCache.OptionsBase.maxEntrySize}\n   */\n  maxEntrySize: LRUCache.Size\n  /**\n   * {@link LRUCache.OptionsBase.sizeCalculation}\n   */\n  sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  /**\n   * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n   */\n  noDeleteOnFetchRejection: boolean\n  /**\n   * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n   */\n  noDeleteOnStaleGet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n   */\n  allowStaleOnFetchAbort: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n   */\n  allowStaleOnFetchRejection: boolean\n  /**\n   * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n   */\n  ignoreFetchAbort: boolean\n\n  // computed properties\n  #size: LRUCache.Count\n  #calculatedSize: LRUCache.Size\n  #keyMap: Map<K, Index>\n  #keyList: (K | undefined)[]\n  #valList: (V | BackgroundFetch<V> | undefined)[]\n  #next: NumberArray\n  #prev: NumberArray\n  #head: Index\n  #tail: Index\n  #free: StackLike\n  #disposed?: DisposeTask<K, V>[]\n  #sizes?: ZeroArray\n  #starts?: ZeroArray\n  #ttls?: ZeroArray\n\n  #hasDispose: boolean\n  #hasFetchMethod: boolean\n  #hasDisposeAfter: boolean\n\n  /**\n   * Do not call this method unless you need to inspect the\n   * inner workings of the cache.  If anything returned by this\n   * object is modified in any way, strange breakage may occur.\n   *\n   * These fields are private for a reason!\n   *\n   * @internal\n   */\n  static unsafeExposeInternals<\n    K extends {},\n    V extends {},\n    FC extends unknown = unknown\n  >(c: LRUCache<K, V, FC>) {\n    return {\n      // properties\n      starts: c.#starts,\n      ttls: c.#ttls,\n      sizes: c.#sizes,\n      keyMap: c.#keyMap as Map<K, number>,\n      keyList: c.#keyList,\n      valList: c.#valList,\n      next: c.#next,\n      prev: c.#prev,\n      get head() {\n        return c.#head\n      },\n      get tail() {\n        return c.#tail\n      },\n      free: c.#free,\n      // methods\n      isBackgroundFetch: (p: any) => c.#isBackgroundFetch(p),\n      backgroundFetch: (\n        k: K,\n        index: number | undefined,\n        options: LRUCache.FetchOptions<K, V, FC>,\n        context: any\n      ): BackgroundFetch<V> =>\n        c.#backgroundFetch(\n          k,\n          index as Index | undefined,\n          options,\n          context\n        ),\n      moveToTail: (index: number): void =>\n        c.#moveToTail(index as Index),\n      indexes: (options?: { allowStale: boolean }) =>\n        c.#indexes(options),\n      rindexes: (options?: { allowStale: boolean }) =>\n        c.#rindexes(options),\n      isStale: (index: number | undefined) =>\n        c.#isStale(index as Index),\n    }\n  }\n\n  // Protected read-only members\n\n  /**\n   * {@link LRUCache.OptionsBase.max} (read-only)\n   */\n  get max(): LRUCache.Count {\n    return this.#max\n  }\n  /**\n   * {@link LRUCache.OptionsBase.maxSize} (read-only)\n   */\n  get maxSize(): LRUCache.Count {\n    return this.#maxSize\n  }\n  /**\n   * The total computed size of items in the cache (read-only)\n   */\n  get calculatedSize(): LRUCache.Size {\n    return this.#calculatedSize\n  }\n  /**\n   * The number of items stored in the cache (read-only)\n   */\n  get size(): LRUCache.Count {\n    return this.#size\n  }\n  /**\n   * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n   */\n  get fetchMethod(): LRUCache.Fetcher<K, V, FC> | undefined {\n    return this.#fetchMethod\n  }\n  get memoMethod(): LRUCache.Memoizer<K, V, FC> | undefined {\n    return this.#memoMethod\n  }\n  /**\n   * {@link LRUCache.OptionsBase.dispose} (read-only)\n   */\n  get dispose() {\n    return this.#dispose\n  }\n  /**\n   * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n   */\n  get disposeAfter() {\n    return this.#disposeAfter\n  }\n\n  constructor(\n    options: LRUCache.Options<K, V, FC> | LRUCache<K, V, FC>\n  ) {\n    const {\n      max = 0,\n      ttl,\n      ttlResolution = 1,\n      ttlAutopurge,\n      updateAgeOnGet,\n      updateAgeOnHas,\n      allowStale,\n      dispose,\n      disposeAfter,\n      noDisposeOnSet,\n      noUpdateTTL,\n      maxSize = 0,\n      maxEntrySize = 0,\n      sizeCalculation,\n      fetchMethod,\n      memoMethod,\n      noDeleteOnFetchRejection,\n      noDeleteOnStaleGet,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n    } = options\n\n    if (max !== 0 && !isPosInt(max)) {\n      throw new TypeError('max option must be a nonnegative integer')\n    }\n\n    const UintArray = max ? getUintArray(max) : Array\n    if (!UintArray) {\n      throw new Error('invalid max value: ' + max)\n    }\n\n    this.#max = max\n    this.#maxSize = maxSize\n    this.maxEntrySize = maxEntrySize || this.#maxSize\n    this.sizeCalculation = sizeCalculation\n    if (this.sizeCalculation) {\n      if (!this.#maxSize && !this.maxEntrySize) {\n        throw new TypeError(\n          'cannot set sizeCalculation without setting maxSize or maxEntrySize'\n        )\n      }\n      if (typeof this.sizeCalculation !== 'function') {\n        throw new TypeError('sizeCalculation set to non-function')\n      }\n    }\n\n    if (\n      memoMethod !== undefined &&\n      typeof memoMethod !== 'function'\n    ) {\n      throw new TypeError('memoMethod must be a function if defined')\n    }\n    this.#memoMethod = memoMethod\n\n    if (\n      fetchMethod !== undefined &&\n      typeof fetchMethod !== 'function'\n    ) {\n      throw new TypeError(\n        'fetchMethod must be a function if specified'\n      )\n    }\n    this.#fetchMethod = fetchMethod\n    this.#hasFetchMethod = !!fetchMethod\n\n    this.#keyMap = new Map()\n    this.#keyList = new Array(max).fill(undefined)\n    this.#valList = new Array(max).fill(undefined)\n    this.#next = new UintArray(max)\n    this.#prev = new UintArray(max)\n    this.#head = 0 as Index\n    this.#tail = 0 as Index\n    this.#free = Stack.create(max)\n    this.#size = 0\n    this.#calculatedSize = 0\n\n    if (typeof dispose === 'function') {\n      this.#dispose = dispose\n    }\n    if (typeof disposeAfter === 'function') {\n      this.#disposeAfter = disposeAfter\n      this.#disposed = []\n    } else {\n      this.#disposeAfter = undefined\n      this.#disposed = undefined\n    }\n    this.#hasDispose = !!this.#dispose\n    this.#hasDisposeAfter = !!this.#disposeAfter\n\n    this.noDisposeOnSet = !!noDisposeOnSet\n    this.noUpdateTTL = !!noUpdateTTL\n    this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection\n    this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection\n    this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort\n    this.ignoreFetchAbort = !!ignoreFetchAbort\n\n    // NB: maxEntrySize is set to maxSize if it's set\n    if (this.maxEntrySize !== 0) {\n      if (this.#maxSize !== 0) {\n        if (!isPosInt(this.#maxSize)) {\n          throw new TypeError(\n            'maxSize must be a positive integer if specified'\n          )\n        }\n      }\n      if (!isPosInt(this.maxEntrySize)) {\n        throw new TypeError(\n          'maxEntrySize must be a positive integer if specified'\n        )\n      }\n      this.#initializeSizeTracking()\n    }\n\n    this.allowStale = !!allowStale\n    this.noDeleteOnStaleGet = !!noDeleteOnStaleGet\n    this.updateAgeOnGet = !!updateAgeOnGet\n    this.updateAgeOnHas = !!updateAgeOnHas\n    this.ttlResolution =\n      isPosInt(ttlResolution) || ttlResolution === 0\n        ? ttlResolution\n        : 1\n    this.ttlAutopurge = !!ttlAutopurge\n    this.ttl = ttl || 0\n    if (this.ttl) {\n      if (!isPosInt(this.ttl)) {\n        throw new TypeError(\n          'ttl must be a positive integer if specified'\n        )\n      }\n      this.#initializeTTLTracking()\n    }\n\n    // do not allow completely unbounded caches\n    if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n      throw new TypeError(\n        'At least one of max, maxSize, or ttl is required'\n      )\n    }\n    if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n      const code = 'LRU_CACHE_UNBOUNDED'\n      if (shouldWarn(code)) {\n        warned.add(code)\n        const msg =\n          'TTL caching without ttlAutopurge, max, or maxSize can ' +\n          'result in unbounded memory consumption.'\n        emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache)\n      }\n    }\n  }\n\n  /**\n   * Return the number of ms left in the item's TTL. If item is not in cache,\n   * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n   */\n  getRemainingTTL(key: K) {\n    return this.#keyMap.has(key) ? Infinity : 0\n  }\n\n  #initializeTTLTracking() {\n    const ttls = new ZeroArray(this.#max)\n    const starts = new ZeroArray(this.#max)\n    this.#ttls = ttls\n    this.#starts = starts\n\n    this.#setItemTTL = (index, ttl, start = perf.now()) => {\n      starts[index] = ttl !== 0 ? start : 0\n      ttls[index] = ttl\n      if (ttl !== 0 && this.ttlAutopurge) {\n        const t = setTimeout(() => {\n          if (this.#isStale(index)) {\n            this.#delete(this.#keyList[index] as K, 'expire')\n          }\n        }, ttl + 1)\n        // unref() not supported on all platforms\n        /* c8 ignore start */\n        if (t.unref) {\n          t.unref()\n        }\n        /* c8 ignore stop */\n      }\n    }\n\n    this.#updateItemAge = index => {\n      starts[index] = ttls[index] !== 0 ? perf.now() : 0\n    }\n\n    this.#statusTTL = (status, index) => {\n      if (ttls[index]) {\n        const ttl = ttls[index]\n        const start = starts[index]\n        /* c8 ignore next */\n        if (!ttl || !start) return\n        status.ttl = ttl\n        status.start = start\n        status.now = cachedNow || getNow()\n        const age = status.now - start\n        status.remainingTTL = ttl - age\n      }\n    }\n\n    // debounce calls to perf.now() to 1s so we're not hitting\n    // that costly call repeatedly.\n    let cachedNow = 0\n    const getNow = () => {\n      const n = perf.now()\n      if (this.ttlResolution > 0) {\n        cachedNow = n\n        const t = setTimeout(\n          () => (cachedNow = 0),\n          this.ttlResolution\n        )\n        // not available on all platforms\n        /* c8 ignore start */\n        if (t.unref) {\n          t.unref()\n        }\n        /* c8 ignore stop */\n      }\n      return n\n    }\n\n    this.getRemainingTTL = key => {\n      const index = this.#keyMap.get(key)\n      if (index === undefined) {\n        return 0\n      }\n      const ttl = ttls[index]\n      const start = starts[index]\n      if (!ttl || !start) {\n        return Infinity\n      }\n      const age = (cachedNow || getNow()) - start\n      return ttl - age\n    }\n\n    this.#isStale = index => {\n      const s = starts[index]\n      const t = ttls[index]\n      return !!t && !!s && (cachedNow || getNow()) - s > t\n    }\n  }\n\n  // conditionally set private methods related to TTL\n  #updateItemAge: (index: Index) => void = () => {}\n  #statusTTL: (status: LRUCache.Status<V>, index: Index) => void =\n    () => {}\n  #setItemTTL: (\n    index: Index,\n    ttl: LRUCache.Milliseconds,\n    start?: LRUCache.Milliseconds\n    // ignore because we never call this if we're not already in TTL mode\n    /* c8 ignore start */\n  ) => void = () => {}\n  /* c8 ignore stop */\n\n  #isStale: (index: Index) => boolean = () => false\n\n  #initializeSizeTracking() {\n    const sizes = new ZeroArray(this.#max)\n    this.#calculatedSize = 0\n    this.#sizes = sizes\n    this.#removeItemSize = index => {\n      this.#calculatedSize -= sizes[index] as number\n      sizes[index] = 0\n    }\n    this.#requireSize = (k, v, size, sizeCalculation) => {\n      // provisionally accept background fetches.\n      // actual value size will be checked when they return.\n      if (this.#isBackgroundFetch(v)) {\n        return 0\n      }\n      if (!isPosInt(size)) {\n        if (sizeCalculation) {\n          if (typeof sizeCalculation !== 'function') {\n            throw new TypeError('sizeCalculation must be a function')\n          }\n          size = sizeCalculation(v, k)\n          if (!isPosInt(size)) {\n            throw new TypeError(\n              'sizeCalculation return invalid (expect positive integer)'\n            )\n          }\n        } else {\n          throw new TypeError(\n            'invalid size value (must be positive integer). ' +\n              'When maxSize or maxEntrySize is used, sizeCalculation ' +\n              'or size must be set.'\n          )\n        }\n      }\n      return size\n    }\n    this.#addItemSize = (\n      index: Index,\n      size: LRUCache.Size,\n      status?: LRUCache.Status<V>\n    ) => {\n      sizes[index] = size\n      if (this.#maxSize) {\n        const maxSize = this.#maxSize - (sizes[index] as number)\n        while (this.#calculatedSize > maxSize) {\n          this.#evict(true)\n        }\n      }\n      this.#calculatedSize += sizes[index] as number\n      if (status) {\n        status.entrySize = size\n        status.totalCalculatedSize = this.#calculatedSize\n      }\n    }\n  }\n\n  #removeItemSize: (index: Index) => void = _i => {}\n  #addItemSize: (\n    index: Index,\n    size: LRUCache.Size,\n    status?: LRUCache.Status<V>\n  ) => void = (_i, _s, _st) => {}\n  #requireSize: (\n    k: K,\n    v: V | BackgroundFetch<V>,\n    size?: LRUCache.Size,\n    sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  ) => LRUCache.Size = (\n    _k: K,\n    _v: V | BackgroundFetch<V>,\n    size?: LRUCache.Size,\n    sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  ) => {\n    if (size || sizeCalculation) {\n      throw new TypeError(\n        'cannot set size without setting maxSize or maxEntrySize on cache'\n      )\n    }\n    return 0\n  };\n\n  *#indexes({ allowStale = this.allowStale } = {}) {\n    if (this.#size) {\n      for (let i = this.#tail; true; ) {\n        if (!this.#isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.#isStale(i)) {\n          yield i\n        }\n        if (i === this.#head) {\n          break\n        } else {\n          i = this.#prev[i] as Index\n        }\n      }\n    }\n  }\n\n  *#rindexes({ allowStale = this.allowStale } = {}) {\n    if (this.#size) {\n      for (let i = this.#head; true; ) {\n        if (!this.#isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.#isStale(i)) {\n          yield i\n        }\n        if (i === this.#tail) {\n          break\n        } else {\n          i = this.#next[i] as Index\n        }\n      }\n    }\n  }\n\n  #isValidIndex(index: Index) {\n    return (\n      index !== undefined &&\n      this.#keyMap.get(this.#keyList[index] as K) === index\n    )\n  }\n\n  /**\n   * Return a generator yielding `[key, value]` pairs,\n   * in order from most recently used to least recently used.\n   */\n  *entries() {\n    for (const i of this.#indexes()) {\n      if (\n        this.#valList[i] !== undefined &&\n        this.#keyList[i] !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield [this.#keyList[i], this.#valList[i]] as [K, V]\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.entries}\n   *\n   * Return a generator yielding `[key, value]` pairs,\n   * in order from least recently used to most recently used.\n   */\n  *rentries() {\n    for (const i of this.#rindexes()) {\n      if (\n        this.#valList[i] !== undefined &&\n        this.#keyList[i] !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield [this.#keyList[i], this.#valList[i]]\n      }\n    }\n  }\n\n  /**\n   * Return a generator yielding the keys in the cache,\n   * in order from most recently used to least recently used.\n   */\n  *keys() {\n    for (const i of this.#indexes()) {\n      const k = this.#keyList[i]\n      if (\n        k !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield k\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.keys}\n   *\n   * Return a generator yielding the keys in the cache,\n   * in order from least recently used to most recently used.\n   */\n  *rkeys() {\n    for (const i of this.#rindexes()) {\n      const k = this.#keyList[i]\n      if (\n        k !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield k\n      }\n    }\n  }\n\n  /**\n   * Return a generator yielding the values in the cache,\n   * in order from most recently used to least recently used.\n   */\n  *values() {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      if (\n        v !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield this.#valList[i] as V\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.values}\n   *\n   * Return a generator yielding the values in the cache,\n   * in order from least recently used to most recently used.\n   */\n  *rvalues() {\n    for (const i of this.#rindexes()) {\n      const v = this.#valList[i]\n      if (\n        v !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield this.#valList[i]\n      }\n    }\n  }\n\n  /**\n   * Iterating over the cache itself yields the same results as\n   * {@link LRUCache.entries}\n   */\n  [Symbol.iterator]() {\n    return this.entries()\n  }\n\n  /**\n   * A String value that is used in the creation of the default string\n   * description of an object. Called by the built-in method\n   * `Object.prototype.toString`.\n   */\n  [Symbol.toStringTag] = 'LRUCache'\n\n  /**\n   * Find a value for which the supplied fn method returns a truthy value,\n   * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n   */\n  find(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => boolean,\n    getOptions: LRUCache.GetOptions<K, V, FC> = {}\n  ) {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      if (fn(value, this.#keyList[i] as K, this)) {\n        return this.get(this.#keyList[i] as K, getOptions)\n      }\n    }\n  }\n\n  /**\n   * Call the supplied function on each item in the cache, in order from most\n   * recently used to least recently used.\n   *\n   * `fn` is called as `fn(value, key, cache)`.\n   *\n   * If `thisp` is provided, function will be called in the `this`-context of\n   * the provided object, or the cache if no `thisp` object is provided.\n   *\n   * Does not update age or recenty of use, or iterate over stale values.\n   */\n  forEach(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => any,\n    thisp: any = this\n  ) {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.#keyList[i] as K, this)\n    }\n  }\n\n  /**\n   * The same as {@link LRUCache.forEach} but items are iterated over in\n   * reverse order.  (ie, less recently used items are iterated over first.)\n   */\n  rforEach(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => any,\n    thisp: any = this\n  ) {\n    for (const i of this.#rindexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.#keyList[i] as K, this)\n    }\n  }\n\n  /**\n   * Delete any stale entries. Returns true if anything was removed,\n   * false otherwise.\n   */\n  purgeStale() {\n    let deleted = false\n    for (const i of this.#rindexes({ allowStale: true })) {\n      if (this.#isStale(i)) {\n        this.#delete(this.#keyList[i] as K, 'expire')\n        deleted = true\n      }\n    }\n    return deleted\n  }\n\n  /**\n   * Get the extended info about a given entry, to get its value, size, and\n   * TTL info simultaneously. Returns `undefined` if the key is not present.\n   *\n   * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n   * serialization, the `start` value is always the current timestamp, and the\n   * `ttl` is a calculated remaining time to live (negative if expired).\n   *\n   * Always returns stale values, if their info is found in the cache, so be\n   * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n   * if relevant.\n   */\n  info(key: K): LRUCache.Entry<V> | undefined {\n    const i = this.#keyMap.get(key)\n    if (i === undefined) return undefined\n    const v = this.#valList[i]\n    const value: V | undefined = this.#isBackgroundFetch(v)\n      ? v.__staleWhileFetching\n      : v\n    if (value === undefined) return undefined\n    const entry: LRUCache.Entry<V> = { value }\n    if (this.#ttls && this.#starts) {\n      const ttl = this.#ttls[i]\n      const start = this.#starts[i]\n      if (ttl && start) {\n        const remain = ttl - (perf.now() - start)\n        entry.ttl = remain\n        entry.start = Date.now()\n      }\n    }\n    if (this.#sizes) {\n      entry.size = this.#sizes[i]\n    }\n    return entry\n  }\n\n  /**\n   * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n   * passed to {@link LRLUCache#load}.\n   *\n   * The `start` fields are calculated relative to a portable `Date.now()`\n   * timestamp, even if `performance.now()` is available.\n   *\n   * Stale entries are always included in the `dump`, even if\n   * {@link LRUCache.OptionsBase.allowStale} is false.\n   *\n   * Note: this returns an actual array, not a generator, so it can be more\n   * easily passed around.\n   */\n  dump() {\n    const arr: [K, LRUCache.Entry<V>][] = []\n    for (const i of this.#indexes({ allowStale: true })) {\n      const key = this.#keyList[i]\n      const v = this.#valList[i]\n      const value: V | undefined = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined || key === undefined) continue\n      const entry: LRUCache.Entry<V> = { value }\n      if (this.#ttls && this.#starts) {\n        entry.ttl = this.#ttls[i]\n        // always dump the start relative to a portable timestamp\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = perf.now() - (this.#starts[i] as number)\n        entry.start = Math.floor(Date.now() - age)\n      }\n      if (this.#sizes) {\n        entry.size = this.#sizes[i]\n      }\n      arr.unshift([key, entry])\n    }\n    return arr\n  }\n\n  /**\n   * Reset the cache and load in the items in entries in the order listed.\n   *\n   * The shape of the resulting cache may be different if the same options are\n   * not used in both caches.\n   *\n   * The `start` fields are assumed to be calculated relative to a portable\n   * `Date.now()` timestamp, even if `performance.now()` is available.\n   */\n  load(arr: [K, LRUCache.Entry<V>][]) {\n    this.clear()\n    for (const [key, entry] of arr) {\n      if (entry.start) {\n        // entry.start is a portable timestamp, but we may be using\n        // node's performance.now(), so calculate the offset, so that\n        // we get the intended remaining TTL, no matter how long it's\n        // been on ice.\n        //\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = Date.now() - entry.start\n        entry.start = perf.now() - age\n      }\n      this.set(key, entry.value, entry)\n    }\n  }\n\n  /**\n   * Add a value to the cache.\n   *\n   * Note: if `undefined` is specified as a value, this is an alias for\n   * {@link LRUCache#delete}\n   *\n   * Fields on the {@link LRUCache.SetOptions} options param will override\n   * their corresponding values in the constructor options for the scope\n   * of this single `set()` operation.\n   *\n   * If `start` is provided, then that will set the effective start\n   * time for the TTL calculation. Note that this must be a previous\n   * value of `performance.now()` if supported, or a previous value of\n   * `Date.now()` if not.\n   *\n   * Options object may also include `size`, which will prevent\n   * calling the `sizeCalculation` function and just use the specified\n   * number if it is a positive integer, and `noDisposeOnSet` which\n   * will prevent calling a `dispose` function in the case of\n   * overwrites.\n   *\n   * If the `size` (or return value of `sizeCalculation`) for a given\n   * entry is greater than `maxEntrySize`, then the item will not be\n   * added to the cache.\n   *\n   * Will update the recency of the entry.\n   *\n   * If the value is `undefined`, then this is an alias for\n   * `cache.delete(key)`. `undefined` is never stored in the cache.\n   */\n  set(\n    k: K,\n    v: V | BackgroundFetch<V> | undefined,\n    setOptions: LRUCache.SetOptions<K, V, FC> = {}\n  ) {\n    if (v === undefined) {\n      this.delete(k)\n      return this\n    }\n    const {\n      ttl = this.ttl,\n      start,\n      noDisposeOnSet = this.noDisposeOnSet,\n      sizeCalculation = this.sizeCalculation,\n      status,\n    } = setOptions\n    let { noUpdateTTL = this.noUpdateTTL } = setOptions\n\n    const size = this.#requireSize(\n      k,\n      v,\n      setOptions.size || 0,\n      sizeCalculation\n    )\n    // if the item doesn't fit, don't do anything\n    // NB: maxEntrySize set to maxSize by default\n    if (this.maxEntrySize && size > this.maxEntrySize) {\n      if (status) {\n        status.set = 'miss'\n        status.maxEntrySizeExceeded = true\n      }\n      // have to delete, in case something is there already.\n      this.#delete(k, 'set')\n      return this\n    }\n    let index = this.#size === 0 ? undefined : this.#keyMap.get(k)\n    if (index === undefined) {\n      // addition\n      index = (\n        this.#size === 0\n          ? this.#tail\n          : this.#free.length !== 0\n          ? this.#free.pop()\n          : this.#size === this.#max\n          ? this.#evict(false)\n          : this.#size\n      ) as Index\n      this.#keyList[index] = k\n      this.#valList[index] = v\n      this.#keyMap.set(k, index)\n      this.#next[this.#tail] = index\n      this.#prev[index] = this.#tail\n      this.#tail = index\n      this.#size++\n      this.#addItemSize(index, size, status)\n      if (status) status.set = 'add'\n      noUpdateTTL = false\n    } else {\n      // update\n      this.#moveToTail(index)\n      const oldVal = this.#valList[index] as V | BackgroundFetch<V>\n      if (v !== oldVal) {\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n          oldVal.__abortController.abort(new Error('replaced'))\n          const { __staleWhileFetching: s } = oldVal\n          if (s !== undefined && !noDisposeOnSet) {\n            if (this.#hasDispose) {\n              this.#dispose?.(s as V, k, 'set')\n            }\n            if (this.#hasDisposeAfter) {\n              this.#disposed?.push([s as V, k, 'set'])\n            }\n          }\n        } else if (!noDisposeOnSet) {\n          if (this.#hasDispose) {\n            this.#dispose?.(oldVal as V, k, 'set')\n          }\n          if (this.#hasDisposeAfter) {\n            this.#disposed?.push([oldVal as V, k, 'set'])\n          }\n        }\n        this.#removeItemSize(index)\n        this.#addItemSize(index, size, status)\n        this.#valList[index] = v\n        if (status) {\n          status.set = 'replace'\n          const oldValue =\n            oldVal && this.#isBackgroundFetch(oldVal)\n              ? oldVal.__staleWhileFetching\n              : oldVal\n          if (oldValue !== undefined) status.oldValue = oldValue\n        }\n      } else if (status) {\n        status.set = 'update'\n      }\n    }\n    if (ttl !== 0 && !this.#ttls) {\n      this.#initializeTTLTracking()\n    }\n    if (this.#ttls) {\n      if (!noUpdateTTL) {\n        this.#setItemTTL(index, ttl, start)\n      }\n      if (status) this.#statusTTL(status, index)\n    }\n    if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n    return this\n  }\n\n  /**\n   * Evict the least recently used item, returning its value or\n   * `undefined` if cache is empty.\n   */\n  pop(): V | undefined {\n    try {\n      while (this.#size) {\n        const val = this.#valList[this.#head]\n        this.#evict(true)\n        if (this.#isBackgroundFetch(val)) {\n          if (val.__staleWhileFetching) {\n            return val.__staleWhileFetching\n          }\n        } else if (val !== undefined) {\n          return val\n        }\n      }\n    } finally {\n      if (this.#hasDisposeAfter && this.#disposed) {\n        const dt = this.#disposed\n        let task: DisposeTask<K, V> | undefined\n        while ((task = dt?.shift())) {\n          this.#disposeAfter?.(...task)\n        }\n      }\n    }\n  }\n\n  #evict(free: boolean) {\n    const head = this.#head\n    const k = this.#keyList[head] as K\n    const v = this.#valList[head] as V\n    if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n      v.__abortController.abort(new Error('evicted'))\n    } else if (this.#hasDispose || this.#hasDisposeAfter) {\n      if (this.#hasDispose) {\n        this.#dispose?.(v, k, 'evict')\n      }\n      if (this.#hasDisposeAfter) {\n        this.#disposed?.push([v, k, 'evict'])\n      }\n    }\n    this.#removeItemSize(head)\n    // if we aren't about to use the index, then null these out\n    if (free) {\n      this.#keyList[head] = undefined\n      this.#valList[head] = undefined\n      this.#free.push(head)\n    }\n    if (this.#size === 1) {\n      this.#head = this.#tail = 0 as Index\n      this.#free.length = 0\n    } else {\n      this.#head = this.#next[head] as Index\n    }\n    this.#keyMap.delete(k)\n    this.#size--\n    return head\n  }\n\n  /**\n   * Check if a key is in the cache, without updating the recency of use.\n   * Will return false if the item is stale, even though it is technically\n   * in the cache.\n   *\n   * Check if a key is in the cache, without updating the recency of\n   * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n   * to `true` in either the options or the constructor.\n   *\n   * Will return `false` if the item is stale, even though it is technically in\n   * the cache. The difference can be determined (if it matters) by using a\n   * `status` argument, and inspecting the `has` field.\n   *\n   * Will not update item age unless\n   * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n   */\n  has(k: K, hasOptions: LRUCache.HasOptions<K, V, FC> = {}) {\n    const { updateAgeOnHas = this.updateAgeOnHas, status } =\n      hasOptions\n    const index = this.#keyMap.get(k)\n    if (index !== undefined) {\n      const v = this.#valList[index]\n      if (\n        this.#isBackgroundFetch(v) &&\n        v.__staleWhileFetching === undefined\n      ) {\n        return false\n      }\n      if (!this.#isStale(index)) {\n        if (updateAgeOnHas) {\n          this.#updateItemAge(index)\n        }\n        if (status) {\n          status.has = 'hit'\n          this.#statusTTL(status, index)\n        }\n        return true\n      } else if (status) {\n        status.has = 'stale'\n        this.#statusTTL(status, index)\n      }\n    } else if (status) {\n      status.has = 'miss'\n    }\n    return false\n  }\n\n  /**\n   * Like {@link LRUCache#get} but doesn't update recency or delete stale\n   * items.\n   *\n   * Returns `undefined` if the item is stale, unless\n   * {@link LRUCache.OptionsBase.allowStale} is set.\n   */\n  peek(k: K, peekOptions: LRUCache.PeekOptions<K, V, FC> = {}) {\n    const { allowStale = this.allowStale } = peekOptions\n    const index = this.#keyMap.get(k)\n    if (\n      index === undefined ||\n      (!allowStale && this.#isStale(index))\n    ) {\n      return\n    }\n    const v = this.#valList[index]\n    // either stale and allowed, or forcing a refresh of non-stale value\n    return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v\n  }\n\n  #backgroundFetch(\n    k: K,\n    index: Index | undefined,\n    options: LRUCache.FetchOptions<K, V, FC>,\n    context: any\n  ): BackgroundFetch<V> {\n    const v = index === undefined ? undefined : this.#valList[index]\n    if (this.#isBackgroundFetch(v)) {\n      return v\n    }\n\n    const ac = new AC()\n    const { signal } = options\n    // when/if our AC signals, then stop listening to theirs.\n    signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n      signal: ac.signal,\n    })\n\n    const fetchOpts = {\n      signal: ac.signal,\n      options,\n      context,\n    }\n\n    const cb = (\n      v: V | undefined,\n      updateCache = false\n    ): V | undefined => {\n      const { aborted } = ac.signal\n      const ignoreAbort = options.ignoreFetchAbort && v !== undefined\n      if (options.status) {\n        if (aborted && !updateCache) {\n          options.status.fetchAborted = true\n          options.status.fetchError = ac.signal.reason\n          if (ignoreAbort) options.status.fetchAbortIgnored = true\n        } else {\n          options.status.fetchResolved = true\n        }\n      }\n      if (aborted && !ignoreAbort && !updateCache) {\n        return fetchFail(ac.signal.reason)\n      }\n      // either we didn't abort, and are still here, or we did, and ignored\n      const bf = p as BackgroundFetch<V>\n      if (this.#valList[index as Index] === p) {\n        if (v === undefined) {\n          if (bf.__staleWhileFetching) {\n            this.#valList[index as Index] = bf.__staleWhileFetching\n          } else {\n            this.#delete(k, 'fetch')\n          }\n        } else {\n          if (options.status) options.status.fetchUpdated = true\n          this.set(k, v, fetchOpts.options)\n        }\n      }\n      return v\n    }\n\n    const eb = (er: any) => {\n      if (options.status) {\n        options.status.fetchRejected = true\n        options.status.fetchError = er\n      }\n      return fetchFail(er)\n    }\n\n    const fetchFail = (er: any): V | undefined => {\n      const { aborted } = ac.signal\n      const allowStaleAborted =\n        aborted && options.allowStaleOnFetchAbort\n      const allowStale =\n        allowStaleAborted || options.allowStaleOnFetchRejection\n      const noDelete = allowStale || options.noDeleteOnFetchRejection\n      const bf = p as BackgroundFetch<V>\n      if (this.#valList[index as Index] === p) {\n        // if we allow stale on fetch rejections, then we need to ensure that\n        // the stale value is not removed from the cache when the fetch fails.\n        const del = !noDelete || bf.__staleWhileFetching === undefined\n        if (del) {\n          this.#delete(k, 'fetch')\n        } else if (!allowStaleAborted) {\n          // still replace the *promise* with the stale value,\n          // since we are done with the promise at this point.\n          // leave it untouched if we're still waiting for an\n          // aborted background fetch that hasn't yet returned.\n          this.#valList[index as Index] = bf.__staleWhileFetching\n        }\n      }\n      if (allowStale) {\n        if (options.status && bf.__staleWhileFetching !== undefined) {\n          options.status.returnedStale = true\n        }\n        return bf.__staleWhileFetching\n      } else if (bf.__returned === bf) {\n        throw er\n      }\n    }\n\n    const pcall = (\n      res: (v: V | undefined) => void,\n      rej: (e: any) => void\n    ) => {\n      const fmp = this.#fetchMethod?.(k, v, fetchOpts)\n      if (fmp && fmp instanceof Promise) {\n        fmp.then(v => res(v === undefined ? undefined : v), rej)\n      }\n      // ignored, we go until we finish, regardless.\n      // defer check until we are actually aborting,\n      // so fetchMethod can override.\n      ac.signal.addEventListener('abort', () => {\n        if (\n          !options.ignoreFetchAbort ||\n          options.allowStaleOnFetchAbort\n        ) {\n          res(undefined)\n          // when it eventually resolves, update the cache.\n          if (options.allowStaleOnFetchAbort) {\n            res = v => cb(v, true)\n          }\n        }\n      })\n    }\n\n    if (options.status) options.status.fetchDispatched = true\n    const p = new Promise(pcall).then(cb, eb)\n    const bf: BackgroundFetch<V> = Object.assign(p, {\n      __abortController: ac,\n      __staleWhileFetching: v,\n      __returned: undefined,\n    })\n\n    if (index === undefined) {\n      // internal, don't expose status.\n      this.set(k, bf, { ...fetchOpts.options, status: undefined })\n      index = this.#keyMap.get(k)\n    } else {\n      this.#valList[index] = bf\n    }\n    return bf\n  }\n\n  #isBackgroundFetch(p: any): p is BackgroundFetch<V> {\n    if (!this.#hasFetchMethod) return false\n    const b = p as BackgroundFetch<V>\n    return (\n      !!b &&\n      b instanceof Promise &&\n      b.hasOwnProperty('__staleWhileFetching') &&\n      b.__abortController instanceof AC\n    )\n  }\n\n  /**\n   * Make an asynchronous cached fetch using the\n   * {@link LRUCache.OptionsBase.fetchMethod} function.\n   *\n   * If the value is in the cache and not stale, then the returned\n   * Promise resolves to the value.\n   *\n   * If not in the cache, or beyond its TTL staleness, then\n   * `fetchMethod(key, staleValue, { options, signal, context })` is\n   * called, and the value returned will be added to the cache once\n   * resolved.\n   *\n   * If called with `allowStale`, and an asynchronous fetch is\n   * currently in progress to reload a stale value, then the former\n   * stale value will be returned.\n   *\n   * If called with `forceRefresh`, then the cached item will be\n   * re-fetched, even if it is not stale. However, if `allowStale` is also\n   * set, then the old value will still be returned. This is useful\n   * in cases where you want to force a reload of a cached value. If\n   * a background fetch is already in progress, then `forceRefresh`\n   * has no effect.\n   *\n   * If multiple fetches for the same key are issued, then they will all be\n   * coalesced into a single call to fetchMethod.\n   *\n   * Note that this means that handling options such as\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort},\n   * {@link LRUCache.FetchOptions.signal},\n   * and {@link LRUCache.OptionsBase.allowStaleOnFetchRejection} will be\n   * determined by the FIRST fetch() call for a given key.\n   *\n   * This is a known (fixable) shortcoming which will be addresed on when\n   * someone complains about it, as the fix would involve added complexity and\n   * may not be worth the costs for this edge case.\n   *\n   * If {@link LRUCache.OptionsBase.fetchMethod} is not specified, then this is\n   * effectively an alias for `Promise.resolve(cache.get(key))`.\n   *\n   * When the fetch method resolves to a value, if the fetch has not\n   * been aborted due to deletion, eviction, or being overwritten,\n   * then it is added to the cache using the options provided.\n   *\n   * If the key is evicted or deleted before the `fetchMethod`\n   * resolves, then the AbortSignal passed to the `fetchMethod` will\n   * receive an `abort` event, and the promise returned by `fetch()`\n   * will reject with the reason for the abort.\n   *\n   * If a `signal` is passed to the `fetch()` call, then aborting the\n   * signal will abort the fetch and cause the `fetch()` promise to\n   * reject with the reason provided.\n   *\n   * **Setting `context`**\n   *\n   * If an `FC` type is set to a type other than `unknown`, `void`, or\n   * `undefined` in the {@link LRUCache} constructor, then all\n   * calls to `cache.fetch()` _must_ provide a `context` option. If\n   * set to `undefined` or `void`, then calls to fetch _must not_\n   * provide a `context` option.\n   *\n   * The `context` param allows you to provide arbitrary data that\n   * might be relevant in the course of fetching the data. It is only\n   * relevant for the course of a single `fetch()` operation, and\n   * discarded afterwards.\n   *\n   * **Note: `fetch()` calls are inflight-unique**\n   *\n   * If you call `fetch()` multiple times with the same key value,\n   * then every call after the first will resolve on the same\n   * promise<sup>1</sup>,\n   * _even if they have different settings that would otherwise change\n   * the behavior of the fetch_, such as `noDeleteOnFetchRejection`\n   * or `ignoreFetchAbort`.\n   *\n   * In most cases, this is not a problem (in fact, only fetching\n   * something once is what you probably want, if you're caching in\n   * the first place). If you are changing the fetch() options\n   * dramatically between runs, there's a good chance that you might\n   * be trying to fit divergent semantics into a single object, and\n   * would be better off with multiple cache instances.\n   *\n   * **1**: Ie, they're not the \"same Promise\", but they resolve at\n   * the same time, because they're both waiting on the same\n   * underlying fetchMethod response.\n   */\n\n  fetch(\n    k: K,\n    fetchOptions: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : LRUCache.FetchOptionsWithContext<K, V, FC>\n  ): Promise<undefined | V>\n\n  // this overload not allowed if context is required\n  fetch(\n    k: unknown extends FC\n      ? K\n      : FC extends undefined | void\n      ? K\n      : never,\n    fetchOptions?: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : never\n  ): Promise<undefined | V>\n\n  async fetch(\n    k: K,\n    fetchOptions: LRUCache.FetchOptions<K, V, FC> = {}\n  ): Promise<undefined | V> {\n    const {\n      // get options\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      // set options\n      ttl = this.ttl,\n      noDisposeOnSet = this.noDisposeOnSet,\n      size = 0,\n      sizeCalculation = this.sizeCalculation,\n      noUpdateTTL = this.noUpdateTTL,\n      // fetch exclusive options\n      noDeleteOnFetchRejection = this.noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection = this.allowStaleOnFetchRejection,\n      ignoreFetchAbort = this.ignoreFetchAbort,\n      allowStaleOnFetchAbort = this.allowStaleOnFetchAbort,\n      context,\n      forceRefresh = false,\n      status,\n      signal,\n    } = fetchOptions\n\n    if (!this.#hasFetchMethod) {\n      if (status) status.fetch = 'get'\n      return this.get(k, {\n        allowStale,\n        updateAgeOnGet,\n        noDeleteOnStaleGet,\n        status,\n      })\n    }\n\n    const options = {\n      allowStale,\n      updateAgeOnGet,\n      noDeleteOnStaleGet,\n      ttl,\n      noDisposeOnSet,\n      size,\n      sizeCalculation,\n      noUpdateTTL,\n      noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n      status,\n      signal,\n    }\n\n    let index = this.#keyMap.get(k)\n    if (index === undefined) {\n      if (status) status.fetch = 'miss'\n      const p = this.#backgroundFetch(k, index, options, context)\n      return (p.__returned = p)\n    } else {\n      // in cache, maybe already fetching\n      const v = this.#valList[index]\n      if (this.#isBackgroundFetch(v)) {\n        const stale =\n          allowStale && v.__staleWhileFetching !== undefined\n        if (status) {\n          status.fetch = 'inflight'\n          if (stale) status.returnedStale = true\n        }\n        return stale ? v.__staleWhileFetching : (v.__returned = v)\n      }\n\n      // if we force a refresh, that means do NOT serve the cached value,\n      // unless we are already in the process of refreshing the cache.\n      const isStale = this.#isStale(index)\n      if (!forceRefresh && !isStale) {\n        if (status) status.fetch = 'hit'\n        this.#moveToTail(index)\n        if (updateAgeOnGet) {\n          this.#updateItemAge(index)\n        }\n        if (status) this.#statusTTL(status, index)\n        return v\n      }\n\n      // ok, it is stale or a forced refresh, and not already fetching.\n      // refresh the cache.\n      const p = this.#backgroundFetch(k, index, options, context)\n      const hasStale = p.__staleWhileFetching !== undefined\n      const staleVal = hasStale && allowStale\n      if (status) {\n        status.fetch = isStale ? 'stale' : 'refresh'\n        if (staleVal && isStale) status.returnedStale = true\n      }\n      return staleVal ? p.__staleWhileFetching : (p.__returned = p)\n    }\n  }\n\n  /**\n   * In some cases, `cache.fetch()` may resolve to `undefined`, either because\n   * a {@link LRUCache.OptionsBase#fetchMethod} was not provided (turning\n   * `cache.fetch(k)` into just an async wrapper around `cache.get(k)`) or\n   * because `ignoreFetchAbort` was specified (either to the constructor or\n   * in the {@link LRUCache.FetchOptions}). Also, the\n   * {@link OptionsBase.fetchMethod} may return `undefined` or `void`, making\n   * the test even more complicated.\n   *\n   * Because inferring the cases where `undefined` might be returned are so\n   * cumbersome, but testing for `undefined` can also be annoying, this method\n   * can be used, which will reject if `this.fetch()` resolves to undefined.\n   */\n  forceFetch(\n    k: K,\n    fetchOptions: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : LRUCache.FetchOptionsWithContext<K, V, FC>\n  ): Promise<V>\n  // this overload not allowed if context is required\n  forceFetch(\n    k: unknown extends FC\n      ? K\n      : FC extends undefined | void\n      ? K\n      : never,\n    fetchOptions?: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : never\n  ): Promise<V>\n  async forceFetch(\n    k: K,\n    fetchOptions: LRUCache.FetchOptions<K, V, FC> = {}\n  ): Promise<V> {\n    const v = await this.fetch(\n      k,\n      fetchOptions as unknown extends FC\n        ? LRUCache.FetchOptions<K, V, FC>\n        : FC extends undefined | void\n        ? LRUCache.FetchOptionsNoContext<K, V>\n        : LRUCache.FetchOptionsWithContext<K, V, FC>\n    )\n    if (v === undefined) throw new Error('fetch() returned undefined')\n    return v\n  }\n\n  /**\n   * If the key is found in the cache, then this is equivalent to\n   * {@link LRUCache#get}. If not, in the cache, then calculate the value using\n   * the {@link LRUCache.OptionsBase.memoMethod}, and add it to the cache.\n   *\n   * If an `FC` type is set to a type other than `unknown`, `void`, or\n   * `undefined` in the LRUCache constructor, then all calls to `cache.memo()`\n   * _must_ provide a `context` option. If set to `undefined` or `void`, then\n   * calls to memo _must not_ provide a `context` option.\n   *\n   * The `context` param allows you to provide arbitrary data that might be\n   * relevant in the course of fetching the data. It is only relevant for the\n   * course of a single `memo()` operation, and discarded afterwards.\n   */\n  memo(\n    k: K,\n    memoOptions: unknown extends FC\n      ? LRUCache.MemoOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.MemoOptionsNoContext<K, V>\n      : LRUCache.MemoOptionsWithContext<K, V, FC>\n  ): V\n  // this overload not allowed if context is required\n  memo(\n    k: unknown extends FC\n      ? K\n      : FC extends undefined | void\n      ? K\n      : never,\n    memoOptions?: unknown extends FC\n      ? LRUCache.MemoOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.MemoOptionsNoContext<K, V>\n      : never\n  ): V\n  memo(k: K, memoOptions: LRUCache.MemoOptions<K, V, FC> = {}) {\n    const memoMethod = this.#memoMethod\n    if (!memoMethod) {\n      throw new Error('no memoMethod provided to constructor')\n    }\n    const { context, forceRefresh, ...options } = memoOptions\n    const v = this.get(k, options)\n    if (!forceRefresh && v !== undefined) return v\n    const vv = memoMethod(k, v, {\n      options,\n      context,\n    } as LRUCache.MemoizerOptions<K, V, FC>)\n    this.set(k, vv, options)\n    return vv\n  }\n\n  /**\n   * Return a value from the cache. Will update the recency of the cache\n   * entry found.\n   *\n   * If the key is not found, get() will return `undefined`.\n   */\n  get(k: K, getOptions: LRUCache.GetOptions<K, V, FC> = {}) {\n    const {\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      status,\n    } = getOptions\n    const index = this.#keyMap.get(k)\n    if (index !== undefined) {\n      const value = this.#valList[index]\n      const fetching = this.#isBackgroundFetch(value)\n      if (status) this.#statusTTL(status, index)\n      if (this.#isStale(index)) {\n        if (status) status.get = 'stale'\n        // delete only if not an in-flight background fetch\n        if (!fetching) {\n          if (!noDeleteOnStaleGet) {\n            this.#delete(k, 'expire')\n          }\n          if (status && allowStale) status.returnedStale = true\n          return allowStale ? value : undefined\n        } else {\n          if (\n            status &&\n            allowStale &&\n            value.__staleWhileFetching !== undefined\n          ) {\n            status.returnedStale = true\n          }\n          return allowStale ? value.__staleWhileFetching : undefined\n        }\n      } else {\n        if (status) status.get = 'hit'\n        // if we're currently fetching it, we don't actually have it yet\n        // it's not stale, which means this isn't a staleWhileRefetching.\n        // If it's not stale, and fetching, AND has a __staleWhileFetching\n        // value, then that means the user fetched with {forceRefresh:true},\n        // so it's safe to return that value.\n        if (fetching) {\n          return value.__staleWhileFetching\n        }\n        this.#moveToTail(index)\n        if (updateAgeOnGet) {\n          this.#updateItemAge(index)\n        }\n        return value\n      }\n    } else if (status) {\n      status.get = 'miss'\n    }\n  }\n\n  #connect(p: Index, n: Index) {\n    this.#prev[n] = p\n    this.#next[p] = n\n  }\n\n  #moveToTail(index: Index): void {\n    // if tail already, nothing to do\n    // if head, move head to next[index]\n    // else\n    //   move next[prev[index]] to next[index] (head has no prev)\n    //   move prev[next[index]] to prev[index]\n    // prev[index] = tail\n    // next[tail] = index\n    // tail = index\n    if (index !== this.#tail) {\n      if (index === this.#head) {\n        this.#head = this.#next[index] as Index\n      } else {\n        this.#connect(\n          this.#prev[index] as Index,\n          this.#next[index] as Index\n        )\n      }\n      this.#connect(this.#tail, index)\n      this.#tail = index\n    }\n  }\n\n  /**\n   * Deletes a key out of the cache.\n   *\n   * Returns true if the key was deleted, false otherwise.\n   */\n  delete(k: K) {\n    return this.#delete(k, 'delete')\n  }\n\n  #delete(k: K, reason: LRUCache.DisposeReason) {\n    let deleted = false\n    if (this.#size !== 0) {\n      const index = this.#keyMap.get(k)\n      if (index !== undefined) {\n        deleted = true\n        if (this.#size === 1) {\n          this.#clear(reason)\n        } else {\n          this.#removeItemSize(index)\n          const v = this.#valList[index]\n          if (this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('deleted'))\n          } else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n              this.#dispose?.(v as V, k, reason)\n            }\n            if (this.#hasDisposeAfter) {\n              this.#disposed?.push([v as V, k, reason])\n            }\n          }\n          this.#keyMap.delete(k)\n          this.#keyList[index] = undefined\n          this.#valList[index] = undefined\n          if (index === this.#tail) {\n            this.#tail = this.#prev[index] as Index\n          } else if (index === this.#head) {\n            this.#head = this.#next[index] as Index\n          } else {\n            const pi = this.#prev[index] as number\n            this.#next[pi] = this.#next[index] as number\n            const ni = this.#next[index] as number\n            this.#prev[ni] = this.#prev[index] as number\n          }\n          this.#size--\n          this.#free.push(index)\n        }\n      }\n    }\n    if (this.#hasDisposeAfter && this.#disposed?.length) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n    return deleted\n  }\n\n  /**\n   * Clear the cache entirely, throwing away all values.\n   */\n  clear() {\n    return this.#clear('delete')\n  }\n  #clear(reason: LRUCache.DisposeReason) {\n    for (const index of this.#rindexes({ allowStale: true })) {\n      const v = this.#valList[index]\n      if (this.#isBackgroundFetch(v)) {\n        v.__abortController.abort(new Error('deleted'))\n      } else {\n        const k = this.#keyList[index]\n        if (this.#hasDispose) {\n          this.#dispose?.(v as V, k as K, reason)\n        }\n        if (this.#hasDisposeAfter) {\n          this.#disposed?.push([v as V, k as K, reason])\n        }\n      }\n    }\n\n    this.#keyMap.clear()\n    this.#valList.fill(undefined)\n    this.#keyList.fill(undefined)\n    if (this.#ttls && this.#starts) {\n      this.#ttls.fill(0)\n      this.#starts.fill(0)\n    }\n    if (this.#sizes) {\n      this.#sizes.fill(0)\n    }\n    this.#head = 0 as Index\n    this.#tail = 0 as Index\n    this.#free.length = 0\n    this.#calculatedSize = 0\n    this.#size = 0\n    if (this.#hasDisposeAfter && this.#disposed) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n  }\n}\n", "var util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n\nconst ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\n\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === errorMap ? undefined : errorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nconst INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x) => x.status === \"aborted\";\nconst isDirty = (x) => x.status === \"dirty\";\nconst isValid = (x) => x.status === \"valid\";\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\n\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        var _a, _b;\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        var _a, _b;\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    // let regex = `\\\\d{2}:\\\\d{2}:\\\\d{2}`;\n    let regex = `([01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d`;\n    if (args.precision) {\n        regex = `${regex}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        regex = `${regex}(\\\\.\\\\d+)?`;\n    }\n    return regex;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nfunction datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (!decoded.typ || !decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a, _b;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch (_a) {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") ;\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date &&\n        bType === ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\").has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\n_ZodEnum_cache = new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodNativeEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string &&\n            ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\").has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\n_ZodNativeEnum_cache = new WeakMap();\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise &&\n            ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!isValid(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result)\n            ? result.then((data) => freeze(data))\n            : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\"\n        ? params(data)\n        : typeof params === \"string\"\n            ? { message: params }\n            : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nfunction custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    var _a, _b;\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = (_b = (_a = params.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = (_b = (_a = params.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nconst late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nconst NEVER = INVALID;\n\nvar z = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap: setErrorMap,\n    getErrorMap: getErrorMap,\n    makeIssue: makeIssue,\n    EMPTY_PATH: EMPTY_PATH,\n    addIssueToContext: addIssueToContext,\n    ParseStatus: ParseStatus,\n    INVALID: INVALID,\n    DIRTY: DIRTY,\n    OK: OK,\n    isAborted: isAborted,\n    isDirty: isDirty,\n    isValid: isValid,\n    isAsync: isAsync,\n    get util () { return util; },\n    get objectUtil () { return objectUtil; },\n    ZodParsedType: ZodParsedType,\n    getParsedType: getParsedType,\n    ZodType: ZodType,\n    datetimeRegex: datetimeRegex,\n    ZodString: ZodString,\n    ZodNumber: ZodNumber,\n    ZodBigInt: ZodBigInt,\n    ZodBoolean: ZodBoolean,\n    ZodDate: ZodDate,\n    ZodSymbol: ZodSymbol,\n    ZodUndefined: ZodUndefined,\n    ZodNull: ZodNull,\n    ZodAny: ZodAny,\n    ZodUnknown: ZodUnknown,\n    ZodNever: ZodNever,\n    ZodVoid: ZodVoid,\n    ZodArray: ZodArray,\n    ZodObject: ZodObject,\n    ZodUnion: ZodUnion,\n    ZodDiscriminatedUnion: ZodDiscriminatedUnion,\n    ZodIntersection: ZodIntersection,\n    ZodTuple: ZodTuple,\n    ZodRecord: ZodRecord,\n    ZodMap: ZodMap,\n    ZodSet: ZodSet,\n    ZodFunction: ZodFunction,\n    ZodLazy: ZodLazy,\n    ZodLiteral: ZodLiteral,\n    ZodEnum: ZodEnum,\n    ZodNativeEnum: ZodNativeEnum,\n    ZodPromise: ZodPromise,\n    ZodEffects: ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional: ZodOptional,\n    ZodNullable: ZodNullable,\n    ZodDefault: ZodDefault,\n    ZodCatch: ZodCatch,\n    ZodNaN: ZodNaN,\n    BRAND: BRAND,\n    ZodBranded: ZodBranded,\n    ZodPipeline: ZodPipeline,\n    ZodReadonly: ZodReadonly,\n    custom: custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late: late,\n    get ZodFirstPartyTypeKind () { return ZodFirstPartyTypeKind; },\n    coerce: coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    'enum': enumType,\n    'function': functionType,\n    'instanceof': instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    'null': nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean: oboolean,\n    onumber: onumber,\n    optional: optionalType,\n    ostring: ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    'undefined': undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    'void': voidType,\n    NEVER: NEVER,\n    ZodIssueCode: ZodIssueCode,\n    quotelessJson: quotelessJson,\n    ZodError: ZodError\n});\n\nexport { BRAND, DIRTY, EMPTY_PATH, INVALID, NEVER, OK, ParseStatus, ZodType as Schema, ZodAny, ZodArray, ZodBigInt, ZodBoolean, ZodBranded, ZodCatch, ZodDate, ZodDefault, ZodDiscriminatedUnion, ZodEffects, ZodEnum, ZodError, ZodFirstPartyTypeKind, ZodFunction, ZodIntersection, ZodIssueCode, ZodLazy, ZodLiteral, ZodMap, ZodNaN, ZodNativeEnum, ZodNever, ZodNull, ZodNullable, ZodNumber, ZodObject, ZodOptional, ZodParsedType, ZodPipeline, ZodPromise, ZodReadonly, ZodRecord, ZodType as ZodSchema, ZodSet, ZodString, ZodSymbol, ZodEffects as ZodTransformer, ZodTuple, ZodType, ZodUndefined, ZodUnion, ZodUnknown, ZodVoid, addIssueToContext, anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, coerce, custom, dateType as date, datetimeRegex, z as default, errorMap as defaultErrorMap, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, getErrorMap, getParsedType, instanceOfType as instanceof, intersectionType as intersection, isAborted, isAsync, isDirty, isValid, late, lazyType as lazy, literalType as literal, makeIssue, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, objectUtil, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, quotelessJson, recordType as record, setType as set, setErrorMap, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, util, voidType as void, z };\n", "// src/client/gateway.js\nimport { defaultTo, find, juxt, path, pipe, prop, propEq } from \"ramda\";\n\n// src/err.js\nvar InvalidSchedulerLocationError = class extends Error {\n  name = \"InvalidSchedulerLocation\";\n};\nvar SchedulerTagNotFoundError = class extends Error {\n  name = \"SchedulerTagNotFound\";\n};\nvar TransactionNotFoundError = class extends Error {\n  name = \"TransactionNotFound\";\n};\n\n// src/utils.js\nfunction trimSlash(str = \"\") {\n  str = str.trim();\n  return str.endsWith(\"/\") ? trimSlash(str.slice(0, -1)) : str;\n}\nvar backoff = (fn, { maxRetries = 0, delay = 300 }) => {\n  const action = (retry, delay2) => {\n    return Promise.resolve().then(fn).catch((err) => {\n      if (retry >= maxRetries) {\n        return Promise.reject(err);\n      }\n      const newRetry = retry + 1;\n      const newDelay = delay2 + delay2;\n      return new Promise((resolve) => setTimeout(resolve, delay2)).then(() => action(newRetry, newDelay));\n    });\n  };\n  return action(0, delay);\n};\nvar okRes = (res) => {\n  if (res.ok)\n    return res;\n  throw res;\n};\n\n// src/client/gateway.js\nvar URL_TAG = \"Url\";\nvar TTL_TAG = \"Time-To-Live\";\nvar SCHEDULER_TAG = \"Scheduler\";\nvar findTagValue = (name) => pipe(\n  defaultTo([]),\n  find(propEq(name, \"name\")),\n  defaultTo({}),\n  prop(\"value\")\n);\nvar findTransactionTags = (err) => pipe(\n  (transaction) => {\n    if (!transaction)\n      throw new TransactionNotFoundError(err);\n    return transaction;\n  },\n  prop(\"tags\"),\n  defaultTo([])\n);\nfunction gatewayWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2 = 0, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 = 300 }) {\n  return async ({ query, variables }) => {\n    return backoff(\n      () => fetch2(GRAPHQL_URL2, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ query, variables })\n      }).then(okRes).then((res) => res.json()),\n      { maxRetries: GRAPHQL_MAX_RETRIES2, delay: GRAPHQL_RETRY_BACKOFF2 }\n    );\n  };\n}\nfunction loadProcessSchedulerWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 }) {\n  const gateway = gatewayWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 });\n  const loadScheduler = loadSchedulerWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 });\n  const GET_TRANSACTIONS_QUERY = `\n    query GetTransactions ($transactionIds: [ID!]!) {\n      transactions(ids: $transactionIds) {\n        edges {\n          node {\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  `;\n  const TESTNET_SU_ROUTER = \"https://su-router.ao-testnet.xyz\";\n  return async (process2) => {\n    const eagerTestnet = await fetch2(`https://su-router.ao-testnet.xyz?process-id=${process2}`).then(\n      (res) => !res.ok ? void 0 : res.json().then(({ address }) => ({\n        url: TESTNET_SU_ROUTER,\n        ttl: 1e3 * 60 * 60 * 48,\n        address\n      }))\n    );\n    if (eagerTestnet)\n      return eagerTestnet;\n    return gateway({ query: GET_TRANSACTIONS_QUERY, variables: { transactionIds: [process2] } }).then(path([\"data\", \"transactions\", \"edges\", \"0\", \"node\"])).then(findTransactionTags(`Process ${process2} was not found on gateway`)).then(findTagValue(SCHEDULER_TAG)).then((walletAddress) => {\n      if (!walletAddress)\n        throw new SchedulerTagNotFoundError('No \"Scheduler\" tag found on process');\n      return loadScheduler(walletAddress);\n    });\n  };\n}\nfunction loadSchedulerWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 }) {\n  const gateway = gatewayWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 });\n  const GET_SCHEDULER_LOCATION = `\n    query GetSchedulerLocation ($owner: String!) {\n      transactions (\n        owners: [$owner]\n        tags: [\n          { name: \"Data-Protocol\", values: [\"ao\"] },\n          { name: \"Type\", values: [\"Scheduler-Location\"] }\n        ]\n        # Only need the most recent Scheduler-Location\n        sort: HEIGHT_DESC\n        first: 1\n      ) {\n        edges {\n          node {\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  `;\n  return async (walletAddress) => gateway({ query: GET_SCHEDULER_LOCATION, variables: { owner: walletAddress } }).then(path([\"data\", \"transactions\", \"edges\", \"0\", \"node\"])).then(findTransactionTags(`Could not find 'Scheduler-Location' owner by wallet ${walletAddress}`)).then(juxt([\n    findTagValue(URL_TAG),\n    findTagValue(TTL_TAG)\n  ])).then(([url, ttl]) => {\n    if (!url)\n      throw new InvalidSchedulerLocationError('No \"Url\" tag found on Scheduler-Location');\n    if (!ttl)\n      throw new InvalidSchedulerLocationError('No \"Time-To-Live\" tag found on Scheduler-Location');\n    return { url, ttl, address: walletAddress };\n  });\n}\n\n// src/client/in-memory.js\nimport { LRUCache } from \"lru-cache\";\nfunction createLruCache({ size }) {\n  const cache = new LRUCache({\n    /**\n     * number of entries\n     */\n    max: size,\n    /**\n     * max size of cache, as a scalar.\n     *\n     * In our case, characters (see sizeCalculation)\n     */\n    maxSize: 1e6 * 5,\n    /**\n     * Simply stringify to get the bytes\n     */\n    sizeCalculation: (v) => JSON.stringify(v).length,\n    allowStale: true\n  });\n  return cache;\n}\nfunction getByProcessWith({ cache }) {\n  return async (process2) => {\n    if (!cache.max)\n      return;\n    return cache.get(process2);\n  };\n}\nfunction setByProcessWith({ cache }) {\n  return async (process2, { url, address }, ttl) => {\n    if (!cache.max)\n      return;\n    return cache.set(process2, { url, address }, { ttl });\n  };\n}\nfunction getByOwnerWith({ cache }) {\n  return async (owner) => {\n    if (!cache.max)\n      return;\n    return cache.get(owner);\n  };\n}\nfunction setByOwnerWith({ cache }) {\n  return async (owner, url, ttl) => {\n    if (!cache.max)\n      return;\n    return cache.set(owner, { url, address: owner, ttl }, { ttl });\n  };\n}\n\n// src/client/scheduler.js\nfunction checkForRedirectWith({ fetch: fetch2 }) {\n  return async (url, process2) => {\n    const response = await fetch2(`${url}?process-id=${process2}`, { method: \"GET\", redirect: \"manual\" });\n    if ([301, 302, 307, 308].includes(response.status)) {\n      return new URL(response.headers.get(\"Location\")).origin;\n    }\n    return url;\n  };\n}\n\n// src/dal.js\nimport { z } from \"zod\";\nvar processCacheEntry = z.object({ url: z.string(), address: z.string() });\nvar scheduler = z.object({ url: z.string(), address: z.string(), ttl: z.coerce.number() });\nvar checkForRedirectSchema = z.function().args(z.string(), z.string()).returns(z.promise(z.string()));\nvar getByProcessSchema = z.function().args(z.string()).returns(z.promise(processCacheEntry.nullish()));\nvar setByProcessSchema = z.function().args(z.string(), processCacheEntry, z.number()).returns(z.promise(z.any()));\nvar getByOwnerSchema = z.function().args(z.string()).returns(z.promise(scheduler.nullish()));\nvar setByOwnerSchema = z.function().args(z.string(), z.string(), z.number()).returns(z.promise(z.any()));\nvar loadSchedulerSchema = z.function().args(z.string()).returns(z.promise(scheduler));\nvar loadProcessSchedulerSchema = loadSchedulerSchema;\n\n// src/locate.js\nfunction locateWith({ loadProcessScheduler, loadScheduler, cache, followRedirects, checkForRedirect }) {\n  loadProcessScheduler = loadProcessSchedulerSchema.implement(loadProcessScheduler);\n  loadScheduler = loadSchedulerSchema.implement(loadScheduler);\n  checkForRedirect = checkForRedirectSchema.implement(checkForRedirect);\n  const getByProcess = getByProcessSchema.implement(cache.getByProcess);\n  const getByOwner = getByOwnerSchema.implement(cache.getByOwner);\n  const setByProcess = setByProcessSchema.implement(cache.setByProcess);\n  const setByOwner = setByOwnerSchema.implement(cache.setByOwner);\n  return (process2, schedulerHint) => getByProcess(process2).then(async (cached) => {\n    if (cached)\n      return cached;\n    return Promise.resolve().then(async () => {\n      if (schedulerHint) {\n        const byOwner = await getByOwner(schedulerHint);\n        if (byOwner)\n          return byOwner;\n        return loadScheduler(schedulerHint).then((scheduler2) => {\n          setByOwner(scheduler2.address, scheduler2.url, scheduler2.ttl);\n          return scheduler2;\n        });\n      }\n      return loadProcessScheduler(process2);\n    }).then(async (scheduler2) => {\n      let finalUrl = scheduler2.url;\n      if (followRedirects)\n        finalUrl = await checkForRedirect(scheduler2.url, process2);\n      const byProcess = { url: trimSlash(finalUrl), address: scheduler2.address };\n      await setByProcess(process2, byProcess, scheduler2.ttl);\n      return byProcess;\n    });\n  });\n}\n\n// src/raw.js\nfunction rawWith({ loadScheduler, cache }) {\n  loadScheduler = loadSchedulerSchema.implement(loadScheduler);\n  const getByOwner = getByOwnerSchema.implement(cache.getByOwner);\n  const setByOwner = setByOwnerSchema.implement(cache.setByOwner);\n  return (address) => getByOwner(address).then((cached) => {\n    if (cached)\n      return { url: cached.url };\n    return loadScheduler(address).then(\n      (scheduler2) => setByOwner(address, scheduler2.url, scheduler2.ttl).then(() => ({ url: trimSlash(scheduler2.url) }))\n    ).catch((err) => {\n      if (err instanceof InvalidSchedulerLocationError)\n        return void 0;\n      throw err;\n    });\n  });\n}\n\n// src/validate.js\nfunction validateWith({ loadScheduler, cache }) {\n  loadScheduler = loadSchedulerSchema.implement(loadScheduler);\n  const getByOwner = getByOwnerSchema.implement(cache.getByOwner);\n  const setByOwner = setByOwnerSchema.implement(cache.setByOwner);\n  return (address) => getByOwner(address).then((cached) => {\n    if (cached)\n      return true;\n    return loadScheduler(address).then((scheduler2) => setByOwner(address, scheduler2.url, scheduler2.ttl)).then(() => true).catch((err) => {\n      if (err instanceof InvalidSchedulerLocationError)\n        return false;\n      throw err;\n    });\n  });\n}\n\n// src/index.common.js\nvar DEFAULT_CACHE_SIZE = 100;\nvar DEFAULT_GRAPHQL_URL = \"https://arweave.net/graphql\";\nvar DEFAULT_GRAPHQL_MAX_RETRIES = 0;\nvar DEFAULT_GRAPHQL_RETRY_BACKOFF = 300;\nvar DEFAULT_FOLLOW_REDIRECTS = false;\nfunction connect({\n  cacheSize = DEFAULT_CACHE_SIZE,\n  followRedirects = DEFAULT_FOLLOW_REDIRECTS,\n  GRAPHQL_URL: GRAPHQL_URL2 = DEFAULT_GRAPHQL_URL,\n  GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2 = DEFAULT_GRAPHQL_MAX_RETRIES,\n  GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 = DEFAULT_GRAPHQL_RETRY_BACKOFF\n} = {}) {\n  const _cache = createLruCache({ size: cacheSize });\n  const loadScheduler = loadSchedulerWith({ fetch, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 });\n  const cache = {\n    getByProcess: getByProcessWith({ cache: _cache }),\n    getByOwner: getByOwnerWith({ cache: _cache }),\n    setByProcess: setByProcessWith({ cache: _cache }),\n    setByOwner: setByOwnerWith({ cache: _cache })\n  };\n  const locate2 = locateWith({\n    loadProcessScheduler: loadProcessSchedulerWith({ fetch, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 }),\n    loadScheduler,\n    cache,\n    followRedirects,\n    checkForRedirect: checkForRedirectWith({ fetch })\n  });\n  const validate2 = validateWith({ loadScheduler, cache });\n  const raw2 = rawWith({ loadScheduler, cache });\n  return { locate: locate2, validate: validate2, raw: raw2 };\n}\n\n// src/index.js\nvar GRAPHQL_URL = process.env.GRAPHQL_URL || void 0;\nvar CACHE_SIZE = process.env.SCHEDULER_UTILS_CACHE_SIZE || void 0;\nvar FOLLOW_REDIRECTS = process.env.SCHEDULER_UTILS_FOLLOW_REDIRECTS === \"true\" || void 0;\nvar GRAPHQL_MAX_RETRIES = process.env.GRAPHQL_MAX_RETRIES || void 0;\nvar GRAPHQL_RETRY_BACKOFF = process.env.GRAPHQL_RETRY_BACKOFF || void 0;\nvar { locate, validate, raw } = connect({ GRAPHQL_URL, cacheSize: CACHE_SIZE, followRedirects: FOLLOW_REDIRECTS, GRAPHQL_MAX_RETRIES, GRAPHQL_RETRY_BACKOFF });\nexport {\n  InvalidSchedulerLocationError,\n  SchedulerTagNotFoundError,\n  TransactionNotFoundError,\n  connect,\n  locate,\n  raw,\n  validate\n};\n", "var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/index.common.js\nimport { connect as schedulerUtilsConnect } from \"@permaweb/ao-scheduler-utils\";\n\n// node_modules/hyper-async/dist/index.js\nvar Async = (fork) => ({\n  fork,\n  toPromise: () => new Promise((resolve, reject) => fork(reject, resolve)),\n  map: (fn) => Async((rej, res) => fork(rej, (x) => res(fn(x)))),\n  bimap: (f, g) => Async(\n    (rej, res) => fork(\n      (x) => rej(f(x)),\n      (x) => res(g(x))\n    )\n  ),\n  chain: (fn) => Async((rej, res) => fork(rej, (x) => fn(x).fork(rej, res))),\n  bichain: (f, g) => Async(\n    (rej, res) => fork(\n      (x) => f(x).fork(rej, res),\n      (x) => g(x).fork(rej, res)\n    )\n  ),\n  fold: (f, g) => Async(\n    (rej, res) => fork(\n      (x) => f(x).fork(rej, res),\n      (x) => g(x).fork(rej, res)\n    )\n  )\n});\nvar of = (x) => Async((rej, res) => res(x));\nvar Resolved = (x) => Async((rej, res) => res(x));\nvar Rejected = (x) => Async((rej, res) => rej(x));\nvar fromPromise = (f) => (...args) => Async(\n  (rej, res) => f(...args).then(res).catch(rej)\n);\n\n// src/client/ao-mu.js\nfunction deployMessageWith({ fetch: fetch2, MU_URL: MU_URL2, logger: _logger }) {\n  const logger = _logger.child(\"deployMessage\");\n  return (args) => {\n    return of(args).chain(\n      fromPromise(({ processId, data, tags, anchor, signer }) => (\n        /**\n         * The processId is the target set on the data item\n         * See https://specs.g8way.io/?tx=xwOgX-MmqN5_-Ny_zNu2A8o-PnTGsoRb_3FrtiMAkuw\n         */\n        signer({ data, tags, target: processId, anchor })\n      ))\n    ).chain(\n      (signedDataItem) => of(signedDataItem).chain(fromPromise(\n        async (signedDataItem2) => fetch2(\n          MU_URL2,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/octet-stream\",\n              Accept: \"application/json\"\n            },\n            redirect: \"follow\",\n            body: signedDataItem2.raw\n          }\n        )\n      )).bichain(\n        (err) => Rejected(new Error(`Error while communicating with MU: ${JSON.stringify(err)}`)),\n        fromPromise(\n          async (res) => {\n            if (res.ok) return res.json();\n            throw new Error(`${res.status}: ${await res.text()}`);\n          }\n        )\n      ).bimap(\n        logger.tap(\"Error encountered when writing message via MU\"),\n        logger.tap(\"Successfully wrote message via MU\")\n      ).map((res) => ({ res, messageId: signedDataItem.id }))\n    ).toPromise();\n  };\n}\nfunction deployProcessWith({ fetch: fetch2, MU_URL: MU_URL2, logger: _logger }) {\n  const logger = _logger.child(\"deployProcess\");\n  return (args) => {\n    return of(args).chain(fromPromise(({ data, tags, signer }) => signer({ data, tags }))).chain(\n      (signedDataItem) => of(signedDataItem).chain(fromPromise(\n        async (signedDataItem2) => fetch2(\n          MU_URL2,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/octet-stream\",\n              Accept: \"application/json\"\n            },\n            redirect: \"follow\",\n            body: signedDataItem2.raw\n          }\n        )\n      )).bichain(\n        (err) => Rejected(new Error(`Error while communicating with MU: ${JSON.stringify(err)}`)),\n        fromPromise(\n          async (res) => {\n            if (res.ok) return res.json();\n            throw new Error(`${res.status}: ${await res.text()}`);\n          }\n        )\n      ).bimap(\n        logger.tap(\"Error encountered when deploying process via MU\"),\n        logger.tap(\"Successfully deployed process via MU\")\n      ).map((res) => ({ res, processId: signedDataItem.id }))\n    ).toPromise();\n  };\n}\nfunction deployMonitorWith({ fetch: fetch2, MU_URL: MU_URL2, logger: _logger }) {\n  const logger = _logger.child(\"deployMonitor\");\n  return (args) => of(args).chain(\n    fromPromise(({ processId, data, tags, anchor, signer }) => (\n      /**\n       * The processId is the target set on the data item\n       */\n      signer({ data, tags, target: processId, anchor })\n    ))\n  ).chain(\n    (signedDataItem) => of(signedDataItem).chain(fromPromise(\n      async (signedDataItem2) => fetch2(\n        MU_URL2 + \"/monitor/\" + args.processId,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/octet-stream\",\n            Accept: \"application/json\"\n          },\n          redirect: \"follow\",\n          body: signedDataItem2.raw\n        }\n      )\n    )).bichain(\n      (err) => Rejected(new Error(`Error while communicating with MU: ${JSON.stringify(err)}`)),\n      fromPromise(\n        async (res) => {\n          if (res.ok) return { ok: true };\n          throw new Error(`${res.status}: ${await res.text()}`);\n        }\n      )\n    ).bimap(\n      logger.tap(\"Error encountered when subscribing to process via MU\"),\n      logger.tap(\"Successfully subscribed to process via MU\")\n    ).map((res) => ({ res, messageId: signedDataItem.id }))\n  ).toPromise();\n}\nfunction deployUnmonitorWith({ fetch: fetch2, MU_URL: MU_URL2, logger: _logger }) {\n  const logger = _logger.child(\"deployUnmonitor\");\n  return (args) => of(args).chain(\n    fromPromise(({ processId, data, tags, anchor, signer }) => (\n      /**\n       * The processId is the target set on the data item\n       */\n      signer({ data, tags, target: processId, anchor })\n    ))\n  ).chain(\n    (signedDataItem) => of(signedDataItem).chain(fromPromise(\n      async (signedDataItem2) => fetch2(\n        MU_URL2 + \"/monitor/\" + args.processId,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/octet-stream\",\n            Accept: \"application/json\"\n          },\n          redirect: \"follow\",\n          body: signedDataItem2.raw\n        }\n      )\n    )).bichain(\n      (err) => Rejected(new Error(`Error while communicating with MU: ${JSON.stringify(err)}`)),\n      fromPromise(\n        async (res) => {\n          if (res.ok) return { ok: true };\n          throw new Error(`${res.status}: ${await res.text()}`);\n        }\n      )\n    ).bimap(\n      logger.tap(\"Error encountered when unsubscribing to process via MU\"),\n      logger.tap(\"Successfully unsubscribed to process via MU\")\n    ).map((res) => ({ res, messageId: signedDataItem.id }))\n  ).toPromise();\n}\nfunction deployAssignWith({ fetch: fetch2, MU_URL: MU_URL2, logger: _logger }) {\n  const logger = _logger.child(\"deployAssign\");\n  return (args) => {\n    return of(args).chain(fromPromise(\n      async ({ process: process2, message: message2, baseLayer, exclude }) => fetch2(\n        `${MU_URL2}?process-id=${process2}&assign=${message2}${baseLayer ? \"&base-layer\" : \"\"}${exclude ? \"&exclude=\" + exclude.join(\",\") : \"\"}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/octet-stream\",\n            Accept: \"application/json\"\n          }\n        }\n      )\n    )).bichain(\n      (err) => Rejected(new Error(`Error while communicating with MU: ${JSON.stringify(err)}`)),\n      fromPromise(\n        async (res) => {\n          if (res.ok) return res.json();\n          throw new Error(`${res.status}: ${await res.text()}`);\n        }\n      )\n    ).bimap(\n      logger.tap(\"Error encountered when writing assignment via MU\"),\n      logger.tap(\"Successfully wrote assignment via MU\")\n    ).map((res) => ({ res, assignmentId: res.id })).toPromise();\n  };\n}\n\n// src/client/ao-cu.js\nfunction dryrunFetchWith({ fetch: fetch2, CU_URL: CU_URL2, logger }) {\n  return (msg) => of(msg).map(logger.tap(\"posting dryrun request to CU\")).chain(fromPromise((msg2) => fetch2(`${CU_URL2}/dry-run?process-id=${msg2.Target}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    redirect: \"follow\",\n    body: JSON.stringify(msg2)\n  }).then((res) => res.json()))).toPromise();\n}\nfunction loadResultWith({ fetch: fetch2, CU_URL: CU_URL2, logger }) {\n  return ({ id, processId }) => {\n    return of(`${CU_URL2}/result/${id}?process-id=${processId}`).map(logger.tap(\"fetching message result from CU\")).chain(fromPromise(\n      async (url) => fetch2(url, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\"\n        },\n        redirect: \"follow\"\n      }).then((res) => res.json())\n    )).toPromise();\n  };\n}\nfunction queryResultsWith({ fetch: fetch2, CU_URL: CU_URL2, logger }) {\n  return ({ process: process2, from, to, sort, limit }) => {\n    const target = new URL(`${CU_URL2}/results/${process2}`);\n    const params = new URLSearchParams(target.search);\n    if (from) {\n      params.append(\"from\", from);\n    }\n    if (to) {\n      params.append(\"to\", to);\n    }\n    if (sort) {\n      params.append(\"sort\", sort);\n    }\n    if (limit) {\n      params.append(\"limit\", limit);\n    }\n    target.search = params;\n    return of(target.toString()).map(logger.tap(\"fetching message result from CU\")).chain(fromPromise(\n      async (url) => fetch2(url, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\"\n        },\n        redirect: \"follow\"\n      }).then((res) => res.json())\n    )).toPromise();\n  };\n}\n\n// src/client/gateway.js\nimport { path } from \"ramda\";\nimport { z } from \"zod\";\nfunction loadTransactionMetaWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, logger }) {\n  const GET_TRANSACTIONS_QUERY = `\n    query GetTransactions ($transactionIds: [ID!]!) {\n      transactions(ids: $transactionIds) {\n        edges {\n          node {\n            owner {\n              address\n            }\n            tags {\n              name\n              value\n            }\n            block {\n              id\n              height\n              timestamp\n            }\n          }\n        }\n      }\n    }`;\n  const transactionConnectionSchema = z.object({\n    data: z.object({\n      transactions: z.object({\n        edges: z.array(z.object({\n          node: z.record(z.any())\n        }))\n      })\n    })\n  });\n  return (id) => of(id).chain(fromPromise(\n    (id2) => fetch2(GRAPHQL_URL2, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        query: GET_TRANSACTIONS_QUERY,\n        variables: { transactionIds: [id2] }\n      })\n    }).then(async (res) => {\n      if (res.ok) return res.json();\n      logger('Error Encountered when querying gateway for transaction \"%s\"', id2);\n      throw new Error(`${res.status}: ${await res.text()}`);\n    }).then(transactionConnectionSchema.parse).then(path([\"data\", \"transactions\", \"edges\", \"0\", \"node\"]))\n  )).toPromise();\n}\n\n// src/client/hb.js\nimport base64url2 from \"base64url\";\n\n// src/lib/utils.js\nimport {\n  F,\n  T,\n  __,\n  append,\n  assoc,\n  chain,\n  concat,\n  cond,\n  defaultTo,\n  equals,\n  has,\n  includes,\n  is,\n  join,\n  map,\n  pipe,\n  propOr,\n  reduce\n} from \"ramda\";\nimport { ZodError, ZodIssueCode } from \"zod\";\nvar joinUrl = ({ url, path: path2 }) => {\n  if (!path2) return url;\n  if (path2.startsWith(\"/\")) return joinUrl({ url, path: path2.slice(1) });\n  url = new URL(url);\n  url.pathname += path2;\n  return url.toString();\n};\nfunction parseTags(rawTags) {\n  return pipe(\n    defaultTo([]),\n    reduce(\n      (map3, tag) => pipe(\n        // [value, value, ...] || []\n        propOr([], tag.name),\n        // [value]\n        append(tag.value),\n        // { [name]: [value, value, ...] }\n        assoc(tag.name, __, map3)\n      )(map3),\n      {}\n    ),\n    /**\n    * If the field is only a singly list, then extract the one value.\n    *\n    * Otherwise, keep the value as a list.\n    */\n    map((values) => values.length > 1 ? values : values[0])\n  )(rawTags);\n}\nfunction eqOrIncludes(val) {\n  return cond([\n    [is(String), equals(val)],\n    [is(Array), includes(val)],\n    [T, F]\n  ]);\n}\nfunction errFrom(err) {\n  let e;\n  if (is(ZodError, err)) {\n    e = new Error(mapZodErr(err));\n    e.stack += err.stack;\n  } else if (is(Error, err)) {\n    e = err;\n  } else if (has(\"message\", err)) {\n    e = new Error(err.message);\n  } else if (is(String, err)) {\n    e = new Error(err);\n  } else {\n    e = new Error(\"An error occurred\");\n  }\n  return e;\n}\nfunction mapZodErr(zodErr) {\n  return pipe(\n    (zodErr2) => (\n      /**\n       * Take a ZodError and flatten it's issues into a single depth array\n       */\n      function gatherZodIssues(zodErr3, status, contextCode) {\n        return reduce(\n          (issues, issue) => pipe(\n            cond([\n              /**\n               * These issue codes indicate nested ZodErrors, so we resursively gather those\n               * See https://github.com/colinhacks/zod/blob/HEAD/ERROR_HANDLING.md#zodissuecode\n               */\n              [\n                equals(ZodIssueCode.invalid_arguments),\n                () => gatherZodIssues(issue.argumentsError, 422, \"Invalid Arguments\")\n              ],\n              [\n                equals(ZodIssueCode.invalid_return_type),\n                () => gatherZodIssues(issue.returnTypeError, 500, \"Invalid Return\")\n              ],\n              [\n                equals(ZodIssueCode.invalid_union),\n                // An array of ZodErrors, so map over and flatten them all\n                () => chain((i) => gatherZodIssues(i, 400, \"Invalid Union\"), issue.unionErrors)\n              ],\n              [T, () => [{ ...issue, status, contextCode }]]\n            ]),\n            concat(issues)\n          )(issue.code),\n          [],\n          zodErr3.issues\n        );\n      }(zodErr2, 400, \"\")\n    ),\n    /**\n     * combine all zod issues into a list of { message, status }\n     * summaries of each issue\n     */\n    (zodIssues) => reduce(\n      (acc, zodIssue) => {\n        const { message: message2, path: _path, contextCode: _contextCode } = zodIssue;\n        const path2 = _path[1] || _path[0];\n        const contextCode = _contextCode ? `${_contextCode} ` : \"\";\n        acc.push(`${contextCode}'${path2}': ${message2}.`);\n        return acc;\n      },\n      [],\n      zodIssues\n    ),\n    join(\" | \")\n  )(zodErr);\n}\n\n// src/client/hb-encode.js\nimport base64url from \"base64url\";\nimport { Buffer as Buffer2 } from \"buffer/index.js\";\nif (!globalThis.Buffer) globalThis.Buffer = Buffer2;\nasync function sha256(data) {\n  return crypto.subtle.digest(\"SHA-256\", data);\n}\nfunction partition(pred, arr) {\n  return arr.reduce(\n    (acc, cur) => {\n      acc[pred(cur) ? 0 : 1].push(cur);\n      return acc;\n    },\n    [[], []]\n  );\n}\nfunction isBytes(value) {\n  return value instanceof ArrayBuffer || ArrayBuffer.isView(value);\n}\nfunction hbEncodeValue(key, value) {\n  const typeK = `converge-type-${key}`;\n  if (typeof value === \"string\") {\n    if (value.length === 0) return { [typeK]: \"empty-binary\" };\n    return { [key]: value };\n  }\n  if (Array.isArray(value) && value.length === 0) {\n    return { [typeK]: \"empty-list\" };\n  }\n  if (typeof value === \"number\") {\n    if (!Number.isInteger(value)) return { [typeK]: \"float\", [key]: `${value}` };\n    return { [typeK]: \"integer\", [key]: `${value}` };\n  }\n  if (typeof value === \"symbol\") {\n    return { [typeK]: \"atom\", [key]: value.description };\n  }\n  throw new Error(`Cannot encode value: ${value.toString()}`);\n}\nfunction hbEncode(obj, parent = \"\") {\n  return Object.entries(obj).reduce((acc, [key, value]) => {\n    const flatK = (parent ? `${parent}/${key}` : key).toLowerCase();\n    if (value == null) return acc;\n    if (isBytes(value)) {\n      if (value.byteLength === 0) {\n        return Object.assign(acc, hbEncodeValue(flatK, \"\"));\n      }\n      return Object.assign(acc, { [flatK]: value });\n    }\n    if (Array.isArray(value)) {\n      if (value.length === 0) {\n        return Object.assign(acc, hbEncodeValue(flatK, value));\n      }\n      value.forEach(\n        (v, i) => Object.assign(acc, hbEncode(v, `${flatK}/${i}`))\n      );\n      return acc;\n    }\n    if (typeof value === \"object\" && value !== null) {\n      return Object.assign(acc, hbEncode(value, flatK));\n    }\n    Object.assign(acc, hbEncodeValue(flatK, value));\n    return acc;\n  }, {});\n}\nasync function boundaryFrom(bodyParts = []) {\n  const base = new Blob(\n    bodyParts.flatMap((p, i, arr) => i < arr.length - 1 ? [p, \"\\r\\n\"] : [p])\n  );\n  const hash = await sha256(await base.arrayBuffer());\n  return base64url.encode(Buffer2.from(hash));\n}\nasync function encode(obj = {}) {\n  if (Object.keys(obj) === 0) return;\n  const flattened = hbEncode(obj);\n  const [bodyKeys, headerKeys] = partition(\n    (key) => {\n      if (key.includes(\"/\")) return true;\n      const bytes = Buffer2.from(flattened[key]);\n      return bytes.byteLength > 4096;\n    },\n    Object.keys(flattened).sort()\n  );\n  const h = new Headers();\n  headerKeys.forEach((key) => h.append(key, flattened[key]));\n  let body;\n  if (bodyKeys.length) {\n    const bodyParts = await Promise.all(\n      bodyKeys.map((name) => new Blob([\n        `content-disposition: form-data;name=\"${name}\"\\r\n\\r\n`,\n        flattened[name]\n      ]).arrayBuffer())\n    );\n    const boundary = await boundaryFrom(bodyParts);\n    const blobParts = bodyParts.flatMap((p) => [`--${boundary}\\r\n`, p, \"\\r\\n\"]);\n    blobParts.push(`--${boundary}--`);\n    body = new Blob(blobParts);\n    const contentDigest = await sha256(await body.arrayBuffer());\n    const base64 = base64url.toBase64(base64url.encode(contentDigest));\n    h.set(\"Content-Type\", `multipart/form-data; boundary=\"${boundary}\"`);\n    h.append(\"Content-Digest\", `sha-256=:${base64}:`);\n  }\n  return { headers: h, body };\n}\n\n// src/client/hb.js\nasync function encodeDataItem({ processId, data, tags, anchor }) {\n  const obj = {};\n  if (processId) obj.target = processId;\n  if (anchor) obj.anchor = anchor;\n  if (tags) tags.forEach((t) => {\n    obj[t.name] = t.value;\n  });\n  obj.variant = \"ao.N.1\";\n  obj.data = data;\n  const res = await encode(obj);\n  if (!res) return { headers: new Headers(), body: void 0 };\n  return res;\n}\nfunction toSignerArgs({ url, method, headers, includePath = false }) {\n  headers = new Headers(headers);\n  return {\n    /**\n     * Always sign all headers, and the path,\n     * and that there is a deterministic signature\n     * component ordering\n     *\n     * TODO: removing path from signing, for now.\n     */\n    fields: [\n      ...headers.keys(),\n      ...includePath ? [\"@path\"] : []\n    ].sort(),\n    request: { url, method, headers: { ...Object.fromEntries(headers) } }\n  };\n}\nfunction httpSigName(address) {\n  const decoded = base64url2.toBuffer(address);\n  const hexString = [...decoded.subarray(1, 9)].map((byte) => byte.toString(16).padStart(2, \"0\")).join(\"\");\n  return `http-sig-${hexString}`;\n}\nfunction callWith({ fetch: fetch2, logger: _logger, HB_URL, signer }) {\n  const logger = _logger.child(\"send\");\n  return (fields) => {\n    const { path: path2, method = \"GET\", ...restFields } = fields;\n    return of({ path: path2, method, fields: restFields }).chain(fromPromise(\n      ({ path: path3, method: method2, fields: fields2 }) => encode(fields2).then(({ headers, body }) => ({\n        path: path3,\n        method: method2,\n        headers,\n        body\n      }))\n    )).chain(fromPromise(\n      async ({ path: path3, method: method2, headers, body }) => signer(toSignerArgs({\n        url: joinUrl({ url: HB_URL, path: path3 }),\n        method: method2,\n        headers,\n        includePath: true\n      })).then((req) => ({ ...req, body }))\n    )).map(logger.tap(\"Sending HTTP signed message to HB: %o\")).chain(\n      (request) => of(request).chain(fromPromise(\n        ({ url, method: method2, headers, body }) => fetch2(url, { method: method2, headers, body, redirect: \"follow\" })\n      ))\n    ).toPromise();\n  };\n}\nfunction deployProcessWith2({ fetch: fetch2, logger: _logger, HB_URL, signer }) {\n  const logger = _logger.child(\"deployProcess\");\n  return (args) => {\n    return of(args).chain(fromPromise(\n      ({ processId, data, tags }) => encodeDataItem({ processId, data, tags })\n    )).chain(fromPromise(({ headers, body }) => {\n      return signer(toSignerArgs({\n        url: `${HB_URL}/schedule`,\n        method: \"POST\",\n        headers\n      })).then((req) => ({ ...req, body }));\n    })).map(logger.tap(\"Sending HTTP signed message to HB MU: %o\")).chain(\n      (request) => of(request).chain(fromPromise(\n        ({ url, method, headers, body }) => fetch2(url, { method, headers, body, redirect: \"follow\" })\n      )).bichain(\n        (err) => Rejected(err),\n        fromPromise(async (res) => {\n          if (res.ok) return res.headers.get(\"process\");\n          throw new Error(`${res.status}: ${await res.text()}`);\n        })\n      ).bimap(\n        logger.tap(\"Error encountered when deploying process via HB MU\"),\n        logger.tap(\"Successfully deployed process via HB MU\")\n      ).map((process2) => ({ processId: process2 }))\n    ).toPromise();\n  };\n}\nfunction deployMessageWith2({ fetch: fetch2, logger: _logger, HB_URL, signer }) {\n  const logger = _logger.child(\"deployMessage\");\n  return (args) => {\n    return of(args).chain(fromPromise(\n      ({ processId, data, tags, anchor }) => encodeDataItem({ processId, data, tags, anchor })\n    )).chain(fromPromise(({ headers, body }) => {\n      return signer(toSignerArgs({\n        url: `${HB_URL}/${args.processId}/schedule`,\n        method: \"POST\",\n        headers\n      })).then((req) => ({ ...req, body }));\n    })).map(logger.tap(\"Sending HTTP signed message to HB MU: %o\")).chain(\n      (request) => of(request).chain(fromPromise(\n        ({ url, method, headers, body }) => fetch2(url, { method, headers, body, redirect: \"follow\" })\n      )).bichain(\n        (err) => Rejected(err),\n        fromPromise(async (res) => {\n          if (res.ok) {\n            return {\n              slot: res.headers.get(\"slot\"),\n              processId: args.processId\n            };\n          }\n          throw new Error(`${res.status}: ${await res.text()}`);\n        })\n      ).map(logger.tap(\"Received slot from HB MU: %o\")).bichain(\n        (err) => Rejected(err),\n        fromPromise(async ({ slot, processId }) => {\n          const { headers, body } = await encodeDataItem({ processId });\n          return signer(toSignerArgs({\n            url: `${HB_URL}/${processId}/push&slot+integer=${slot}`,\n            method: \"POST\",\n            headers\n          })).then((req) => ({ ...req, body })).then((req) => fetch2(req.url, { method: req.method, headers: req.headers, body: req.body, redirect: \"follow\" })).then(() => slot);\n        })\n      ).bimap(\n        logger.tap(\"Error encountered when writing message via HB MU\"),\n        logger.tap(\"Successfully wrote message via HB MU\")\n      ).map((slot) => ({ messageId: slot }))\n    ).toPromise();\n  };\n}\nfunction loadResultWith2({ fetch: fetch2, logger: _logger, HB_URL, signer }) {\n  const logger = _logger.child(\"loadResult\");\n  return (args) => {\n    return of(args).chain(fromPromise(async ({ id, processId }) => {\n      const { headers, body } = await encodeDataItem({ processId });\n      headers.append(\"slot+integer\", id);\n      headers.append(\"accept\", \"application/json\");\n      return signer(toSignerArgs({\n        url: `${HB_URL}/${processId}/compute&slot+integer=${id}/results/json`,\n        method: \"POST\",\n        headers\n      })).then((req) => ({ ...req, body }));\n    })).map(logger.tap(\"fetching message result from HB CU: %o\")).chain(\n      (request) => of(request).chain(fromPromise(\n        ({ url, method, headers, body }) => fetch2(url, { method, headers, body, redirect: \"follow\" })\n      )).bichain(\n        (err) => Rejected(err),\n        fromPromise(async (res) => {\n          if (res.ok) return res.json();\n          throw new Error(`${res.status}: ${await res.text()}`);\n        })\n      ).bimap(\n        logger.tap(\"Error encountered when loading result via HB CU\"),\n        logger.tap(\"Successfully loading result via HB CU\")\n      )\n    ).toPromise();\n  };\n}\nfunction relayerWith({ fetch: fetch2, logger, HB_URL, signer }) {\n  return async (url, options) => {\n    const parsed = new URL(url);\n    options.headers = new Headers(options.headers);\n    const relayUrl = parsed.href;\n    const relayParams = new URLSearchParams({ \"relay-path\": relayUrl });\n    const hb = `${HB_URL}/~relay@1.0/call?${relayParams.toString()}`;\n    logger('Relaying \"%s\" through HyperBEAM Node \"%s\"', parsed.href, hb);\n    const { headers: signedHeaders } = await signer({\n      fields: [\n        ...options.headers.keys(),\n        \"relay-path\"\n      ].sort(),\n      request: {\n        url,\n        ...options,\n        headers: { ...Object.fromEntries(options.headers), \"relay-path\": relayUrl }\n      }\n    });\n    return fetch2(hb, { ...options, headers: signedHeaders });\n  };\n}\n\n// src/logger.js\nimport debug from \"debug\";\nimport { tap } from \"ramda\";\nvar createLogger = (name = \"@permaweb/aoconnect\") => {\n  const logger = debug(name);\n  logger.child = (name2) => createLogger(`${logger.namespace}:${name2}`);\n  logger.tap = (note, ...rest) => tap((...args) => logger(note, ...rest, ...args));\n  return logger;\n};\n\n// src/lib/call/index.js\nimport { identity } from \"ramda\";\nimport { z as z2 } from \"zod\";\nvar inputSchema = z2.object({\n  path: z2.string().min(1, { message: \"path is required\" })\n}).passthrough();\nfunction callWith2(env) {\n  const logger = env.logger;\n  const call = env.call;\n  const verifyInput = (args) => of(inputSchema.parse(args));\n  return (path2, fields) => {\n    return of({ ...fields, path: path2 }).chain(verifyInput).chain(fromPromise(call)).map((res) => {\n      logger('Received response from message sent to path \"%s\"', path2);\n      return res;\n    }).bimap(errFrom, identity).toPromise();\n  };\n}\n\n// src/lib/result/index.js\nimport { identity as identity2 } from \"ramda\";\n\n// src/lib/result/verify-input.js\nimport { z as z3 } from \"zod\";\nvar inputSchema2 = z3.object({\n  id: z3.string().min(1, { message: \"message is required to be a message id\" }),\n  processId: z3.string().min(1, { message: \"process is required to be a process id\" })\n});\nfunction verifyInputWith() {\n  return (ctx) => {\n    return of(ctx).map(inputSchema2.parse).map(() => ctx);\n  };\n}\n\n// src/dal.js\nimport { z as z4 } from \"zod\";\nvar tagSchema = z4.object({\n  name: z4.string(),\n  value: z4.any()\n});\nvar dryrunResultSchema = z4.function().args(z4.object({\n  Id: z4.string(),\n  Target: z4.string(),\n  Owner: z4.string(),\n  Anchor: z4.string().optional(),\n  Data: z4.any().default(\"1234\"),\n  Tags: z4.array(z4.object({ name: z4.string(), value: z4.string() }))\n})).returns(z4.promise(z4.any()));\nvar loadResultSchema = z4.function().args(z4.object({\n  id: z4.string().min(1, { message: \"message id is required\" }),\n  processId: z4.string().min(1, { message: \"process id is required\" })\n})).returns(z4.promise(z4.any()));\nvar queryResultsSchema = z4.function().args(z4.object({\n  process: z4.string().min(1, { message: \"process id is required\" }),\n  from: z4.string().optional(),\n  to: z4.string().optional(),\n  sort: z4.enum([\"ASC\", \"DESC\"]).default(\"ASC\"),\n  limit: z4.number().optional()\n})).returns(z4.promise(z4.object({\n  edges: z4.array(z4.object({\n    cursor: z4.string(),\n    node: z4.object({\n      Output: z4.any().optional(),\n      Messages: z4.array(z4.any()).optional(),\n      Spawns: z4.array(z4.any()).optional(),\n      Error: z4.any().optional()\n    })\n  }))\n})));\nvar deployMessageSchema = z4.function().args(z4.object({\n  processId: z4.string(),\n  data: z4.any(),\n  tags: z4.array(tagSchema),\n  anchor: z4.string().optional(),\n  signer: z4.any()\n})).returns(z4.promise(\n  z4.object({\n    messageId: z4.string()\n  }).passthrough()\n));\nvar deployProcessSchema = z4.function().args(z4.object({\n  data: z4.any(),\n  tags: z4.array(tagSchema),\n  signer: z4.any()\n})).returns(z4.promise(\n  z4.object({\n    processId: z4.string()\n  }).passthrough()\n));\nvar deployAssignSchema = z4.function().args(z4.object({\n  process: z4.string(),\n  message: z4.string(),\n  baseLayer: z4.boolean().optional(),\n  exclude: z4.array(z4.string()).optional()\n})).returns(z4.promise(\n  z4.object({\n    assignmentId: z4.string()\n  }).passthrough()\n));\nvar deployMonitorSchema = deployMessageSchema;\nvar loadProcessMetaSchema = z4.function().args(z4.object({\n  suUrl: z4.string().url(),\n  processId: z4.string()\n})).returns(z4.promise(\n  z4.object({\n    tags: z4.array(tagSchema)\n  }).passthrough()\n));\nvar locateSchedulerSchema = z4.function().args(z4.string()).returns(z4.promise(\n  z4.object({\n    url: z4.string()\n  })\n));\nvar validateSchedulerSchema = z4.function().args(z4.string()).returns(z4.promise(z4.boolean()));\nvar loadTransactionMetaSchema = z4.function().args(z4.string()).returns(z4.promise(\n  z4.object({\n    tags: z4.array(tagSchema)\n  }).passthrough()\n));\nvar signerSchema = z4.function().args(z4.object({\n  data: z4.any(),\n  tags: z4.array(tagSchema),\n  /**\n   * target must be set with writeMessage,\n   * but not for createProcess\n   */\n  target: z4.string().optional(),\n  anchor: z4.string().optional()\n})).returns(z4.promise(\n  z4.object({\n    id: z4.string(),\n    raw: z4.any()\n  })\n));\n\n// src/lib/result/read.js\nfunction readWith({ loadResult }) {\n  loadResult = fromPromise(loadResultSchema.implement(loadResult));\n  return (ctx) => {\n    return of({ id: ctx.id, processId: ctx.processId }).chain(loadResult);\n  };\n}\n\n// src/lib/result/index.js\nfunction resultWith(env) {\n  const verifyInput = verifyInputWith(env);\n  const read = readWith(env);\n  return ({ message: message2, process: process2 }) => {\n    return of({ id: message2, processId: process2 }).chain(verifyInput).chain(read).map(\n      env.logger.tap(\n        'readResult result for message \"%s\": %O',\n        message2\n      )\n    ).map((result2) => result2).bimap(errFrom, identity2).toPromise();\n  };\n}\n\n// src/lib/message/index.js\nimport { identity as identity3 } from \"ramda\";\n\n// src/lib/message/upload-message.js\nimport { z as z5 } from \"zod\";\nimport { __ as __2, always, assoc as assoc2, curry, defaultTo as defaultTo2, ifElse, pipe as pipe2, prop } from \"ramda\";\nimport { proto } from \"@permaweb/protocol-tag-utils\";\nvar aoProto = proto(\"ao\");\nvar removeAoProtoByName = curry(aoProto.removeAllByName);\nvar concatAoProto = curry(aoProto.concat);\nvar concatUnassoc = curry(aoProto.concatUnassoc);\nvar tagSchema2 = z5.array(z5.object({\n  name: z5.string(),\n  value: z5.string()\n}));\nfunction buildTagsWith() {\n  return (ctx) => {\n    return of(ctx.tags).map(defaultTo2([])).map(removeAoProtoByName(\"Variant\")).map(removeAoProtoByName(\"Type\")).map(concatAoProto([\n      { name: \"Variant\", value: \"ao.TN.1\" },\n      { name: \"Type\", value: \"Message\" }\n    ])).map(tagSchema2.parse).map(assoc2(\"tags\", __2, ctx));\n  };\n}\nfunction buildDataWith({ logger }) {\n  return (ctx) => {\n    return of(ctx).chain(ifElse(\n      always(ctx.data),\n      /**\n       * data is provided as input, so do nothing\n       */\n      () => Resolved(ctx),\n      /**\n       * No data is provided, so replace with one space\n       */\n      () => Resolved(\" \").map(assoc2(\"data\", __2, ctx)).map(\n        (ctx2) => pipe2(\n          prop(\"tags\"),\n          concatUnassoc([{ name: \"Content-Type\", value: \"text/plain\" }]),\n          assoc2(\"tags\", __2, ctx2)\n        )(ctx2)\n      ).map(logger.tap('added pseudo-random string as message \"data\"'))\n    )).map(\n      (ctx2) => pipe2(\n        prop(\"tags\"),\n        concatUnassoc([{ name: \"SDK\", value: \"aoconnect\" }]),\n        assoc2(\"tags\", __2, ctx2)\n      )(ctx2)\n    );\n  };\n}\nfunction uploadMessageWith(env) {\n  const buildTags = buildTagsWith(env);\n  const buildData = buildDataWith(env);\n  const deployMessage = deployMessageSchema.implement(env.deployMessage);\n  return (ctx) => {\n    return of(ctx).chain(buildTags).chain(buildData).chain(fromPromise(\n      ({ id, data, tags, anchor, signer }) => deployMessage({ processId: id, data, tags, anchor, signer: signerSchema.implement(signer) })\n    )).map((res) => assoc2(\"messageId\", res.messageId, ctx));\n  };\n}\n\n// src/lib/message/index.js\nfunction messageWith(env) {\n  const uploadMessage = uploadMessageWith(env);\n  return ({ process: process2, data, tags, anchor, signer }) => {\n    return of({ id: process2, data, tags, anchor, signer }).chain(uploadMessage).map((ctx) => ctx.messageId).bimap(errFrom, identity3).toPromise();\n  };\n}\n\n// src/lib/spawn/index.js\nimport { identity as identity4 } from \"ramda\";\n\n// src/lib/spawn/verify-inputs.js\nimport { isNotNil, prop as prop2 } from \"ramda\";\nvar checkTag = (name, pred, err) => (tags) => pred(tags[name]) ? Resolved(tags) : Rejected(`Tag '${name}': ${err}`);\nfunction verifyModuleWith({ loadTransactionMeta, logger }) {\n  loadTransactionMeta = fromPromise(loadTransactionMetaSchema.implement(loadTransactionMeta));\n  return (module) => of(module).chain(loadTransactionMeta).map(prop2(\"tags\")).map(parseTags).chain(checkTag(\"Data-Protocol\", eqOrIncludes(\"ao\"), \"value 'ao' was not found on module\")).chain(checkTag(\"Type\", eqOrIncludes(\"Module\"), \"value 'Module' was not found on module\")).chain(checkTag(\"Module-Format\", isNotNil, \"was not found on module\")).chain(checkTag(\"Input-Encoding\", isNotNil, \"was not found on module\")).chain(checkTag(\"Output-Encoding\", isNotNil, \"was not found on module\")).bimap(\n    logger.tap(\"Verifying module source failed: %s\"),\n    logger.tap(\"Verified module source\")\n  );\n}\nfunction verifySchedulerWith({ logger, validateScheduler }) {\n  validateScheduler = fromPromise(validateSchedulerSchema.implement(validateScheduler));\n  return (scheduler) => of(scheduler).chain(\n    (scheduler2) => validateScheduler(scheduler2).chain((isValid) => isValid ? Resolved(scheduler2) : Rejected(`Valid Scheduler-Location owned by ${scheduler2} not found`))\n  ).bimap(\n    logger.tap(\"Verifying scheduler failed: %s\"),\n    logger.tap(\"Verified scheduler\")\n  );\n}\nfunction verifySignerWith({ logger }) {\n  return (signer) => of(signer).map(logger.tap(\"Checking for signer\")).chain((signer2) => signer2 ? Resolved(signer2) : Rejected(\"signer not found\"));\n}\nfunction verifyInputsWith(env) {\n  const logger = env.logger.child(\"verifyInput\");\n  env = { ...env, logger };\n  const verifyModule = verifyModuleWith(env);\n  const verifyScheduler = verifySchedulerWith(env);\n  const verifySigner = verifySignerWith(env);\n  return (ctx) => {\n    return of(ctx).chain((ctx2) => verifyModule(ctx2.module).map(() => ctx2)).chain((ctx2) => verifySigner(ctx2.signer).map(() => ctx2)).bimap(\n      logger.tap(\"Error when verify input: %s\"),\n      logger.tap(\"Successfully verified inputs\")\n    );\n  };\n}\n\n// src/lib/spawn/upload-process.js\nimport { z as z6 } from \"zod\";\nimport { __ as __3, always as always2, assoc as assoc3, curry as curry2, defaultTo as defaultTo3, ifElse as ifElse2, pipe as pipe3, prop as prop3 } from \"ramda\";\nimport { proto as proto2 } from \"@permaweb/protocol-tag-utils\";\nvar aoProto2 = proto2(\"ao\");\nvar removeAoProtoByName2 = curry2(aoProto2.removeAllByName);\nvar concatAoProto2 = curry2(aoProto2.concat);\nvar concatUnassoc2 = curry2(aoProto2.concatUnassoc);\nvar tagsSchema = z6.array(tagSchema);\nfunction buildTagsWith2() {\n  return (ctx) => {\n    return of(ctx).map(prop3(\"tags\")).map(defaultTo3([])).map(removeAoProtoByName2(\"Variant\")).map(removeAoProtoByName2(\"Type\")).map(removeAoProtoByName2(\"Module\")).map(removeAoProtoByName2(\"Scheduler\")).map(concatAoProto2([\n      { name: \"Variant\", value: \"ao.TN.1\" },\n      { name: \"Type\", value: \"Process\" },\n      { name: \"Module\", value: ctx.module },\n      { name: \"Scheduler\", value: ctx.scheduler }\n    ])).map(tagsSchema.parse).map(assoc3(\"tags\", __3, ctx));\n  };\n}\nfunction buildDataWith2({ logger }) {\n  return (ctx) => {\n    return of(ctx).chain(ifElse2(\n      always2(ctx.data),\n      /**\n       * data is provided as input, so do nothing\n       */\n      () => Resolved(ctx),\n      /**\n       * No data is provided, so replace with one space\n       */\n      () => Resolved(\" \").map(assoc3(\"data\", __3, ctx)).map(\n        (ctx2) => pipe3(\n          prop3(\"tags\"),\n          concatUnassoc2([{ name: \"Content-Type\", value: \"text/plain\" }]),\n          assoc3(\"tags\", __3, ctx2)\n        )(ctx2)\n      ).map(logger.tap('added pseudo-random string as process \"data\"'))\n    )).map(\n      (ctx2) => pipe3(\n        prop3(\"tags\"),\n        concatUnassoc2([{ name: \"SDK\", value: \"aoconnect\" }]),\n        assoc3(\"tags\", __3, ctx2)\n      )(ctx2)\n    );\n  };\n}\nfunction uploadProcessWith(env) {\n  const logger = env.logger.child(\"uploadProcess\");\n  env = { ...env, logger };\n  const buildTags = buildTagsWith2(env);\n  const buildData = buildDataWith2(env);\n  const deployProcess = deployProcessSchema.implement(env.deployProcess);\n  return (ctx) => {\n    return of(ctx).chain(buildTags).chain(buildData).chain(fromPromise(\n      ({ data, tags, signer }) => deployProcess({ data, tags, signer: signerSchema.implement(signer) })\n    )).map((res) => assoc3(\"processId\", res.processId, ctx));\n  };\n}\n\n// src/lib/spawn/index.js\nfunction spawnWith(env) {\n  const verifyInputs = verifyInputsWith(env);\n  const uploadProcess = uploadProcessWith(env);\n  return ({ module, scheduler, signer, tags, data }) => {\n    return of({ module, scheduler, signer, tags, data }).chain(verifyInputs).chain(uploadProcess).map((ctx) => ctx.processId).bimap(errFrom, identity4).toPromise();\n  };\n}\n\n// src/lib/monitor/index.js\nimport { identity as identity5 } from \"ramda\";\n\n// src/lib/monitor/upload-monitor.js\nimport { assoc as assoc4 } from \"ramda\";\nfunction uploadMonitorWith(env) {\n  const deployMonitor = deployMonitorSchema.implement(env.deployMonitor);\n  return (ctx) => {\n    return of(ctx).chain(fromPromise(\n      ({ id, signer }) => deployMonitor({\n        processId: id,\n        signer: signerSchema.implement(signer),\n        /**\n         * No tags or data can be provided right now,\n         *\n         * so just set data to single space and set tags to an empty array\n         */\n        data: \" \",\n        tags: []\n      })\n    )).map((res) => assoc4(\"monitorId\", res.messageId, ctx));\n  };\n}\n\n// src/lib/monitor/index.js\nfunction monitorWith(env) {\n  const uploadMonitor = uploadMonitorWith(env);\n  return ({ process: process2, signer }) => of({ id: process2, signer }).chain(uploadMonitor).map((ctx) => ctx.monitorId).bimap(errFrom, identity5).toPromise();\n}\n\n// src/lib/unmonitor/index.js\nimport { identity as identity6 } from \"ramda\";\n\n// src/lib/unmonitor/upload-unmonitor.js\nimport { assoc as assoc5 } from \"ramda\";\nfunction uploadUnmonitorWith(env) {\n  const deployUnmonitor = deployMonitorSchema.implement(env.deployUnmonitor);\n  return (ctx) => {\n    return of(ctx).chain(fromPromise(\n      ({ id, signer }) => deployUnmonitor({\n        processId: id,\n        signer: signerSchema.implement(signer),\n        /**\n         * No tags or data can be provided right now,\n         *\n         * so just set data to single space and set tags to an empty array\n         */\n        data: \" \",\n        tags: []\n      })\n    )).map((res) => assoc5(\"monitorId\", res.messageId, ctx));\n  };\n}\n\n// src/lib/unmonitor/index.js\nfunction unmonitorWith(env) {\n  const uploadUnmonitor = uploadUnmonitorWith(env);\n  return ({ process: process2, signer }) => of({ id: process2, signer }).chain(uploadUnmonitor).map((ctx) => ctx.monitorId).bimap(errFrom, identity6).toPromise();\n}\n\n// src/lib/results/index.js\nimport { identity as identity7 } from \"ramda\";\n\n// src/lib/results/verify-input.js\nimport { z as z7 } from \"zod\";\nvar inputSchema3 = z7.object({\n  process: z7.string().min(1, { message: \"process identifier is required\" }),\n  from: z7.string().optional(),\n  to: z7.string().optional(),\n  sort: z7.enum([\"ASC\", \"DESC\"]).default(\"ASC\"),\n  limit: z7.number().optional()\n});\nfunction verifyInputWith2() {\n  return (ctx) => {\n    return of(ctx).map(inputSchema3.parse).map(() => ctx);\n  };\n}\n\n// src/lib/results/query.js\nfunction queryWith({ queryResults }) {\n  queryResults = fromPromise(queryResultsSchema.implement(queryResults));\n  return (ctx) => {\n    return of({ process: ctx.process, from: ctx.from, to: ctx.to, sort: ctx.sort, limit: ctx.limit }).chain(queryResults);\n  };\n}\n\n// src/lib/results/index.js\nfunction resultsWith(env) {\n  const verifyInput = verifyInputWith2(env);\n  const query = queryWith(env);\n  return ({ process: process2, from, to, sort, limit }) => {\n    return of({ process: process2, from, to, sort, limit }).chain(verifyInput).chain(query).map(\n      env.logger.tap(\n        'readResults result for message \"%s\": %O',\n        process2\n      )\n    ).map((result2) => result2).bimap(errFrom, identity7).toPromise();\n  };\n}\n\n// src/lib/dryrun/verify-input.js\nimport { z as z8 } from \"zod\";\nvar inputSchema4 = z8.object({\n  Id: z8.string(),\n  Target: z8.string(),\n  Owner: z8.string(),\n  Anchor: z8.string().optional(),\n  Data: z8.any().default(\"1234\"),\n  Tags: z8.array(z8.object({ name: z8.string(), value: z8.string() }))\n});\nfunction verifyInputWith3() {\n  return (msg) => {\n    return of(msg).map(inputSchema4.parse).map((m) => {\n      m.Tags = m.Tags.concat([\n        { name: \"Data-Protocol\", value: \"ao\" },\n        { name: \"Type\", value: \"Message\" },\n        { name: \"Variant\", value: \"ao.TN.1\" }\n      ]);\n      return m;\n    });\n  };\n}\n\n// src/lib/dryrun/run.js\nfunction runWith({ dryrunFetch }) {\n  return fromPromise(dryrunResultSchema.implement(dryrunFetch));\n}\n\n// src/lib/dryrun/index.js\nfunction dryrunWith(env) {\n  const verifyInput = verifyInputWith3(env);\n  const dryrun2 = runWith(env);\n  return (msg) => of(msg).map(convert).chain(verifyInput).chain(dryrun2).toPromise();\n}\nfunction convert({ process: process2, data, tags, anchor, ...rest }) {\n  return {\n    Id: \"1234\",\n    Owner: \"1234\",\n    ...rest,\n    Target: process2,\n    Data: data || \"1234\",\n    Tags: tags || [],\n    Anchor: anchor || \"0\"\n  };\n}\n\n// src/lib/assign/index.js\nimport { identity as identity8 } from \"ramda\";\n\n// src/lib/assign/send-assign.js\nimport { assoc as assoc6 } from \"ramda\";\nfunction sendAssignWith(env) {\n  const deployAssign = deployAssignSchema.implement(env.deployAssign);\n  return (ctx) => {\n    return of(ctx).chain(fromPromise(\n      ({ process: process2, message: message2, baseLayer, exclude }) => deployAssign({ process: process2, message: message2, baseLayer, exclude })\n    )).map((res) => assoc6(\"assignmentId\", res.assignmentId, ctx));\n  };\n}\n\n// src/lib/assign/index.js\nfunction assignWith(env) {\n  const sendAssign = sendAssignWith(env);\n  return ({ process: process2, message: message2, baseLayer, exclude }) => {\n    return of({ process: process2, message: message2, baseLayer, exclude }).chain(sendAssign).map((ctx) => ctx.assignmentId).bimap(errFrom, identity8).toPromise();\n  };\n}\n\n// src/lib/serializeCron/index.js\nimport { map as map2 } from \"ramda\";\nfunction serializeCron(cron) {\n  function parseInterval(interval2 = \"\") {\n    if (typeof interval2 !== \"string\") throw new Error(\"Encountered Error serializing cron: invalid interval\");\n    const [value, unit] = interval2.split(\"-\").map((s) => s.trim());\n    if (!value || !unit) throw new Error(\"Encountered Error serializing cron: invalid interval\");\n    if (!parseInt(value) || parseInt(value) < 0) throw new Error(\"Encountered Error serializing cron: invalid interval value\");\n    const singularRegex = /^(millisecond|second|minute|hour|day|month|year|block)$/;\n    const pluralRegex = /^(milliseconds|seconds|minutes|hours|days|months|years|blocks)$/;\n    const unitSingularMatch = unit.match(singularRegex);\n    const unitPluralMatch = unit.match(pluralRegex);\n    if (parseInt(value) > 1 && !unitPluralMatch || parseInt(value) === 1 && !unitSingularMatch) throw new Error(\"Encountered Error serializing cron: invalid interval type\");\n    return `${value}-${unit}`;\n  }\n  function parseTags2(tags2 = []) {\n    return map2((tag) => {\n      if (!tag.name || !tag.value) throw new Error(\"Encountered Error serializing cron: invalid tag structure\");\n      if (typeof tag.name !== \"string\" || typeof tag.value !== \"string\") throw new Error(\"Encountered Error serializing cron: invalid interval tag types\");\n      return { name: `Cron-Tag-${tag.name}`, value: tag.value };\n    }, tags2);\n  }\n  const interval = parseInterval(cron.interval);\n  const tags = parseTags2(cron.tags);\n  return [{ name: \"Cron-Interval\", value: interval }, ...tags];\n}\n\n// src/index.common.js\nvar DEFAULT_GATEWAY_URL = \"https://arweave.net\";\nvar DEFAULT_MU_URL = \"https://mu.ao-testnet.xyz\";\nvar DEFAULT_CU_URL = \"https://cu.ao-testnet.xyz\";\nvar DEFAULT_RELAY_URL = \"http://localhost:8734\";\nvar DEFAULT_AO_URL = \"http://localhost:8734\";\nvar DEFAULT_RELAY_CU_URL = \"http://cu.s451-comm3-main.xyz\";\nvar DEFAULT_RELAY_MU_URL = \"http://mu.s451-comm3-main.xyz\";\nvar defaultFetch = fetch;\nfunction connectWith({ createDataItemSigner: createDataItemSigner3, createHbSigner: createHbSigner2 }) {\n  const _logger = createLogger();\n  function relayMode({\n    MODE,\n    wallet,\n    GRAPHQL_URL: GRAPHQL_URL2,\n    GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2,\n    GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2,\n    MU_URL: MU_URL2 = DEFAULT_RELAY_MU_URL,\n    CU_URL: CU_URL2 = DEFAULT_RELAY_CU_URL,\n    RELAY_URL: RELAY_URL2 = DEFAULT_RELAY_URL,\n    fetch: originalFetch = defaultFetch\n  }) {\n    const logger = _logger.child(\"relay\");\n    logger(\"Mode Activated \\u{1F500}\");\n    const signer = createHbSigner2(wallet);\n    const staticWalletDataItemSigner = () => createDataItemSigner3(wallet);\n    const fetch2 = relayerWith({\n      /**\n       * Always wrap default fetch with relayer,\n       * no embellishment beyond the relayer\n       */\n      fetch: defaultFetch,\n      logger,\n      HB_URL: RELAY_URL2,\n      signer\n    });\n    const callLogger = logger.child(\"call\");\n    const call = callWith2({\n      logger: callLogger,\n      call: callWith({\n        fetch: defaultFetch,\n        logger: callLogger,\n        HB_URL: RELAY_URL2,\n        signer\n      })\n    });\n    const { validate } = schedulerUtilsConnect({ cacheSize: 100, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 });\n    const resultLogger = logger.child(\"result\");\n    const result2 = resultWith({\n      loadResult: loadResultWith({ fetch: fetch2, CU_URL: CU_URL2, logger: resultLogger }),\n      logger: resultLogger\n    });\n    const messageLogger = logger.child(\"message\");\n    const message2 = messageWith({\n      deployMessage: deployMessageWith({ fetch: fetch2, MU_URL: MU_URL2, logger: messageLogger }),\n      logger: messageLogger\n    });\n    const spawnLogger = logger.child(\"spawn\");\n    const spawn2 = spawnWith({\n      loadTransactionMeta: loadTransactionMetaWith({ fetch: originalFetch, GRAPHQL_URL: GRAPHQL_URL2, logger: spawnLogger }),\n      validateScheduler: validate,\n      deployProcess: deployProcessWith({ fetch: fetch2, MU_URL: MU_URL2, logger: spawnLogger }),\n      logger: spawnLogger\n    });\n    const monitorLogger = logger.child(\"monitor\");\n    const monitor2 = monitorWith({\n      deployMonitor: deployMonitorWith({ fetch: fetch2, MU_URL: MU_URL2, logger: monitorLogger }),\n      logger: monitorLogger\n    });\n    const unmonitorLogger = logger.child(\"unmonitor\");\n    const unmonitor2 = unmonitorWith({\n      deployUnmonitor: deployUnmonitorWith({ fetch: fetch2, MU_URL: MU_URL2, logger: unmonitorLogger }),\n      logger: monitorLogger\n    });\n    const resultsLogger = logger.child(\"results\");\n    const results2 = resultsWith({\n      queryResults: queryResultsWith({ fetch: fetch2, CU_URL: CU_URL2, logger: resultsLogger }),\n      logger: resultsLogger\n    });\n    const dryrunLogger = logger.child(\"dryrun\");\n    const dryrun2 = dryrunWith({\n      dryrunFetch: dryrunFetchWith({ fetch: fetch2, CU_URL: CU_URL2, logger: dryrunLogger }),\n      logger: dryrunLogger\n    });\n    const assignLogger = logger.child(\"assign\");\n    const assign2 = assignWith({\n      deployAssign: deployAssignWith({\n        fetch: fetch2,\n        MU_URL: MU_URL2,\n        logger: assignLogger\n      }),\n      logger: messageLogger\n    });\n    return { MODE, call, result: result2, results: results2, message: message2, spawn: spawn2, monitor: monitor2, unmonitor: unmonitor2, dryrun: dryrun2, assign: assign2, createDataItemSigner: staticWalletDataItemSigner };\n  }\n  function legacyMode({\n    MODE,\n    GRAPHQL_URL: GRAPHQL_URL2,\n    GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2,\n    GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2,\n    MU_URL: MU_URL2 = DEFAULT_MU_URL,\n    CU_URL: CU_URL2 = DEFAULT_CU_URL,\n    fetch: fetch2 = defaultFetch,\n    noLog\n  }) {\n    const logger = _logger.child(\"legacy\");\n    if (!noLog) logger(\"Mode Activated \\u2139\\uFE0F\");\n    const { validate } = schedulerUtilsConnect({ cacheSize: 100, GRAPHQL_URL: GRAPHQL_URL2, GRAPHQL_MAX_RETRIES: GRAPHQL_MAX_RETRIES2, GRAPHQL_RETRY_BACKOFF: GRAPHQL_RETRY_BACKOFF2 });\n    const resultLogger = logger.child(\"result\");\n    const result2 = resultWith({\n      loadResult: loadResultWith({ fetch: fetch2, CU_URL: CU_URL2, logger: resultLogger }),\n      logger: resultLogger\n    });\n    const messageLogger = logger.child(\"message\");\n    const message2 = messageWith({\n      deployMessage: deployMessageWith({ fetch: fetch2, MU_URL: MU_URL2, logger: messageLogger }),\n      logger: messageLogger\n    });\n    const spawnLogger = logger.child(\"spawn\");\n    const spawn2 = spawnWith({\n      loadTransactionMeta: loadTransactionMetaWith({ fetch: fetch2, GRAPHQL_URL: GRAPHQL_URL2, logger: spawnLogger }),\n      validateScheduler: validate,\n      deployProcess: deployProcessWith({ fetch: fetch2, MU_URL: MU_URL2, logger: spawnLogger }),\n      logger: spawnLogger\n    });\n    const monitorLogger = logger.child(\"monitor\");\n    const monitor2 = monitorWith({\n      deployMonitor: deployMonitorWith({ fetch: fetch2, MU_URL: MU_URL2, logger: monitorLogger }),\n      logger: monitorLogger\n    });\n    const unmonitorLogger = logger.child(\"unmonitor\");\n    const unmonitor2 = unmonitorWith({\n      deployUnmonitor: deployUnmonitorWith({ fetch: fetch2, MU_URL: MU_URL2, logger: unmonitorLogger }),\n      logger: monitorLogger\n    });\n    const resultsLogger = logger.child(\"results\");\n    const results2 = resultsWith({\n      queryResults: queryResultsWith({ fetch: fetch2, CU_URL: CU_URL2, logger: resultsLogger }),\n      logger: resultsLogger\n    });\n    const dryrunLogger = logger.child(\"dryrun\");\n    const dryrun2 = dryrunWith({\n      dryrunFetch: dryrunFetchWith({ fetch: fetch2, CU_URL: CU_URL2, logger: dryrunLogger }),\n      logger: dryrunLogger\n    });\n    const assignLogger = logger.child(\"assign\");\n    const assign2 = assignWith({\n      deployAssign: deployAssignWith({\n        fetch: fetch2,\n        MU_URL: MU_URL2,\n        logger: assignLogger\n      }),\n      logger: messageLogger\n    });\n    return { MODE, result: result2, results: results2, message: message2, spawn: spawn2, monitor: monitor2, unmonitor: unmonitor2, dryrun: dryrun2, assign: assign2, createDataItemSigner: createDataItemSigner3 };\n  }\n  function mainnetMode({\n    MODE,\n    wallet,\n    GRAPHQL_URL: GRAPHQL_URL2,\n    AO_URL: AO_URL2 = DEFAULT_AO_URL,\n    fetch: fetch2 = defaultFetch\n  }) {\n    const logger = _logger.child(\"mainnet\");\n    logger(\"Mode Activated \\u{1F432}\");\n    if (!wallet) throw new Error(\"mainnet mode requires providing a wallet to connect()\");\n    const signer = createHbSigner2(wallet);\n    const staticWalletDataItemSigner = () => createDataItemSigner3(wallet);\n    async function mockValidate(address) {\n      logger('Mock validation for address \"%s\"', address);\n      return true;\n    }\n    const resultLogger = logger.child(\"result\");\n    const result2 = resultWith({\n      loadResult: loadResultWith2({\n        fetch: defaultFetch,\n        logger: resultLogger,\n        HB_URL: AO_URL2,\n        signer\n      }),\n      logger: resultLogger\n    });\n    const messageLogger = logger.child(\"message\");\n    const message2 = messageWith({\n      deployMessage: deployMessageWith2({\n        fetch: defaultFetch,\n        logger: messageLogger,\n        HB_URL: AO_URL2,\n        signer\n      }),\n      logger: messageLogger\n    });\n    const spawnLogger = logger.child(\"spawn\");\n    const spawn2 = spawnWith({\n      loadTransactionMeta: loadTransactionMetaWith({\n        fetch: fetch2,\n        GRAPHQL_URL: GRAPHQL_URL2,\n        logger: spawnLogger\n      }),\n      validateScheduler: mockValidate,\n      deployProcess: deployProcessWith2({\n        fetch: defaultFetch,\n        logger: spawnLogger,\n        HB_URL: AO_URL2,\n        signer\n      }),\n      logger: spawnLogger\n    });\n    const callLogger = logger.child(\"call\");\n    const call = callWith2({\n      logger: callLogger,\n      call: callWith({\n        fetch: defaultFetch,\n        logger: callLogger,\n        HB_URL: AO_URL2,\n        signer\n      })\n    });\n    return { MODE, call, result: result2, message: message2, spawn: spawn2, createDataItemSigner: staticWalletDataItemSigner };\n  }\n  function connect2(args = {}) {\n    let { GRAPHQL_URL: GRAPHQL_URL2, GATEWAY_URL: GATEWAY_URL2 = DEFAULT_GATEWAY_URL, ...restArgs } = args;\n    if (!GRAPHQL_URL2) GRAPHQL_URL2 = joinUrl({ url: GATEWAY_URL2, path: \"/graphql\" });\n    const MODE = args.MODE || \"legacy\";\n    if (MODE === \"legacy\") return legacyMode({ ...restArgs, GRAPHQL_URL: GRAPHQL_URL2 });\n    if (MODE === \"relay\") return relayMode({ ...restArgs, GRAPHQL_URL: GRAPHQL_URL2 });\n    if (MODE === \"mainnet\") return mainnetMode({ ...restArgs, GRAPHQL_URL: GRAPHQL_URL2 });\n    throw new Error(`Unrecognized MODE: ${MODE}`);\n  }\n  return connect2;\n}\n\n// src/client/node/wallet.js\nvar wallet_exports = {};\n__export(wallet_exports, {\n  createDataItemSigner: () => createDataItemSigner,\n  createHbSigner: () => createHbSigner\n});\nimport { createPrivateKey, createHash } from \"node:crypto\";\nimport * as WarpArBundles from \"warp-arbundles\";\nimport { httpbis, createSigner } from \"http-message-signatures\";\nvar pkg = WarpArBundles.default ? WarpArBundles.default : WarpArBundles;\nvar { createData, ArweaveSigner } = pkg;\nvar { signMessage } = httpbis;\nfunction createDataItemSigner(wallet) {\n  const signer = async ({ data, tags, target, anchor }) => {\n    const signer2 = new ArweaveSigner(wallet);\n    const dataItem = createData(data, signer2, { tags, target, anchor });\n    return dataItem.sign(signer2).then(async () => ({\n      id: await dataItem.id,\n      raw: await dataItem.getRaw()\n    }));\n  };\n  return signer;\n}\nfunction createHbSigner(wallet) {\n  const publicKey = wallet.n;\n  const privateKey = createPrivateKey({ key: wallet, format: \"jwk\" });\n  const address = createHash(\"sha256\").update(Buffer.from(publicKey, \"base64url\")).digest(\"base64url\");\n  const s = createSigner(privateKey, \"rsa-pss-sha512\", publicKey);\n  const params = [\"alg\", \"keyid\"].sort();\n  const signer = async ({ fields, request }) => signMessage({\n    key: s,\n    fields,\n    name: httpSigName(address),\n    params\n  }, request);\n  return signer;\n}\n\n// src/index.js\nvar GATEWAY_URL = process.env.GATEWAY_URL || void 0;\nvar MU_URL = process.env.MU_URL || void 0;\nvar CU_URL = process.env.CU_URL || void 0;\nvar GRAPHQL_URL = process.env.GRAPHQL_URL || void 0;\nvar GRAPHQL_MAX_RETRIES = process.env.GRAPHQL_MAX_RETRIES || void 0;\nvar GRAPHQL_RETRY_BACKOFF = process.env.GRAPHQL_RETRY_BACKOFF || void 0;\nvar RELAY_URL = process.env.RELAY_URL || void 0;\nvar AO_URL = process.env.AO_URL = void 0;\nvar connect = connectWith({\n  createDataItemSigner: wallet_exports.createDataItemSigner,\n  createHbSigner: wallet_exports.createHbSigner\n});\nvar { result, results, message, spawn, monitor, unmonitor, dryrun, assign, createDataItemSigner: createDataItemSigner2 } = connect({\n  MODE: \"legacy\",\n  GATEWAY_URL,\n  MU_URL,\n  CU_URL,\n  RELAY_URL,\n  AO_URL,\n  GRAPHQL_URL,\n  GRAPHQL_MAX_RETRIES,\n  GRAPHQL_RETRY_BACKOFF,\n  noLog: true\n});\nexport {\n  assign,\n  connect,\n  createDataItemSigner2 as createDataItemSigner,\n  dryrun,\n  message,\n  monitor,\n  result,\n  results,\n  serializeCron,\n  spawn,\n  unmonitor\n};\n", "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n", "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n", "import { Buffer } from 'buffer';\n\nimport * as Helpers from 'helpers';\n\nimport * as Common from './common';\nimport * as Services from './services';\n\n/* Used for build - Do not remove ! */\nif (!globalThis.Buffer) globalThis.Buffer = Buffer;\n\nfunction init(deps: Helpers.DependencyType) {\n\treturn {\n\t\t/* Zones */\n\t\tcreateZone: Services.createZoneWith(deps),\n\t\tupdateZone: Services.updateZoneWith(deps),\n\t\taddToZone: Services.addToZoneWith(deps),\n\t\tgetZone: Services.getZoneWith(deps),\n\t\t/* Profiles */\n\t\tcreateProfile: Services.createProfileWith(deps),\n\t\tupdateProfile: Services.updateProfileWith(deps),\n\t\tgetProfileById: Services.getProfileByIdWith(deps),\n\t\tgetProfileByWalletAddress: Services.getProfileByWalletAddressWith(deps),\n\t\t/* Assets */\n\t\tcreateAtomicAsset: Services.createAtomicAssetWith(deps),\n\t\tgetAtomicAsset: Services.getAtomicAssetWith(deps),\n\t\tgetAtomicAssets: Services.getAtomicAssets,\n\t\t/* Comments */\n\t\tcreateComment: Services.createCommentWith(deps),\n\t\tgetComment: Services.getCommentWith(deps),\n\t\tgetComments: Services.getCommentsWith(deps),\n\t\t/* Collections */\n\t\tcreateCollection: Services.createCollectionWith(deps),\n\t\tupdateCollectionAssets: Services.updateCollectionAssetsWith(deps),\n\t\tgetCollection: Services.getCollectionWith(deps),\n\t\tgetCollections: Services.getCollectionsWith(deps),\n\t\t/* Common */\n\t\tresolveTransaction: Common.resolveTransactionWith(deps),\n\t\tgetGQLData: Common.getGQLData,\n\t\tgetAggregatedGQLData: Common.getAggregatedGQLData,\n\t\tcreateProcess: Common.aoCreateProcessWith(deps),\n\t\treadProcess: Common.aoDryRunWith(deps),\n\t\tsendMessage: Common.aoSendWith(deps),\n\t\t/* Utils */\n\t\tmapFromProcessCase: Helpers.mapFromProcessCase,\n\t\tmapToProcessCase: Helpers.mapToProcessCase,\n\t};\n}\n\nexport default { init };\n\nexport * from './helpers/types';\n", "export * from './config';\nexport * from './endpoints';\nexport * from './types';\nexport * from './utils';\n", "export const AO = {\n\tmodule: 'Do_Uc2Sju_ffp6Ev0AnLVdPtot15rvMjP-a9VVaA5fM',\n\tscheduler: '_GQ33BkPtZrqxA84vM8Zk-N2aO0toNNu_C-l-rawrBA',\n\tmu: 'fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY',\n\tsrc: {\n\t\tasset: 'XYz8buLR5LQdhOOzWuCt9kBjoXHMowouWpXcGm9wdEE',\n\t\tcollection: 'aHN0YxA7Th1OQdtgv0slWv9LMrvYukvNgWdkotJsML0',\n\t\tcollectionActivity: 'k8K8WIJb5kXOVvZRFXF5GIZW-7b2NtaTOd6G-E5MF0k',\n\t\tprofile: 'WBhJpPafkykqZZgTr7TAsz48RKG4vbOEAH4rZ3JxIQ8',\n\t\tzone: 'M9G2B9Uvk8VK1pxloESeT4XScguRKSzLyd4as1HFOJ8',\n\t},\n\tcollectionRegistry: 'TFWDmf8a3_nw43GCm_CuYlYoylHAjCcFGbgHfDaGcsg',\n\tprofileRegistry: 'SNy4m-DrqxWl01YqGM4sxI8qCni-58re8uuJLvZPypY'\n};\n\nexport const CONTENT_TYPES: { [key: string]: { type: string; serialize: (data: any) => any } } = {\n\t'application/json': {\n\t\ttype: 'application/json',\n\t\tserialize: (data: any) => JSON.stringify(data),\n\t},\n};\n\nexport const GATEWAYS = {\n\tarweave: 'arweave.net',\n\tgoldsky: 'arweave-search.goldsky.com',\n};\n\nexport const LICENSES = {\n\tudl: {\n\t\tlabel: 'Universal Data License',\n\t\taddress: 'dE0rmDfl9_OWjkDznNEXHaSO_JohJkRolvMzaCroUdw',\n\t},\n};\n\nexport const TAGS = {\n\tkeys: {\n\t\taccess: 'Access-Fee',\n\t\tans110: {\n\t\t\ttitle: 'Title',\n\t\t\tdescription: 'Description',\n\t\t\ttopic: 'Topic:*',\n\t\t\ttype: 'Type',\n\t\t\timplements: 'Implements',\n\t\t\tlicense: 'License',\n\t\t},\n\t\tassetType: 'Asset-Type',\n\t\tbanner: 'Banner',\n\t\tbootloader: 'Bootloader',\n\t\tbootloaderInit: 'On-Boot',\n\t\tcollectionId: 'Collection-Id',\n\t\tcollectionName: 'Collection-Name',\n\t\tcommericalUse: 'Commercial-Use',\n\t\tcontentType: 'Content-Type',\n\t\tcreator: 'Creator',\n\t\tcurrency: 'Currency',\n\t\tdataModelTraining: 'Data-Model-Training',\n\t\tdataProtocol: 'Data-Protocol',\n\t\tdateCreated: 'Date-Created',\n\t\tderivations: 'Derivations',\n\t\tdescription: 'Description',\n\t\tdisplayName: 'Display-Name',\n\t\thandle: 'Handle',\n\t\timplements: 'Implements',\n\t\tinitialOwner: 'Initial-Owner',\n\t\tlicense: 'License',\n\t\tname: 'Name',\n\t\tpaymentAddress: 'Payment-Address',\n\t\tpaymentMode: 'Payment-Mode',\n\t\tprofileCreator: 'Profile-Creator',\n\t\tprofileIndex: 'Profile-Index',\n\t\tprotocolName: 'Protocol-Name',\n\t\trenderWith: 'Render-With',\n\t\tthumbnail: 'Thumbnail',\n\t\ttitle: 'Title',\n\t\ttopic: 'Topic',\n\t\ttype: 'Type',\n\t\tzoneType: 'Zone-Type',\n\t},\n\tvalues: {\n\t\tdocument: 'Document',\n\t},\n};\n\nexport const UPLOAD = {\n\tnode1: 'https://up.arweave.net',\n\tnode2: 'https://turbo.ardrive.io',\n\tbatchSize: 1,\n\tchunkSize: 7500000,\n\tdispatchUploadSize: 100 * 1024,\n};\n", "import { checkValidAddress } from './utils';\n\nconst arweaveEndpoint = 'https://arweave.net';\n\nexport function getARBalanceEndpoint(walletAddress: string) {\n\treturn `${arweaveEndpoint}/wallet/${walletAddress}/balance`;\n}\n\nexport function getTxEndpoint(txId: string) {\n\treturn `${arweaveEndpoint}/${txId}`;\n}\n\nexport function getRendererEndpoint(renderWith: string, tx: string) {\n\tif (checkValidAddress(renderWith)) {\n\t\treturn `${arweaveEndpoint}/${renderWith}/?tx=${tx}`;\n\t} else {\n\t\treturn `https://${renderWith}.arweave.net/?tx=${tx}`;\n\t}\n}\n", "import { TAGS } from './config';\n\ndeclare const InstallTrigger: any;\n\nexport function checkValidAddress(address: string | null) {\n\tif (!address) return false;\n\treturn /^[a-z0-9_-]{43}$/i.test(address);\n}\n\nexport function formatAddress(address: string | null, wrap: boolean) {\n\tif (!address) return '';\n\tif (!checkValidAddress(address)) return address;\n\tconst formattedAddress = address.substring(0, 5) + '...' + address.substring(36, address.length);\n\treturn wrap ? `(${formattedAddress})` : formattedAddress;\n}\n\nexport function getTagValue(list: { [key: string]: any }[], name: string): string | null {\n\tfor (let i = 0; i < list.length; i++) {\n\t\tif (list[i]) {\n\t\t\tif (list[i]!.name === name) {\n\t\t\t\treturn list[i]!.value as string;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport function formatCount(count: string): string {\n\tif (count === '0' || !Number(count)) return '0';\n\n\tif (count.includes('.')) {\n\t\tlet parts = count.split('.');\n\t\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n\t\t// Find the position of the last non-zero digit within the first 6 decimal places\n\t\tlet index = 0;\n\t\tfor (let i = 0; i < Math.min(parts[1].length, 6); i++) {\n\t\t\tif (parts[1][i] !== '0') {\n\t\t\t\tindex = i + 1;\n\t\t\t}\n\t\t}\n\n\t\tif (index === 0) {\n\t\t\t// If all decimals are zeros, keep two decimal places\n\t\t\tparts[1] = '00';\n\t\t} else {\n\t\t\t// Otherwise, truncate to the last non-zero digit\n\t\t\tparts[1] = parts[1].substring(0, index);\n\n\t\t\t// If the decimal part is longer than 4 digits, truncate to 4 digits\n\t\t\tif (parts[1].length > 4 && parts[1].substring(0, 4) !== '0000') {\n\t\t\t\tparts[1] = parts[1].substring(0, 4);\n\t\t\t}\n\t\t}\n\n\t\treturn parts.join('.');\n\t} else {\n\t\treturn count.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\t}\n}\n\nexport function formatPercentage(percentage: any) {\n\tif (isNaN(percentage)) return '0%';\n\n\tlet multiplied = percentage * 100;\n\tlet decimalPart = multiplied.toString().split('.')[1];\n\n\tif (!decimalPart) {\n\t\treturn `${multiplied.toFixed(0)}%`;\n\t}\n\n\tif (decimalPart.length > 6 && decimalPart.substring(0, 6) === '000000') {\n\t\treturn `${multiplied.toFixed(0)}%`;\n\t}\n\n\tlet nonZeroIndex = decimalPart.length;\n\tfor (let i = 0; i < decimalPart.length; i++) {\n\t\tif (decimalPart[i] !== '0') {\n\t\t\tnonZeroIndex = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn `${multiplied.toFixed(nonZeroIndex)}%`;\n}\n\nexport function formatDate(dateArg: string | number | null, dateType: 'iso' | 'epoch', fullTime?: boolean) {\n\tif (!dateArg) {\n\t\treturn null;\n\t}\n\n\tlet date: Date | null = null;\n\n\tswitch (dateType) {\n\t\tcase 'iso':\n\t\t\tdate = new Date(dateArg);\n\t\t\tbreak;\n\t\tcase 'epoch':\n\t\t\tdate = new Date(Number(dateArg));\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tdate = new Date(dateArg);\n\t\t\tbreak;\n\t}\n\n\treturn fullTime\n\t\t? `${date.toLocaleString('default', { month: 'long' })} ${date.getDate()}, ${date.getUTCFullYear()} at ${\n\t\t\t\tdate.getHours() % 12 || 12\n\t\t\t}:${date.getMinutes().toString().padStart(2, '0')} ${date.getHours() >= 12 ? 'PM' : 'AM'}`\n\t\t: `${date.toLocaleString('default', { month: 'long' })} ${date.getDate()}, ${date.getUTCFullYear()}`;\n}\n\nexport function getRelativeDate(timestamp: number) {\n\tif (!timestamp) return '-';\n\tconst currentDate = new Date();\n\tconst inputDate = new Date(timestamp);\n\n\tconst timeDifference: number = currentDate.getTime() - inputDate.getTime();\n\tconst secondsDifference = Math.floor(timeDifference / 1000);\n\tconst minutesDifference = Math.floor(secondsDifference / 60);\n\tconst hoursDifference = Math.floor(minutesDifference / 60);\n\tconst daysDifference = Math.floor(hoursDifference / 24);\n\tconst monthsDifference = Math.floor(daysDifference / 30.44); // Average days in a month\n\tconst yearsDifference = Math.floor(monthsDifference / 12);\n\n\tif (yearsDifference > 0) {\n\t\treturn `${yearsDifference} year${yearsDifference > 1 ? 's' : ''} ago`;\n\t} else if (monthsDifference > 0) {\n\t\treturn `${monthsDifference} month${monthsDifference > 1 ? 's' : ''} ago`;\n\t} else if (daysDifference > 0) {\n\t\treturn `${daysDifference} day${daysDifference > 1 ? 's' : ''} ago`;\n\t} else if (hoursDifference > 0) {\n\t\treturn `${hoursDifference} hour${hoursDifference > 1 ? 's' : ''} ago`;\n\t} else if (minutesDifference > 0) {\n\t\treturn `${minutesDifference} minute${minutesDifference > 1 ? 's' : ''} ago`;\n\t} else {\n\t\treturn `${secondsDifference} second${secondsDifference !== 1 ? 's' : ''} ago`;\n\t}\n}\n\nexport function formatRequiredField(field: string) {\n\treturn `${field} *`;\n}\n\nexport function splitTagValue(tag: any) {\n\tlet parts = tag.split('-');\n\n\tlet lastPart = parts[parts.length - 1];\n\tif (!isNaN(lastPart)) {\n\t\tparts = parts.slice(0, -1).join(' ') + ': ' + lastPart;\n\t} else {\n\t\tparts = parts.join(' ');\n\t}\n\n\treturn parts;\n}\n\nexport function getTagDisplay(value: string) {\n\tlet result = value.replace(/([A-Z])/g, ' $1').trim();\n\tresult = result.charAt(0).toUpperCase() + result.slice(1);\n\treturn result;\n}\n\nexport function getDataURLContentType(dataURL: string) {\n\tconst result = dataURL.match(/^data:([a-zA-Z0-9]+\\/[a-zA-Z0-9-.+]+);base64,/);\n\treturn result ? result[1] : null;\n}\n\nexport function getBase64Data(dataURL: string) {\n\treturn dataURL.split(',')[1];\n}\n\nexport function getByteSize(input: string | Buffer): number {\n\tlet sizeInBytes: number;\n\tif (Buffer.isBuffer(input)) {\n\t\tsizeInBytes = input.length;\n\t} else if (typeof input === 'string') {\n\t\tsizeInBytes = Buffer.byteLength(input, 'utf-8');\n\t} else {\n\t\tthrow new Error('Input must be a string or a Buffer');\n\t}\n\n\treturn sizeInBytes;\n}\n\nexport function getTotalTokenBalance(tokenBalances: { profileBalance: number; walletBalance: number } | null) {\n\tif (!tokenBalances) return null;\n\tconst total = (tokenBalances.profileBalance || 0) + (tokenBalances.walletBalance || 0);\n\treturn total;\n}\n\nexport function isFirefox(): boolean {\n\treturn typeof InstallTrigger !== 'undefined';\n}\n\nexport function reverseDenomination(number: number) {\n\tlet count = 0;\n\n\twhile (number > 0 && number % 10 === 0) {\n\t\tcount++;\n\t\tnumber /= 10;\n\t}\n\n\treturn count;\n}\n\nexport function cleanProcessField(value: string) {\n\tlet updatedValue: string;\n\tupdatedValue = value.replace(/\\[|\\]/g, '');\n\treturn `[[${updatedValue}]]`;\n}\n\nexport function cleanTagValue(value: string) {\n\tlet updatedValue: string;\n\tupdatedValue = value.replace(/\\[|\\]/g, '');\n\treturn updatedValue;\n}\n\n/**\n * Extracts all values from a key-value store that match a given prefix\n * @param store The key-value store object to search\n * @param prefix The prefix to filter keys by (e.g., 'portal')\n * @returns Array of values whose keys match the prefix\n */\nexport function getStoreNamespace<T = any>(prefix: string, store: Record<string, T>): T[] {\n\tif (!store) return [];\n\n\tconst searchPrefix = `${prefix}:`;\n\treturn Object.keys(store)\n\t\t.filter((key) => key.startsWith(searchPrefix))\n\t\t.map((key) => store[key]) as any;\n}\n\nexport function buildStoreNamespace(prefix: string, value: string) {\n\treturn `${prefix}:${value.toLowerCase().replace(/\\s+/g, '-')}`;\n}\n\nexport const globalLog = (...args: any[]) => {\n\tconsole.log('[@permaweb/libs]', ...args);\n};\n\nfunction toProcessCase(str: string): string {\n\treturn str.replace(/^[a-z]/, (match) => match.toUpperCase());\n}\n\n/* Maps an object from camel case to pascal case */\nexport function mapToProcessCase(obj: any): any {\n\tif (Array.isArray(obj)) {\n\t\treturn obj.map(mapToProcessCase);\n\t} else if (obj && typeof obj === 'object') {\n\t\treturn Object.entries(obj).reduce((acc: any, [key, value]) => {\n\t\t\tconst toKey = toProcessCase(key);\n\t\t\tacc[toKey] = checkValidAddress(value as any) ? value : mapToProcessCase(value);\n\t\t\treturn acc;\n\t\t}, {});\n\t}\n\treturn obj;\n}\n\nfunction fromProcessCase(str: string) {\n\treturn str.charAt(0).toLowerCase() + str.slice(1);\n}\n\n/* Maps an object from pascal case to camel case */\nexport function mapFromProcessCase(obj: any): any {\n\tif (Array.isArray(obj)) {\n\t\treturn obj.map(mapFromProcessCase);\n\t} else if (obj && typeof obj === 'object') {\n\t\treturn Object.entries(obj).reduce((acc: any, [key, value]) => {\n\t\t\tconst fromKey = fromProcessCase(key);\n\t\t\tacc[fromKey] = checkValidAddress(value as any) ? value : mapFromProcessCase(value);\n\t\t\treturn acc;\n\t\t}, {});\n\t}\n\treturn obj;\n}\n\nexport function getBootTag(key: string, value: string) {\n\tconst capitalizedKey = key.charAt(0).toUpperCase() + key.slice(1);\n\treturn { name: `${TAGS.keys.bootloader}-${capitalizedKey}`, value };\n}", "export type DependencyType = {\n\tao: any;\n\tsigner?: any;\n\tarweave?: any;\n};\n\nexport type ProcessSpawnType = {\n\tmodule: string;\n\tscheduler: string;\n\tdata: any;\n\ttags: TagType[];\n\twallet: any;\n};\n\nexport type ProcessCreateType = {\n\tmodule?: string;\n\tscheduler?: string;\n\tdata?: any;\n\ttags?: TagType[];\n\tevalTags?: TagType[];\n\tevalTxId?: string;\n\tevalSrc?: string;\n};\n\nexport type MessageSendType = {\n\tprocessId: string;\n\taction: string;\n\ttags?: TagType[] | null;\n\tdata?: any;\n\tuseRawData?: boolean;\n};\n\nexport type MessageResultType = {\n\tmessageId: string;\n\tprocessId: string;\n\taction: string;\n};\n\nexport type MessageDryRunType = {\n\tprocessId: string;\n\taction: string;\n\ttags?: TagType[] | null;\n\tdata?: string | object;\n};\n\nexport type ZoneType = { store: any; assets: ZoneAssetType[] };\n\nexport type ZoneAssetType = { id: string; balance: string; dateCreated: number; lastUpdate: number };\n\nexport type ProfileArgsType = {\n\tuserName: string;\n\tdisplayName: string;\n\tdescription: string;\n\tthumbnail?: any;\n\tbanner?: any;\n};\n\nexport type ProfileType = {\n\tid: string;\n\twalletAddress: string;\n\tuserName: string;\n\tdisplayName: string;\n\tdescription: string;\n\tthumbnail?: any;\n\tbanner?: any;\n\tassets: { id: string; quantity: string }[];\n} & any;\n\nexport type AssetCreateArgsType = {\n\tname: string;\n\tdescription: string;\n\ttopics: string[];\n\tcreator: string;\n\tdata: any;\n\tcontentType: string;\n\tassetType: string;\n\tsupply?: number;\n\tdenomination?: number;\n\ttransferable?: boolean;\n\tmetadata?: object;\t\n\ttags?: TagType[];\n\tsrc?: string;\n};\n\nexport type AssetHeaderType = {\n\tid: string;\n\towner: string | null\n};\n\nexport type AssetDetailType = {\n\tid: string;\n\tname: string;\n\tticker: string;\n\tdenomination: string;\n\ttotalSupply: string;\n\ttransferable: string;\n\tcreator: string;\n\tbalances: object;\n\tmetadata: any;\n\tdateCreated: string;\n\tlastUpdate: string;\n}\n\nexport type CommentHeaderType = {\n\tid: string; \n\tcontent: string;\n\tparentId: string; \n\trootId: string\n};\n\nexport type CommentDetailType = {\n\tcontent: string;\n\tparentId: string;\n\trootId: string;\n}\n\nexport type CommentCreateArgType = { content: string; creator: string;  parentId: string; rootId?: string, tags?: TagType[] };\n\nexport type CollectionManifestType = {\n\ttype: string;\n\titems: string[];\n};\n\nexport type CollectionType = {\n\tid: string;\n\ttitle: string;\n\tdescription: string | null;\n\tcreator: string;\n\tdateCreated: string;\n\tbanner: string | null;\n\tthumbnail: string | null;\n};\n\nexport type CollectionDetailType = CollectionType & {\n\tassetIds: string[];\n};\n\nexport type UDLicenseType = {\n\taccess: UDLicenseValueType | null;\n\tderivations: UDLicenseValueType | null;\n\tcommercialUse: UDLicenseValueType | null;\n\tdataModelTraining: UDLicenseValueType | null;\n\tpaymentMode: string | null;\n\tpaymentAddress: string | null;\n\tcurrency: string | null;\n};\n\nexport type UDLicenseValueType = {\n\tvalue: string | null;\n\ticon?: string;\n\tendText?: string;\n};\n\nexport type BaseGQLArgsType = {\n\tids?: string[] | null;\n\ttags?: TagFilterType[] | null;\n\towners?: string[] | null;\n\trecipients?: string[] | null;\n\tcursor?: string | null;\n\tpaginator?: number;\n\tminBlock?: number;\n\tmaxBlock?: number;\n};\n\nexport type GQLArgsType = { gateway: string } & BaseGQLArgsType;\n\nexport type QueryBodyGQLArgsType = BaseGQLArgsType & { gateway?: string; queryKey?: string };\n\nexport type BatchGQLArgsType = {\n\tgateway: string;\n\tentries: { [queryKey: string]: BaseGQLArgsType };\n};\n\nexport type GQLNodeResponseType = {\n\tcursor: string | null;\n\tnode: {\n\t\tid: string;\n\t\ttags: TagType[];\n\t\tdata: {\n\t\t\tsize: string;\n\t\t\ttype: string;\n\t\t};\n\t\towner: {\n\t\t\taddress: string;\n\t\t};\n\t\tblock: {\n\t\t\theight: number;\n\t\t\ttimestamp: number;\n\t\t};\n\t};\n};\n\nexport type GQLResponseType = {\n\tcount: number;\n\tnextCursor: string | null;\n\tpreviousCursor: string | null;\n};\n\nexport type DefaultGQLResponseType = {\n\tdata: GQLNodeResponseType[];\n} & GQLResponseType;\n\nexport type BatchAGQLResponseType = { [queryKey: string]: DefaultGQLResponseType };\n\nexport type TagType = { name: string; value: string };\n\nexport type TagFilterType = { name: string; values: string[]; match?: string };\n", "export * from './ao';\nexport * from './arweave';\nexport * from './gql';\n", "import { AO, GATEWAYS } from 'helpers/config';\nimport { getTxEndpoint } from 'helpers/endpoints';\nimport {\n\tDependencyType,\n\tMessageDryRunType,\n\tMessageResultType,\n\tMessageSendType,\n\tProcessCreateType,\n\tProcessSpawnType,\n\tTagType,\n} from 'helpers/types';\nimport { getTagValue, globalLog } from 'helpers/utils';\n\nimport { getGQLData } from './gql';\n\nconst GATEWAY = GATEWAYS.goldsky;\n\nconst GATEWAY_RETRY_COUNT = 100;\n\nexport async function aoSpawn(deps: DependencyType, args: ProcessSpawnType): Promise<string> {\n\tconst tags = [{ name: 'Authority', value: AO.mu }];\n\tif (args.tags && args.tags.length > 0) args.tags.forEach((tag: TagType) => tags.push(tag));\n\n\ttry {\n\t\tconst processId = await deps.ao.spawn({\n\t\t\tmodule: args.module,\n\t\t\tscheduler: args.scheduler,\n\t\t\tsigner: deps.signer,\n\t\t\ttags: tags,\n\t\t\tdata: args.data,\n\t\t});\n\n\t\tglobalLog(`Process ID: ${processId}`);\n\n\t\treturn processId;\n\t} catch (e: any) {\n\t\tthrow new Error(e.message ?? 'Error spawning process');\n\t}\n}\n\nexport function aoSendWith(deps: DependencyType) {\n\treturn async (args: MessageSendType) => {\n\t\treturn await aoSend(deps, args);\n\t}\n}\n\nexport async function aoSend(deps: DependencyType, args: MessageSendType): Promise<string> {\n\ttry {\n\t\tconst tags: TagType[] = [{ name: 'Action', value: args.action }];\n\t\tif (args.tags) tags.push(...args.tags);\n\n\t\tconst data = args.useRawData ? args.data : JSON.stringify(args.data);\n\n\t\tconst txId = await deps.ao.message({\n\t\t\tprocess: args.processId,\n\t\t\tsigner: deps.signer,\n\t\t\ttags: tags,\n\t\t\tdata: data,\n\t\t});\n\n\t\treturn txId;\n\t} catch (e: any) {\n\t\tthrow new Error(e);\n\t}\n}\n\nexport function aoDryRunWith(deps: DependencyType) {\n\treturn async (args: MessageSendType) => {\n\t\treturn await aoDryRun(deps, args);\n\t}\n}\n\nexport async function aoDryRun(deps: DependencyType, args: MessageDryRunType): Promise<any> {\n\ttry {\n\t\tconst tags = [{ name: 'Action', value: args.action }];\n\t\tif (args.tags) tags.push(...args.tags);\n\t\tlet dataPayload;\n\t\tif (typeof args.data === 'object') {\n\t\t\tdataPayload = JSON.stringify(args.data || {});\n\t\t} else if (typeof args.data === 'string') {\n\t\t\ttry {\n\t\t\t\tJSON.parse(args.data);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t\tthrow new Error('Invalid JSON data');\n\t\t\t}\n\t\t\tdataPayload = args.data;\n\t\t}\n\n\t\tconst response = await deps.ao.dryrun({\n\t\t\tprocess: args.processId,\n\t\t\ttags: tags,\n\t\t\tdata: dataPayload,\n\t\t});\n\n\t\tif (response.Messages && response.Messages.length) {\n\t\t\tif (response.Messages[0].Data) {\n\t\t\t\treturn JSON.parse(response.Messages[0].Data);\n\t\t\t} else {\n\t\t\t\tif (response.Messages[0].Tags) {\n\t\t\t\t\treturn response.Messages[0].Tags.reduce((acc: any, item: any) => {\n\t\t\t\t\t\tacc[item.name] = item.value;\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, {});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e: any) {\n\t\tthrow new Error(e.message ?? 'Error dryrunning process');\n\t}\n}\n\nexport async function aoMessageResult(deps: DependencyType, args: MessageResultType): Promise<any> {\n\ttry {\n\t\tconst { Messages } = await deps.ao.result({ message: args.messageId, process: args.processId });\n\n\t\tif (Messages && Messages.length) {\n\t\t\tconst response: { [key: string]: any } = {};\n\n\t\t\tMessages.forEach((message: any) => {\n\t\t\t\tconst action = getTagValue(message.Tags, 'Action') || args.action;\n\n\t\t\t\tlet responseData = null;\n\t\t\t\tconst messageData = message.Data;\n\n\t\t\t\tif (messageData) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresponseData = JSON.parse(messageData);\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tresponseData = messageData;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst responseStatus = getTagValue(message.Tags, 'Status');\n\t\t\t\tconst responseMessage = getTagValue(message.Tags, 'Message');\n\n\t\t\t\tresponse[action] = {\n\t\t\t\t\tid: args.messageId,\n\t\t\t\t\tstatus: responseStatus,\n\t\t\t\t\tmessage: responseMessage,\n\t\t\t\t\tdata: responseData,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn response;\n\t\t} else return null;\n\t} catch (e) {\n\t\tconsole.error(e);\n\t}\n}\n\nexport async function aoMessageResults(\n\tdeps: DependencyType,\n\targs: {\n\t\tprocessId: string;\n\t\taction: string;\n\t\ttags: TagType[] | null;\n\t\tdata: any;\n\t\tresponses?: string[];\n\t\thandler?: string;\n\t},\n): Promise<any> {\n\ttry {\n\t\tconst tags = [{ name: 'Action', value: args.action }];\n\t\tif (args.tags) tags.push(...args.tags);\n\n\t\tawait deps.ao.message({\n\t\t\tprocess: args.processId,\n\t\t\tsigner: deps.signer,\n\t\t\ttags: tags,\n\t\t\tdata: JSON.stringify(args.data),\n\t\t});\n\n\t\tawait new Promise((resolve) => setTimeout(resolve, 1000));\n\n\t\tconst messageResults = await deps.ao.results({\n\t\t\tprocess: args.processId,\n\t\t\tsort: 'DESC',\n\t\t\tlimit: 100,\n\t\t});\n\n\t\tif (messageResults && messageResults.edges && messageResults.edges.length) {\n\t\t\tconst response: any = {};\n\n\t\t\tfor (const result of messageResults.edges) {\n\t\t\t\tif (result.node && result.node.Messages && result.node.Messages.length) {\n\t\t\t\t\tconst resultSet: any[] = [args.action];\n\t\t\t\t\tif (args.responses) resultSet.push(...args.responses);\n\n\t\t\t\t\tfor (const message of result.node.Messages) {\n\t\t\t\t\t\tconst action = getTagValue(message.Tags, 'Action');\n\n\t\t\t\t\t\tif (action) {\n\t\t\t\t\t\t\tlet responseData = null;\n\t\t\t\t\t\t\tconst messageData = message.Data;\n\n\t\t\t\t\t\t\tif (messageData) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tresponseData = JSON.parse(messageData);\n\t\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\t\tresponseData = messageData;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst responseStatus = getTagValue(message.Tags, 'Status');\n\t\t\t\t\t\t\tconst responseMessage = getTagValue(message.Tags, 'Message');\n\n\t\t\t\t\t\t\tif (action === 'Action-Response') {\n\t\t\t\t\t\t\t\tconst responseHandler = getTagValue(message.Tags, 'Handler');\n\t\t\t\t\t\t\t\tif (args.handler && args.handler === responseHandler) {\n\t\t\t\t\t\t\t\t\tresponse[action] = {\n\t\t\t\t\t\t\t\t\t\tstatus: responseStatus,\n\t\t\t\t\t\t\t\t\t\tmessage: responseMessage,\n\t\t\t\t\t\t\t\t\t\tdata: responseData,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (resultSet.indexOf(action) !== -1) {\n\t\t\t\t\t\t\t\t\tresponse[action] = {\n\t\t\t\t\t\t\t\t\t\tstatus: responseStatus,\n\t\t\t\t\t\t\t\t\t\tmessage: responseMessage,\n\t\t\t\t\t\t\t\t\t\tdata: responseData,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Object.keys(response).length === resultSet.length) break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn response;\n\t\t}\n\n\t\treturn null;\n\t} catch (e) {\n\t\tconsole.error(e);\n\t}\n}\n\nexport async function handleProcessEval(\n\tdeps: DependencyType,\n\targs: {\n\t\tprocessId: string;\n\t\tevalTxId: string | null;\n\t\tevalSrc: string | null;\n\t\tevalTags?: TagType[];\n\t},\n): Promise<string | null> {\n\tlet src: string | null = null;\n\n\tif (args.evalSrc) src = args.evalSrc;\n\telse if (args.evalTxId) src = await fetchProcessSrc(args.evalTxId);\n\n\tif (src) {\n\t\ttry {\n\t\t\tconst evalMessage = await aoSend(deps, {\n\t\t\t\tprocessId: args.processId,\n\t\t\t\taction: 'Eval',\n\t\t\t\tdata: src,\n\t\t\t\ttags: args.evalTags || null,\n\t\t\t\tuseRawData: true,\n\t\t\t});\n\n\t\t\tglobalLog(`Eval: ${evalMessage}`);\n\n\t\t\tconst evalResult = await aoMessageResult(deps, {\n\t\t\t\tprocessId: args.processId,\n\t\t\t\tmessageId: evalMessage,\n\t\t\t\taction: 'Eval',\n\t\t\t});\n\n\t\t\treturn evalResult;\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error sending process eval');\n\t\t}\n\t}\n\n\treturn null;\n}\n\nexport function aoCreateProcessWith(deps: DependencyType) {\n\treturn async (args: ProcessCreateType, statusCB?: (status: any) => void) => {\n\t\ttry {\n\t\t\tconst spawnArgs: any = {\n\t\t\t\tmodule: args.module || AO.module,\n\t\t\t\tscheduler: args.scheduler || AO.scheduler,\n\t\t\t};\n\n\t\t\tif (args.data) spawnArgs.data = args.data;\n\t\t\tif (args.tags) spawnArgs.tags = args.tags;\n\n\t\t\tstatusCB && statusCB(`Spawning process...`);\n\t\t\tconst processId = await aoSpawn(deps, spawnArgs);\n\n\t\t\tstatusCB && statusCB(`Retrieving process...`);\n\t\t\tawait waitForProcess(processId, statusCB);\n\t\t\t\n\t\t\tif (args.evalTxId || args.evalSrc) {\n\t\t\t\tstatusCB && statusCB(`Process retrieved!`);\n\t\t\t\tstatusCB && statusCB('Sending eval...');\n\n\t\t\t\ttry {\n\t\t\t\t\tconst evalResult = await handleProcessEval(deps, {\n\t\t\t\t\t\tprocessId: processId,\n\t\t\t\t\t\tevalTxId: args.evalTxId || null,\n\t\t\t\t\t\tevalSrc: args.evalSrc || null,\n\t\t\t\t\t\tevalTags: args.evalTags,\n\t\t\t\t\t});\n\n\t\t\t\t\tif (evalResult && statusCB) statusCB('Eval complete');\n\t\t\t\t} catch (e: any) {\n\t\t\t\t\tthrow new Error(e.message ?? 'Error creating process');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn processId;\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error creating process');\n\t\t}\n\t};\n}\n\nexport async function aoCreateProcess(\n\tdeps: DependencyType,\n\targs: ProcessCreateType,\n\tstatusCB?: (status: any) => void,\n): Promise<string> {\n\ttry {\n\t\tconst spawnArgs: any = {\n\t\t\tmodule: args.module || AO.module,\n\t\t\tscheduler: args.scheduler || AO.scheduler,\n\t\t};\n\n\t\tif (args.data) spawnArgs.data = args.data;\n\t\tif (args.tags) spawnArgs.tags = args.tags;\n\n\t\tstatusCB && statusCB(`Spawning process...`);\n\t\tconst processId = await aoSpawn(deps, spawnArgs);\n\n\t\tstatusCB && statusCB(`Retrieving process...`);\n\t\tawait waitForProcess(processId, statusCB);\n\n\t\tif (args.evalTxId || args.evalSrc) {\n\t\t\tstatusCB && statusCB(`Process retrieved!`);\n\t\t\tstatusCB && statusCB('Sending eval...');\n\n\t\t\ttry {\n\t\t\t\tconst evalResult = await handleProcessEval(deps, {\n\t\t\t\t\tprocessId: processId,\n\t\t\t\t\tevalTxId: args.evalTxId || null,\n\t\t\t\t\tevalSrc: args.evalSrc || null,\n\t\t\t\t\tevalTags: args.evalTags,\n\t\t\t\t});\n\n\t\t\t\tif (evalResult && statusCB) statusCB('Eval complete');\n\t\t\t} catch (e: any) {\n\t\t\t\tthrow new Error(e.message ?? 'Error creating process');\n\t\t\t}\n\t\t}\n\n\t\treturn processId;\n\t} catch (e: any) {\n\t\tthrow new Error(e.message ?? 'Error creating process');\n\t}\n}\n\nexport async function waitForProcess(processId: string, _setStatus?: (status: any) => void) {\n\tlet retries = 0;\n\n\twhile (retries < GATEWAY_RETRY_COUNT) {\n\t\tawait new Promise((r) => setTimeout(r, 2000));\n\n\t\tconst gqlResponse = await getGQLData({\n\t\t\tgateway: GATEWAY,\n\t\t\tids: [processId],\n\t\t});\n\n\t\tif (gqlResponse?.data?.length) {\n\t\t\tconst foundProcess = gqlResponse.data[0].node.id;\n\t\t\tglobalLog(`Process found: ${foundProcess} (Try ${retries + 1})`);\n\t\t\treturn foundProcess;\n\t\t} else {\n\t\t\tglobalLog(`Process not found: ${processId} (Try ${retries + 1})`);\n\t\t\tretries++;\n\t\t}\n\t}\n\n\tthrow new Error(`Process not found, please try again`);\n}\n\nexport async function fetchProcessSrc(txId: string): Promise<string> {\n\ttry {\n\t\tconst srcFetch = await fetch(getTxEndpoint(txId));\n\t\treturn await srcFetch.text();\n\t} catch (e: any) {\n\t\tthrow new Error(e);\n\t}\n}\n", "import { GATEWAYS } from 'helpers/config';\nimport {\n\tBatchAGQLResponseType,\n\tBatchGQLArgsType,\n\tDefaultGQLResponseType,\n\tGQLArgsType,\n\tGQLNodeResponseType,\n\tQueryBodyGQLArgsType,\n} from 'helpers/types';\n\nconst CURSORS = {\n\tp1: 'P1',\n\tend: 'END',\n};\n\nconst PAGINATORS = {\n\tdefault: 100,\n};\n\nexport async function getGQLData(args: GQLArgsType): Promise<DefaultGQLResponseType> {\n\tconst paginator = args.paginator ? args.paginator : PAGINATORS.default;\n\tlet data: GQLNodeResponseType[] = [];\n\tlet count: number = 0;\n\tlet nextCursor: string | null = null;\n\n\tif (args.ids && !args.ids.length) {\n\t\treturn { data: data, count: count, nextCursor: nextCursor, previousCursor: null };\n\t}\n\n\ttry {\n\t\tlet queryBody: string = getQueryBody(args);\n\t\tconst response = await getResponse({ gateway: args.gateway ?? GATEWAYS.goldsky, query: getQuery(queryBody) });\n\n\t\tif (response?.data?.transactions?.edges?.length) {\n\t\t\tdata = [...response.data.transactions.edges];\n\t\t\tcount = response.data.transactions.count ?? 0;\n\n\t\t\tconst lastResults: boolean = data.length < paginator || !response.data.transactions.pageInfo.hasNextPage;\n\n\t\t\tif (lastResults) nextCursor = CURSORS.end;\n\t\t\telse nextCursor = data[data.length - 1].cursor;\n\n\t\t\treturn {\n\t\t\t\tdata: data,\n\t\t\t\tcount: count,\n\t\t\t\tnextCursor: nextCursor,\n\t\t\t\tpreviousCursor: null,\n\t\t\t};\n\t\t} else {\n\t\t\treturn { data: data, count: count, nextCursor: nextCursor, previousCursor: null };\n\t\t}\n\t} catch (e: any) {\n\t\tconsole.error(e);\n\t\treturn { data: data, count: count, nextCursor: nextCursor, previousCursor: null };\n\t}\n}\n\nexport async function getAggregatedGQLData(args: GQLArgsType, callback?: (message: string) => void) { // , processElementCallback: (element: GQLNodeResponseType) => void\n\tlet index = 1;\n\tlet fetchResult = await getGQLData(args);\n\n\tif (fetchResult && fetchResult.data.length) {\n\t\tlet aggregatedData = fetchResult.data;\n\t\tcallback && callback(`Count: ${fetchResult.count}`);\n\t\tcallback && callback(`Pages to fetch: ${Math.ceil(fetchResult.count / (args.paginator ?? PAGINATORS.default))}`);\n\t\tcallback && callback(`Page ${index} fetched`);\n\n\t\twhile (fetchResult.nextCursor && fetchResult.nextCursor !== CURSORS.end) {\n\t\t\tindex += 1;\n\t\t\tcallback && callback(`Fetching page ${index}...`);\n\n\t\t\tfetchResult = await getGQLData({\n\t\t\t\t...args,\n\t\t\t\tcursor: fetchResult.nextCursor,\n\t\t\t});\n\n\t\t\tif (fetchResult && fetchResult.data.length) {\n\t\t\t\taggregatedData = aggregatedData.concat(fetchResult.data);\n\t\t\t}\n\t\t}\n\n\t\tcallback && callback(`All pages fetched!`);\n\t\treturn aggregatedData;\n\t}\n\telse {\n\t\tcallback && callback('No data found');\n\t}\n\n\treturn null;\n}\n\nexport async function getBatchGQLData(args: BatchGQLArgsType): Promise<BatchAGQLResponseType> {\n\tlet responseObject: BatchAGQLResponseType = {};\n\tlet queryBody: string = '';\n\n\tfor (const [queryKey, baseArgs] of Object.entries(args.entries)) {\n\t\tresponseObject[queryKey] = { data: [], count: 0, nextCursor: null, previousCursor: null };\n\t\tqueryBody += getQueryBody({ ...baseArgs, gateway: args.gateway ?? GATEWAYS.goldsky, queryKey: queryKey });\n\t}\n\n\ttry {\n\t\tconst response = await getResponse({ gateway: args.gateway ?? GATEWAYS.goldsky, query: getQuery(queryBody) });\n\n\t\tif (response && response.data) {\n\t\t\tfor (const queryKey of Object.keys(response.data)) {\n\t\t\t\tconst paginator = args.entries[queryKey].paginator ? args.entries[queryKey].paginator : PAGINATORS.default;\n\n\t\t\t\tlet data: GQLNodeResponseType[] = [];\n\t\t\t\tlet count: number = 0;\n\t\t\t\tlet nextCursor: string | null = null;\n\n\t\t\t\tif (response.data[queryKey].edges.length) {\n\t\t\t\t\tdata = [...response.data[queryKey].edges];\n\t\t\t\t\tcount = response.data[queryKey].count ?? 0;\n\n\t\t\t\t\tconst lastResults: boolean = data.length < paginator || !response.data[queryKey].pageInfo.hasNextPage;\n\n\t\t\t\t\tif (lastResults) nextCursor = CURSORS.end;\n\t\t\t\t\telse nextCursor = data[data.length - 1].cursor;\n\n\t\t\t\t\tresponseObject[queryKey] = {\n\t\t\t\t\t\tdata: [...response.data[queryKey].edges],\n\t\t\t\t\t\tcount: count,\n\t\t\t\t\t\tnextCursor: nextCursor,\n\t\t\t\t\t\tpreviousCursor: null,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn responseObject;\n\t} catch (e: any) {\n\t\tconsole.error(e);\n\t\treturn responseObject;\n\t}\n}\n\nfunction getQuery(body: string): string {\n\tconst query = { query: `query { ${body} }` };\n\treturn JSON.stringify(query);\n}\n\nfunction getQueryBody(args: QueryBodyGQLArgsType): string {\n\tconst paginator = args.paginator ? args.paginator : PAGINATORS.default;\n\tconst ids = args.ids ? JSON.stringify(args.ids) : null;\n\tlet blockFilter: { min?: number; max?: number } | null = null;\n\tif (args.minBlock !== undefined && args.minBlock !== null) {\n\t\tblockFilter = {};\n\t\tblockFilter.min = args.minBlock;\n\t}\n\tconst blockFilterStr = blockFilter ? JSON.stringify(blockFilter).replace(/\"([^\"]+)\":/g, '$1:') : null;\n\tconst tags = args.tags\n\t\t? JSON.stringify(args.tags)\n\t\t\t\t.replace(/\"(name)\":/g, '$1:')\n\t\t\t\t.replace(/\"(values)\":/g, '$1:')\n\t\t\t\t.replace(/\"match\"/g, 'match')\n\t\t\t\t.replace(/\"FUZZY_OR\"/g, 'FUZZY_OR')\n\t\t: null;\n\tconst owners = args.owners ? JSON.stringify(args.owners) : null;\n\tconst recipients = args.recipients ? JSON.stringify(args.recipients) : null;\n\tconst cursor = args.cursor && args.cursor !== CURSORS.end ? `\"${args.cursor}\"` : null;\n\n\tlet fetchCount: string = `first: ${paginator}`;\n\tlet txCount: string = '';\n\tlet nodeFields: string = `data { size type } owner { address } block { height timestamp }`;\n\tlet order: string = '';\n\tlet recipientsfield: string = ''\n\n\tconst gateway = args.gateway ?? GATEWAYS.goldsky;\n\tswitch (gateway) {\n\t\tcase GATEWAYS.arweave:\n\t\t\tbreak;\n\t\tcase GATEWAYS.goldsky:\n\t\t\tif (!cursor) txCount = `count`;\n\t\t\tif (recipients) recipientsfield = `recipients: ${recipients}`;\n\t\t\tbreak;\n\t}\n\n\tlet body = `\n\t\ttransactions(\n\t\t\t\tids: ${ids},\n\t\t\t\ttags: ${tags},\n\t\t\t\t${fetchCount}\n\t\t\t\towners: ${owners},\n\t\t\t\t${recipientsfield},\n\t\t\t\tblock: ${blockFilterStr},\n\t\t\t\tafter: ${cursor},\n\t\t\t\t${order}\n\t\t\t\t\n\t\t\t){\n\t\t\t${txCount}\n\t\t\t\tpageInfo {\n\t\t\t\t\thasNextPage\n\t\t\t\t}\n\t\t\t\tedges {\n\t\t\t\t\tcursor\n\t\t\t\t\tnode {\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttags {\n\t\t\t\t\t\t\tname \n\t\t\t\t\t\t\tvalue \n\t\t\t\t\t\t}\n\t\t\t\t\t\t${nodeFields}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}`;\n\n\tif (args.queryKey) body = `${args.queryKey}: ${body}`;\n\n\treturn body;\n}\n\nasync function getResponse(args: { gateway: string; query: string }): Promise<any> {\n\ttry {\n\t\tconst response = await fetch(`https://${args.gateway}/graphql`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: args.query,\n\t\t});\n\t\treturn await response.json();\n\t} catch (e: any) {\n\t\tthrow e;\n\t}\n}\n", "/* Used for build - Do not remove ! */\nimport Arweave from 'arweave';\n\nimport { TAGS, UPLOAD } from 'helpers/config';\nimport { DependencyType, TagType } from 'helpers/types';\nimport { checkValidAddress, getBase64Data, getByteSize, getDataURLContentType, globalLog } from 'helpers/utils';\n\nexport function resolveTransactionWith(deps: DependencyType) {\n\treturn async (data: any) => {\n\t\tif (checkValidAddress(data)) return data;\n\t\tif (!deps.arweave) throw new Error(`Must initialize with Arweave in order to create transactions`);\n\t\ttry {\n\t\t\treturn await createTransaction(deps, { data: data });\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error resolving transaction');\n\t\t}\n\t};\n}\n\nexport async function resolveTransaction(deps: DependencyType, data: any) {\n\tif (checkValidAddress(data)) return data;\n\tif (!deps.arweave) throw new Error(`Must initialize with Arweave in order to create transactions`);\n\ttry {\n\t\treturn await createTransaction(deps, { data: data });\n\t} catch (e: any) {\n\t\tthrow new Error(e.message ?? 'Error resolving transaction');\n\t}\n}\n\nexport async function createTransaction(\n\tdeps: DependencyType,\n\targs: {\n\t\tdata: any;\n\t\ttags?: TagType[];\n\t\tuploadMethod?: 'default' | 'turbo';\n\t},\n): Promise<string> {\n\tlet content: any = null;\n\tlet contentType: string | null = null;\n\n\ttry {\n\t\tif (typeof args.data === 'string' && args.data.startsWith('data:')) {\n\t\t\tcontent = Buffer.from(getBase64Data(args.data), 'base64');\n\t\t\tcontentType = getDataURLContentType(args.data);\n\t\t}\n\t} catch (e: any) {\n\t\tthrow new Error(e);\n\t}\n\n\tif (content && contentType) {\n\t\tconst contentSize: number = getByteSize(content);\n\n\t\tglobalLog(`Content upload size: ${contentSize}`);\n\n\t\tif (contentSize < Number(UPLOAD.dispatchUploadSize)) {\n\t\t\tconst tx = await deps.arweave.createTransaction({ data: content }, 'use_wallet');\n\t\t\ttx.addTag(TAGS.keys.contentType, contentType);\n\t\t\tif (args.tags && args.tags.length > 0) args.tags.forEach((tag: TagType) => tx.addTag(tag.name, tag.value));\n\n\t\t\tconst response = await global.window.arweaveWallet.dispatch(tx);\n\t\t\treturn response.id;\n\t\t} else {\n\t\t\tthrow new Error('Data exceeds max upload limit'); // TODO\n\t\t}\n\t} else {\n\t\tthrow new Error('Error preparing transaction data');\n\t}\n}\n", "export * from './assets';\nexport * from './collections';\nexport * from './comments';\nexport * from './profiles';\nexport * from './zones';\n", "import { aoCreateProcess, aoDryRun } from 'common/ao';\nimport { getGQLData } from 'common/gql';\n\nimport { AO, CONTENT_TYPES, GATEWAYS, TAGS } from 'helpers/config';\nimport {\n\tAssetCreateArgsType,\n\tAssetDetailType,\n\tAssetHeaderType,\n\tDependencyType,\n\tGQLNodeResponseType,\n\tTagType\n} from 'helpers/types';\nimport { getBootTag, mapFromProcessCase, mapToProcessCase } from 'helpers/utils';\n\nexport function createAtomicAssetWith(deps: DependencyType) {\n\treturn async (args: AssetCreateArgsType, callback?: (status: any) => void) => {\n\t\tconst validationError = getValidationErrorMessage(args);\n\t\tif (validationError) throw new Error(validationError);\n\n\t\tconst data = CONTENT_TYPES[args.contentType]?.serialize(args.data) ?? args.data;\n\t\tconst tags = buildAssetCreateTags(args);\n\n\t\ttry {\n\t\t\tconst assetId = await aoCreateProcess(\n\t\t\t\tdeps,\n\t\t\t\t{ tags: tags, data: data },\n\t\t\t\tcallback ? (status) => callback(status) : undefined,\n\t\t\t);\n\n\t\t\treturn assetId;\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error creating asset');\n\t\t}\n\t};\n}\n\nexport async function getAtomicAsset(\n\tdeps: DependencyType,\n\tid: string,\n\targs?: { useGateway?: boolean }\n): Promise<AssetDetailType | null> {\n\ttry {\n\t\tconst processInfo = mapFromProcessCase(await aoDryRun(deps, {\n\t\t\tprocessId: id,\n\t\t\taction: 'Info',\n\t\t}));\n\n\t\tif (args?.useGateway) {\n\t\t\tconst gqlResponse = await getGQLData({\n\t\t\t\tgateway: GATEWAYS.goldsky,\n\t\t\t\tids: [id],\n\t\t\t\ttags: null,\n\t\t\t\towners: null,\n\t\t\t\tcursor: null,\n\t\t\t});\n\n\t\t\tconst gatewayAsset = gqlResponse?.data?.[0]\n\t\t\t\t? buildAsset(gqlResponse.data[0])\n\t\t\t\t: {};\n\t\t\t\n\t\t\treturn {\n\t\t\t\t...gatewayAsset,\n\t\t\t\t...processInfo,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tid: id,\n\t\t\t...processInfo\n\t\t}\n\t} catch (e: any) {\n\t\tthrow new Error(e.message || 'Error fetching atomic asset');\n\t}\n}\n\nexport function getAtomicAssetWith(deps: DependencyType) {\n\treturn async (id: string, args?: { useGateway?: boolean }): Promise<AssetDetailType | null> => {\n\t\treturn await getAtomicAsset(deps, id, args);\n\t};\n}\n\nexport async function getAtomicAssets(ids: string[]): Promise<AssetHeaderType[] | null> {\n\ttry {\n\t\tconst gqlResponse = await getGQLData({\n\t\t\tgateway: GATEWAYS.arweave,\n\t\t\tids: ids ?? null,\n\t\t\ttags: null,\n\t\t\towners: null,\n\t\t\tcursor: null,\n\t\t});\n\n\t\tif (gqlResponse && gqlResponse.data.length) {\n\t\t\treturn gqlResponse.data.map((element: GQLNodeResponseType) => buildAsset(element));\n\t\t}\n\n\t\treturn null;\n\t} catch (e: any) {\n\t\tthrow new Error(e);\n\t}\n}\n\nexport function buildAsset(element: GQLNodeResponseType): any {\n\tconst asset: any = { id: element.node.id, owner: element.node.owner.address };\n\n\tfor (const tag of element.node.tags) {\n\t\tconst originalKey = tag.name;\n\n\t\tconst keyWithoutPrefix = originalKey.startsWith(`${TAGS.keys.bootloader}-`)\n\t\t\t? originalKey.slice(`${TAGS.keys.bootloader}-`.length)\n\t\t\t: originalKey;\n\n\t\tconst formattedKey = keyWithoutPrefix\n\t\t\t.split('-')\n\t\t\t.map((part, index) =>\n\t\t\t\tindex === 0\n\t\t\t\t\t? part.toLowerCase()\n\t\t\t\t\t: part.charAt(0).toUpperCase() + part.slice(1).toLowerCase()\n\t\t\t)\n\t\t\t.join('');\n\n\t\tlet decodedValue;\n\t\ttry {\n\t\t\tdecodedValue = JSON.parse(tag.value);\n\t\t} catch {\n\t\t\tdecodedValue = tag.value.toString();\n\t\t}\n\n\t\tasset[formattedKey] = decodedValue;\n\t}\n\n\treturn asset;\n}\n\nfunction buildAssetCreateTags(args: AssetCreateArgsType): { name: string; value: string }[] {\n\tconst tags = [\n\t\t{ name: TAGS.keys.bootloaderInit, value: args.src ?? AO.src.asset },\n\t\t{ name: TAGS.keys.creator, value: args.creator },\n\t\t{ name: TAGS.keys.assetType, value: args.assetType },\n\t\t{ name: TAGS.keys.contentType, value: args.contentType },\n\t\t{ name: TAGS.keys.implements, value: 'ANS-110' },\n\t\t{ name: TAGS.keys.dateCreated, value: new Date().getTime().toString() },\n\t\tgetBootTag('Name', args.name),\n\t\tgetBootTag('Description', args.description),\n\t\tgetBootTag('Topics', JSON.stringify(args.topics)),\n\t\tgetBootTag('Ticker', 'ATOMIC'),\n\t\tgetBootTag('Denomination', args.denomination?.toString() ?? '1'),\n\t\tgetBootTag('TotalSupply', args.supply?.toString() ?? '1'),\n\t\tgetBootTag('Transferable', args.transferable?.toString() ?? 'true'),\n\t\tgetBootTag('Creator', args.creator),\n\t];\n\n\tif (args.metadata) {\n\t\tfor (const entry in args.metadata) {\n\t\t\ttags.push(getBootTag(mapToProcessCase(entry), (args.metadata as any)[entry].toString()));\n\t\t}\n\t}\n\n\tif (args.tags) args.tags.forEach((tag: TagType) => tags.push(tag));\n\n\treturn tags;\n}\n\nfunction getValidationErrorMessage(args: AssetCreateArgsType): string | null {\n\tif (typeof args !== 'object' || args === null) return 'The provided arguments are invalid or empty.';\n\n\tconst requiredFields = ['name', 'description', 'topics', 'creator', 'data', 'contentType', 'assetType'];\n\tfor (const field of requiredFields) {\n\t\tif (!(field in args)) return `Missing field '${field}'`;\n\t}\n\n\tif (typeof args.name !== 'string' || args.name.trim() === '') return 'Name is required';\n\tif (typeof args.description !== 'string') return 'The description must be a valid string';\n\tif (!Array.isArray(args.topics) || args.topics.length === 0) return 'Topics are required';\n\tif (typeof args.creator !== 'string' || args.creator.trim() === '') return 'Creator is required';\n\tif (args.data === undefined || args.data === null) return 'Data field is required';\n\tif (typeof args.contentType !== 'string' || args.contentType.trim() === '')\n\t\treturn 'Content type must be a non-empty string';\n\tif (typeof args.assetType !== 'string' || args.assetType.trim() === '') return 'Type must be a non-empty string';\n\n\tif ('supply' in args && (typeof args.supply !== 'number' || args.supply <= 0))\n\t\treturn 'Supply must be a positive number';\n\tif ('denomination' in args && (typeof args.denomination !== 'number' || args.denomination <= 0))\n\t\treturn 'Denomination must be a positive number';\n\tif ('transferable' in args && typeof args.transferable !== 'boolean') return 'Transferable must be a boolean value';\n\tif ('metadata' in args && typeof args.metadata !== 'object') return 'Metadata must be an object';\n\tif ('tags' in args && (!Array.isArray(args.tags) || args.tags.some((tag) => typeof tag !== 'object')))\n\t\treturn 'Tags must be an array of objects';\n\tif ('src' in args && typeof args.src !== 'string') return 'Source must be a valid string';\n\n\treturn null;\n}\n", "import { aoCreateProcess, aoDryRun, aoSend } from 'common/ao';\nimport { resolveTransaction } from 'common/arweave';\n\nimport { AO, TAGS } from 'helpers/config';\nimport { getTxEndpoint } from 'helpers/endpoints';\nimport { CollectionDetailType, CollectionType, DependencyType, TagType } from 'helpers/types';\nimport { cleanProcessField, cleanTagValue, globalLog } from 'helpers/utils';\n\nconst DEFAULT_COLLECTION_BANNER = 'eXCtpVbcd_jZ0dmU2PZ8focaKxBGECBQ8wMib7sIVPo';\nconst DEFAULT_COLLECTION_THUMBNAIL = 'lJovHqM9hwNjHV5JoY9NGWtt0WD-5D4gOqNL2VWW5jk';\n\nexport function createCollectionWith(deps: DependencyType) {\n\treturn async (args: {\n\t\ttitle: string;\n\t\tdescription: string;\n\t\tcreator: string;\n\t\tthumbnail: any;\n\t\tbanner: any;\n\t\tskipRegistry?: boolean;\n\t\tskipActivity?: boolean;\n\t}, callback?: (status: any) => void) => {\n\t\tif (!deps.signer) throw new Error(`No signer provided`);\n\n\t\tconst dateTime = new Date().getTime().toString();\n\t\tconst tags: TagType[] = [\n\t\t\t{ name: TAGS.keys.contentType, value: 'application/json' },\n\t\t\t{ name: TAGS.keys.creator, value: args.creator },\n\t\t\t{\n\t\t\t\tname: TAGS.keys.ans110.title,\n\t\t\t\tvalue: cleanTagValue(args.title),\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: TAGS.keys.ans110.description,\n\t\t\t\tvalue: cleanTagValue(args.description),\n\t\t\t},\n\t\t\t{ name: TAGS.keys.ans110.type, value: TAGS.values.document },\n\t\t\t{ name: TAGS.keys.dateCreated, value: dateTime },\n\t\t\t{\n\t\t\t\tname: TAGS.keys.name,\n\t\t\t\tvalue: cleanTagValue(args.title),\n\t\t\t},\n\t\t\t{ name: 'Action', value: 'Add-Collection' },\n\t\t];\n\n\t\tlet thumbnailTx = null;\n\t\tlet bannerTx = null;\n\n\t\ttry {\n\t\t\tthumbnailTx = args.banner ? await resolveTransaction(deps, args.thumbnail) : DEFAULT_COLLECTION_THUMBNAIL;\n\t\t\tbannerTx = args.banner ? await resolveTransaction(deps, args.banner) : DEFAULT_COLLECTION_BANNER;\n\n\t\t\tif (args.thumbnail)\n\t\t\t\ttags.push({\n\t\t\t\t\tname: TAGS.keys.thumbnail,\n\t\t\t\t\tvalue: thumbnailTx,\n\t\t\t\t});\n\n\t\t\tif (args.banner)\n\t\t\t\ttags.push({\n\t\t\t\t\tname: TAGS.keys.banner,\n\t\t\t\t\tvalue: bannerTx,\n\t\t\t\t});\n\t\t}\n\t\tcatch (e: any) {\n\t\t\tconsole.error(e);\n\t\t}\n\n\t\tconst processSrcFetch = await fetch(getTxEndpoint(AO.src.collection));\n\t\tif (!processSrcFetch.ok) throw new Error(`Unable to fetch process src`);\n\n\t\tlet processSrc = await processSrcFetch.text();\n\n\t\tprocessSrc = processSrc.replace(/'<NAME>'/g, cleanProcessField(args.title));\n\t\tprocessSrc = processSrc.replace(/'<DESCRIPTION>'/g, cleanProcessField(args.description));\n\t\tprocessSrc = processSrc.replace(/<CREATOR>/g, args.creator);\n\t\tprocessSrc = processSrc.replace(/<THUMBNAIL>/g, thumbnailTx ? thumbnailTx : DEFAULT_COLLECTION_THUMBNAIL);\n\t\tprocessSrc = processSrc.replace(/<BANNER>/g, bannerTx ? bannerTx : DEFAULT_COLLECTION_THUMBNAIL);\n\t\tprocessSrc = processSrc.replace(/<DATECREATED>/g, dateTime);\n\t\tprocessSrc = processSrc.replace(/<LASTUPDATE>/g, dateTime);\n\n\t\ttry {\n\t\t\tconst collectionId = await aoCreateProcess(\n\t\t\t\tdeps,\n\t\t\t\t{ tags: tags },\n\t\t\t\tcallback ? (status) => callback(status) : undefined,\n\t\t\t);\n\n\t\t\tglobalLog('Sending eval message to collection...');\n\t\t\tif (callback) callback('Sending eval message to collection...');\n\t\t\tawait deps.ao.message({\n\t\t\t\tprocess: collectionId,\n\t\t\t\tsigner: deps.signer,\n\t\t\t\ttags: [{ name: 'Action', value: 'Eval' }],\n\t\t\t\tdata: processSrc,\n\t\t\t});\n\n\t\t\tif (!args.skipRegistry) {\n\t\t\t\tglobalLog('Sending collection to registry...');\n\t\t\t\tif (callback) callback('Sending collection to registry...');\n\n\t\t\t\tconst registryTags = [\n\t\t\t\t\t{ name: 'Action', value: 'Add-Collection' },\n\t\t\t\t\t{ name: 'CollectionId', value: collectionId },\n\t\t\t\t\t{ name: 'Name', value: cleanTagValue(args.title) },\n\t\t\t\t\t{ name: 'Creator', value: args.creator },\n\t\t\t\t\t{ name: 'DateCreated', value: dateTime },\n\t\t\t\t];\n\t\n\t\t\t\tif (bannerTx) registryTags.push({ name: 'Banner', value: bannerTx });\n\t\t\t\tif (thumbnailTx) registryTags.push({ name: 'Thumbnail', value: thumbnailTx });\n\n\t\t\t\tawait deps.ao.message({\n\t\t\t\t\tprocess: AO.collectionRegistry,\n\t\t\t\t\tsigner: deps.signer,\n\t\t\t\t\ttags: registryTags,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!args.skipActivity) {\n\t\t\t\tglobalLog('Creating collection activity process...');\n\t\t\t\tif (callback) callback('Creating collection activity process...');\n\t\t\t\t\n\t\t\t\tconst activityTags = [\n\t\t\t\t\t{ name: 'CollectionId', value: collectionId },\n\t\t\t\t\t{ name: 'DateCreated', value: dateTime },\n\t\t\t\t\t{ name: 'On-Boot', value: AO.src.collectionActivity },\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\tconst collectionActivityId = await aoCreateProcess(\n\t\t\t\t\tdeps,\n\t\t\t\t\t{ tags: activityTags },\n\t\t\t\t\tcallback ? (status) => callback(status) : undefined,\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\tglobalLog('Adding activity to collection process...');\n\t\t\t\tif (callback) callback('Adding activity to collection process...');\n\t\t\t\tawait deps.ao.message({\n\t\t\t\t\tprocess: collectionId,\n\t\t\t\t\tsigner: deps.signer,\n\t\t\t\t\ttags: [{ name: 'Action', value: 'Eval' }],\n\t\t\t\t\tdata: `ActivityProcess = '${collectionActivityId}'`,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn collectionId;\n\t\t}\n\t\tcatch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error creating collection')\n\t\t}\n\t};\n}\n\nexport function updateCollectionAssetsWith(deps: DependencyType) {\n\treturn async (args: { collectionId: string; assetIds: string[]; creator: string; updateType: 'Add' | 'Remove' }): Promise<string> => {\n\t\treturn await aoSend(deps, {\n\t\t\tprocessId: args.creator,\n\t\t\taction: 'Run-Action',\n\t\t\ttags: [\n\t\t\t\t{ name: 'ForwardTo', value: args.collectionId },\n\t\t\t\t{ name: 'ForwardAction', value: 'Update-Assets' }\n\t\t\t],\n\t\t\tdata: {\n\t\t\t\tTarget: args.collectionId,\n\t\t\t\tAction: 'Update-Assets',\n\t\t\t\tInput: JSON.stringify({\n\t\t\t\t\tAssetIds: args.assetIds,\n\t\t\t\t\tUpdateType: args.updateType,\n\t\t\t\t}),\n\t\t\t},\n\t\t});\n\t};\n}\n\nexport function getCollectionWith(deps: DependencyType) {\n\treturn async (collectionId: string): Promise<CollectionDetailType | null> => {\n\t\tconst response = await aoDryRun(deps, {\n\t\t\tprocessId: collectionId,\n\t\t\taction: 'Info',\n\t\t});\n\n\t\tconst collection = {\n\t\t\tid: collectionId,\n\t\t\ttitle: response.Name,\n\t\t\tdescription: response.Description,\n\t\t\tcreator: response.Creator,\n\t\t\tdateCreated: response.DateCreated,\n\t\t\tthumbnail: response.Thumbnail ?? DEFAULT_COLLECTION_THUMBNAIL,\n\t\t\tbanner: response.Banner ?? DEFAULT_COLLECTION_THUMBNAIL,\n\t\t};\n\n\t\treturn {\n\t\t\t...collection,\n\t\t\tassetIds: response.Assets,\n\t\t};\n\t};\n}\n\nexport function getCollectionsWith(deps: DependencyType) {\n\treturn async (args: { creator?: string }): Promise<CollectionType[] | null> => {\n\t\tconst action = args.creator ? 'Get-Collections-By-User' : 'Get-Collections';\n\n\t\tconst response = await aoDryRun(deps, {\n\t\t\tprocessId: AO.collectionRegistry,\n\t\t\taction: action,\n\t\t\ttags: args.creator ? [{ name: 'Creator', value: args.creator }] : null,\n\t\t});\n\n\t\tif (response && response.Collections && response.Collections.length) {\n\t\t\tconst collections = response.Collections.map((collection: any) => {\n\t\t\t\treturn {\n\t\t\t\t\tid: collection.Id,\n\t\t\t\t\ttitle: collection.Name.replace(/\\[|\\]/g, ''),\n\t\t\t\t\tdescription: collection.Description,\n\t\t\t\t\tcreator: collection.Creator,\n\t\t\t\t\tdateCreated: collection.DateCreated,\n\t\t\t\t\tbanner: collection.Banner,\n\t\t\t\t\tthumbnail: collection.Thumbnail,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn collections;\n\t\t}\n\n\t\treturn null;\n\t};\n}\n", "import { getGQLData } from 'common/gql';\n\nimport { GATEWAYS } from 'helpers/config';\nimport { getTxEndpoint } from 'helpers/endpoints';\nimport {\n\tAssetCreateArgsType,\n\tCommentCreateArgType,\n\tCommentDetailType,\n\tDependencyType,\n\tGQLNodeResponseType,\n\tTagFilterType,\n} from 'helpers/types';\n\nimport { buildAsset, createAtomicAssetWith, getAtomicAsset } from './assets';\n\nexport function createCommentWith(deps: DependencyType) {\n\tconst createAtomicAsset = createAtomicAssetWith(deps);\n\treturn async (args: CommentCreateArgType, callback?: (status: any) => void) => {\n\t\tconst tags = args.tags ? args.tags : [];\n\n\t\ttags.push({ name: 'Data-Source', value: args.parentId });\n\t\ttags.push({ name: 'Root-Source', value: args.rootId ?? args.parentId });\n\n\t\tconst assetArgs: AssetCreateArgsType = {\n\t\t\tname: `Comment on ${args.parentId}`,\n\t\t\tdescription: `Comment on ${args.parentId}`,\n\t\t\ttopics: ['comment'],\n\t\t\tcreator: args.creator,\n\t\t\tdata: args.content,\n\t\t\tcontentType: 'text/plain',\n\t\t\tassetType: 'comment',\n\t\t\ttags,\n\t\t};\n\n\t\treturn createAtomicAsset(assetArgs, callback);\n\t};\n}\n\nexport function getCommentWith(deps: DependencyType) {\n\treturn async (id: string): Promise<CommentDetailType | null> => {\n\t\ttry {\n\t\t\tconst asset: any = await getAtomicAsset(deps, id, { useGateway: true });\n\n\t\t\tconst dataSource = asset?.dataSource\n\t\t\tconst rootSource = asset?.rootSource\n\n\t\t\tif (!dataSource || !rootSource) throw new Error(`dataSource and rootSource must be present on a comment`);\n\n\t\t\treturn {\n\t\t\t\tcontent: await getCommentData(id),\n\t\t\t\tparentId: dataSource,\n\t\t\t\trootId: rootSource,\n\t\t\t};\n\t\t}\n\t\tcatch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error getting comment');\n\t\t}\n\t};\n}\n\nexport function getCommentsWith(_deps: DependencyType) {\n\treturn async (args: { parentId?: string; rootId?: string }) => {\n\t\tif (!args.parentId && !args.rootId) {\n\t\t\tthrow new Error(`Must provide either parentId or rootId`);\n\t\t}\n\n\t\tconst tags: TagFilterType[] = [];\n\n\t\tif (args.parentId)\n\t\t\ttags.push({\n\t\t\t\tname: 'Data-Source',\n\t\t\t\tvalues: [args.parentId ?? ''],\n\t\t\t});\n\n\t\tif (args.rootId)\n\t\t\ttags.push({\n\t\t\t\tname: 'Root-Source',\n\t\t\t\tvalues: [args.rootId ?? ''],\n\t\t\t});\n\n\t\tconst gqlResponse = await getGQLData({\n\t\t\tgateway: GATEWAYS.goldsky,\n\t\t\tids: null,\n\t\t\ttags,\n\t\t\towners: null,\n\t\t\tcursor: null,\n\t\t});\n\n\t\tlet assets: any[] = [];\n\n\t\tif (gqlResponse && gqlResponse.data.length) {\n\t\t\tassets = gqlResponse.data.map((element: GQLNodeResponseType) => buildAsset(element));\n\t\t}\n\n\t\tconst comments = [];\n\t\tfor (const asset of assets) {\n\t\t\tconst dataSource = asset?.dataSource;\n\t\t\tconst rootSource = asset?.rootSource;\n\n\t\t\tif (!dataSource || !rootSource) throw new Error(`dataSource and rootSource must be present on a comment`);\n\n\t\t\tcomments.push({\n\t\t\t\tid: asset.id,\n\t\t\t\tcontent: await getCommentData(asset.id),\n\t\t\t\tparentId: dataSource,\n\t\t\t\trootId: rootSource,\n\t\t\t})\n\t\t}\n\n\t\treturn comments;\n\t};\n}\n\nasync function getCommentData(id: string) {\n\ttry {\n\t\treturn await (await fetch(getTxEndpoint(id))).text();\n\t}\n\tcatch (e: any) {\n\t\tthrow new Error(e.message ?? 'Error getting comment data')\n\t}\n}\n", "import { aoCreateProcess, aoDryRun, aoSend } from 'common/ao';\nimport { resolveTransaction } from 'common/arweave';\nimport { getGQLData } from 'common/gql';\n\nimport { AO, GATEWAYS, TAGS } from 'helpers/config';\nimport { DependencyType, GQLNodeResponseType, ProfileArgsType, ProfileType } from 'helpers/types';\nimport { getBootTag, globalLog, mapFromProcessCase } from 'helpers/utils';\n\nimport { createZoneWith, getZoneWith, updateZoneWith } from './zones';\n\nexport function createProfileWith(deps: DependencyType) {\n\treturn async (args: ProfileArgsType, callback?: (status: any) => void): Promise<string | null> => {\n\t\ttry {\n\t\t\tif (!deps.signer) throw new Error(`No signer provided`);\n\n\t\t\tconst dateTime = new Date().getTime().toString();\n\t\t\tconst tags: { name: string; value: string }[] = [\n\t\t\t\t{ name: 'Date-Created', value: dateTime },\n\t\t\t\t{ name: 'Action', value: 'Create-Profile' },\n\t\t\t];\n\n\t\t\tlet thumbnailTx = null;\n\t\t\tlet bannerTx = null;\n\n\t\t\ttry {\n\t\t\t\tif (args.thumbnail) thumbnailTx = await resolveTransaction(deps, args.thumbnail);\n\t\t\t\tif (args.banner) bannerTx = await resolveTransaction(deps, args.banner);\n\t\t\t}\n\t\t\tcatch (e: any) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\n\t\t\tconst profileId = await aoCreateProcess(deps, {\n\t\t\t\ttags: tags,\n\t\t\t\tevalTxId: AO.src.profile\n\t\t\t}, (status: any) => globalLog(status));\n\n\t\t\tconst updateData: any = {\n\t\t\t\tUserName: args.userName,\n\t\t\t\tDisplayName: args.displayName,\n\t\t\t\tDescription: args.description\n\t\t\t}\n\n\t\t\tif (thumbnailTx) updateData.ProfileImage = thumbnailTx;\n\t\t\tif (bannerTx) updateData.CoverImage = bannerTx;\n\n\t\t\tglobalLog('Updating profile...');\n\t\t\tif (callback) callback('Updating profile...');\n\t\t\tconst profileUpdateId = await aoSend(deps, {\n\t\t\t\tprocessId: profileId,\n\t\t\t\taction: 'Update-Profile',\n\t\t\t\tdata: updateData\n\t\t\t});\n\t\t\tglobalLog(`Profile update: ${profileUpdateId}`);\n\n\t\t\treturn profileId;\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error creating profile');\n\t\t}\n\t};\n}\n\nexport function updateProfileWith(deps: DependencyType) {\n\treturn async (args: ProfileArgsType, profileId: string, callback?: (status: any) => void): Promise<string | null> => {\n\t\tif (profileId) {\n\t\t\tlet updateData: any = {\n\t\t\t\tUserName: args.userName,\n\t\t\t\tDisplayName: args.displayName,\n\t\t\t\tDescription: args.description,\n\t\t\t};\n\n\t\t\tif (args.thumbnail) {\n\t\t\t\ttry {\n\t\t\t\t\tupdateData.Thumbnail = await resolveTransaction(deps, args.thumbnail);\n\t\t\t\t} catch (e: any) {\n\t\t\t\t\tif (callback) callback(`Failed to resolve thumbnail: ${e.message}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (args.banner) {\n\t\t\t\ttry {\n\t\t\t\t\tupdateData.Banner = await resolveTransaction(deps, args.banner);\n\t\t\t\t} catch (e: any) {\n\t\t\t\t\tif (callback) callback(`Failed to resolve banner: ${e.message}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tglobalLog('Updating profile...');\n\t\t\t\tif (callback) callback('Updating profile...');\n\t\t\t\tconst profileUpdateId = await aoSend(deps, {\n\t\t\t\t\tprocessId: profileId,\n\t\t\t\t\taction: 'Update-Profile',\n\t\t\t\t\tdata: updateData\n\t\t\t\t});\n\t\t\t\tglobalLog(`Profile update: ${profileUpdateId}`);\n\t\t\t\treturn profileUpdateId;\n\t\t\t} catch (e: any) {\n\t\t\t\tthrow new Error(e.message ?? 'Error updating profile');\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('No profile provided');\n\t\t}\n\t};\n}\n\nexport function getProfileByIdWith(deps: DependencyType) {\n\treturn async (profileId: string): Promise<ProfileType | null> => {\n\t\ttry {\n\t\t\tconst processInfo = await aoDryRun(deps, {\n\t\t\t\tprocessId: profileId,\n\t\t\t\taction: 'Info',\n\t\t\t});\n\t\t\tconst { Profile = {}, ...rest } = processInfo;\n\t\t\tconst flattenedProcessInfo = { ...rest, ...Profile };\n\t\t\treturn { id: profileId, ...mapFromProcessCase(flattenedProcessInfo) };\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error fetching profile');\n\t\t}\n\t};\n}\n\nexport function getProfileByWalletAddressWith(deps: DependencyType) {\n\tconst getProfileById = getProfileByIdWith(deps);\n\n\treturn async (walletAddress: string): Promise<(ProfileType & any) | null> => {\n\t\ttry {\n\t\t\tconst profileLookup = await aoDryRun(deps, {\n\t\t\t\tprocessId: AO.profileRegistry,\n\t\t\t\taction: 'Get-Profiles-By-Delegate',\n\t\t\t\tdata: { Address: walletAddress }\n\t\t\t});\n\n\t\t\tlet activeProfileId: string;\n\t\t\tif (profileLookup && profileLookup.length > 0 && profileLookup[0].ProfileId) {\n\t\t\t\tactiveProfileId = profileLookup[0].ProfileId;\n\t\t\t\treturn await getProfileById(activeProfileId);\n\t\t\t}\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error fetching profile');\n\t\t}\n\t};\n}\n\nexport function createProfileWith_ZONE(deps: DependencyType) {\n\tconst createZone = createZoneWith(deps);\n\n\treturn async (args: ProfileArgsType, callback?: (status: any) => void): Promise<string | null> => {\n\t\tlet profileId: string | null = null;\n\n\t\tconst tags: { name: string; value: string }[] = [\n\t\t\t{ name: TAGS.keys.dataProtocol, value: 'Zone' },\n\t\t\t{ name: TAGS.keys.zoneType, value: 'User' },\n\t\t];\n\n\t\tconst addImageTag = async (imageKey: 'Thumbnail' | 'Banner') => {\n\t\t\tconst key: any = imageKey.toLowerCase();\n\t\t\tif ((args as any)[key]) {\n\t\t\t\ttry {\n\t\t\t\t\tconst resolvedImage = await resolveTransaction(deps, (args as any)[key]);\n\t\t\t\t\ttags.push(getBootTag(imageKey, resolvedImage));\n\t\t\t\t} catch (e: any) {\n\t\t\t\t\tif (callback) callback(`Failed to resolve ${imageKey}: ${e.message}`);\n\t\t\t\t\telse console.error(e);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\ttags.push(getBootTag('Username', args.userName));\n\t\ttags.push(getBootTag('DisplayName', args.displayName));\n\t\ttags.push(getBootTag('Description', args.description));\n\n\t\tawait Promise.all([addImageTag('Thumbnail'), addImageTag('Banner')]);\n\n\t\ttry {\n\t\t\tprofileId = await createZone({ tags: tags }, callback);\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error creating profile');\n\t\t}\n\n\t\treturn profileId;\n\t};\n}\n\nexport function updateProfileWith_ZONE(deps: DependencyType) {\n\tconst updateZone = updateZoneWith(deps);\n\n\treturn async (args: ProfileArgsType, profileId: string, callback?: (status: any) => void): Promise<string | null> => {\n\t\tif (profileId) {\n\t\t\tlet data: any = {\n\t\t\t\tUsername: args.userName,\n\t\t\t\tDisplayName: args.displayName,\n\t\t\t\tDescription: args.description,\n\t\t\t};\n\n\t\t\tif (args.thumbnail) {\n\t\t\t\ttry {\n\t\t\t\t\tdata.Thumbnail = await resolveTransaction(deps, args.thumbnail);\n\t\t\t\t} catch (e: any) {\n\t\t\t\t\tif (callback) callback(`Failed to resolve thumbnail: ${e.message}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (args.banner) {\n\t\t\t\ttry {\n\t\t\t\t\tdata.Banner = await resolveTransaction(deps, args.banner);\n\t\t\t\t} catch (e: any) {\n\t\t\t\t\tif (callback) callback(`Failed to resolve banner: ${e.message}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\treturn await updateZone(data, profileId);\n\t\t\t} catch (e: any) {\n\t\t\t\tthrow new Error(e.message ?? 'Error creating profile');\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('No profile provided');\n\t\t}\n\t};\n}\n\nexport function getProfileByIdWith_ZONE(deps: DependencyType) {\n\tconst getZone = getZoneWith(deps);\n\n\treturn async (profileId: string): Promise<ProfileType | null> => {\n\t\ttry {\n\t\t\tconst zone = await getZone(profileId);\n\t\t\treturn { id: profileId, ...zone.store, assets: zone.assets };\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error fetching profile');\n\t\t}\n\t};\n}\n\nexport function getProfileByWalletAddressWith_ZONE(deps: DependencyType) {\n\tconst getProfileById = getProfileByIdWith(deps);\n\n\treturn async (walletAddress: string): Promise<(ProfileType & any) | null> => {\n\t\ttry {\n\t\t\tconst gqlResponse = await getGQLData({\n\t\t\t\tgateway: GATEWAYS.goldsky,\n\t\t\t\ttags: [\n\t\t\t\t\t{ name: TAGS.keys.dataProtocol, values: ['Zone'] },\n\t\t\t\t\t{ name: TAGS.keys.zoneType, values: ['User'] },\n\t\t\t\t],\n\t\t\t\towners: [walletAddress],\n\t\t\t});\n\n\t\t\tif (gqlResponse?.data?.length > 0) {\n\t\t\t\tgqlResponse.data.sort((a: GQLNodeResponseType, b: GQLNodeResponseType) => {\n\t\t\t\t\tconst timestampA = a.node.block?.timestamp ?? 0;\n\t\t\t\t\tconst timestampB = b.node.block?.timestamp ?? 0;\n\t\t\t\t\treturn timestampB - timestampA;\n\t\t\t\t});\n\n\t\t\t\treturn await getProfileById(gqlResponse.data[0].node.id);\n\t\t\t}\n\n\t\t\treturn { id: null };\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error fetching profile');\n\t\t}\n\t};\n}\n", "import { aoCreateProcess, aoDryRun, aoSend } from 'common/ao';\n\nimport { AO, TAGS } from 'helpers/config';\nimport { DependencyType, TagType } from 'helpers/types';\nimport { mapFromProcessCase } from 'helpers/utils';\n\nexport function createZoneWith(deps: DependencyType) {\n\treturn async (args: { tags?: TagType[] }, callback?: (status: any) => void): Promise<string | null> => {\n\t\ttry {\n\t\t\tconst tags = [{ name: TAGS.keys.bootloaderInit, value: AO.src.zone }];\n\t\t\tif (args.tags && args.tags.length) args.tags.forEach((tag: TagType) => tags.push(tag));\n\n\t\t\tconst zoneId = await aoCreateProcess(\n\t\t\t\tdeps,\n\t\t\t\t{ tags: tags },\n\t\t\t\tcallback ? (status) => callback(status) : undefined,\n\t\t\t);\n\n\t\t\treturn zoneId;\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e.message ?? 'Error creating zone');\n\t\t}\n\t};\n}\n\nexport function updateZoneWith(deps: DependencyType) {\n\treturn async (args: object, zoneId: string): Promise<string | null> => {\n\t\ttry {\n\t\t\tconst mappedData = Object.entries(args).map(([key, value]) => ({ key, value }));\n\n\t\t\tconst zoneUpdateId = await aoSend(deps, {\n\t\t\t\tprocessId: zoneId,\n\t\t\t\taction: 'Zone-Update',\n\t\t\t\tdata: mappedData,\n\t\t\t});\n\n\t\t\treturn zoneUpdateId;\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e);\n\t\t}\n\t};\n}\n\nexport function addToZoneWith(deps: DependencyType) {\n\treturn async (args: { path: string; data: object }, zoneId: string): Promise<string | null> => {\n\t\ttry {\n\t\t\tconst zoneUpdateId = await aoSend(deps, {\n\t\t\t\tprocessId: zoneId,\n\t\t\t\taction: 'Zone-Append',\n\t\t\t\ttags: [{ name: 'Path', value: args.path }],\n\t\t\t\tdata: args.data,\n\t\t\t});\n\n\t\t\treturn zoneUpdateId;\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e);\n\t\t}\n\t};\n}\n\nexport function getZoneWith(deps: DependencyType) {\n\treturn async (zoneId: string): Promise<any | null> => {\n\t\ttry {\n\t\t\tconst processInfo = await aoDryRun(deps, {\n\t\t\t\tprocessId: zoneId,\n\t\t\t\taction: 'Info',\n\t\t\t});\n\n\t\t\treturn mapFromProcessCase(processInfo);\n\t\t} catch (e: any) {\n\t\t\tthrow new Error(e);\n\t\t}\n\t};\n}\n"],
  "mappings": "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AMvC,CAAO,EACb,MAAM,kBAAkB,KAAM2C,CAAiB,EAC/C,KAAK,KAAO,oBACZ,KAAK,QAAU3C,GAAW,sBAC1B,KAAK,KAAO,oBACZ,KAAK,WAAasC,EAClB,KAAK,KAAOC,EACZ,KAAK,QAAU3B,CACjB,CACF,EAEAd,GAAO,QAAU,CACf,gBAAAsC,GACA,YAAArC,GACA,oBAAAI,GACA,qBAAAE,GACA,iBAAAE,GACA,kCAAAe,GACA,oBAAArB,GACA,wBAAAQ,GACA,qBAAAK,GACA,wBAAAE,GACA,oBAAAE,GACA,qBAAAQ,GACA,kBAAAE,GACA,mBAAAR,GACA,YAAAU,GACA,kBAAAG,GACA,mCAAAT,GACA,iCAAAW,GACA,6BAAAK,GACA,kBAAAE,EACF,ICrOA,IAAAE,GAAAC,EAAA,CAAAC,IAAAC,KAAA,cAGA,IAAMC,GAA6B,CAAC,EAG9BC,GAAuB,CAC3B,SACA,kBACA,kBACA,gBACA,mCACA,+BACA,+BACA,8BACA,gCACA,yBACA,iCACA,gCACA,MACA,QACA,UACA,WACA,gBACA,gBACA,kBACA,aACA,sBACA,mBACA,mBACA,iBACA,mBACA,gBACA,0BACA,sCACA,eACA,SACA,+BACA,6BACA,+BACA,OACA,gBACA,WACA,MACA,OACA,SACA,YACA,UACA,YACA,OACA,OACA,WACA,oBACA,gBACA,WACA,sBACA,aACA,gBACA,OACA,WACA,eACA,SACA,qBACA,SACA,qBACA,sBACA,MACA,QACA,UACA,kBACA,UACA,cACA,uBACA,2BACA,oBACA,yBACA,wBACA,SACA,gBACA,yBACA,oCACA,aACA,YACA,4BACA,wBACA,KACA,sBACA,UACA,oBACA,UACA,4BACA,aACA,OACA,MACA,mBACA,yBACA,yBACA,kBACA,oCACA,eACA,mBACA,kBACF,EAEA,QAASC,EAAI,EAAGA,EAAID,GAAqB,OAAQ,EAAEC,EAAG,CACpD,IAAMC,EAAMF,GAAqBC,CAAC,EAC5BE,EAAgBD,EAAI,YAAY,EACtCH,GAA2BG,CAAG,EAAIH,GAA2BI,CAAa,EACxEA,CACJ,CAGA,OAAO,eAAeJ,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MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,KACnE,MAAO,KAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IACnE,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,IAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OACnE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ACT,IAAK,qBACL,IAAK,WACL,IAAK,aACL,IAAK,aACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,kBACH,MAAO,aACT,IAAK,SACL,IAAK,WACL,IAAK,cACL,IAAK,cACL,IAAK,mBACL,IAAK,WACL,IAAK,aACL,IAAK,eACL,IAAK,eACL,IAAK,aACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,kBACH,MAAO,aACT,IAAK,kBACL,IAAK,WACL,IAAK,WACL,IAAK,QACL,IAAK,SACL,IAAK,aACL,IAAK,aACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,kBACL,IAAK,eACH,MAAO,aACT,IAAK,cACL,IAAK,mBACL,IAAK,SACL,IAAK,aACL,IAAK,eACL,IAAK,aACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,kBACL,IAAK,SACH,MAAO,aACT,IAAK,cACL,IAAK,eACL,IAAK,UACH,MAAO,eACT,IAAK,cACL,IAAK,cACL,IAAK,aACL,IAAK,aACL,IAAK,YACL,IAAK,KACL,IAAK,SACH,MAAO,cACT,IAAK,cACL,IAAK,aACL,IAAK,YACH,MAAO,cACT,IAAK,cACL,IAAK,aACL,IAAK,YACH,MAAO,cACT,IAAK,cACL,IAAK,cACL,IAAK,aACL,IAAK,YACL,IAAK,cACL,IAAK,KACH,MAAO,cACT,IAAK,cACH,MAAO,cACT,IAAK,UACL,IAAK,MACL,IAAK,OACL,IAAK,SACL,IAAK,SACH,MAAO,SACT,IAAK,UACL,IAAK,SACH,MAAO,SACT,IAAK,cACL,IAAK,MACL,IAAK,YACL,IAAK,cACH,MAAO,YACT,IAAK,cACL,IAAK,aACL,IAAK,YACL,IAAK,UACL,IAAK,cACH,MAAO,cACT,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,iBACL,IAAK,QACL,IAAK,SACL,IAAK,QACL,IAAK,cACL,IAAK,SACL,IAAK,aACL,IAAK,aACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,kBACL,IAAK,KACL,IAAK,SACL,IAAK,WACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,SACL,IAAK,cACL,IAAK,aACL,IAAK,aACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,kBACL,IAAK,KACL,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,SACL,IAAK,eACL,IAAK,WACH,MAAO,eACT,IAAK,iBACL,IAAK,kBACH,MAAO,iBACT,IAAK,UACL,IAAK,WACL,IAAK,kBACL,IAAK,SACL,IAAK,UACL,IAAK,aACL,IAAK,MACL,IAAK,YACL,IAAK,QACH,MAAO,MACT,IAAK,UACH,MAAO,UACT,IAAK,OACL,IAAK,aACL,IAAK,UACL,IAAK,SACL,IAAK,WACH,MAAO,OACT,IAAK,sBACL,IAAK,SACL,IAAK,WACH,MAAO,SACT,IAAK,cACL,IAAK,cACH,MAAO,cACT,IAAK,aACL,IAAK,QACL,IAAK,WACL,IAAK,YACL,IAAK,YACL,IAAK,OACL,IAAK,cACL,IAAK,SACH,MAAO,YACT,IAAK,UACL,IAAK,gBACL,IAAK,SACL,IAAK,aACL,IAAK,SACL,IAAK,iBACL,IAAK,iBACL,IAAK,UACL,IAAK,WACL,IAAK,cACH,MAAO,SACT,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,kBACL,IAAK,cACL,IAAK,cACH,MAAO,cACT,IAAK,cACL,IAAK,WACH,MAAO,WACT,IAAK,YACL,IAAK,kBACL,IAAK,QACL,IAAK,UACL,IAAK,cACL,IAAK,SACL,IAAK,WACH,MAAO,WACT,IAAK,iBACH,MAAO,iBACT,QAAS,MAAO,SAClB,CACF,CAEAF,GAAO,QAAU,CACf,YAAAC,GACF,ICjSA,IAAAE,GAAAC,EAAA,CAAAC,IAAAC,KAAA,cAEA,GAAM,CACJ,OAAAC,GACA,OAAA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",
  "names": ["require_minimist", "__commonJSMin", "exports", "module", "hasKey", "obj", "keys", "o", "key", "isNumber", "x", "isConstructorOrProto", "args", "opts", "flags", "aliases", "aliasIsBoolean", "y", "k", "defaults", "argv", "argDefined", "arg", "setKey", "value", "i", "lastKey", "setArg", "val", "notFlags", "next", "m", "letters", "broken", "j", "require_is", "__commonJSMin", "exports", "module", "_undefined", "value", "require_is", "__commonJSMin", "exports", "module", "isValue", "possibleTypes", "value", "require_is", "__commonJSMin", "exports", "module", "isObject", "value", "require_is", "__commonJSMin", "exports", "module", "isPrototype", "value", "require_is", "__commonJSMin", "exports", "module", "isFunction", "classRe", "functionToString", "value", "require_is_implemented", "__commonJSMin", "exports", "module", "assign", "obj", "require_is_implemented", "__commonJSMin", "exports", "module", "require_noop", "__commonJSMin", "exports", "module", "require_is_value", "__commonJSMin", "exports", "module", "_undefined", "val", "require_shim", "__commonJSMin", "exports", "module", "isValue", "keys", "object", "require_keys", "__commonJSMin", "exports", "module", "require_valid_value", "__commonJSMin", "exports", "module", "isValue", "value", "require_shim", "__commonJSMin", "exports", "module", "keys", "value", "max", "dest", "src", "error", "i", "length", "assign", "key", "e", "require_assign", "__commonJSMin", "exports", "module", "require_normalize_options", "__commonJSMin", "exports", "module", "isValue", "forEach", "create", "process", "src", "obj", "key", "opts1", "result", "options", "require_is_implemented", "__commonJSMin", "exports", "module", "str", "require_shim", "__commonJSMin", "exports", "module", "indexOf", "searchString", "require_contains", "__commonJSMin", "exports", "module", "require_d", "__commonJSMin", "exports", "module", "isValue", "isPlainFunction", "assign", "normalizeOpts", "contains", "d", "dscr", "value", "c", "e", "w", "options", "desc", "get", "set", "require_valid_callable", "__commonJSMin", "exports", "module", "fn", "require_iterate", "__commonJSMin", "exports", "module", "callable", "value", "bind", "call", "keys", "objPropertyIsEnumerable", "method", "defVal", "obj", "cb", "list", "thisArg", "compareFn", "key", "index", "require_for_each", "__commonJSMin", "exports", "module", "require_map", "__commonJSMin", "exports", "module", "callable", "forEach", "call", "obj", "cb", "result", "thisArg", "value", "key", "targetObj", "index", "require_primitive_set", "__commonJSMin", "exports", "module", "forEach", "create", "arg", "set", "name", "require_is_implemented", "__commonJSMin", "exports", "module", "create", "getPrototypeOf", "plainObject", "setPrototypeOf", "customCreate", "require_is_object", "__commonJSMin", "exports", "module", "isValue", "map", "value", "require_create", "__commonJSMin", "exports", "module", "create", "shim", "nullObject", "polyProps", "desc", "name", "prototype", "props", "require_shim", "__commonJSMin", "exports", "module", "isObject", "value", "objIsPrototypeOf", "defineProperty", "nullDesc", "validate", "obj", "prototype", "status", "fn", "set", "self", "isNullBase", "tmpObj1", "tmpObj2", "desc", "require_set_prototype_of", "__commonJSMin", "exports", "module", "require_is_implemented", "__commonJSMin", "exports", "module", "sign", "require_shim", "__commonJSMin", "exports", "module", "value", "require_sign", "__commonJSMin", "exports", "module", "require_to_integer", "__commonJSMin", "exports", "module", "sign", "abs", "floor", "value", "require_to_pos_integer", "__commonJSMin", "exports", "module", "toInteger", "max", "value", "require_resolve_length", "__commonJSMin", "exports", "module", "toPosInt", "optsLength", "fnLength", "isAsync", "length", "require_registered_extensions", "__commonJSMin", "require_custom", "__commonJSMin", "exports", "module", "assign", "isObject", "isValue", "captureStackTrace", "message", "err", "code", "ext", "require_mixin", "__commonJSMin", "exports", "module", "value", "defineProperty", "getOwnPropertyDescriptor", "getOwnPropertyNames", "getOwnPropertySymbols", "target", "source", "error", "sourceObject", "name", "e", "symbol", "require_define_length", "__commonJSMin", "exports", "module", "toPosInt", "test", "arg1", "arg2", "desc", "defineProperty", "generate", "mixin", "fn", "length", "cache", "args", "i", "src", "target", "require_event_emitter", "__commonJSMin", "exports", "module", "d", "callable", "apply", "call", "create", "defineProperty", "defineProperties", "hasOwnProperty", "descriptor", "on", "once", "off", "emit", "methods", "descriptors", "base", "type", "listener", "data", "self", "listeners", "candidate", "i", "l", "args", "o", "require_is_implemented", "__commonJSMin", "exports", "module", "from", "arr", "result", "require_is_implemented", "__commonJSMin", "exports", "module", "require_implementation", "__commonJSMin", "exports", "module", "naiveFallback", "require_global_this", "__commonJSMin", "exports", "module", "require_is_implemented", "__commonJSMin", "exports", "module", "global", "validTypes", "Symbol", "symbol", "require_is_symbol", "__commonJSMin", "exports", "module", "value", "require_validate_symbol", "__commonJSMin", "exports", "module", "isSymbol", "value", "require_generate_name", "__commonJSMin", "exports", "module", "d", "create", "defineProperty", "objPrototype", "created", "desc", "postfix", "name", "ie11BugWorkaround", "value", "require_standard_symbols", "__commonJSMin", "exports", "module", "d", "NativeSymbol", "SymbolPolyfill", "require_symbol_registry", "__commonJSMin", "exports", "module", "d", "validateSymbol", "registry", "SymbolPolyfill", "key", "symbol", "require_polyfill", "__commonJSMin", "exports", "module", "d", "validateSymbol", "NativeSymbol", "generateName", "setupStandardSymbols", "setupSymbolRegistry", "create", "defineProperties", "defineProperty", "SymbolPolyfill", "HiddenSymbol", "isNativeSafe", "description", "Symbol", "symbol", "require_es6_symbol", "__commonJSMin", "exports", "module", "require_is_arguments", "__commonJSMin", "exports", "module", "objToString", "id", "value", "require_is_function", "__commonJSMin", "exports", "module", "objToString", "isFunctionStringTag", "value", "require_is_string", "__commonJSMin", "exports", "module", "objToString", "id", "value", "require_shim", "__commonJSMin", "exports", "module", "iteratorSymbol", "isArguments", "isFunction", "toPosInt", "callable", "validValue", "isValue", "isString", "isArray", "call", "desc", "defineProperty", "arrayLike", "mapFn", "thisArg", "Context", "j", "arr", "length", "code", "iterator", "result", "getIterator", "value", "require_from", "__commonJSMin", "exports", "module", "require_to_array", "__commonJSMin", "exports", "module", "from", "isArray", "arrayLike", "require_resolve_resolve", "__commonJSMin", "exports", "module", "toArray", "isValue", "callable", "slice", "resolveArgs", "args", "resolve", "i", "resolvers", "require_resolve_normalize", "__commonJSMin", "exports", "module", "callable", "userNormalizer", "normalizer", "require_configure_map", "__commonJSMin", "exports", "module", "customError", "defineLength", "d", "ee", "resolveResolve", "resolveNormalize", "apply", "call", "create", "defineProperties", "on", "emit", "original", "length", "options", "cache", "conf", "memLength", "get", "set", "del", "clear", "extDel", "extGet", "extHas", "normalizer", "getListeners", "setListeners", "deleteListeners", "memoized", "resolve", "arg", "id", "result", "args", "oldCache", "type", "listener", "require_plain", "__commonJSMin", "exports", "module", "callable", "forEach", "extensions", "configure", "resolveLength", "self", "fn", "options", "length", "conf", "extFn", "name", "require_primitive", "__commonJSMin", "exports", "module", "args", "id", "i", "length", "require_get_primitive_fixed", "__commonJSMin", "exports", "module", "length", "args", "id", "i", "currentLength", "require_is_implemented", "__commonJSMin", "exports", "module", "numberIsNaN", "require_shim", "__commonJSMin", "exports", "module", "value", "require_is_nan", "__commonJSMin", "exports", "module", "require_e_index_of", "__commonJSMin", "exports", "module", "numberIsNaN", "toPosInt", "value", "indexOf", "objHasOwnProperty", "abs", "floor", "searchElement", "i", "length", "fromIndex", "val", "require_get", "__commonJSMin", "exports", "module", "indexOf", "create", "lastId", "map", "cache", "args", "index", "set", "i", "length", "id", "path", "require_get_1", "__commonJSMin", "exports", "module", "indexOf", "lastId", "argsMap", "cache", "args", "index", "id", "require_get_fixed", "__commonJSMin", "exports", "module", "indexOf", "create", "length", "lastId", "map", "cache", "args", "index", "set", "i", "id", "path", "require_next_tick", "__commonJSMin", "exports", "module", "ensureCallable", "fn", "byObserver", "Observer", "node", "queue", "currentQueue", "callback", "cb", "require_async", "__commonJSMin", "aFrom", "objectMap", "mixin", "defineLength", "nextTick", "slice", "apply", "create", "tbi", "conf", "waiting", "cache", "base", "original", "currentCallback", "currentContext", "currentArgs", "arg", "args", "last", "id", "cb", "context", "data", "origCb", "result", "self", "err", "oldCache", "require_is_callable", "__commonJSMin", "exports", "module", "obj", "require_validate_stringifiable", "__commonJSMin", "exports", "module", "isCallable", "stringifiable", "require_validate_stringifiable_value", "__commonJSMin", "exports", "module", "ensureValue", "stringifiable", "value", "require_safe_to_string", "__commonJSMin", "exports", "module", "isCallable", "value", "require_to_short_string_representation", "__commonJSMin", "exports", "module", "safeToString", "reNewLine", "value", "string", "char", "require_is_promise", "__commonJSMin", "exports", "module", "isPromise", "obj", "require_promise", "__commonJSMin", "objectMap", "primitiveSet", "ensureString", "toShortString", "isPromise", "nextTick", "create", "supportedModes", "mode", "conf", "waiting", "cache", "promises", "id", "ignore", "promise", "isFailed", "onSuccess", "result", "count", "onFailure", "resolvedMode", "nextTickFailure", "args", "context", "emit", "oldCache", "data", "require_dispose", "__commonJSMin", "callable", "forEach", "extensions", "apply", "dispose", "conf", "options", "del", "id", "resultArray", "cache", "result", "require_max_timeout", "__commonJSMin", "exports", "module", "require_valid_timeout", "__commonJSMin", "exports", "module", "toPosInt", "maxTimeout", "value", "require_max_age", "__commonJSMin", "aFrom", "forEach", "nextTick", "isPromise", "timeout", "extensions", "noop", "max", "min", "create", "maxAge", "conf", "options", "timeouts", "postfix", "preFetchAge", "preFetchTimeouts", "id", "args", "context", "result", "require_lru_queue", "__commonJSMin", "exports", "module", "toPosInt", "create", "hasOwnProperty", "limit", "size", "base", "queue", "map", "index", "del", "id", "oldIndex", "nuIndex", "require_max", "__commonJSMin", "toPosInteger", "lruQueue", "extensions", "max", "conf", "options", "postfix", "queue", "hit", "id", "require_ref_counter", "__commonJSMin", "d", "extensions", "create", "defineProperties", "ignore", "conf", "options", "cache", "postfix", "id", "length", "require_memoizee", "__commonJSMin", "exports", "module", "normalizeOpts", "resolveLength", "plain", "fn", "options", "length", "require_coerce", "__commonJSMin", "exports", "module", "isValue", "isObject", "objectToString", "value", "valueToString", "require_safe_to_string", "__commonJSMin", "exports", "module", "value", "require_to_short_string", "__commonJSMin", "exports", "module", "safeToString", "reNewLine", "value", "string", "char", "require_resolve_error_message", "__commonJSMin", "exports", "module", "stringCoerce", "toShortString", "errorMessage", "value", "inputOptions", "valueInsertIndex", "valueToken", "nameInsertIndex", "firstToken", "secondToken", "firstInsertIndex", "secondInsertIndex", "require_resolve_exception", "__commonJSMin", "exports", "module", "isValue", "resolveErrorMessage", "value", "defaultMessage", "inputOptions", "ErrorConstructor", "error", "require_ensure", "__commonJSMin", "exports", "module", "resolveException", "is", "value", "options", "errorMessage", "require_lazy", "__commonJSMin", "exports", "module", "isPlainFunction", "ensureValue", "isValue", "map", "contains", "call", "defineProperty", "getOwnPropertyDescriptor", "getPrototypeOf", "hasOwnProperty", "cacheDesc", "define", "name", "options", "value", "dgs", "cacheName", "desc", "writable", "resolvable", "flat", "self", "base", "ownDesc", "props", "require_methods", "__commonJSMin", "exports", "module", "forEach", "normalizeOpts", "callable", "lazy", "resolveLength", "extensions", "memoize", "props", "desc", "fn", "length", "options", "require_methods", "__commonJSMin", "exports", "module", "require_first_key", "__commonJSMin", "exports", "module", "value", "objPropertyIsEnumerable", "obj", "i", "require_for_each_right", "__commonJSMin", "exports", "module", "toPosInt", "callable", "value", "objHasOwnProperty", "call", "cb", "i", "self", "thisArg", "require_uniq", "__commonJSMin", "exports", "module", "indexOf", "filter", "isFirst", "value", "index", "require_sgr", "__commonJSMin", "exports", "module", "assign", "includes", "forOwn", "onlyKey", "forEachRight", "uniq", "CSI", "sgr", "code", "mods", "obj", "color", "index", "mod", "modPair", "openedMods", "currentMods", "closerCodes", "hasCSI", "str", "extractCode", "csi", "require_supports_color", "__commonJSMin", "exports", "module", "state", "enableColor", "disableColor", "autoDetectSupport", "isColorSupported", "require_xterm_colors", "__commonJSMin", "exports", "module", "require_xterm_match", "__commonJSMin", "exports", "module", "push", "reduce", "abs", "colors", "match", "result", "i", "color", "data", "index", "diff", "innerMatch", "currentIndex", "ndiff", "currentDiff", "channel", "require_bare", "__commonJSMin", "exports", "module", "d", "assign", "forEach", "map", "primitiveSet", "setPrototypeOf", "memoize", "memoizeMethods", "sgr", "supportsColor", "mods", "join", "defineProperty", "max", "min", "variantModes", "xtermMatch", "getFn", "memoized", "scope", "mod", "proto", "code", "getEndRe", "self", "start", "end", "msg", "conf", "hasAnsi", "key", "require_window_size", "__commonJSMin", "exports", "d", "require_erase", "__commonJSMin", "exports", "module", "require_is_implemented", "__commonJSMin", "exports", "module", "trunc", "require_shim", "__commonJSMin", "exports", "module", "floor", "value", "require_trunc", "__commonJSMin", "exports", "module", "require_move", "__commonJSMin", "exports", "module", "d", "trunc", "up", "down", "right", "left", "abs", "floor", "max", "getMove", "control", "num", "x", "y", "n", "dir", "require_beep", "__commonJSMin", "exports", "module", "require_generate", "__commonJSMin", "exports", "module", "toPosInt", "value", "slice", "length", "arr", "currentLength", "require_is_array_like", "__commonJSMin", "exports", "module", "isFunction", "isObject", "isValue", "value", "require_is", "__commonJSMin", "exports", "module", "iteratorSymbol", "isValue", "isArrayLike", "value", "require_validate_object", "__commonJSMin", "exports", "module", "isObject", "is", "value", "require_is_implemented", "__commonJSMin", "exports", "module", "str", "require_shim", "__commonJSMin", "exports", "module", "value", "toInteger", "count", "str", "result", "require_repeat", "__commonJSMin", "exports", "module", "require_regex_ansi", "__commonJSMin", "exports", "module", "require_strip", "__commonJSMin", "exports", "module", "stringifiable", "r", "str", "require_get_stripped_length", "__commonJSMin", "exports", "module", "strip", "str", "require_columns", "__commonJSMin", "exports", "module", "generate", "from", "iterable", "isValue", "stringifiable", "repeat", "getStrippedLength", "push", "inputRows", "options", "colsMeta", "colsOptions", "rows", "row", "rowRows", "cellStr", "columnIndex", "cellRows", "cellRow", "rowRowIndex", "str", "index", "col", "strLength", "item", "pad", "align", "colOptions", "require_slice", "__commonJSMin", "exports", "module", "reAnsi", "stringifiable", "length", "sgr", "max", "Token", "token", "tokenize", "str", "match", "index", "head", "prehead", "tail", "isChunkInSlice", "chunk", "begin", "end", "endIndex", "sliceSeq", "seq", "sliced", "state", "code", "nextChunk", "relBegin", "relEnd", "len", "require_compose", "__commonJSMin", "exports", "module", "isValue", "callable", "aFrom", "apply", "call", "callFn", "arg", "fn", "fnIgnored", "fns", "first", "args", "argIgnored", "require_throbber", "__commonJSMin", "exports", "module", "compose", "callable", "d", "validTimeout", "chars", "l", "ThrobberIterator", "str", "write", "interval", "format", "token", "iterator", "require_reset", "__commonJSMin", "exports", "module", "require_valid_object", "__commonJSMin", "exports", "module", "isObject", "value", "require_clear", "__commonJSMin", "exports", "module", "value", "require_ensure", "__commonJSMin", "exports", "module", "resolveException", "is", "value", "options", "errorMessage", "require_copy", "__commonJSMin", "exports", "module", "aFrom", "assign", "value", "obj", "copy", "propertyNames", "options", "result", "propertyName", "require_auto_bind", "__commonJSMin", "exports", "module", "isValue", "ensureValue", "ensurePlainFunction", "copy", "normalizeOptions", "map", "bind", "defineProperty", "hasOwnProperty", "define", "name", "desc", "options", "value", "dgs", "props", "require_es6_iterator", "__commonJSMin", "exports", "module", "clear", "assign", "callable", "value", "d", "autoBind", "Symbol", "defineProperty", "defineProperties", "Iterator", "list", "context", "i", "index", "redo", "j", "require_array", "__commonJSMin", "exports", "module", "setPrototypeOf", "contains", "d", "Symbol", "Iterator", "defineProperty", "ArrayIterator", "arr", "kind", "i", "require_string", "__commonJSMin", "exports", "module", "setPrototypeOf", "d", "Symbol", "Iterator", "defineProperty", "StringIterator", "str", "i", "char", "code", "require_is_iterable", "__commonJSMin", "exports", "module", "isArguments", "isValue", "isString", "iteratorSymbol", "isArray", "value", "require_valid_iterable", "__commonJSMin", "exports", "module", "isIterable", "value", "require_get", "__commonJSMin", "exports", "module", "isArguments", "isString", "ArrayIterator", "StringIterator", "iterable", "iteratorSymbol", "obj", "require_for_of", "__commonJSMin", "exports", "module", "isArguments", "callable", "isString", "get", "isArray", "call", "some", "iterable", "cb", "mode", "thisArg", "result", "doBreak", "broken", "i", "length", "char", "code", "value", "require_art", "__commonJSMin", "exports", "module", "object", "stringifiable", "forOf", "text", "style", "result", "char", "require_cli_color", "__commonJSMin", "exports", "module", "d", "require_spinners", "__commonJSMin", "exports", "module", "require_cli_spinner", "__commonJSMin", "exports", "readline", "defaultSpinnerString", "defaultSpinnerDelay", "defaultOnTick", "msg", "Spinner", "options", "value", "current", "self", "iteration", "n", "str", "map", "mapToSpinner", "clear", "stream", "isInt", "spinners", "length", "require_figlet", "__commonJSMin", "exports", "module", "figlet", "figFonts", "figDefaults", "getSmushingRules", "oldLayout", "newLayout", "rules", "val", "index", "len", "code", "codes", "hRule1_Smush", "ch1", "ch2", "hardBlank", "hRule2_Smush", "rule2Str", "hRule3_Smush", "rule3Classes", "r3_pos1", "r3_pos2", "startPos", "endPos", "hRule4_Smush", "rule4Str", "r4_pos1", "r4_pos2", "hRule5_Smush", "rule5Str", "rule5Hash", "r5_pos1", "r5_pos2", "hRule6_Smush", "vRule1_Smush", "vRule2_Smush", "vRule3_Smush", "vRule4_Smush", "vRule5_Smush", "uni_Smush", "canVerticalSmush", "txt1", "txt2", "opts", "ii", "endSmush", "validSmush", "getVerticalSmushDist", "lines1", "lines2", "maxDist", "len1", "len2", "subLines1", "subLines2", "slen", "curDist", "ret", "result", "verticallySmushLines", "line1", "line2", "verticalSmush", "overlap", "piece1", "piece2_1", "piece2_2", "line", "piece2", "piece3", "padLines", "lines", "numSpaces", "padding", "smushVerticalFigLines", "output", "getHorizontalSmushLength", "breakAfter", "seg1", "seg2", "distCal", "seg1StartPos", "horizontalSmush", "textBlock1", "textBlock2", "jj", "outputFig", "overlapStart", "nextCh", "newFigChar", "outputFigText", "row", "figLinesWidth", "textLines", "i", "joinFigArray", "array", "acc", "data", "breakWord", "figChars", "w", "generateFigTextLines", "txt", "charIndex", "figChar", "height", "outputFigLines", "maxWidth", "nextFigChars", "figWords", "char", "isSpace", "textFigWord", "textFigLine", "tmpBreak", "getHorizontalFittingRules", "layout", "options", "props", "params", "getVerticalFittingRules", "generateText", "fontName", "figLines", "_reworkFontOpts", "fontOpts", "myOpts", "prop", "me", "next", "resolve", "reject", "err", "generatedTxt", "headerData", "figFont", "charNums", "cNum", "endCharRegEx", "parseError", "response", "text", "name", "fonts", "fontData", "promise", "res", "require_node_figlet", "__commonJSMin", "exports", "module", "figlet", "fs", "path", "fontDir", "name", "next", "resolve", "reject", "err", "fontData", "font", "error", "fontList", "files", "file", "require_pad_string", "__commonJSMin", "exports", "padString", "input", "segmentLength", "stringLength", "diff", "position", "padLength", "paddedStringLength", "buffer", "require_base64url", "__commonJSMin", "exports", "pad_string_1", "encode", "input", "encoding", "fromBase64", "decode", "base64url", "toBase64", "base64", "toBuffer", "require_base64url", "__commonJSMin", "exports", "module", "require_base64_js", "__commonJSMin", "exports", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "code", "i", "len", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "tmp", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "end", "output", "extraBytes", "parts", "maxChunkLength", "len2", "require_ieee754", "__commonJSMin", "exports", "buffer", "offset", "isLE", "mLen", "nBytes", "e", "m", "eLen", "eMax", "eBias", "nBits", "i", "d", "s", "value", "c", "rt", "require_buffer", "__commonJSMin", "exports", "base64", "ieee754", "customInspectSymbol", "Buffer", "SlowBuffer", "K_MAX_LENGTH", "typedArraySupport", "arr", "proto", "createBuffer", "length", "buf", "arg", "encodingOrOffset", "allocUnsafe", "from", "value", "fromString", "fromArrayView", "isInstance", "fromArrayBuffer", "valueOf", "b", "fromObject", "assertSize", "size", "alloc", "fill", "encoding", "checked", "string", "byteLength", "actual", "fromArrayLike", "array", "i", "arrayView", "copy", "byteOffset", "obj", "len", "numberIsNaN", "a", "x", "y", "list", "buffer", "pos", "mustMatch", "loweredCase", "utf8ToBytes", "base64ToBytes", "slowToString", "start", "end", "hexSlice", "utf8Slice", "asciiSlice", "latin1Slice", "base64Slice", "utf16leSlice", "swap", "n", "m", "str", "max", "target", "thisStart", "thisEnd", "thisCopy", "targetCopy", "bidirectionalIndexOf", "val", "dir", "arrayIndexOf", "indexSize", "arrLength", "valLength", "read", "foundIndex", "found", "j", "hexWrite", "offset", "remaining", "strLen", "parsed", "utf8Write", "blitBuffer", "asciiWrite", "asciiToBytes", "base64Write", "ucs2Write", "utf16leToBytes", "res", "firstByte", "codePoint", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "decodeCodePointsArray", "MAX_ARGUMENTS_LENGTH", "codePoints", "ret", "out", "hexSliceLookupTable", "bytes", "newBuf", "checkOffset", "ext", "noAssert", "mul", "defineBigIntMethod", "validateNumber", "first", "last", "boundsError", "lo", "hi", "checkInt", "min", "maxBytes", "wrtBigUInt64LE", "checkIntBI", "wrtBigUInt64BE", "limit", "sub", "checkIEEE754", "writeFloat", "littleEndian", "writeDouble", "targetStart", "code", "errors", "E", "sym", "getMessage", "Base", "name", "range", "input", "msg", "received", "addNumericalSeparator", "checkBounds", "type", "INVALID_BASE64_RE", "base64clean", "units", "leadSurrogate", "byteArray", "c", "src", "dst", "alphabet", "table", "i16", "fn", "BufferBigIntNotDefined", "require_ms", "__commonJSMin", "exports", "module", "s", "m", "h", "d", "w", "y", "val", "options", "type", "parse", "fmtLong", "fmtShort", "str", "match", "n", "ms", "msAbs", "plural", "name", "isPlural", "require_common", "__commonJSMin", "exports", "module", "setup", "env", "createDebug", "coerce", "disable", "enable", "enabled", "destroy", "key", "selectColor", "namespace", "hash", "i", "prevTime", "enableOverride", "namespacesCache", "enabledCache", "debug", "args", "self", "curr", "ms", "index", "match", "format", "formatter", "val", "extend", "v", "delimiter", "newDebug", "namespaces", "split", "ns", "matchesTemplate", "search", "template", "searchIndex", "templateIndex", "starIndex", "matchIndex", "name", "skip", "require_browser", "__commonJSMin", "exports", "module", "formatArgs", "save", "load", "useColors", "localstorage", "warned", "m", "args", "c", "index", "lastC", "match", "namespaces", "r", "formatters", "v", "error", "require_has_flag", "__commonJSMin", "exports", "module", "flag", "argv", "prefix", "position", "terminatorPosition", "require_supports_color", "__commonJSMin", "exports", "module", "os", "tty", "hasFlag", "env", "forceColor", "translateLevel", "level", "supportsColor", "haveStream", "streamIsTTY", "min", "osRelease", "sign", "version", "getSupportLevel", "stream", "require_node", "__commonJSMin", "exports", "module", "tty", "util", "init", "log", "formatArgs", "save", "load", "useColors", "supportsColor", "key", "obj", "prop", "_", "k", "val", "args", "name", "c", "colorCode", "prefix", "getDate", "namespaces", "debug", "keys", "i", "formatters", "v", "str", "require_src", "__commonJSMin", "exports", "module", "require_dist", "__commonJSMin", "exports", "module", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__export", "target", "all", "name", "__copyProps", "to", "from", "except", "desc", "key", "__toCommonJS", "mod", "protocol_tag_utils_exports", "concat", "concatUnassoc", "create", "findAll", "findAllByName", "findByName", "parse", "parseAll", "parseAllUnassoc", "parseUnassoc", "proto", "removeAll", "removeAllByName", "update", "pipe", "fns", "i", "acc", "fn", "defaultTo", "dVal", "val", "propOr", "defaultV", "prop", "obj", "mapObject", "res", "complement", "args", "findProtocolBoundaries", "protocol", "tags", "startIdx", "t", "endIdx", "idx", "findFirstProtocolBoundary", "byName", "start", "end", "tags2", "pTags", "arr", "before", "cur", "after", "others", "parseTags", "multi", "parsed", "tag", "values", "parseProtocol", "p", "Signer", "_pk", "_message", "_signature", "_opts", "exports", "exports", "concatBuffers", "b64UrlToString", "bufferToString", "stringToBuffer", "stringToB64Url", "b64UrlToBuffer", "bufferTob64", "bufferTob64Url", "b64UrlEncode", "b64UrlDecode", "B64js", "__importStar", "buffers", "total_length", "temp", "offset", "b64UrlString", "buffer", "string", "error", "padding", "utils_1", "deepHash", "data", "tag", "deepHashChunks", "_data", "taggedHash", "exports", "chunks", "acc", "hashPair", "newAcc", "require_bn", "__commonJSMin", "exports", "module", "assert", "val", "msg", "inherits", "ctor", "superCtor", "TempCtor", "BN", "number", "base", "endian", "Buffer", "num", "left", "right", "start", "i", "j", "w", "off", "parseHex4Bits", "string", "index", "c", "parseHexByte", "lowerBound", "r", "parseLength", "parseBase", "str", "end", "mul", "len", "limbLen", "limbPow", "total", "mod", "word", "pow", "dest", "size", "zeros", "groupSizes", "groupBases", "padding", "out", "carry", "groupSize", "groupBase", "ret", "length", "ArrayType", "byteLength", "reqLength", "littleEndian", "res", "b", "q", "t", "hi", "toBitArray", "bit", "wbit", "width", "a", "bytesNeeded", "bitsLeft", "cmp", "smallMulTo", "self", "lo", "k", "ncarry", "rword", "maxJ", "comb10MulTo", "o", "mid", "a0", "al0", "ah0", "a1", "al1", "ah1", "a2", "al2", "ah2", "a3", "al3", "ah3", "a4", "al4", "ah4", "a5", "al5", "ah5", "a6", "al6", "ah6", "a7", "al7", "ah7", "a8", "al8", "ah8", "a9", "al9", "ah9", "b0", "bl0", "bh0", "b1", "bl1", "bh1", "b2", "bl2", "bh2", "b3", "bl3", "bh3", "b4", "bl4", "bh4", "b5", "bl5", "bh5", "b6", "bl6", "bh6", "b7", "bl7", "bh7", "b8", "bl8", "bh8", "b9", "bl9", "bh9", "w0", "w1", "w2", "w3", "w4", "w5", "w6", "w7", "w8", "w9", "w10", "w11", "w12", "w13", "w14", "w15", "w16", "w17", "w18", "bigMulTo", "hncarry", "jumboMulTo", "fftm", "FFTM", "x", "y", "N", "l", "rb", "rbt", "rws", "iws", "rtws", "itws", "s", "rtwdf", "itwdf", "p", "rtwdf_", "itwdf_", "re", "ie", "ro", "io", "rx", "n", "m", "odd", "ws", "ph", "_", "rwst", "iwst", "nrws", "nrwst", "niwst", "rmws", "bits", "carryMask", "newCarry", "hint", "extended", "h", "mask", "maskedWords", "shift", "mode", "bhi", "bhiBits", "diff", "qj", "positive", "div", "dm", "half", "r2", "acc", "A", "B", "C", "D", "g", "yp", "xp", "im", "jm", "x1", "x2", "delta", "negative", "Red", "ctx", "primes", "MPrime", "name", "tmp", "rlen", "input", "K256", "output", "outLen", "prev", "next", "P224", "P192", "P25519", "prime", "mod3", "one", "nOne", "lpow", "z", "inv", "windowSize", "wnd", "current", "currentLen", "Mont", "u", "require_inherits_browser", "__commonJSMin", "exports", "module", "ctor", "superCtor", "TempCtor", "require_inherits", "__commonJSMin", "exports", "module", "util", "require_safer", "__commonJSMin", "exports", "module", "buffer", "Buffer", "safer", "key", "Safer", "value", "encodingOrOffset", "length", "size", "fill", "encoding", "buf", "require_reporter", "__commonJSMin", "exports", "inherits", "Reporter", "options", "obj", "ReporterError", "state", "data", "key", "index", "value", "prev", "now", "msg", "err", "inherited", "elem", "result", "path", "e", "require_buffer", "__commonJSMin", "exports", "inherits", "Reporter", "Buffer", "DecoderBuffer", "base", "options", "data", "save", "res", "fail", "bytes", "EncoderBuffer", "value", "reporter", "item", "out", "offset", "require_minimalistic_assert", "__commonJSMin", "exports", "module", "assert", "val", "msg", "l", "require_node", "__commonJSMin", "exports", "module", "Reporter", "EncoderBuffer", "DecoderBuffer", "assert", "tags", "methods", "overrided", "Node", "enc", "parent", "name", "state", "stateProps", "cstate", "prop", "res", "method", "clone", "body", "child", "args", "children", "arg", "key", "value", "tag", "item", "val", "num", "newKey", "obj", "input", "options", "result", "present", "prevKey", "save", "prevObj", "explicit", "start", "data", "entity", "match", "node", "reporter", "content", "primitive", "cls", "str", "require_der", "__commonJSMin", "exports", "reverse", "map", "res", "key", "value", "require_der", "__commonJSMin", "exports", "module", "inherits", "Buffer", "Node", "der", "DEREncoder", "entity", "DERNode", "data", "reporter", "parent", "tag", "primitive", "cls", "content", "encodedTag", "encodeTag", "header", "lenOctets", "i", "j", "str", "buf", "id", "values", "relative", "size", "ident", "objid", "offset", "two", "num", "time", "date", "numArray", "out", "value", "obj", "dataBuffer", "state", "res", "require_pem", "__commonJSMin", "exports", "module", "inherits", "DEREncoder", "PEMEncoder", "entity", "data", "options", "p", "out", "i", "require_encoders", "__commonJSMin", "exports", "encoders", "require_der", "__commonJSMin", "exports", "module", "inherits", "bignum", "DecoderBuffer", "Node", "der", "DERDecoder", "entity", "DERNode", "data", "options", "parent", "buffer", "tag", "any", "state", "decodedTag", "derDecodeTag", "len", "derDecodeLen", "res", "fail", "decoder", "result", "possibleEnd", "unused", "raw", "str", "i", "numstr", "printstr", "values", "relative", "identifiers", "ident", "subident", "first", "second", "tmp", "year", "mon", "day", "hour", "min", "sec", "obj", "buf", "cls", "primitive", "oct", "tagStr", "num", "j", "require_pem", "__commonJSMin", "exports", "module", "inherits", "Buffer", "DERDecoder", "PEMDecoder", "entity", "data", "options", "lines", "label", "re", "start", "end", "i", "match", "base64", "input", "require_decoders", "__commonJSMin", "exports", "decoders", "require_api", "__commonJSMin", "exports", "encoders", "decoders", "inherits", "api", "name", "body", "Entity", "Base", "Generated", "entity", "enc", "data", "options", "reporter", "require_base", "__commonJSMin", "exports", "base", "require_constants", "__commonJSMin", "exports", "constants", "map", "res", "key", "value", "require_asn1", "__commonJSMin", "exports", "asn1", "exports", "pemTojwk", "jwkTopem", "asn", "__importStar", "urlize", "base64", "hex2b64url", "str", "RSAPublicKey", "AlgorithmIdentifier", "PublicKeyInfo", "Version", "OtherPrimeInfos", "RSAPrivateKey", "PrivateKeyInfo", "addExtras", "obj", "extras", "key", "pad", "hex", "decodeRsaPublic", "buffer", "e", "jwk", "bn2base64url", "decodeRsaPrivate", "decodePublic", "info", "decodePrivate", "getDecoder", "header", "match", "isRSA", "isPrivate", "parse", "string2bn", "bn", "base64url2bn", "pem", "text", "line", "decoder", "json", "t", "footer", "data", "body", "pem_1", "crypto", "__importStar", "NodeCryptoDriver", "resolve", "reject", "err", "publicKey", "privateKey", "jwk", "data", "saltLength", "publicModulus", "signature", "publicJwk", "pem", "keyObject", "verify", "verifyResult", "details", "algorithm", "key", "salt", "derivedKey", "iv", "cipher", "encrypted", "decipher", "exports", "utils_1", "exports", "deepHash_1", "node_driver_1", "__importDefault", "crypto_1", "driver", "CryptoDriver", "jwk", "driverInstance", "getCryptoDriver", "SignatureConfig", "exports", "base64url_1", "__importDefault", "utils_1", "constants_1", "ArweaveSigner", "jwk", "message", "pk", "signature", "exports", "ArweaveSigner_1", "__importDefault", "exports", "ArweaveSigner_1", "exports", "__importDefault", "__exportStar", "exports", "utils_1", "getSignatureData", "item", "exports", "ar_data_base_1", "utils_1", "getSignatureAndId", "item", "signer", "signatureData", "signatureBytes", "idBytes", "exports", "sign", "signature", "id", "DataItem_1", "AVSCTap", "buf", "pos", "tags", "n", "i", "tag", "buffer", "f", "m", "s", "len", "l", "c1", "c2", "k", "b", "h", "fk", "val", "name", "value", "exports", "serializeTags", "tap", "tagsExceedLimit", "deserializeTags", "tagsBuffer", "byteArrayToLong", "byteArray", "value", "i", "exports", "shortTo2ByteArray", "long", "index", "byte", "longTo8ByteArray", "require_symbols", "__commonJSMin", "exports", "module", "require_errors", "__commonJSMin", "exports", "module", "UndiciError", "message", "ConnectTimeoutError", "_ConnectTimeoutError", "HeadersTimeoutError", "_HeadersTimeoutError", "HeadersOverflowError", "_HeadersOverflowError", "BodyTimeoutError", "_BodyTimeoutError", "ResponseStatusCodeError", "_ResponseStatusCodeError", "statusCode", "headers", "body", "InvalidArgumentError", "_InvalidArgumentError", "InvalidReturnValueError", "_InvalidReturnValueError", "RequestAbortedError", "_RequestAbortedError", "InformationalError", "_InformationalError", "RequestContentLengthMismatchError", "_RequestContentLengthMismatchError", "ResponseContentLengthMismatchError", "_ResponseContentLengthMismatchError", "ClientDestroyedError", "_ClientDestroyedError", "ClientClosedError", "_ClientClosedError", "SocketError", "_SocketError", "socket", "NotSupportedError", "_NotSupportedError", "BalancedPoolMissingUpstreamError", "HTTPParserError", "_HTTPParserError", "code", "data", "ResponseExceededMaxSizeError", "_ResponseExceededMaxSizeError", "RequestRetryError", "_RequestRetryError", "require_constants", "__commonJSMin", "exports", "module", "headerNameLowerCasedRecord", "wellknownHeaderNames", "i", "key", "lowerCasedKey", "require_util", "__commonJSMin", "exports", "module", "assert", "kDestroyed", "kBodyUsed", "IncomingMessage", "stream", "net", "InvalidArgumentError", "Blob", "nodeUtil", "stringify", "headerNameLowerCasedRecord", "nodeMajor", "nodeMinor", "v", "nop", "isStream", "obj", "isBlobLike", "object", "buildURL", "url", "queryParams", "stringified", "parseURL", "port", "origin", "path", "parseOrigin", "getHostname", "host", "idx", "getServerName", "servername", "deepClone", "isAsyncIterable", "isIterable", "bodyLength", "body", "state", "isBuffer", "isDestroyed", "isReadableAborted", "destroy", "err", "KEEPALIVE_TIMEOUT_EXPR", "parseKeepAliveTimeout", "val", "m", "headerNameToString", "value", "parseHeaders", "headers", "i", "key", "x", "parseRawHeaders", "ret", "hasContentLength", "contentDispositionIdx", "n", "buffer", "validateHandler", "handler", "method", "upgrade", "isDisturbed", "isErrored", "isReadable", "getSocketInfo", "socket", "convertIterableToBuffer", "iterable", "chunk", "ReadableStream", "ReadableStreamFrom", "iterator", "controller", "done", "buf", "reason", "isFormDataLike", "throwIfAborted", "signal", "addAbortListener", "listener", "hasToWellFormed", "toUSVString", "parseRangeHeader", "range", "kEnumerableProperty", "require_timers", "__commonJSMin", "exports", "module", "fastNow", "fastNowTimeout", "fastTimers", "onTimeout", "len", "idx", "timer", "refreshTimeout", "Timeout", "callback", "delay", "opaque", "timeout", "require_sbmh", "__commonJSMin", "exports", "module", "EventEmitter", "inherits", "SBMH", "needle", "needleLength", "i", "chunk", "pos", "chlen", "r", "data", "len", "lastNeedleChar", "ch", "bytesToCutOff", "require_PartStream", "__commonJSMin", "exports", "module", "inherits", "ReadableStream", "PartStream", "opts", "n", "require_getLimit", "__commonJSMin", "exports", "module", "limits", "name", "defaultLimit", "require_HeaderParser", "__commonJSMin", "exports", "module", "EventEmitter", "inherits", "getLimit", "StreamSearch", "B_DCRLF", "RE_CRLF", "RE_HDR", "HeaderParser", "cfg", "self", "isMatch", "data", "start", "end", "r", "header", "lines", "len", "m", "h", "posColon", "require_Dicer", "__commonJSMin", "exports", "module", "WritableStream", "inherits", "StreamSearch", "PartStream", "HeaderParser", "DASH", "B_ONEDASH", "B_CRLF", "EMPTY_FN", "Dicer", "cfg", "self", "header", "ev", "type", "data", "encoding", "cb", "r", "boundary", "isMatch", "start", "end", "buf", "i", "shouldWriteMore", "n", "require_decodeText", "__commonJSMin", "exports", "module", "utf8Decoder", "textDecoders", "getDecoder", "charset", "lc", "decoders", "data", "sourceEncoding", "decodeText", "text", "destEncoding", "require_parseParams", "__commonJSMin", "exports", "module", "decodeText", "RE_ENCODED", "EncodedLookup", "encodedReplacer", "match", "STATE_KEY", "STATE_VALUE", "STATE_CHARSET", "STATE_LANG", "parseParams", "str", "res", "state", "charset", "inquote", "escaping", "p", "tmp", "len", "i", "char", "require_basename", "__commonJSMin", "exports", "module", "path", "i", "require_multipart", "__commonJSMin", "exports", "module", "Readable", "inherits", "Dicer", "parseParams", "decodeText", "basename", "getLimit", "RE_BOUNDARY", "RE_FIELD", "RE_CHARSET", "RE_FILENAME", "RE_NAME", "Multipart", "boy", "cfg", "i", "len", "self", "boundary", "limits", "isPartAFile", "fieldName", "contentType", "fileName", "parsedConType", "defCharset", "preservePath", "fileOpts", "checkFinished", "nends", "finished", "fieldSizeLimit", "fileSizeLimit", "filesLimit", "fieldsLimit", "partsLimit", "headerPairsLimit", "headerSizeLimit", "nfiles", "nfields", "curFile", "curField", "parserCfg", "cb", "onPart", "part", "skipPart", "field", "header", "contype", "fieldname", "parsed", "charset", "encoding", "filename", "nsize", "onData", "onEnd", "file", "FileStream", "n", "data", "extralen", "buffer", "truncated", "err", "chunk", "opts", "require_Decoder", "__commonJSMin", "exports", "module", "RE_PLUS", "HEX", "Decoder", "str", "res", "i", "p", "len", "require_urlencoded", "__commonJSMin", "exports", "module", "Decoder", "decodeText", "getLimit", "RE_CHARSET", "UrlEncoded", "boy", "cfg", "limits", "parsedConType", "charset", "i", "len", "data", "cb", "idxeq", "idxamp", "p", "key", "keyTrunc", "require_main", "__commonJSMin", "exports", "module", "WritableStream", "inherits", "Dicer", "MultipartParser", "UrlencodedParser", "parseParams", "Busboy", "opts", "headers", "streamOptions", "ev", "parsed", "cfg", "chunk", "encoding", "cb", "require_constants", "__commonJSMin", "exports", "module", "MessageChannel", "receiveMessageOnPort", "corsSafeListedMethods", "corsSafeListedMethodsSet", "nullBodyStatus", "redirectStatus", "redirectStatusSet", "badPorts", "badPortsSet", "referrerPolicy", "referrerPolicySet", "requestRedirect", "safeMethods", "safeMethodsSet", "requestMode", "requestCredentials", "requestCache", "requestBodyHeader", "requestDuplex", "forbiddenMethods", "forbiddenMethodsSet", "subresource", "subresourceSet", "DOMException", "err", "channel", "structuredClone", "value", "options", "require_global", "__commonJSMin", "exports", "module", "globalOrigin", "getGlobalOrigin", "setGlobalOrigin", "newOrigin", "parsedURL", "require_util", "__commonJSMin", "exports", "module", "redirectStatusSet", "referrerPolicyTokens", "badPortsSet", "getGlobalOrigin", "performance", "isBlobLike", "toUSVString", "ReadableStreamFrom", "assert", "isUint8Array", "supportedHashes", "crypto", "possibleRelevantHashes", "hash", "responseURL", "response", "urlList", "length", "responseLocationURL", "requestFragment", "location", "isValidHeaderValue", "requestCurrentURL", "request", "requestBadPort", "url", "urlIsHttpHttpsScheme", "isErrorLike", "object", "isValidReasonPhrase", "statusText", "i", "c", "isTokenCharCode", "isValidHTTPToken", "characters", "isValidHeaderName", "potentialValue", "setRequestReferrerPolicyOnRedirect", "actualResponse", "headersList", "policyHeader", "policy", "token", "crossOriginResourcePolicyCheck", "corsCheck", "TAOCheck", "appendFetchMetadata", "httpRequest", "header", "appendRequestOriginHeader", "serializedOrigin", "urlHasHttpsScheme", "sameOrigin", "coarsenedSharedCurrentTime", "crossOriginIsolatedCapability", "createOpaqueTimingInfo", "timingInfo", "makePolicyContainer", "clonePolicyContainer", "policyContainer", "determineRequestsReferrer", "referrerSource", "globalOrigin", "referrerURL", "stripURLForReferrer", "referrerOrigin", "areSameOrigin", "isNonPotentiallyTrustWorthy", "isURLPotentiallyTrustworthy", "currentURL", "originOnly", "isOriginPotentiallyTrustworthy", "origin", "originAsURL", "bytesMatch", "bytes", "metadataList", "parsedMetadata", "parseMetadata", "strongest", "getStrongestMetadata", "metadata", "filterMetadataListByAlgorithm", "item", "algorithm", "expectedValue", "actualValue", "compareBase64Mixed", "parseHashWithOptions", "result", "empty", "parsedToken", "pos", "tryUpgradeRequestToAPotentiallyTrustworthyURL", "A", "B", "createDeferredPromise", "res", "rej", "resolve", "reject", "isAborted", "fetchParams", "isCancelled", "normalizeMethodRecord", "normalizeMethod", "method", "serializeJavascriptValueToJSONString", "value", "esIteratorPrototype", "makeIterator", "iterator", "name", "kind", "index", "target", "values", "len", "pair", "iteratorResult", "fullyReadBody", "body", "processBody", "processBodyError", "successSteps", "errorSteps", "reader", "e", "readAllBytes", "ReadableStream", "isReadableStreamLike", "stream", "MAXIMUM_ARGUMENT_LENGTH", "isomorphicDecode", "input", "previous", "current", "readableStreamClose", "controller", "err", "isomorphicEncode", "byteLength", "done", "chunk", "urlIsLocal", "protocol", "hasOwn", "dict", "key", "require_symbols", "__commonJSMin", "exports", "module", "require_webidl", "__commonJSMin", "exports", "module", "types", "hasOwn", "toUSVString", "webidl", "message", "context", "plural", "V", "I", "opts", "length", "min", "ctx", "bitLength", "signedness", "upperBound", "lowerBound", "x", "n", "r", "converter", "method", "seq", "done", "value", "keyConverter", "valueConverter", "O", "result", "keys", "key", "typedKey", "typedValue", "i", "converters", "dictionary", "type", "dict", "options", "defaultValue", "required", "hasDefault", "index", "T", "require_dataURL", "__commonJSMin", "exports", "module", "assert", "atob", "isomorphicDecode", "encoder", "HTTP_TOKEN_CODEPOINTS", "HTTP_WHITESPACE_REGEX", "HTTP_QUOTED_STRING_TOKENS", "dataURLProcessor", "dataURL", "input", "URLSerializer", "position", "mimeType", "collectASequenceOfCodePointsFast", "mimeTypeLength", "removeASCIIWhitespace", "encodedBody", "body", "stringPercentDecode", "stringBody", "forgivingBase64", "mimeTypeRecord", "parseMIMEType", "url", "excludeFragment", "href", "hashLength", "collectASequenceOfCodePoints", "condition", "result", "char", "idx", "start", "bytes", "percentDecode", "output", "i", "byte", "nextTwoBytes", "bytePoint", "removeHTTPWhitespace", "type", "subtype", "typeLowercase", "subtypeLowercase", "parameterName", "parameterValue", "collectAnHTTPQuotedString", "data", "binary", "extractValue", "positionStart", "value", "quoteOrBackslash", "serializeAMimeType", "parameters", "essence", "serialization", "name", "isHTTPWhiteSpace", "str", "leading", "trailing", "lead", "trail", "isASCIIWhitespace", "require_file", "__commonJSMin", "exports", "module", "Blob", "NativeFile", "types", "kState", "isBlobLike", "webidl", "parseMIMEType", "serializeAMimeType", "kEnumerableProperty", "encoder", "File", "_File", "fileBits", "fileName", "options", "n", "t", "d", "substep", "processBlobParts", "FileLike", "_FileLike", "blobLike", "args", "V", "opts", "value", "parts", "bytes", "element", "s", "convertLineEndingsNative", "nativeLineEnding", "isFileLike", "object", "require_formdata", "__commonJSMin", "exports", "module", "isBlobLike", "toUSVString", "makeIterator", "kState", "UndiciFile", "FileLike", "isFileLike", "webidl", "Blob", "NativeFile", "File", "FormData", "_FormData", "form", "name", "value", "filename", "entry", "makeEntry", "idx", "pair", "callbackFn", "thisArg", "key", "options", "require_body", "__commonJSMin", "exports", "module", "Busboy", "util", "ReadableStreamFrom", "isBlobLike", "isReadableStreamLike", "readableStreamClose", "createDeferredPromise", "fullyReadBody", "FormData", "kState", "webidl", "DOMException", "structuredClone", "Blob", "NativeFile", "kBodyUsed", "assert", "isErrored", "isUint8Array", "isArrayBuffer", "UndiciFile", "parseMIMEType", "serializeAMimeType", "random", "crypto", "max", "ReadableStream", "File", "textEncoder", "textDecoder", "extractBody", "object", "keepalive", "stream", "controller", "source", "action", "length", "type", "boundary", "prefix", "escape", "str", "normalizeLinefeeds", "value", "blobParts", "rn", "hasUnknownSizeValue", "name", "chunk", "part", "iterator", "done", "reason", "safelyExtractBody", "cloneBody", "body", "out1", "out2", "out2Clone", "finalClone", "consumeBody", "throwIfAborted", "state", "bodyMixinMethods", "instance", "specConsumeBody", "bytes", "mimeType", "bodyMimeType", "utf8DecodeBytes", "parseJSONFromBytes", "contentType", "headers", "key", "responseFormData", "busboy", "err", "filename", "encoding", "chunks", "base64chunk", "end", "busboyResolve", "resolve", "reject", "entries", "text", "streamingDecoder", "formData", "mixinBody", "prototype", "convertBytesToJSValue", "bodyUnusable", "promise", "errorSteps", "error", "successSteps", "data", "e", "buffer", "headersList", "require_request", "__commonJSMin", "exports", "module", "InvalidArgumentError", "NotSupportedError", "assert", "kHTTP2BuildRequest", "kHTTP2CopyHeaders", "kHTTP1BuildRequest", "util", "tokenRegExp", "headerCharRegex", "invalidPathRegex", "kHandler", "channels", "extractBody", "diagnosticsChannel", "Request", "_Request", "origin", "path", "method", "body", "headers", "query", "idempotent", "blocking", "upgrade", "headersTimeout", "bodyTimeout", "reset", "throwOnError", "expectContinue", "handler", "rState", "err", "i", "processHeader", "keys", "key", "bodyStream", "contentType", "chunk", "abort", "statusCode", "resume", "statusText", "socket", "trailers", "error", "value", "opts", "request", "raw", "rawHeaders", "header", "processHeaderValue", "val", "skipAppend", "require_dispatcher", "__commonJSMin", "exports", "module", "EventEmitter", "Dispatcher", "require_dispatcher_base", "__commonJSMin", "exports", "module", "Dispatcher", "ClientDestroyedError", "ClientClosedError", "InvalidArgumentError", "kDestroy", "kClose", "kDispatch", "kInterceptors", "kDestroyed", "kClosed", "kOnDestroyed", "kOnClosed", "kInterceptedDispatch", "DispatcherBase", "newInterceptors", "i", "callback", "resolve", "reject", "err", "data", "onClosed", "callbacks", "onDestroyed", "opts", "handler", "dispatch", "require_connect", "__commonJSMin", "exports", "module", "net", "assert", "util", "InvalidArgumentError", "ConnectTimeoutError", "tls", "SessionCache", "maxCachedSessions", "key", "ref", "sessionKey", "session", "oldestKey", "buildConnector", "allowH2", "socketPath", "timeout", "opts", "options", "sessionCache", "hostname", "host", "protocol", "port", "servername", "localAddress", "httpSocket", "callback", "socket", "keepAliveInitialDelay", "cancelTimeout", "setupTimeout", "onConnectTimeout", "cb", "err", "s1", "s2", "timeoutId", "enumToMap", "obj", "res", "key", "value", "exports", "utils_1", "ERROR", "exports", "TYPE", "FLAGS", "LENIENT_FLAGS", "METHODS", "key", "FINISH", "i", "c", "HEADER_STATE", "require_RedirectHandler", "__commonJSMin", "exports", "module", "util", "kBodyUsed", "assert", "InvalidArgumentError", "EE", "redirectableStatusCodes", "kBody", "BodyAsyncIterable", "body", "RedirectHandler", "dispatch", "maxRedirections", "opts", "handler", "abort", "statusCode", "headers", "socket", "error", "resume", "statusText", "parseLocation", "origin", "pathname", "search", "path", "cleanRequestHeaders", "chunk", "trailers", "i", "shouldRemoveHeader", "header", "removeContent", "unknownOrigin", "name", "ret", "key", "require_redirectInterceptor", "__commonJSMin", "exports", "module", "RedirectHandler", "createRedirectInterceptor", "defaultMaxRedirections", "dispatch", "opts", "handler", "maxRedirections", "redirectHandler", "require_llhttp_wasm", "__commonJSMin", "exports", "module", "require_llhttp_simd_wasm", "__commonJSMin", "exports", "module", "require_client", "__commonJSMin", "exports", "module", "assert", "net", "http", "pipeline", "util", "timers", "Request", "DispatcherBase", "RequestContentLengthMismatchError", "ResponseContentLengthMismatchError", "InvalidArgumentError", "RequestAbortedError", "HeadersTimeoutError", "HeadersOverflowError", "SocketError", "InformationalError", "BodyTimeoutError", "HTTPParserError", "ResponseExceededMaxSizeError", "ClientDestroyedError", "buildConnector", "kUrl", "kReset", "kServerName", "kClient", "kBusy", "kParser", "kConnect", "kBlocking", "kResuming", "kRunning", "kPending", "kSize", "kWriting", "kQueue", "kConnected", "kConnecting", "kNeedDrain", "kNoRef", "kKeepAliveDefaultTimeout", "kHostHeader", "kPendingIdx", "kRunningIdx", "kError", "kPipelining", "kSocket", "kKeepAliveTimeoutValue", "kMaxHeadersSize", "kKeepAliveMaxTimeout", "kKeepAliveTimeoutThreshold", "kHeadersTimeout", "kBodyTimeout", "kStrictContentLength", "kConnector", "kMaxRedirections", "kMaxRequests", "kCounter", "kClose", "kDestroy", "kDispatch", "kInterceptors", "kLocalAddress", "kMaxResponseSize", "kHTTPConnVersion", "kHost", "kHTTP2Session", "kHTTP2SessionState", "kHTTP2BuildRequest", "kHTTP2CopyHeaders", "kHTTP1BuildRequest", "http2", "HTTP2_HEADER_AUTHORITY", "HTTP2_HEADER_METHOD", "HTTP2_HEADER_PATH", "HTTP2_HEADER_SCHEME", "HTTP2_HEADER_CONTENT_LENGTH", "HTTP2_HEADER_EXPECT", "HTTP2_HEADER_STATUS", "h2ExperimentalWarned", "FastBuffer", "kClosedResolve", "channels", "diagnosticsChannel", "Client", "url", "interceptors", "maxHeaderSize", "headersTimeout", "socketTimeout", "requestTimeout", "connectTimeout", "bodyTimeout", "idleTimeout", "keepAlive", "keepAliveTimeout", "maxKeepAliveTimeout", "keepAliveMaxTimeout", "keepAliveTimeoutThreshold", "socketPath", "pipelining", "tls", "strictContentLength", "maxCachedSessions", "maxRedirections", "connect", "maxRequestsPerClient", "localAddress", "maxResponseSize", "autoSelectFamily", "autoSelectFamilyAttemptTimeout", "allowH2", "maxConcurrentStreams", "createRedirectInterceptor", "value", "resume", "socket", "cb", "opts", "handler", "origin", "request", "resolve", "err", "requests", "i", "errorRequest", "callback", "onHttp2SessionError", "onError", "onHttp2FrameError", "type", "code", "id", "onHttp2SessionEnd", "onHTTP2GoAway", "client", "constants", "EMPTY_BUF", "lazyllhttp", "llhttpWasmData", "mod", "p", "at", "len", "currentParser", "start", "currentBufferPtr", "currentBufferRef", "statusCode", "upgrade", "shouldKeepAlive", "llhttpInstance", "llhttpPromise", "currentBufferSize", "TIMEOUT_HEADERS", "TIMEOUT_BODY", "TIMEOUT_IDLE", "Parser", "onParserTimeout", "chunk", "data", "llhttp", "ret", "offset", "ptr", "message", "buf", "key", "head", "headers", "onSocketError", "onSocketReadable", "onSocketEnd", "onSocketClose", "statusText", "timeout", "pause", "contentLength", "bytesRead", "parser", "timeoutType", "host", "hostname", "protocol", "port", "idx", "ip", "reject", "session", "emitDrain", "sync", "_resume", "write", "shouldSendContentLength", "method", "writeH2", "body", "path", "blocking", "reset", "expectsPayload", "bodyLength", "header", "writeIterable", "writeBlob", "writeStream", "expectContinue", "signal", "reqHeaders", "stream", "h2State", "shouldEndStream", "writeBodyH2", "realHeaders", "h2stream", "onPipeData", "pipe", "finished", "writer", "AsyncWriter", "onData", "onDrain", "onAbort", "onFinished", "er", "isH2", "buffer", "waitForDrain", "res", "bytesWritten", "require_fixed_queue", "__commonJSMin", "exports", "module", "FixedCircularBuffer", "data", "nextItem", "tail", "next", "require_pool_stats", "__commonJSMin", "exports", "module", "kFree", "kConnected", "kPending", "kQueued", "kRunning", "kSize", "kPool", "PoolStats", "pool", "require_pool_base", "__commonJSMin", "exports", "module", "DispatcherBase", "FixedQueue", "kConnected", "kSize", "kRunning", "kPending", "kQueued", "kBusy", "kFree", "kUrl", "kClose", "kDestroy", "kDispatch", "PoolStats", "kClients", "kNeedDrain", "kQueue", "kClosedResolve", "kOnDrain", "kOnConnect", "kOnDisconnect", "kOnConnectionError", "kGetDispatcher", "kAddClient", "kRemoveClient", "kStats", "PoolBase", "pool", "origin", "targets", "queue", "needDrain", "item", "c", "err", "client", "ret", "pending", "running", "size", "resolve", "opts", "handler", "dispatcher", "idx", "require_pool", "__commonJSMin", "exports", "module", "PoolBase", "kClients", "kNeedDrain", "kAddClient", "kGetDispatcher", "Client", "InvalidArgumentError", "util", "kUrl", "kInterceptors", "buildConnector", "kOptions", "kConnections", "kFactory", "defaultFactory", "origin", "opts", "Pool", "connections", "factory", "connect", "connectTimeout", "tls", "maxCachedSessions", "socketPath", "autoSelectFamily", "autoSelectFamilyAttemptTimeout", "allowH2", "options", "dispatcher", "require_balanced_pool", "__commonJSMin", "exports", "module", "BalancedPoolMissingUpstreamError", "InvalidArgumentError", "PoolBase", "kClients", "kNeedDrain", "kAddClient", "kRemoveClient", "kGetDispatcher", "Pool", "kUrl", "kInterceptors", "parseOrigin", "kFactory", "kOptions", "kGreatestCommonDivisor", "kCurrentWeight", "kIndex", "kWeight", "kMaxWeightPerServer", "kErrorPenalty", "getGreatestCommonDivisor", "a", "b", "defaultFactory", "origin", "opts", "BalancedPool", "upstreams", "factory", "upstream", "upstreamOrigin", "pool", "args", "err", "client", "p", "dispatcher", "counter", "maxWeightIndex", "require_dispatcher_weakref", "__commonJSMin", "exports", "module", "kConnected", "kSize", "CompatWeakRef", "value", "CompatFinalizer", "finalizer", "dispatcher", "key", "require_agent", "__commonJSMin", "exports", "module", "InvalidArgumentError", "kClients", "kRunning", "kClose", "kDestroy", "kDispatch", "kInterceptors", "DispatcherBase", "Pool", "Client", "util", "createRedirectInterceptor", "WeakRef", "FinalizationRegistry", "kOnConnect", "kOnDisconnect", "kOnConnectionError", "kMaxRedirections", "kOnDrain", "kFactory", "kFinalizer", "kOptions", "defaultFactory", "origin", "opts", "Agent", "factory", "maxRedirections", "connect", "options", "key", "ref", "agent", "targets", "err", "ret", "client", "handler", "dispatcher", "closePromises", "destroyPromises", "require_readable", "__commonJSMin", "exports", "module", "assert", "Readable", "RequestAbortedError", "NotSupportedError", "InvalidArgumentError", "util", "ReadableStreamFrom", "toUSVString", "Blob", "kConsume", "kReading", "kBody", "kAbort", "kContentType", "noop", "resume", "abort", "contentType", "highWaterMark", "err", "ev", "args", "ret", "chunk", "consumePush", "consume", "opts", "limit", "signal", "resolve", "reject", "signalListenerCleanup", "isLocked", "self", "isUnusable", "stream", "type", "consumeFinish", "consumeStart", "state", "consumeEnd", "body", "length", "dst", "pos", "buf", "require_util", "__commonJSMin", "exports", "module", "assert", "ResponseStatusCodeError", "toUSVString", "getResolveErrorBodyCallback", "callback", "body", "contentType", "statusCode", "statusMessage", "headers", "chunks", "limit", "chunk", "payload", "require_abort_signal", "__commonJSMin", "exports", "module", "addAbortListener", "RequestAbortedError", "kListener", "kSignal", "abort", "self", "addSignal", "signal", "removeSignal", "require_api_request", "__commonJSMin", "exports", "module", "Readable", "InvalidArgumentError", "RequestAbortedError", "util", "getResolveErrorBodyCallback", "AsyncResource", "addSignal", "removeSignal", "RequestHandler", "opts", "callback", "signal", "method", "opaque", "body", "onInfo", "responseHeaders", "throwOnError", "highWaterMark", "err", "abort", "context", "statusCode", "rawHeaders", "resume", "statusMessage", "headers", "contentType", "chunk", "res", "trailers", "request", "resolve", "reject", "data", "require_api_stream", "__commonJSMin", "exports", "module", "finished", "PassThrough", "InvalidArgumentError", "InvalidReturnValueError", "RequestAbortedError", "util", "getResolveErrorBodyCallback", "AsyncResource", "addSignal", "removeSignal", "StreamHandler", "opts", "factory", "callback", "signal", "method", "opaque", "body", "onInfo", "responseHeaders", "throwOnError", "err", "abort", "context", "statusCode", "rawHeaders", "resume", "statusMessage", "headers", "res", "contentType", "trailers", "chunk", "stream", "resolve", "reject", "data", "require_api_pipeline", "__commonJSMin", "exports", "module", "Readable", "Duplex", "PassThrough", "InvalidArgumentError", "InvalidReturnValueError", "RequestAbortedError", "util", "AsyncResource", "addSignal", "removeSignal", "assert", "kResume", "PipelineRequest", "resume", "err", "callback", "PipelineResponse", "PipelineHandler", "opts", "handler", "signal", "method", "opaque", "onInfo", "responseHeaders", "body", "chunk", "encoding", "req", "res", "ret", "abort", "context", "statusCode", "rawHeaders", "headers", "trailers", "pipeline", "pipelineHandler", "require_api_upgrade", "__commonJSMin", "exports", "module", "InvalidArgumentError", "RequestAbortedError", "SocketError", "AsyncResource", "util", "addSignal", "removeSignal", "assert", "UpgradeHandler", "opts", "callback", "signal", "opaque", "responseHeaders", "abort", "context", "statusCode", "rawHeaders", "socket", "headers", "err", "upgrade", "resolve", "reject", "data", "upgradeHandler", "require_api_connect", "__commonJSMin", "exports", "module", "AsyncResource", "InvalidArgumentError", "RequestAbortedError", "SocketError", "util", "addSignal", "removeSignal", "ConnectHandler", "opts", "callback", "signal", "opaque", "responseHeaders", "abort", "context", "statusCode", "rawHeaders", "socket", "headers", "err", "connect", "resolve", "reject", "data", "connectHandler", "require_api", "__commonJSMin", "exports", "module", "require_mock_errors", "__commonJSMin", "exports", "module", "UndiciError", "MockNotMatchedError", "_MockNotMatchedError", "message", "require_mock_symbols", "__commonJSMin", "exports", "module", "require_mock_utils", "__commonJSMin", "exports", "module", "MockNotMatchedError", "kDispatches", "kMockAgent", "kOriginalDispatch", "kOrigin", "kGetNetConnect", "buildURL", "nop", "STATUS_CODES", "isPromise", "matchValue", "match", "value", "lowerCaseEntries", "headers", "headerName", "headerValue", "getHeaderByName", "key", "i", "buildHeadersFromArray", "clone", "entries", "index", "matchHeaders", "mockDispatch", "matchHeaderName", "matchHeaderValue", "safeUrl", "path", "pathSegments", "qp", "matchKey", "method", "body", "pathMatch", "methodMatch", "bodyMatch", "headersMatch", "getResponseData", "data", "getMockDispatch", "mockDispatches", "basePath", "resolvedPath", "matchedMockDispatches", "consumed", "addMockDispatch", "baseData", "replyData", "newMockDispatch", "deleteMockDispatch", "dispatch", "buildKey", "opts", "query", "generateKeyValues", "keyValuePairs", "x", "getStatusText", "statusCode", "getResponse", "buffers", "handler", "trailers", "error", "delay", "persist", "timesInvoked", "times", "handleReply", "_data", "optsHeaders", "newData", "responseData", "responseHeaders", "responseTrailers", "resume", "buildMockDispatch", "agent", "origin", "originalDispatch", "netConnect", "checkNetConnect", "url", "matcher", "buildMockOptions", "mockOptions", "require_mock_interceptor", "__commonJSMin", "exports", "module", "getResponseData", "buildKey", "addMockDispatch", "kDispatches", "kDispatchKey", "kDefaultHeaders", "kDefaultTrailers", "kContentLength", "kMockDispatch", "InvalidArgumentError", "buildURL", "MockScope", "mockDispatch", "waitInMs", "repeatTimes", "MockInterceptor", "opts", "mockDispatches", "parsedURL", "statusCode", "data", "responseOptions", "responseData", "contentLength", "headers", "trailers", "replyData", "wrappedDefaultsCallback", "resolvedData", "newMockDispatch", "dispatchData", "error", "require_mock_client", "__commonJSMin", "exports", "module", "promisify", "Client", "buildMockDispatch", "kDispatches", "kMockAgent", "kClose", "kOriginalClose", "kOrigin", "kOriginalDispatch", "kConnected", "MockInterceptor", "Symbols", "InvalidArgumentError", "MockClient", "origin", "opts", "require_mock_pool", "__commonJSMin", "exports", "module", "promisify", "Pool", "buildMockDispatch", "kDispatches", "kMockAgent", "kClose", "kOriginalClose", "kOrigin", "kOriginalDispatch", "kConnected", "MockInterceptor", "Symbols", "InvalidArgumentError", "MockPool", "origin", "opts", "require_pluralizer", "__commonJSMin", "exports", "module", "singulars", "plurals", "singular", "plural", "count", "one", "keys", "noun", "require_pending_interceptors_formatter", "__commonJSMin", "exports", "module", "Transform", "Console", "disableColors", "chunk", "_enc", "cb", "pendingInterceptors", "withPrettyHeaders", "method", "path", "statusCode", "persist", "times", "timesInvoked", "origin", "require_mock_agent", "__commonJSMin", "exports", "module", "kClients", "Agent", "kAgent", "kMockAgentSet", "kMockAgentGet", "kDispatches", "kIsMockActive", "kNetConnect", "kGetNetConnect", "kOptions", "kFactory", "MockClient", "MockPool", "matchValue", "buildMockOptions", "InvalidArgumentError", "UndiciError", "Dispatcher", "Pluralizer", "PendingInterceptorsFormatter", "FakeWeakRef", "value", "MockAgent", "opts", "agent", "origin", "dispatcher", "handler", "matcher", "mockOptions", "ref", "keyMatcher", "nonExplicitRef", "nonExplicitDispatcher", "mockAgentClients", "scope", "dispatch", "pending", "pendingInterceptorsFormatter", "pluralizer", "require_proxy_agent", "__commonJSMin", "exports", "module", "kProxy", "kClose", "kDestroy", "kInterceptors", "URL", "Agent", "Pool", "DispatcherBase", "InvalidArgumentError", "RequestAbortedError", "buildConnector", "kAgent", "kClient", "kProxyHeaders", "kRequestTls", "kProxyTls", "kConnectEndpoint", "defaultProtocolPort", "protocol", "buildProxyOptions", "opts", "defaultFactory", "origin", "ProxyAgent", "clientFactory", "resolvedUrl", "port", "host", "username", "password", "connect", "callback", "requestedHost", "socket", "statusCode", "servername", "err", "handler", "headers", "buildHeaders", "throwIfProxyAuthIsSent", "headersPair", "i", "key", "require_RetryHandler", "__commonJSMin", "exports", "module", "assert", "kRetryHandlerDefaultRetry", "RequestRetryError", "isDisturbed", "parseHeaders", "parseRangeHeader", "calculateRetryAfterHeader", "retryAfter", "current", "RetryHandler", "_RetryHandler", "opts", "handlers", "retryOptions", "dispatchOpts", "retryFn", "maxRetries", "maxTimeout", "minTimeout", "timeoutFactor", "methods", "errorCodes", "statusCodes", "reason", "statusCode", "headers", "socket", "abort", "chunk", "err", "state", "cb", "code", "method", "timeout", "counter", "currentTimeout", "retryAfterHeader", "retryTimeout", "rawHeaders", "resume", "statusMessage", "contentRange", "start", "size", "end", "range", "contentLength", "rawTrailers", "onRetry", "require_global", "__commonJSMin", "exports", "module", "globalDispatcher", "InvalidArgumentError", "Agent", "getGlobalDispatcher", "setGlobalDispatcher", "agent", "require_DecoratorHandler", "__commonJSMin", "exports", "module", "handler", "args", "require_headers", "__commonJSMin", "exports", "module", "kHeadersList", "kConstruct", "kGuard", "kEnumerableProperty", "makeIterator", "isValidHeaderName", "isValidHeaderValue", "webidl", "assert", "kHeadersMap", "kHeadersSortedMap", "isHTTPWhiteSpaceCharCode", "code", "headerValueNormalize", "potentialValue", "i", "j", "fill", "headers", "object", "header", "appendHeader", "keys", "name", "value", "HeadersList", "_HeadersList", "init", "lowercaseName", "exists", "delimiter", "Headers", "_Headers", "list", "names", "a", "b", "cookies", "callbackFn", "thisArg", "key", "V", "require_response", "__commonJSMin", "exports", "module", "Headers", "HeadersList", "fill", "extractBody", "cloneBody", "mixinBody", "util", "kEnumerableProperty", "isValidReasonPhrase", "isCancelled", "isAborted", "isBlobLike", "serializeJavascriptValueToJSONString", "isErrorLike", "isomorphicEncode", "redirectStatusSet", "nullBodyStatus", "DOMException", "kState", "kHeaders", "kGuard", "kRealm", "webidl", "FormData", "getGlobalOrigin", "URLSerializer", "kHeadersList", "kConstruct", "assert", "types", "ReadableStream", "textEncoder", "Response", "_Response", "relevantRealm", "responseObject", "makeNetworkError", "data", "init", "bytes", "body", "initializeResponse", "url", "status", "parsedURL", "err", "value", "makeResponse", "bodyWithType", "extractedBody", "type", "urlList", "clonedResponse", "cloneResponse", "clonedResponseObject", "response", "filterResponse", "newResponse", "reason", "isError", "makeFilteredResponse", "state", "target", "p", "makeAppropriateNetworkError", "fetchParams", "V", "require_request", "__commonJSMin", "exports", "module", "extractBody", "mixinBody", "cloneBody", "Headers", "fillHeaders", "HeadersList", "FinalizationRegistry", "util", "isValidHTTPToken", "sameOrigin", "normalizeMethod", "makePolicyContainer", "normalizeMethodRecord", "forbiddenMethodsSet", "corsSafeListedMethodsSet", "referrerPolicy", "requestRedirect", "requestMode", "requestCredentials", "requestCache", "requestDuplex", "kEnumerableProperty", "kHeaders", "kSignal", "kState", "kGuard", "kRealm", "webidl", "getGlobalOrigin", "URLSerializer", "kHeadersList", "kConstruct", "assert", "getMaxListeners", "setMaxListeners", "getEventListeners", "defaultMaxListeners", "TransformStream", "kAbortController", "requestFinalizer", "signal", "abort", "Request", "_Request", "input", "init", "request", "fallbackMode", "baseUrl", "parsedURL", "err", "makeRequest", "origin", "window", "initHasKey", "referrer", "parsedReferrer", "mode", "method", "ac", "acRef", "headersList", "headers", "key", "val", "inputBody", "initBody", "extractedBody", "contentType", "inputOrInitBody", "finalBody", "identityTransform", "clonedRequest", "cloneRequest", "clonedRequestObject", "newRequest", "V", "require_fetch", "__commonJSMin", "exports", "module", "Response", "makeNetworkError", "makeAppropriateNetworkError", "filterResponse", "makeResponse", "Headers", "Request", "makeRequest", "zlib", "bytesMatch", "makePolicyContainer", "clonePolicyContainer", "requestBadPort", "TAOCheck", "appendRequestOriginHeader", "responseLocationURL", "requestCurrentURL", "setRequestReferrerPolicyOnRedirect", "tryUpgradeRequestToAPotentiallyTrustworthyURL", "createOpaqueTimingInfo", "appendFetchMetadata", "corsCheck", "crossOriginResourcePolicyCheck", "determineRequestsReferrer", "coarsenedSharedCurrentTime", "createDeferredPromise", "isBlobLike", "sameOrigin", "isCancelled", "isAborted", "isErrorLike", "fullyReadBody", "readableStreamClose", "isomorphicEncode", "urlIsLocal", "urlIsHttpHttpsScheme", "urlHasHttpsScheme", "kState", "kHeaders", "kGuard", "kRealm", "assert", "safelyExtractBody", "redirectStatusSet", "nullBodyStatus", "safeMethodsSet", "requestBodyHeader", "subresourceSet", "DOMException", "kHeadersList", "EE", "Readable", "pipeline", "addAbortListener", "isErrored", "isReadable", "nodeMajor", "nodeMinor", "dataURLProcessor", "serializeAMimeType", "TransformStream", "getGlobalDispatcher", "webidl", "STATUS_CODES", "GET_OR_HEAD", "resolveObjectURL", "ReadableStream", "Fetch", "dispatcher", "reason", "error", "fetch", "input", "init", "p", "requestObject", "e", "request", "abortFetch", "responseObject", "relevantRealm", "locallyAborted", "controller", "fetching", "response", "finalizeAndReportTiming", "initiatorType", "originalURL", "timingInfo", "cacheState", "markResourceTiming", "globalThis", "err", "processRequestBodyChunkLength", "processRequestEndOfBody", "processResponse", "processResponseEndOfBody", "processResponseConsumeBody", "useParallelQueue", "taskDestination", "crossOriginIsolatedCapability", "currenTime", "fetchParams", "mainFetch", "recursive", "currentURL", "schemeFetch", "httpFetch", "internalResponse", "processBodyError", "fetchFinale", "processBody", "bytes", "scheme", "blobURLEntry", "blobURLEntryObject", "bodyWithType", "body", "length", "type", "dataURLStruct", "mimeType", "finalizeResponse", "identityTransformAlgorithm", "chunk", "transformStream", "nullOrBytes", "failure", "actualResponse", "httpNetworkOrCacheFetch", "httpRedirectFetch", "locationURL", "headerName", "isAuthenticationFetch", "isNewConnectionFetch", "httpFetchParams", "httpRequest", "httpCache", "revalidatingFlag", "includeCredentials", "contentLength", "contentLengthHeaderValue", "forwardResponse", "httpNetworkFetch", "forceNewConnection", "newConnection", "requestBody", "processBodyChunk", "processEndOfBody", "status", "statusText", "headersList", "socket", "dispatch", "iterator", "pullAlgorithm", "cancelAlgorithm", "stream", "onAborted", "isFailure", "done", "value", "url", "agent", "resolve", "reject", "abort", "connection", "resume", "codings", "location", "headers", "n", "key", "val", "x", "keys", "decoders", "willFollow", "coding", "require_symbols", "__commonJSMin", "exports", "module", "require_progressevent", "__commonJSMin", "exports", "module", "webidl", "kState", "ProgressEvent", "_ProgressEvent", "type", "eventInitDict", "require_encoding", "__commonJSMin", "exports", "module", "getEncoding", "label", "require_util", "__commonJSMin", "exports", "module", "kState", "kError", "kResult", "kAborted", "kLastProgressEventFired", "ProgressEvent", "getEncoding", "DOMException", "serializeAMimeType", "parseMIMEType", "types", "StringDecoder", "btoa", "staticPropertyDescriptors", "readOperation", "fr", "blob", "type", "encodingName", "reader", "bytes", "chunkPromise", "isFirstChunk", "done", "value", "fireAProgressEvent", "result", "packageData", "error", "e", "event", "mimeType", "dataURL", "parsed", "decoder", "chunk", "encoding", "decode", "combineByteSequences", "binaryString", "ioQueue", "BOMEncoding", "BOMSniffing", "slice", "sliced", "a", "b", "c", "sequences", "size", "offset", "require_filereader", "__commonJSMin", "exports", "module", "staticPropertyDescriptors", "readOperation", "fireAProgressEvent", "kState", "kError", "kResult", "kEvents", "kAborted", "webidl", "kEnumerableProperty", "FileReader", "_FileReader", "blob", "encoding", "fn", "require_symbols", "__commonJSMin", "exports", "module", "require_util", "__commonJSMin", "exports", "module", "assert", "URLSerializer", "isValidHeaderName", "urlEquals", "A", "B", "excludeFragment", "serializedA", "serializedB", "fieldValues", "header", "values", "value", "require_cache", "__commonJSMin", "exports", "module", "kConstruct", "urlEquals", "getFieldValues", "kEnumerableProperty", "isDisturbed", "kHeadersList", "webidl", "Response", "cloneResponse", "Request", "kState", "kHeaders", "kGuard", "kRealm", "fetching", "urlIsHttpHttpsScheme", "createDeferredPromise", "readAllBytes", "assert", "getGlobalDispatcher", "Cache", "_Cache", "#relevantRequestResponseList", "request", "options", "p", "r", "responses", "requestResponse", "requestResponses", "#queryCache", "responseList", "response", "responseObject", "body", "requests", "responsePromises", "requestList", "fetchControllers", "responsePromise", "fieldValues", "fieldValue", "controller", "operations", "index", "operation", "cacheJobPromise", "errorData", "#batchCacheOperations", "e", "innerRequest", "innerResponse", "clonedResponse", "bodyReadPromise", "reader", "bytes", "promise", "requestObject", "cache", "backupCache", "addedItems", "resultList", "idx", "requestQuery", "targetStorage", "storage", "cachedRequest", "cachedResponse", "#requestMatchesCachedItem", "queryURL", "cachedURL", "requestValue", "queryValue", "cacheQueryOptionConverters", "require_cachestorage", "__commonJSMin", "exports", "module", "kConstruct", "Cache", "webidl", "kEnumerableProperty", "CacheStorage", "_CacheStorage", "#caches", "request", "options", "cacheList", "response", "cacheName", "cache", "require_constants", "__commonJSMin", "exports", "module", "require_util", "__commonJSMin", "exports", "module", "assert", "kHeadersList", "isCTLExcludingHtab", "value", "char", "code", "validateCookieName", "name", "validateCookieValue", "validateCookiePath", "path", "validateCookieDomain", "domain", "toIMFDate", "date", "days", "months", "dayName", "day", "month", "year", "hour", "minute", "second", "validateCookieMaxAge", "maxAge", "stringify", "cookie", "out", "part", "key", "kHeadersListNode", "getHeadersList", "headers", "symbol", "headersList", "require_parse", "__commonJSMin", "exports", "module", "maxNameValuePairSize", "maxAttributeValueSize", "isCTLExcludingHtab", "collectASequenceOfCodePointsFast", "assert", "parseSetCookie", "header", "nameValuePair", "unparsedAttributes", "name", "value", "position", "parseUnparsedAttributes", "cookieAttributeList", "cookieAv", "attributeName", "attributeValue", "attributeNameLowercase", "expiryTime", "charCode", "deltaSeconds", "cookieDomain", "cookiePath", "enforcement", "attributeValueLowercase", "require_cookies", "__commonJSMin", "exports", "module", "parseSetCookie", "stringify", "getHeadersList", "webidl", "Headers", "getCookies", "headers", "cookie", "out", "piece", "name", "value", "deleteCookie", "attributes", "setCookie", "getSetCookies", "cookies", "pair", "require_constants", "__commonJSMin", "exports", "module", "uid", "staticPropertyDescriptors", "states", "opcodes", "maxUnsigned16Bit", "parserStates", "emptyBuffer", "require_symbols", "__commonJSMin", "exports", "module", "require_events", "__commonJSMin", "exports", "module", "webidl", "kEnumerableProperty", "MessagePort", "MessageEvent", "_MessageEvent", "#eventInit", "type", "eventInitDict", "bubbles", "cancelable", "data", "origin", "lastEventId", "source", "ports", "CloseEvent", "_CloseEvent", "ErrorEvent", "_ErrorEvent", "eventInit", "require_util", "__commonJSMin", "exports", "module", "kReadyState", "kController", "kResponse", "kBinaryType", "kWebSocketURL", "states", "opcodes", "MessageEvent", "ErrorEvent", "isEstablished", "ws", "isClosing", "isClosed", "fireEvent", "e", "target", "eventConstructor", "eventInitDict", "event", "websocketMessageReceived", "type", "data", "dataForEvent", "failWebsocketConnection", "isValidSubprotocol", "protocol", "char", "code", "isValidStatusCode", "reason", "controller", "response", "require_connection", "__commonJSMin", "exports", "module", "diagnosticsChannel", "uid", "states", "kReadyState", "kSentClose", "kByteParser", "kReceivedClose", "fireEvent", "failWebsocketConnection", "CloseEvent", "makeRequest", "fetching", "Headers", "getGlobalDispatcher", "kHeadersList", "channels", "crypto", "establishWebSocketConnection", "url", "protocols", "ws", "onEstablish", "options", "requestURL", "request", "headersList", "keyValue", "protocol", "permessageDeflate", "response", "secWSAccept", "digest", "secExtension", "secProtocol", "onSocketData", "onSocketClose", "onSocketError", "chunk", "wasClean", "code", "reason", "result", "error", "require_frame", "__commonJSMin", "exports", "module", "maxUnsigned16Bit", "crypto", "WebsocketFrameSend", "data", "opcode", "bodyLength", "payloadLength", "offset", "buffer", "i", "require_receiver", "__commonJSMin", "exports", "module", "Writable", "diagnosticsChannel", "parserStates", "opcodes", "states", "emptyBuffer", "kReadyState", "kSentClose", "kResponse", "kReceivedClose", "isValidStatusCode", "failWebsocketConnection", "websocketMessageReceived", "WebsocketFrameSend", "channels", "ByteParser", "#buffers", "#byteOffset", "#state", "#info", "#fragments", "ws", "chunk", "_", "callback", "buffer", "payloadLength", "body", "closeFrame", "err", "frame", "upper", "lower", "fullMessage", "n", "offset", "next", "length", "onlyCode", "data", "code", "reason", "require_websocket", "__commonJSMin", "exports", "module", "webidl", "DOMException", "URLSerializer", "getGlobalOrigin", "staticPropertyDescriptors", "states", "opcodes", "emptyBuffer", "kWebSocketURL", "kReadyState", "kController", "kBinaryType", "kResponse", "kSentClose", "kByteParser", "isEstablished", "isClosing", "isValidSubprotocol", "failWebsocketConnection", "fireEvent", "establishWebSocketConnection", "WebsocketFrameSend", "ByteParser", "kEnumerableProperty", "isBlobLike", "getGlobalDispatcher", "types", "experimentalWarned", "WebSocket", "_WebSocket", "#events", "#bufferedAmount", "#protocol", "#extensions", "url", "protocols", "options", "baseURL", "urlRecord", "e", "p", "response", "#onConnectionEstablished", "code", "reason", "reasonByteLength", "frame", "err", "data", "socket", "value", "buffer", "ab", "fn", "type", "parser", "extensions", "protocol", "V", "require_undici", "__commonJSMin", "exports", "module", "Client", "Dispatcher", "errors", "Pool", "BalancedPool", "Agent", "util", "InvalidArgumentError", "api", "buildConnector", "MockClient", "MockAgent", "MockPool", "mockErrors", "ProxyAgent", "RetryHandler", "getGlobalDispatcher", "setGlobalDispatcher", "DecoratorHandler", "RedirectHandler", "createRedirectInterceptor", "hasCrypto", "makeDispatcher", "fn", "url", "opts", "handler", "path", "agent", "dispatcher", "fetchImpl", "resource", "err", "setGlobalOrigin", "getGlobalOrigin", "CacheStorage", "kConstruct", "deleteCookie", "getCookies", "getSetCookies", "setCookie", "parseMIMEType", "serializeAMimeType", "WebSocket", "require_npm_node", "__commonJSMin", "exports", "module", "undici", "realFetch", "crypto", "util", "TextEncoder", "TextDecoder", "url", "options", "base64url_1", "__importDefault", "ar_data_bundle_1", "constants_1", "tags_1", "utils_1", "utils_2", "index_1", "ar_data_base_1", "warp_isomorphic_1", "buffer_1", "exports", "DataItem", "_DataItem", "binary", "obj", "signatureTypeVal", "__awaiter", "id", "pubkey", "targetStart", "anchorStart", "tagsStart", "tagsSize", "t", "numberOfTagBytesArray", "numberOfTagBytes", "dataStart", "signer", "signature", "_b", "_a", "buffer", "item", "sigType", "numberOfTags", "Signer", "signatureData", "targetPresent", "anchorPresent", "DataItem_1", "base64url_1", "__importDefault", "utils_1", "tags_1", "createData", "data", "signer", "opts", "_owner", "_target", "target_length", "_a", "_anchor", "anchor_length", "_b", "_tags", "_d", "_c", "tags_length", "_data", "data_length", "length", "bytes", "position", "anchor_start", "tags_start", "_f", "_e", "bytesCount", "_g", "data_start", "exports", "__exportStar", "exports", "__exportStar", "exports", "VerificationError", "exports", "verification_error_1", "ExpiredError", "exports", "verification_error_1", "MalformedSignatureError", "exports", "verification_error_1", "UnacceptableSignatureError", "exports", "UnknownAlgorithmError", "exports", "verification_error_1", "UnknownKeyError", "exports", "verification_error_1", "UnsupportedAlgorithmError", "exports", "expired_error_1", "exports", "malformed_signature_error_1", "unacceptable_signature_error_1", "unknown_algorithm_error_1", "unknown_key_error_1", "unsupported_algorithm_error_1", "verification_error_1", "crypto_1", "constants_1", "errors_1", "createSigner", "key", "alg", "id", "signer", "data", "exports", "createVerifier", "verifier", "signature", "expected", "exports", "isRequest", "obj", "ByteSequence", "base64Value", "exports", "asciiRe", "tokenRe", "keyRe", "isAscii", "str", "exports", "isValidTokenStr", "isValidKeyStr", "isInnerList", "input", "isByteSequence", "util_1", "Token", "value", "exports", "types_1", "token_1", "util_1", "SerializeError", "exports", "serializeList", "input", "value", "serializeInnerList", "serializeItem", "serializeDictionary", "key", "out", "serializeKey", "serializeParameters", "serializeBareItem", "serializeInteger", "serializeDecimal", "serializeString", "serializeToken", "serializeByteSequence", "serializeBoolean", "v", "types_1", "token_1", "util_1", "parseDictionary", "input", "Parser", "exports", "parseList", "parseItem", "ParseError", "position", "message", "dictionary", "thisKey", "member", "members", "standaloneItem", "result", "innerList", "nextChar", "char", "parameters", "key", "value", "type", "sign", "inputNumber", "isDigit", "outputString", "endPos", "b64Content", "_a", "c", "isDigitRegex", "__exportStar", "exports", "token_1", "structured_headers_1", "Dictionary", "input", "key", "value", "exports", "List", "Item", "parseHeader", "header", "classes", "i", "quoteString", "name", "rest", "structured_headers_1", "structured_header_1", "types_1", "errors_1", "deriveComponent", "component", "params", "message", "req", "context", "port", "protocol", "hostname", "authority", "pathname", "search", "searchParams", "name", "value", "exports", "extractHeader", "header", "headers", "headerTuple", "values", "parsed", "key", "val", "normaliseParams", "map", "createSignatureBase", "config", "res", "base", "fieldName", "field", "fieldParams", "lcFieldName", "_a", "formatSignatureBase", "quotedKey", "createSigningParameters", "now", "paramName", "created", "_c", "_b", "_d", "_e", "expires", "_g", "_f", "_j", "_h", "kid", "_m", "_l", "_k", "alg", "_q", "_p", "_o", "_r", "_s", "augmentHeaders", "signature", "signatureInput", "signatureHeaderName", "signatureInputHeaderName", "signatureHeader", "inputHeader", "signatureName", "count", "signMessage", "signingParameters", "signatureBase", "item", "verifyMessage", "signatures", "signatureInputs", "accum", "tolerance", "notAfter", "maxAge", "requiredParams", "requiredFields", "prev", "input", "signatureParams", "result", "e", "param", "fields", "signingBase", "structured_headers_1", "types_1", "structured_header_1", "mapCavageAlgorithm", "alg", "mapHttpbisAlgorithm", "deriveComponent", "component", "message", "componentName", "params", "pathname", "search", "exports", "extractHeader", "header", "headers", "headerName", "lcHeaderName", "headerTuple", "name", "val", "formatSignatureBase", "base", "accum", "key", "value", "keyName", "lcKey", "createSigningParameters", "config", "now", "_a", "paramName", "created", "_c", "_b", "_d", "_e", "expires", "_g", "_f", "_j", "_h", "kid", "_m", "_l", "_k", "_q", "_p", "_o", "_r", "_s", "createSignatureBase", "fields", "signingParameters", "fieldName", "field", "lcFieldName", "signMessage", "signatureBase", "signature", "headerNames", "verifyMessage", "parsedHeader", "parts", "values", "baseParts", "tolerance", "notAfter", "maxAge", "requiredParams", "requiredFields", "param", "__exportStar", "exports", "__importStar", "require_asciichart", "__commonJSMin", "exports", "colored", "char", "color", "series", "cfg", "min", "max", "j", "i", "defaultSymbols", "range", "offset", "padding", "height", "colors", "ratio", "min2", "max2", "rows", "width", "symbols", "format", "result", "y", "label", "currentColor", "y0", "x", "y1", "from", "to", "import_minimist", "ENDPOINTS", "CLI_ARGS", "import_cli_color", "import_cli_spinner", "CliSpinner", "message", "spinnerString", "clc", "clear", "log", "status", "formattedDate", "getTagValue", "list", "name", "i", "formatCount", "count", "parts", "index", "import_cli_color", "import_figlet", "command", "CLI_ARGS", "args", "clc", "figlet", "formattedArgs", "arg", "spacer", "count", "option", "logOptions", "options", "indent", "label", "help_default", "import_cli_color", "import_fs", "round", "v", "lim", "l", "h", "p2b", "n2b", "v", "lim", "round", "b2n", "n2p", "map$1", "hex", "h1", "b", "h2", "eq", "isShort", "hexParse", "str", "len", "ret", "alpha", "a", "f", "hexString", "HUE_RE", "hsl2rgbn", "h", "s", "l", "n", "k", "hsv2rgbn", "hwb2rgbn", "w", "rgb", "hueValue", "r", "g", "d", "max", "rgb2hsl", "min", "calln", "c", "hsl2rgb", "hwb2rgb", "hsv2rgb", "hue", "hueParse", "m", "p2b", "p1", "p2", "rotate", "deg", "hslString", "map", "names$1", "unpack", "unpacked", "keys", "tkeys", "i", "j", "ok", "nk", "names", "nameParse", "RGB_RE", "rgbParse", "rgbString", "to", "from", "interpolate", "rgb1", "rgb2", "t", "modHSL", "ratio", "tmp", "clone", "proto", "fromObject", "input", "functionParse", "Color", "_Color", "type", "obj", "color", "weight", "c1", "c2", "w2", "p", "w1", "val", "noop", "uid", "id", "isNullOrUndef", "value", "isArray", "Array", "type", "Object", "prototype", "toString", "call", "slice", "isObject", "isNumberFinite", "Number", "isFinite", "finiteOrDefault", "defaultValue", "valueOrDefault", "toPercentage", "dimension", "endsWith", "parseFloat", "toDimension", "callback", "fn", "args", "thisArg", "apply", "each", "loopable", "reverse", "i", "len", "keys", "length", "_elementsEqual", "a0", "a1", "ilen", "v0", "v1", "datasetIndex", "index", "clone", "source", "map", "target", "create", "klen", "k", "isValidKey", "key", "indexOf", "_merger", "options", "tval", "sval", "merge", "sources", "merger", "current", "mergeIf", "_mergerIf", "hasOwnProperty", "keyResolvers", "v", "x", "o", "y", "_splitKey", "key", "parts", "split", "keys", "tmp", "part", "endsWith", "slice", "push", "_getKeyResolver", "obj", "k", "resolveObjectKey", "_capitalize", "str", "charAt", "toUpperCase", "defined", "value", "isFunction", "setsEqual", "a", "b", "size", "item", "has", "_isClickEvent", "e", "type", "PI", "Math", "TAU", "PITAU", "INFINITY", "Number", "POSITIVE_INFINITY", "RAD_PER_DEG", "HALF_PI", "QUARTER_PI", "TWO_THIRDS_PI", "log10", "sign", "almostEquals", "epsilon", "abs", "niceNum", "range", "roundedRange", "round", "niceRange", "pow", "floor", "fraction", "_factorize", "result", "sqrt", "i", "sort", "pop", "isNumber", "n", "isNaN", "parseFloat", "isFinite", "almostWhole", "rounded", "_setMinAndMaxByKey", "array", "target", "property", "ilen", "length", "min", "max", "toRadians", "degrees", "toDegrees", "radians", "_decimalPlaces", "isFiniteNumber", "p", "getAngleFromPoint", "centrePoint", "anglePoint", "distanceFromXCenter", "distanceFromYCenter", "radialDistanceFromCenter", "angle", "atan2", "distance", "distanceBetweenPoints", "pt1", "pt2", "_angleDiff", "_normalizeAngle", "_angleBetween", "start", "end", "sameAngleIsFullCircle", "s", "angleToStart", "angleToEnd", "startToAngle", "endToAngle", "_limitValue", "_int16Range", "_isBetween", "_lookup", "table", "cmp", "index", "hi", "lo", "mid", "_lookupByKey", "last", "ti", "_rlookupByKey", "_filterBetween", "values", "arrayEvents", "listenArrayEvents", "listener", "_chartjs", "listeners", "Object", "defineProperty", "configurable", "enumerable", "forEach", "method", "base", "args", "res", "apply", "object", "unlistenArrayEvents", "stub", "indexOf", "splice", "_arrayUnique", "items", "set", "Set", "Array", "from", "requestAnimFrame", "window", "callback", "requestAnimationFrame", "throttled", "fn", "thisArg", "argsToUse", "ticking", "args", "call", "apply", "debounce", "delay", "timeout", "clearTimeout", "setTimeout", "_toLeftRightCenter", "align", "_alignStartEnd", "start", "end", "_textX", "left", "right", "rtl", "_getStartAndCountOfVisiblePoints", "meta", "points", "animationsDisabled", "pointCount", "length", "count", "_sorted", "iScale", "_parsed", "axis", "min", "max", "minDefined", "maxDefined", "getUserBounds", "_limitValue", "Math", "_lookupByKey", "lo", "getPixelForValue", "hi", "_scaleRangesChanged", "xScale", "yScale", "_scaleRanges", "newRanges", "xmin", "xmax", "ymin", "ymax", "changed", "Object", "assign", "atEdge", "t", "elasticIn", "s", "p", "pow", "sin", "TAU", "elasticOut", "effects", "linear", "easeInQuad", "easeOutQuad", "easeInOutQuad", "easeInCubic", "easeOutCubic", "easeInOutCubic", "easeInQuart", "easeOutQuart", "easeInOutQuart", "easeInQuint", "easeOutQuint", "easeInOutQuint", "easeInSine", "cos", "HALF_PI", "easeOutSine", "easeInOutSine", "PI", "easeInExpo", "easeOutExpo", "easeInOutExpo", "easeInCirc", "sqrt", "easeOutCirc", "easeInOutCirc", "easeInElastic", "easeOutElastic", "easeInOutElastic", "easeInBack", "easeOutBack", "easeInOutBack", "easeInBounce", "easeOutBounce", "d", "m", "easeInOutBounce", "isPatternOrGradient", "value", "type", "toString", "color", "Color", "getHoverColor", "saturate", "darken", "hexString", "numbers", "colors", "applyAnimationsDefaults", "defaults", "set", "undefined", "duration", "easing", "from", "loop", "to", "describe", "_fallback", "_indexable", "_scriptable", "name", "properties", "active", "animation", "resize", "show", "animations", "visible", "hide", "v", "applyLayoutsDefaults", "autoPadding", "padding", "top", "bottom", "intlCache", "Map", "getNumberFormat", "locale", "options", "cacheKey", "JSON", "stringify", "formatter", "get", "Intl", "NumberFormat", "formatNumber", "num", "format", "formatters", "values", "isArray", "numeric", "tickValue", "index", "ticks", "chart", "notation", "delta", "maxTick", "abs", "calculateDelta", "logDelta", "log10", "numDecimal", "isNaN", "floor", "minimumFractionDigits", "maximumFractionDigits", "logarithmic", "remain", "significand", "includes", "Ticks", "applyScaleDefaults", "display", "offset", "reverse", "beginAtZero", "bounds", "clip", "grace", "grid", "lineWidth", "drawOnChartArea", "drawTicks", "tickLength", "tickWidth", "_ctx", "tickColor", "border", "dash", "dashOffset", "width", "title", "text", "minRotation", "maxRotation", "mirror", "textStrokeWidth", "textStrokeColor", "autoSkip", "autoSkipPadding", "labelOffset", "minor", "major", "crossAlign", "showLabelBackdrop", "backdropColor", "backdropPadding", "route", "startsWith", "overrides", "create", "descriptors", "getScope", "node", "key", "keys", "split", "i", "n", "k", "root", "scope", "merge", "Defaults", "constructor", "_descriptors", "_appliers", "backgroundColor", "borderColor", "datasets", "devicePixelRatio", "context", "platform", "getDevicePixelRatio", "elements", "events", "font", "family", "size", "style", "lineHeight", "weight", "hover", "hoverBackgroundColor", "ctx", "hoverBorderColor", "hoverColor", "indexAxis", "interaction", "mode", "intersect", "includeInvisible", "maintainAspectRatio", "onHover", "onClick", "parsing", "plugins", "responsive", "scale", "scales", "showLine", "drawActiveElementsOnTop", "override", "targetScope", "targetName", "scopeObject", "targetScopeObject", "privateName", "defineProperties", "writable", "enumerable", "local", "target", "isObject", "valueOrDefault", "appliers", "forEach", "toFontString", "isNullOrUndef", "_measureText", "data", "gc", "longest", "string", "textWidth", "measureText", "push", "_longestText", "arrayOfThings", "cache", "garbageCollect", "save", "ilen", "j", "jlen", "thing", "nestedThing", "restore", "gcLen", "splice", "_alignPixel", "pixel", "currentDevicePixelRatio", "halfWidth", "round", "clearCanvas", "canvas", "getContext", "resetTransform", "clearRect", "height", "drawPoint", "x", "y", "drawPointLegend", "w", "xOffset", "yOffset", "cornerRadius", "xOffsetW", "yOffsetW", "pointStyle", "rotation", "radius", "rad", "RAD_PER_DEG", "translate", "rotate", "drawImage", "beginPath", "ellipse", "arc", "closePath", "moveTo", "TWO_THIRDS_PI", "lineTo", "QUARTER_PI", "SQRT1_2", "rect", "fill", "borderWidth", "stroke", "_isPointInArea", "point", "area", "margin", "clipArea", "unclipArea", "_steppedLineTo", "previous", "flip", "midpoint", "_bezierCurveTo", "bezierCurveTo", "cp1x", "cp2x", "cp1y", "cp2y", "setRenderOpts", "opts", "translation", "fillStyle", "textAlign", "textBaseline", "decorateText", "line", "strikethrough", "underline", "metrics", "actualBoundingBoxLeft", "actualBoundingBoxRight", "actualBoundingBoxAscent", "actualBoundingBoxDescent", "yDecoration", "strokeStyle", "decorationWidth", "drawBackdrop", "oldColor", "fillRect", "renderText", "lines", "strokeWidth", "strokeColor", "backdrop", "strokeText", "maxWidth", "fillText", "Number", "addRoundedRectPath", "h", "topLeft", "bottomLeft", "bottomRight", "topRight", "LINE_HEIGHT", "FONT_STYLE", "toLineHeight", "matches", "match", "numberOrZero", "_readValueToProps", "props", "ret", "objProps", "read", "prop", "toTRBL", "toTRBLCorners", "toPadding", "obj", "toFont", "fallback", "parseInt", "console", "warn", "resolve", "inputs", "info", "cacheable", "_addGrace", "minmax", "change", "toDimension", "keepZero", "add", "createContext", "parentContext", "_createResolver", "scopes", "prefixes", "rootScopes", "getTarget", "finalRootScopes", "_resolve", "Symbol", "toStringTag", "_cacheable", "_scopes", "_rootScopes", "_getTarget", "Proxy", "deleteProperty", "_keys", "_cached", "_resolveWithPrefixes", "getOwnPropertyDescriptor", "Reflect", "getPrototypeOf", "has", "getKeysFromAllScopes", "ownKeys", "storage", "_storage", "_attachContext", "proxy", "subProxy", "descriptorDefaults", "_proxy", "_context", "_subProxy", "_stack", "Set", "setContext", "receiver", "_resolveWithContext", "allKeys", "configurable", "scriptable", "indexable", "_allKeys", "isScriptable", "isFunction", "isIndexable", "readKey", "prefix", "_capitalize", "needsSubResolver", "prototype", "hasOwnProperty", "_resolveScriptable", "_resolveArray", "getValue", "Error", "Array", "join", "delete", "createSubResolver", "arr", "filter", "item", "resolver", "resolveFallback", "parent", "resolveObjectKey", "addScopes", "parentScopes", "parentFallback", "allScopes", "addScopesFromKey", "subGetTarget", "resolveKeysFromAllScopes", "_parseObjectDataRadialScale", "_parsing", "parsed", "r", "parse", "EPSILON", "getPoint", "skip", "getValueAxis", "splineCurve", "firstPoint", "middlePoint", "afterPoint", "current", "next", "d01", "distanceBetweenPoints", "d12", "s01", "s12", "fa", "fb", "monotoneAdjust", "deltaK", "mK", "pointsLen", "alphaK", "betaK", "tauK", "squaredMagnitude", "pointCurrent", "pointAfter", "almostEquals", "monotoneCompute", "valueAxis", "pointBefore", "iPixel", "vPixel", "splineCurveMonotone", "slopeDelta", "sign", "capControlPoint", "pt", "capBezierPoints", "inArea", "inAreaPrev", "inAreaNext", "_updateBezierControlPoints", "controlPoints", "spanGaps", "cubicInterpolationMode", "prev", "tension", "_isDomSupported", "document", "_getParentNode", "domNode", "parentNode", "host", "parseMaxStyle", "styleValue", "parentProperty", "valueInPixels", "indexOf", "getComputedStyle", "element", "ownerDocument", "defaultView", "getStyle", "el", "property", "getPropertyValue", "positions", "getPositionedStyle", "styles", "suffix", "result", "pos", "parseFloat", "useOffsetPos", "shadowRoot", "getCanvasPosition", "e", "touches", "source", "offsetX", "offsetY", "box", "getBoundingClientRect", "clientX", "clientY", "getRelativePosition", "event", "borderBox", "boxSizing", "paddings", "borders", "getContainerSize", "maxHeight", "container", "clientWidth", "clientHeight", "containerStyle", "containerBorder", "containerPadding", "INFINITY", "round1", "getMaximumSize", "bbWidth", "bbHeight", "aspectRatio", "margins", "containerSize", "retinaScale", "forceRatio", "forceStyle", "pixelRatio", "deviceHeight", "deviceWidth", "setTransform", "supportsEventListenerOptions", "passiveSupported", "passive", "addEventListener", "removeEventListener", "readUsedSize", "_pointInLine", "p1", "p2", "_steppedInterpolation", "_bezierInterpolation", "cp1", "cp2", "a", "b", "c", "getRightToLeftAdapter", "rectX", "setWidth", "xPlus", "leftForLtr", "itemWidth", "getLeftToRightAdapter", "_itemWidth", "getRtlAdapter", "overrideTextDirection", "direction", "original", "getPropertyPriority", "setProperty", "prevTextDirection", "restoreTextDirection", "propertyFn", "between", "_angleBetween", "compare", "_angleDiff", "normalize", "_normalizeAngle", "_isBetween", "normalizeSegment", "getSegment", "segment", "startBound", "endBound", "_boundSegment", "inside", "subStart", "prevValue", "startIsBefore", "endIsBefore", "shouldStart", "shouldStop", "_boundSegments", "segments", "sub", "findStartAndEnd", "solidSegments", "last", "cur", "stop", "_computeSegments", "segmentOptions", "_loop", "splitByStyles", "completeLoop", "_fullLoop", "doSplitByStyles", "chartContext", "_chart", "baseStyle", "readStyle", "_datasetIndex", "datasetIndex", "prevStyle", "addStyle", "l", "st", "dir", "p0", "p0DataIndex", "p1DataIndex", "styleChanged", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "replacer", "Animator", "constructor", "_request", "_charts", "Map", "_running", "_lastDate", "undefined", "_notify", "chart", "anims", "date", "type", "callbacks", "listeners", "numSteps", "duration", "forEach", "fn", "initial", "currentStep", "Math", "min", "start", "_refresh", "requestAnimFrame", "call", "window", "_update", "Date", "now", "remaining", "running", "items", "length", "i", "draw", "item", "_active", "_total", "tick", "pop", "_getAnims", "charts", "get", "complete", "progress", "set", "listen", "event", "cb", "push", "add", "has", "reduce", "acc", "cur", "max", "_duration", "stop", "cancel", "remove", "delete", "animator", "transparent", "interpolators", "boolean", "from", "to", "factor", "color", "c0", "helpersColor", "c1", "valid", "mix", "hexString", "number", "Animation", "cfg", "target", "prop", "currentValue", "resolve", "_fn", "_easing", "effects", "easing", "linear", "_start", "floor", "delay", "_loop", "loop", "_target", "_prop", "_from", "_to", "_promises", "active", "update", "elapsed", "remain", "wait", "promises", "Promise", "res", "rej", "resolved", "method", "Animations", "config", "_chart", "_properties", "configure", "isObject", "animationOptions", "Object", "keys", "defaults", "animation", "animatedProps", "getOwnPropertyNames", "key", "option", "isArray", "properties", "_animateOptions", "values", "newOptions", "options", "resolveTargetOptions", "animations", "_createAnimations", "$shared", "awaitAll", "$animations", "then", "props", "charAt", "value", "size", "assign", "anim", "all", "scaleClip", "scale", "allowedOverflow", "opts", "reverse", "end", "defaultClip", "xScale", "yScale", "x", "y", "top", "right", "bottom", "left", "toClip", "t", "r", "b", "l", "disabled", "getSortedDatasetIndices", "filterVisible", "metasets", "_getSortedDatasetMetas", "ilen", "index", "applyStack", "stack", "dsIndex", "singleMode", "mode", "datasetIndex", "otherValue", "found", "isFinite", "sign", "convertObjectDataToArray", "data", "meta", "iScale", "vScale", "iAxisKey", "axis", "vAxisKey", "adata", "Array", "isStacked", "stacked", "getStackKey", "indexScale", "valueScale", "id", "getUserBounds", "minDefined", "maxDefined", "Number", "NEGATIVE_INFINITY", "POSITIVE_INFINITY", "getOrCreateStack", "stacks", "stackKey", "indexValue", "subStack", "getLastIndexInStack", "positive", "getMatchingVisibleMetas", "updateStacks", "controller", "parsed", "_cachedMeta", "_stacks", "iAxis", "vAxis", "itemStacks", "_top", "_bottom", "visualValues", "_visualValues", "getFirstScaleId", "scales", "filter", "shift", "createDatasetContext", "parent", "createContext", "dataset", "createDataContext", "element", "dataIndex", "raw", "clearStacks", "_parsed", "isDirectUpdateMode", "cloneIfNotShared", "cached", "shared", "createStack", "canStack", "hidden", "_stacked", "DatasetController", "datasetElementType", "dataElementType", "_ctx", "ctx", "_cachedDataOpts", "getMeta", "_type", "_parsing", "_data", "_objectData", "_sharedOptions", "_drawStart", "_drawCount", "enableOptionSharing", "supportsDecimation", "$context", "_syncList", "initialize", "linkScales", "addElements", "fill", "isPluginEnabled", "console", "warn", "updateIndex", "getDataset", "chooseId", "xid", "xAxisID", "valueOrDefault", "yid", "yAxisID", "rid", "rAxisID", "indexAxis", "iid", "iAxisID", "vid", "vAxisID", "getScaleForId", "rScale", "datasets", "getDatasetMeta", "scaleID", "_getOtherScale", "reset", "_destroy", "unlistenArrayEvents", "_dataCheck", "isExtensible", "listenArrayEvents", "buildOrUpdateElements", "resetNewElements", "stackChanged", "oldStacked", "_resyncElements", "scopeKeys", "datasetScopeKeys", "scopes", "getOptionScopes", "createResolver", "getContext", "parsing", "parse", "count", "sorted", "_sorted", "prev", "parseArrayData", "parseObjectData", "parsePrimitiveData", "isNotInOrderComparedToPrev", "labels", "getLabels", "singleScale", "xAxisKey", "yAxisKey", "resolveObjectKey", "getParsed", "getDataElement", "updateRangeFromParsed", "range", "parsedValue", "NaN", "getMinMax", "otherScale", "otherMin", "otherMax", "_skip", "getAllParsedValues", "getMaxOverflow", "getLabelAndValue", "label", "getLabelForValue", "_clip", "clip", "elements", "area", "chartArea", "drawActiveElementsOnTop", "getStyle", "resolveDatasetElementOptions", "resolveDataElementOptions", "context", "_resolveElementOptions", "elementType", "cache", "cacheKey", "sharing", "defined", "datasetElementScopeKeys", "prefixes", "names", "resolveNamedOptions", "freeze", "_resolveAnimations", "transition", "datasetAnimationScopeKeys", "_cacheable", "getSharedOptions", "includeOptions", "sharedOptions", "_animationsDisabled", "_getSharedOptions", "firstOpts", "previouslySharedOptions", "updateSharedOptions", "updateElement", "_setStyle", "removeHoverStyle", "setHoverStyle", "_removeDatasetHoverStyle", "_setDatasetHoverStyle", "arg1", "arg2", "numMeta", "numData", "_insertElements", "_removeElements", "move", "arr", "updateElements", "removed", "splice", "_sync", "args", "_dataChanges", "_onDataPush", "arguments", "_onDataPop", "_onDataShift", "_onDataSplice", "newCount", "_onDataUnshift", "getAllScaleValues", "_cache", "$bar", "visibleMetas", "concat", "_arrayUnique", "sort", "a", "computeMinSampleSize", "_length", "curr", "updateMinAndPrev", "abs", "getPixelForValue", "ticks", "getPixelForTick", "computeFitCategoryTraits", "ruler", "stackCount", "thickness", "barThickness", "ratio", "isNullOrUndef", "categoryPercentage", "barPercentage", "chunk", "pixels", "computeFlexCategoryTraits", "next", "percent", "parseFloatBar", "entry", "startValue", "endValue", "barStart", "barEnd", "_custom", "parseValue", "parseArrayOrPrimitive", "isFloatBar", "custom", "barSign", "actualBase", "isHorizontal", "borderProps", "horizontal", "base", "setBorderSkipped", "edge", "borderSkipped", "enableBorderRadius", "parseEdge", "swap", "startEnd", "orig", "v1", "v2", "v", "setInflateAmount", "inflateAmount", "BarController", "grouped", "numbers", "overrides", "_index_", "offset", "grid", "_value_", "beginAtZero", "obj", "bars", "getBasePixel", "_getRuler", "vpixels", "head", "_calculateBarValuePixels", "ipixels", "_calculateBarIndexPixels", "center", "height", "width", "_getStacks", "last", "currentParsed", "iScaleValue", "skipNull", "find", "val", "isNaN", "indexOf", "_getStackCount", "_getStackIndex", "name", "_startPixel", "_endPixel", "baseValue", "minBarLength", "floating", "getDataVisibility", "startPixel", "getPixelForDecimal", "endPixel", "getValueForPixel", "halfGrid", "getLineWidthForValue", "maxBarThickness", "Infinity", "stackIndex", "rects", "BubbleController", "radius", "points", "point", "iPixel", "vPixel", "skip", "getRatioAndOffset", "rotation", "circumference", "cutout", "ratioX", "ratioY", "offsetX", "offsetY", "TAU", "startAngle", "endAngle", "startX", "cos", "startY", "sin", "endX", "endY", "calcMax", "angle", "_angleBetween", "calcMin", "maxX", "maxY", "HALF_PI", "minX", "PI", "minY", "DoughnutController", "animateRotate", "animateScale", "spacing", "descriptors", "_scriptable", "_indexable", "startsWith", "aspectRatio", "plugins", "legend", "generateLabels", "pointStyle", "map", "style", "text", "fillStyle", "backgroundColor", "strokeStyle", "borderColor", "fontColor", "lineWidth", "borderWidth", "onClick", "e", "legendItem", "toggleDataVisibility", "innerRadius", "outerRadius", "getter", "_getRotation", "toRadians", "_getCircumference", "_getRotationExtents", "isDatasetVisible", "arcs", "getMaxBorderWidth", "getMaxOffset", "maxSize", "toPercentage", "chartWeight", "_getRingWeight", "maxWidth", "maxHeight", "maxRadius", "toDimension", "radiusLength", "_getVisibleDatasetWeightTotal", "total", "calculateTotal", "_getRingWeightOffset", "_circumference", "calculateCircumference", "animationOpts", "centerX", "centerY", "arc", "metaData", "formatNumber", "locale", "borderAlign", "hoverBorderWidth", "hoverOffset", "ringWeightOffset", "weight", "LineController", "showLine", "spanGaps", "line", "_dataset", "animationsDisabled", "_getStartAndCountOfVisiblePoints", "_scaleRangesChanged", "_datasetIndex", "_decimated", "segment", "animated", "maxGapLength", "isNumber", "directUpdate", "pointsCount", "prevParsed", "nullData", "border", "firstPoint", "lastPoint", "updateControlPoints", "PolarAreaController", "angleLines", "display", "circular", "pointLabels", "_parseObjectDataRadialScale", "bind", "_updateRadius", "minSize", "cutoutPercentage", "getVisibleDatasetCount", "xCenter", "yCenter", "datasetStartAngle", "getIndexAngle", "defaultAngle", "countVisibleElements", "_computeAngle", "getDistanceFromCenterForValue", "PieController", "RadarController", "_fullLoop", "pointPosition", "getPointPositionForValue", "ScatterController", "interaction", "registry", "getElement", "abstract", "Error", "DateAdapterBase", "override", "members", "prototype", "init", "formats", "format", "diff", "startOf", "endOf", "adapters", "_date", "binarySearch", "metaset", "intersect", "lookupMethod", "_reversePixels", "_rlookupByKey", "_lookupByKey", "el", "getRange", "lo", "hi", "evaluateInteractionItems", "position", "handler", "getSortedVisibleDatasetMetas", "j", "getDistanceMetricForAxis", "useX", "useY", "pt1", "pt2", "deltaX", "deltaY", "sqrt", "pow", "getIntersectItems", "useFinalPosition", "includeInvisible", "isPointInArea", "_isPointInArea", "inRange", "getNearestRadialItems", "evaluationFunc", "getProps", "getAngleFromPoint", "getNearestCartesianItems", "distanceMetric", "minDistance", "getCenterPoint", "distance", "getNearestItems", "getAxisItems", "rangeMethod", "intersectsItem", "Interaction", "modes", "getRelativePosition", "nearest", "STATIC_POSITIONS", "filterByPosition", "array", "pos", "filterDynamicPositionByAxis", "box", "sortByWeight", "v0", "wrapBoxes", "boxes", "layoutBoxes", "stackWeight", "buildStacks", "layouts", "wrap", "includes", "_stack", "placed", "setLayoutDims", "params", "vBoxMaxWidth", "hBoxMaxHeight", "layout", "fullSize", "availableWidth", "availableHeight", "buildLayoutBoxes", "centerHorizontal", "centerVertical", "leftAndTop", "rightAndBottom", "vertical", "getCombinedMax", "maxPadding", "updateMaxPadding", "boxPadding", "updateDims", "getPadding", "newWidth", "outerWidth", "newHeight", "outerHeight", "widthChanged", "w", "heightChanged", "h", "same", "other", "handleMaxPadding", "updatePos", "change", "getMargins", "marginForPositions", "positions", "margin", "fitBoxes", "refitBoxes", "refit", "changed", "setBoxDims", "placeBoxes", "userPadding", "padding", "addBox", "_layers", "z", "removeBox", "layoutItem", "minPadding", "toPadding", "verticalBoxes", "horizontalBoxes", "each", "beforeLayout", "visibleVerticalBoxCount", "BasePlatform", "acquireContext", "canvas", "releaseContext", "addEventListener", "listener", "removeEventListener", "getDevicePixelRatio", "getMaximumSize", "isAttached", "updateConfig", "BasicPlatform", "EXPANDO_KEY", "EVENT_TYPES", "touchstart", "touchmove", "touchend", "pointerenter", "pointerdown", "pointermove", "pointerup", "pointerleave", "pointerout", "isNullOrEmpty", "initCanvas", "renderHeight", "getAttribute", "renderWidth", "boxSizing", "displayWidth", "readUsedSize", "displayHeight", "eventListenerOptions", "supportsEventListenerOptions", "passive", "addListener", "node", "removeListener", "fromNativeEvent", "native", "nodeListContains", "nodeList", "contains", "createAttachObserver", "observer", "MutationObserver", "entries", "trigger", "addedNodes", "removedNodes", "observe", "document", "childList", "subtree", "createDetachObserver", "drpListeningCharts", "oldDevicePixelRatio", "onWindowResize", "dpr", "devicePixelRatio", "resize", "currentDevicePixelRatio", "listenDevicePixelRatioChanges", "unlistenDevicePixelRatioChanges", "createResizeObserver", "container", "_getParentNode", "throttled", "clientWidth", "ResizeObserver", "contentRect", "releaseObserver", "disconnect", "createProxyAndListen", "proxy", "DomPlatform", "removeAttribute", "setAttribute", "proxies", "$proxies", "attach", "detach", "isConnected", "_detectPlatform", "_isDomSupported", "OffscreenCanvas", "Element", "defaultRoutes", "tooltipPosition", "hasValue", "final", "ret", "autoSkip", "tickOpts", "determinedMaxTicks", "determineMaxTicks", "ticksLimit", "maxTicksLimit", "majorIndices", "major", "enabled", "getMajorIndices", "numMajorIndices", "first", "newTicks", "skipMajors", "calculateSpacing", "avgMajorSpacing", "round", "tickLength", "_tickSize", "maxScale", "maxChart", "_maxLength", "evenMajorSpacing", "getEvenSpacing", "factors", "_factorize", "result", "ceil", "majorStart", "majorEnd", "len", "reverseAlign", "align", "offsetFromEdge", "getTicksLimit", "ticksLength", "sample", "numItems", "increment", "getPixelForGridLine", "offsetGridLines", "validIndex", "epsilon", "lineValue", "garbageCollect", "caches", "gc", "gcLen", "getTickMarkLength", "drawTicks", "getTitleHeight", "fallback", "font", "toFont", "lineHeight", "createScaleContext", "createTickContext", "titleAlign", "_toLeftRightCenter", "titleArgs", "titleX", "titleY", "_alignStartEnd", "positionAxisID", "Scale", "_margins", "paddingTop", "paddingBottom", "paddingLeft", "paddingRight", "labelRotation", "_range", "_gridLineItems", "_labelItems", "_labelSizes", "_longestTextCache", "_userMax", "_userMin", "_suggestedMax", "_suggestedMin", "_ticksLength", "_borderValue", "_dataLimitsCached", "setContext", "suggestedMin", "suggestedMax", "finiteOrDefault", "metas", "getTicks", "xLabels", "yLabels", "getLabelItems", "_computeLabelItems", "beforeUpdate", "margins", "grace", "sampleSize", "beforeSetDimensions", "setDimensions", "afterSetDimensions", "beforeDataLimits", "determineDataLimits", "afterDataLimits", "_addGrace", "beforeBuildTicks", "buildTicks", "afterBuildTicks", "samplingEnabled", "_convertTicksToLabels", "beforeCalculateLabelRotation", "calculateLabelRotation", "afterCalculateLabelRotation", "source", "afterAutoSkip", "beforeFit", "fit", "afterFit", "afterUpdate", "reversePixels", "_alignToPixels", "alignToPixels", "_callHooks", "notifyPlugins", "beforeTickToLabelConversion", "generateTickLabels", "callback", "afterTickToLabelConversion", "numTicks", "minRotation", "maxRotation", "tickWidth", "maxLabelDiagonal", "_isVisible", "labelSizes", "_getLabelSizes", "maxLabelWidth", "widest", "maxLabelHeight", "highest", "_limitValue", "title", "toDegrees", "asin", "titleOpts", "gridOpts", "titleHeight", "tickPadding", "angleRadians", "labelHeight", "mirror", "labelWidth", "_calculatePadding", "_handleMargins", "isRotated", "labelsBelowTicks", "offsetLeft", "offsetRight", "isFullSize", "_computeLabelSizes", "widths", "heights", "widestLabelSize", "highestLabelSize", "jlen", "tickFont", "fontString", "nestedLabel", "_resolveTickFontOptions", "string", "_measureText", "valueAt", "idx", "pixel", "decimal", "_int16Range", "_alignPixel", "getDecimalForPixel", "getBaseValue", "optionTicks", "rot", "autoSkipPadding", "_computeGridLineItems", "tl", "borderOpts", "axisWidth", "axisHalfWidth", "alignBorderValue", "borderValue", "alignedLineValue", "tx1", "ty1", "tx2", "ty2", "x1", "y1", "x2", "y2", "limit", "step", "optsAtIndex", "optsAtIndexBorder", "lineColor", "borderDash", "dash", "borderDashOffset", "dashOffset", "tickColor", "tickBorderDash", "tickBorderDashOffset", "crossAlign", "tickAndPadding", "hTickAndPadding", "textAlign", "lineCount", "textOffset", "textBaseline", "_getXAxisLabelAlignment", "_getYAxisLabelAlignment", "labelOffset", "halfCount", "strokeColor", "textStrokeColor", "strokeWidth", "textStrokeWidth", "tickTextAlign", "showLabelBackdrop", "backdrop", "labelPadding", "backdropPadding", "backdropColor", "translation", "_computeLabelArea", "drawBackground", "save", "fillRect", "restore", "findIndex", "drawGrid", "drawLine", "p1", "p2", "setLineDash", "lineDashOffset", "beginPath", "moveTo", "lineTo", "stroke", "drawOnChartArea", "drawBorder", "lastLineWidth", "drawLabels", "clipArea", "renderTextOptions", "renderText", "unclipArea", "drawTitle", "tz", "gz", "bz", "axisID", "_maxDigits", "fontSize", "TypedRegistry", "scope", "create", "isForType", "isPrototypeOf", "register", "proto", "getPrototypeOf", "parentScope", "isIChartComponent", "registerDefaults", "unregister", "itemDefaults", "merge", "routeDefaults", "describe", "routes", "property", "propertyParts", "split", "sourceName", "sourceScope", "join", "parts", "targetName", "targetScope", "route", "Registry", "controllers", "_typedRegistries", "_each", "addControllers", "addPlugins", "addScales", "getController", "_get", "getPlugin", "getScale", "removeControllers", "removeElements", "removePlugins", "removeScales", "typedRegistry", "arg", "reg", "_getRegistryForType", "_exec", "itemReg", "component", "camelMethod", "_capitalize", "PluginService", "_init", "notify", "hook", "_createDescriptors", "_descriptors", "descriptor", "plugin", "callCallback", "cancelable", "invalidate", "_oldCache", "_notifyStateChanges", "allPlugins", "createDescriptors", "previousDescriptors", "some", "localIds", "local", "getOpts", "pluginOpts", "pluginScopeKeys", "scriptable", "indexable", "allKeys", "getIndexAxis", "datasetDefaults", "getAxisFromDefaultScaleID", "getDefaultScaleIDFromAxis", "idMatchesAxis", "axisFromPosition", "determineAxis", "scaleOptions", "toLowerCase", "getAxisFromDataset", "retrieveAxisFromDatasets", "boundDs", "d", "mergeScaleConfig", "chartDefaults", "configScales", "chartIndexAxis", "scaleConf", "error", "_proxy", "defaultId", "defaultScaleOptions", "mergeIf", "defaultID", "initOptions", "initData", "initConfig", "keyCache", "keysCached", "Set", "cachedKeys", "generate", "addIfFound", "Config", "_config", "_scopeCache", "_resolverCache", "platform", "clearCache", "clear", "datasetType", "additionalOptionScopes", "_cachedScopes", "mainScope", "resetCache", "keyLists", "chartOptionScopes", "resolver", "subPrefixes", "getResolver", "needContext", "isFunction", "subResolver", "_attachContext", "descriptorDefaults", "resolverCache", "_createResolver", "p", "hasFunction", "isScriptable", "isIndexable", "KNOWN_POSITIONS", "positionIsHorizontal", "compare2Level", "l1", "l2", "onAnimationsComplete", "onComplete", "onAnimationProgress", "onProgress", "getCanvas", "getElementById", "instances", "getChart", "c", "moveNumericKeys", "intKey", "determineLastEvent", "lastEvent", "inChartArea", "isClick", "getSizeForArea", "field", "getDatasetArea", "Chart", "version", "invalidatePlugins", "userConfig", "initialCanvas", "existingChart", "uid", "_options", "_aspectRatio", "_metasets", "_lastEvent", "_listeners", "_responsiveListeners", "_sortedMetasets", "_plugins", "_hiddenIndices", "attached", "_doResize", "debounce", "resizeDelay", "_initialize", "maintainAspectRatio", "responsive", "retinaScale", "bindEvents", "clearCanvas", "_resizeBeforeDraw", "_resize", "newSize", "newRatio", "onResize", "render", "ensureScalesHaveIDs", "scalesOptions", "axisOptions", "buildOrUpdateScales", "scaleOpts", "updated", "isRadial", "dposition", "dtype", "scaleType", "scaleClass", "hasUpdated", "_updateMetasets", "_destroyDatasetMeta", "slice", "_removeUnreferencedMetasets", "buildOrUpdateControllers", "newControllers", "order", "visible", "ControllerClass", "_resetElements", "animsDisabled", "_updateScales", "_checkEventBindings", "_updateHiddenIndices", "_minPadding", "autoPadding", "_updateLayout", "_updateDatasets", "_eventHandler", "_updateHoverStyles", "existingEvents", "newEvents", "events", "setsEqual", "unbindEvents", "changes", "_getUniformDataChanges", "datasetCount", "makeSet", "changeSet", "noArea", "_idx", "_updateDataset", "layers", "_drawDatasets", "_drawDataset", "useClip", "getElementsAtEventForMode", "setDatasetVisibility", "_updateVisibility", "hide", "show", "_stop", "destroy", "toBase64Image", "toDataURL", "bindUserEvents", "bindResponsiveEvents", "_add", "_remove", "detached", "updateHoverStyle", "prefix", "getActiveElements", "setActiveElements", "activeElements", "lastActive", "_elementsEqual", "pluginId", "replay", "hoverOptions", "hover", "deactivated", "activated", "eventFilter", "_handleEvent", "_getActiveElements", "_isClickEvent", "onHover", "clipArc", "pixelMargin", "angleMargin", "closePath", "toRadiusCorners", "_readValueToProps", "parseBorderRadius", "angleDelta", "o", "borderRadius", "halfThickness", "innerLimit", "computeOuterLimit", "outerArcLimit", "outerStart", "outerEnd", "innerStart", "innerEnd", "rThetaToXY", "theta", "pathArc", "innerR", "spacingOffset", "alpha", "noSpacingInnerRadius", "noSpacingOuterRadius", "avNogSpacingRadius", "adjustedAngle", "beta", "angleOffset", "outerStartAdjustedRadius", "outerEndAdjustedRadius", "outerStartAdjustedAngle", "outerEndAdjustedAngle", "innerStartAdjustedRadius", "innerEndAdjustedRadius", "innerStartAdjustedAngle", "innerEndAdjustedAngle", "outerMidAdjustedAngle", "pCenter", "p4", "innerMidAdjustedAngle", "p8", "outerStartX", "outerStartY", "outerEndX", "outerEndY", "drawArc", "fullCircles", "borderJoinStyle", "inner", "lineJoin", "ArcElement", "chartX", "chartY", "rAdjust", "nonZeroBetween", "betweenAngles", "withinRadius", "_isBetween", "halfAngle", "halfRadius", "translate", "fix", "radiusOffset", "setStyle", "lineCap", "borderCapStyle", "previous", "getLineMethod", "stepped", "_steppedLineTo", "tension", "cubicInterpolationMode", "_bezierCurveTo", "pathVars", "paramsStart", "paramsEnd", "segmentStart", "segmentEnd", "outside", "pathSegment", "lineMethod", "fastPathSegment", "avgX", "countX", "prevX", "lastY", "pointIndex", "drawX", "truncX", "_getSegmentMethod", "_getInterpolationMethod", "_steppedInterpolation", "_bezierInterpolation", "_pointInLine", "strokePathWithCache", "path", "_path", "Path2D", "strokePathDirect", "segments", "segmentMethod", "usePath2D", "LineElement", "capBezierPoints", "_points", "_segments", "_pointsUpdated", "_updateBezierControlPoints", "_computeSegments", "interpolate", "_boundSegments", "_interpolate", "interpolated", "hitRadius", "PointElement", "hoverRadius", "mouseX", "mouseY", "inXRange", "inYRange", "drawPoint", "getBarBounds", "bar", "half", "skipOrLimit", "parseBorderWidth", "maxW", "maxH", "toTRBL", "toTRBLCorners", "maxR", "enableBorder", "topLeft", "topRight", "bottomLeft", "bottomRight", "boundingRects", "bounds", "outer", "skipX", "skipY", "hasRadius", "addNormalRectPath", "rect", "inflateRect", "amount", "refRect", "BarElement", "addRectPath", "addRoundedRectPath", "BORDER_COLORS", "BACKGROUND_COLORS", "replace", "getBorderColor", "getBackgroundColor", "colorizeDefaultDataset", "colorizeDoughnutDataset", "colorizePolarAreaDataset", "getColorizer", "containsColorsDefinitions", "k", "containsColorsDefinition", "containsDefaultColorsDefenitions", "plugin_colors", "forceOverride", "_args", "chartOptions", "containsColorDefenition", "colorizer", "lttbDecimation", "samples", "decimated", "bucketWidth", "sampledIndex", "endIndex", "maxAreaPoint", "maxArea", "nextA", "avgY", "avgRangeStart", "avgRangeEnd", "avgRangeLength", "rangeOffs", "rangeTo", "pointAx", "pointAy", "minMaxDecimation", "minIndex", "maxIndex", "startIndex", "xMin", "dx", "lastIndex", "intermediateIndex1", "intermediateIndex2", "cleanDecimatedDataset", "defineProperty", "configurable", "enumerable", "writable", "cleanDecimatedData", "getStartAndCountOfVisiblePointsSimplified", "pointCount", "plugin_decimation", "algorithm", "beforeElementsUpdate", "xAxis", "threshold", "tpoints", "_findSegmentEnd", "_getBounds", "targetSegments", "tgt", "subBounds", "fillSources", "_boundSegment", "fillSource", "_getEdge", "_normalizeAngle", "_pointsFromSegments", "boundary", "linePoints", "_createBoundaryLine", "_shouldApplyFill", "_resolveTarget", "sources", "propagate", "visited", "_decodeFill", "parseFillOption", "parseFloat", "decodeTargetIndex", "firstCh", "_getTargetPixel", "_getTargetValue", "fillOption", "_buildStackLine", "sourcePoints", "linesBelow", "getLinesBelow", "addPointsBelow", "below", "unshift", "sourcePoint", "postponed", "findPoint", "pointValue", "firstValue", "lastValue", "simpleArc", "_getTarget", "getLineByIndex", "computeBoundary", "computeCircularBoundary", "computeLinearBoundary", "_drawfill", "lineOpts", "above", "doFill", "clipVertical", "clipY", "lineLoop", "src", "notShape", "clipBounds", "interpolatedLineTo", "targetLoop", "interpolatedPoint", "afterDatasetsUpdate", "$filler", "beforeDraw", "drawTime", "beforeDatasetsDraw", "beforeDatasetDraw", "getBoxSize", "labelOpts", "boxHeight", "boxWidth", "usePointStyle", "pointStyleWidth", "itemHeight", "itemsEqual", "Legend", "_added", "legendHitBoxes", "_hoveredItem", "doughnutMode", "legendItems", "columnSizes", "lineWidths", "buildLabels", "labelFont", "_computeTitleHeight", "_fitRows", "_fitCols", "hitboxes", "totalHeight", "row", "itemWidth", "measureText", "_itemHeight", "heightLimit", "totalWidth", "currentColWidth", "currentColHeight", "col", "calculateItemSize", "adjustHitBoxes", "rtl", "rtlHelper", "getRtlAdapter", "hitbox", "leftForLtr", "_draw", "defaultColor", "halfFontSize", "cursor", "drawLegendBox", "lineDash", "drawOptions", "SQRT2", "xPlus", "drawPointLegend", "yBoxTop", "xBoxLeft", "fillText", "strikethrough", "overrideTextDirection", "textDirection", "textWidth", "setWidth", "realX", "_textX", "fontLineHeight", "calculateLegendItemHeight", "restoreTextDirection", "titleFont", "titlePadding", "topPaddingPlusHalfFontSize", "_getLegendItemAt", "hitBox", "lh", "handleEvent", "isListened", "hoveredItem", "sameItem", "onLeave", "calculateItemWidth", "calculateItemHeight", "legendItemText", "plugin_legend", "_element", "afterEvent", "ci", "useBorderRadius", "Title", "_padding", "textSize", "_drawArgs", "fontOpts", "createTitle", "titleBlock", "plugin_title", "WeakMap", "plugin_subtitle", "positioners", "average", "xSet", "eventPosition", "nearestElement", "distanceBetweenPoints", "tp", "pushOrConcat", "toPush", "apply", "splitNewlines", "str", "String", "createTooltipItem", "formattedValue", "getTooltipSize", "tooltip", "body", "footer", "bodyFont", "footerFont", "titleLineCount", "footerLineCount", "bodyLineItemCount", "combinedBodyLength", "bodyItem", "before", "lines", "after", "beforeBody", "afterBody", "titleSpacing", "titleMarginBottom", "bodyLineHeight", "displayColors", "bodySpacing", "footerMarginTop", "footerSpacing", "widthPadding", "maxLineWidth", "determineYAlign", "doesNotFitWithAlign", "xAlign", "caret", "caretSize", "caretPadding", "determineXAlign", "yAlign", "chartWidth", "determineAlignment", "alignX", "alignY", "paddingAndSize", "getBackgroundPoint", "alignment", "cornerRadius", "getAlignedX", "getBeforeAfterBodyLines", "createTooltipContext", "tooltipItems", "overrideCallbacks", "defaultCallbacks", "beforeTitle", "noop", "labelCount", "afterTitle", "beforeLabel", "tooltipItem", "labelColor", "labelTextColor", "bodyColor", "labelPointStyle", "afterLabel", "beforeFooter", "afterFooter", "invokeCallbackWithFallback", "Tooltip", "opacity", "_eventPosition", "_size", "_cachedAnimations", "_tooltipItems", "dataPoints", "caretX", "caretY", "labelColors", "labelPointStyles", "labelTextColors", "getTitle", "getBeforeBody", "getBody", "bodyItems", "scoped", "getAfterBody", "getFooter", "_createItems", "itemSort", "positionAndSize", "backgroundPoint", "external", "drawCaret", "tooltipPoint", "caretPosition", "getCaretPosition", "x3", "y3", "ptX", "ptY", "pt", "titleColor", "_drawColorBox", "colorX", "rtlColorX", "yOffSet", "colorY", "multiKeyBackground", "outerX", "innerX", "strokeRect", "drawBody", "bodyAlign", "xLinePadding", "fillLineOfText", "bodyAlignForCalculation", "textColor", "drawFooter", "footerAlign", "footerColor", "tooltipSize", "quadraticCurveTo", "_updateAnimationTarget", "animX", "animY", "_willRender", "hasTooltipContent", "globalAlpha", "positionChanged", "_positionChanged", "_ignoreReplayEvents", "plugin_tooltip", "afterInit", "afterDraw", "_fallback", "addIfString", "addedLabels", "findOrAddLabel", "lastIndexOf", "_getLabelForValue", "CategoryScale", "_startValue", "_valueRange", "_addedLabels", "added", "generateTicks", "generationOptions", "dataRange", "precision", "maxTicks", "maxDigits", "includeBounds", "unit", "maxSpaces", "rmin", "rmax", "countDefined", "minSpacing", "niceNum", "niceMin", "niceMax", "numSpaces", "MIN_SPACING", "almostWhole", "almostEquals", "decimalPlaces", "_decimalPlaces", "relativeLabelSize", "tickValue", "rad", "LinearScaleBase", "_endValue", "handleTickRangeOptions", "setMin", "setMax", "minSign", "maxSign", "getTickLimit", "stepSize", "computeTickLimit", "numericGeneratorOptions", "_setMinAndMaxByKey", "LinearScale", "Ticks", "formatters", "numeric", "log10Floor", "log10", "changeExponent", "m", "isMajor", "tickVal", "steps", "rangeExp", "rangeStep", "startExp", "minExp", "exp", "significand", "lastTick", "LogarithmicScale", "logarithmic", "_zero", "getTickBackdropHeight", "measureLabelSize", "_longestText", "determineLimits", "fitWithPointLabels", "limits", "valueCount", "_pointLabels", "pointLabelOpts", "additionalAngle", "centerPointLabels", "getPointLabelContext", "getPointPosition", "drawingArea", "plFont", "hLimits", "vLimits", "updateLimits", "setCenterPoint", "_pointLabelItems", "buildPointLabelItems", "createPointLabelItem", "itemOpts", "outerDistance", "extra", "pointLabelPosition", "yForAngle", "getTextAlignForAngle", "leftForTextAlign", "isNotOverlapped", "drawPointLabelBox", "backdropLeft", "backdropTop", "backdropWidth", "backdropHeight", "drawPointLabels", "pathRadiusLine", "drawRadiusLine", "gridLineOpts", "createPointLabelContext", "RadialLinearScale", "animate", "leftMovement", "rightMovement", "topMovement", "bottomMovement", "angleMultiplier", "scalingFactor", "getValueForDistanceFromCenter", "scaledDistance", "pointLabel", "distanceFromCenter", "getBasePosition", "getPointLabelPosition", "rotate", "INTERVALS", "millisecond", "common", "second", "minute", "hour", "day", "week", "month", "quarter", "year", "UNITS", "sorter", "input", "adapter", "_adapter", "parser", "isoWeekday", "_parseOpts", "determineUnitForAutoTicks", "minUnit", "capacity", "interval", "MAX_SAFE_INTEGER", "determineUnitForFormatting", "determineMajorUnit", "addTick", "time", "timestamps", "_lookup", "timestamp", "setMajorTicks", "majorUnit", "ticksFromTimestamps", "TimeScale", "displayFormats", "_unit", "_majorUnit", "_offsets", "_normalized", "normalized", "_applyBounds", "_getLabelBounds", "getLabelTimestamps", "timeOpts", "_generate", "_filterBetween", "_getLabelCapacity", "initOffsets", "offsetAfterAutoskip", "getDecimalForValue", "minor", "weekday", "hasWeekday", "getDataTimestamps", "tooltipFormat", "datetime", "fmt", "_tickFormatFunction", "formatter", "minorFormat", "majorFormat", "offsets", "_getLabelSize", "ticksOpts", "tickLabelWidth", "cosRotation", "sinRotation", "tickFontSize", "exampleTime", "exampleLabel", "normalize", "table", "prevSource", "nextSource", "prevTarget", "nextTarget", "span", "TimeSeriesScale", "_table", "_minPos", "_tableRange", "_getTimestampsForTable", "buildLookupTable", "registerables", "import_canvas", "F", "F_default", "T", "T_default", "__default", "_isPlaceholder", "a", "_curry1", "fn", "f1", "a", "_isPlaceholder", "_curry2", "fn", "f2", "a", "b", "_isPlaceholder", "_curry1", "_b", "_a", "_concat", "set1", "set2", "idx", "len1", "len2", "result", "_arity", "n", "fn", "a0", "a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "a9", "_curryN", "length", "received", "fn", "combined", "argsIdx", "left", "combinedIdx", "hasPlaceholder", "result", "_isPlaceholder", "_arity", "curryN", "_curry2", "length", "fn", "_curry1", "_arity", "_curryN", "curryN_default", "_curry3", "fn", "f3", "a", "b", "c", "_isPlaceholder", "_curry2", "_b", "_c", "_a", "_curry1", "isArray_default", "val", "_isTransformer", "obj", "_dispatchable", "methodNames", "transducerCreator", "fn", "obj", "isArray_default", "idx", "_isTransformer", "transducer", "_reduced", "x", "xfBase_default", "result", "_arrayFromIterator", "iter", "list", "next", "_includesWith", "pred", "x", "list", "idx", "len", "_functionName", "f", "match", "_has", "prop", "obj", "_objectIs", "a", "b", "objectIs_default", "toString", "_isArguments", "x", "_has", "isArguments_default", "hasEnumBug", "nonEnumerableProps", "hasArgsEnumBug", "contains", "list", "item", "idx", "keys", "_curry1", "obj", "prop", "nIdx", "ks", "checkArgsLength", "isArguments_default", "_has", "keys_default", "type", "_curry1", "val", "type_default", "_uniqContentEquals", "aIterator", "bIterator", "stackA", "stackB", "a", "_arrayFromIterator", "b", "eq", "_a", "_b", "_equals", "_includesWith", "aItem", "objectIs_default", "typeA", "type_default", "_functionName", "idx", "keysA", "keys_default", "extendedStackA", "extendedStackB", "key", "_has", "equals", "_curry2", "a", "b", "_equals", "equals_default", "_indexOf", "list", "a", "idx", "inf", "item", "equals_default", "_includes", "a", "list", "_indexOf", "_map", "fn", "functor", "idx", "len", "result", "_quote", "s", "escaped", "pad", "n", "_toISOString", "d", "toISOString_default", "_complement", "f", "_arrayReduce", "reducer", "acc", "list", "index", "length", "_filter", "fn", "list", "idx", "len", "result", "_isObject", "x", "XFilter", "f", "xf", "xfBase_default", "result", "input", "_xfilter", "filter", "_curry2", "_dispatchable", "_xfilter", "pred", "filterable", "_isObject", "_arrayReduce", "acc", "key", "keys_default", "_filter", "filter_default", "reject", "_curry2", "pred", "filterable", "filter_default", "_complement", "reject_default", "_toString", "x", "seen", "recur", "y", "xs", "_includes", "mapPairs", "obj", "keys", "_map", "k", "_quote", "reject_default", "keys_default", "toISOString_default", "repr", "toString", "_curry1", "val", "_toString", "toString_default", "max", "_curry2", "a", "b", "safeMax", "x", "y", "maxByValue", "maxByType", "stringA", "toString_default", "maxByStringValue", "max_default", "XMap", "f", "xf", "xfBase_default", "result", "input", "_xmap", "xmap_default", "map", "_curry2", "_dispatchable", "xmap_default", "fn", "functor", "curryN_default", "_arrayReduce", "acc", "key", "keys_default", "_map", "map_default", "isInteger_default", "n", "_isString", "x", "_nth", "offset", "list", "idx", "_isString", "prop", "_curry2", "p", "obj", "isInteger_default", "_nth", "prop_default", "pluck", "_curry2", "p", "list", "map_default", "prop_default", "pluck_default", "_isArrayLike", "_curry1", "x", "isArray_default", "_isString", "isArrayLike_default", "symIterator", "_createReduce", "arrayReduce", "methodReduce", "iterableReduce", "xf", "acc", "list", "isArrayLike_default", "_xArrayReduce", "xf", "acc", "list", "idx", "len", "bind", "_curry2", "fn", "thisObj", "_arity", "bind_default", "_xIterableReduce", "xf", "acc", "iter", "step", "_xMethodReduce", "obj", "methodName", "bind_default", "_xReduce", "_createReduce", "_xArrayReduce", "xReduce_default", "XWrap", "fn", "acc", "x", "_xwrap", "reduce", "_curry3", "xf", "acc", "list", "xReduce_default", "_xwrap", "reduce_default", "always", "_curry1", "val", "always_default", "append", "_curry2", "el", "list", "_concat", "append_default", "curry", "_curry1", "fn", "curryN_default", "curry_default", "_assoc", "prop", "val", "obj", "isInteger_default", "isArray_default", "arr", "result", "p", "isNil", "_curry1", "x", "isNil_default", "assocPath", "_curry3", "path", "val", "obj", "idx", "nextObj", "isNil_default", "_has", "isInteger_default", "_assoc", "assocPath_default", "assoc", "_curry3", "prop", "val", "obj", "assocPath_default", "assoc_default", "_isFunction", "x", "type", "_makeFlat", "recursive", "flatt", "list", "value", "jlen", "j", "result", "idx", "ilen", "isArrayLike_default", "_forceReduced", "x", "tInit", "tStep", "tResult", "XPreservingReduced", "xf", "xfBase_default", "result", "input", "ret", "_forceReduced", "XFlatCat", "isArrayLike_default", "xReduce_default", "_xArrayReduce", "_flatCat", "flatCat_default", "_xchain", "f", "xf", "xmap_default", "flatCat_default", "chain", "_curry2", "_dispatchable", "_xchain", "fn", "monad", "x", "_makeFlat", "map_default", "chain_default", "_pipe", "f", "g", "_checkForMethod", "methodname", "fn", "length", "obj", "isArray_default", "slice", "_curry3", "_checkForMethod", "fromIndex", "toIndex", "list", "slice_default", "tail", "_curry1", "_checkForMethod", "slice_default", "tail_default", "pipe", "_arity", "reduce_default", "_pipe", "tail_default", "_identity", "x", "identity", "_curry1", "_identity", "identity_default", "concat", "_curry2", "a", "b", "isArray_default", "toString_default", "_isString", "_isFunction", "concat_default", "cond", "_curry1", "pairs", "arity", "reduce_default", "max_default", "map_default", "pair", "_arity", "idx", "cond_default", "converge", "_curry2", "after", "fns", "curryN_default", "reduce_default", "max_default", "pluck_default", "args", "context", "_map", "fn", "converge_default", "defaultTo", "_curry2", "d", "v", "defaultTo_default", "XFind", "f", "xf", "xfBase_default", "result", "input", "_reduced", "_xfind", "find", "_curry2", "_dispatchable", "_xfind", "fn", "list", "idx", "len", "find_default", "hasPath", "_curry2", "_path", "obj", "isNil_default", "val", "idx", "_has", "hasPath_default", "has", "_curry2", "prop", "obj", "hasPath_default", "has_default", "ifElse", "_curry3", "condition", "onTrue", "onFalse", "curryN_default", "ifElse_default", "includes", "_curry2", "_includes", "includes_default", "invoker", "_curry2", "arity", "method", "curryN_default", "target", "_isFunction", "toString_default", "invoker_default", "is", "_curry2", "Ctor", "val", "is_default", "isNotNil", "_curry1", "x", "isNil_default", "isNotNil_default", "join", "invoker_default", "join_default", "juxt", "_curry1", "fns", "converge_default", "juxt_default", "_path", "pathAr", "obj", "val", "i", "p", "isInteger_default", "_nth", "path", "_curry2", "_path", "path_default", "propEq", "_curry3", "val", "name", "obj", "equals_default", "prop_default", "propEq_default", "propOr", "_curry3", "val", "p", "obj", "defaultTo_default", "prop_default", "propOr_default", "XTap", "f", "xf", "xfBase_default", "result", "input", "_xtap", "tap", "_curry2", "_dispatchable", "_xtap", "fn", "x", "tap_default", "perf", "warned", "PROCESS", "emitWarning", "msg", "type", "code", "fn", "AC", "AS", "_", "warnACPolyfill", "reason", "printACPolyfillWarning", "shouldWarn", "TYPE", "isPosInt", "n", "getUintArray", "max", "ZeroArray", "size", "Stack", "_Stack", "#constructing", "HeapCls", "s", "LRUCache", "_LRUCache", "#max", "#maxSize", "#dispose", "#disposeAfter", "#fetchMethod", "#memoMethod", "#size", "#calculatedSize", "#keyMap", "#keyList", "#valList", "#next", "#prev", "#head", "#tail", "#free", "#disposed", "#sizes", "#starts", "#ttls", "#hasDispose", "#hasFetchMethod", "#hasDisposeAfter", "c", "p", "#isBackgroundFetch", "k", "index", "options", "context", "#backgroundFetch", "#moveToTail", "#indexes", "#rindexes", "#isStale", "ttl", "ttlResolution", "ttlAutopurge", "updateAgeOnGet", "updateAgeOnHas", "allowStale", "dispose", "disposeAfter", "noDisposeOnSet", "noUpdateTTL", "maxSize", "maxEntrySize", "sizeCalculation", "fetchMethod", "memoMethod", "noDeleteOnFetchRejection", "noDeleteOnStaleGet", "allowStaleOnFetchRejection", "allowStaleOnFetchAbort", "ignoreFetchAbort", "UintArray", "#initializeSizeTracking", "#initializeTTLTracking", "key", "ttls", "starts", "#setItemTTL", "start", "t", "#delete", "#updateItemAge", "#statusTTL", "status", "cachedNow", "getNow", "age", "sizes", "#removeItemSize", "#requireSize", "v", "#addItemSize", "#evict", "_i", "_s", "_st", "_k", "_v", "i", "#isValidIndex", "getOptions", "value", "thisp", "deleted", "entry", "remain", "arr", "setOptions", "oldVal", "oldValue", "dt", "task", "val", "free", "head", "hasOptions", "peekOptions", "ac", "signal", "fetchOpts", "cb", "updateCache", "aborted", "ignoreAbort", "fetchFail", "bf", "eb", "er", "allowStaleAborted", "noDelete", "pcall", "res", "rej", "fmp", "b", "fetchOptions", "forceRefresh", "stale", "isStale", "staleVal", "memoOptions", "vv", "fetching", "#connect", "#clear", "pi", "ni", "util", "val", "assertIs", "_arg", "assertNever", "_x", "items", "obj", "item", "validKeys", "k", "filtered", "e", "object", "keys", "key", "arr", "checker", "joinValues", "array", "separator", "_", "value", "objectUtil", "first", "second", "ZodParsedType", "getParsedType", "data", "ZodIssueCode", "quotelessJson", "ZodError", "_ZodError", "issues", "sub", "subs", "actualProto", "_mapper", "mapper", "issue", "fieldErrors", "processError", "error", "curr", "i", "el", "formErrors", "errorMap", "_ctx", "message", "overrideErrorMap", "setErrorMap", "map", "getErrorMap", "makeIssue", "params", "path", "errorMaps", "issueData", "fullPath", "fullIssue", "errorMessage", "maps", "m", "EMPTY_PATH", "addIssueToContext", "ctx", "overrideMap", "x", "ParseStatus", "_ParseStatus", "status", "results", "arrayValue", "s", "INVALID", "pairs", "syncPairs", "pair", "finalObject", "DIRTY", "OK", "isAborted", "isDirty", "isValid", "isAsync", "__classPrivateFieldGet", "receiver", "state", "kind", "f", "__classPrivateFieldSet", "errorUtil", "message", "_ZodEnum_cache", "_ZodNativeEnum_cache", "ParseInputLazyPath", "parent", "value", "path", "key", "handleResult", "ctx", "result", "isValid", "error", "ZodError", "processCreateParams", "params", "errorMap", "invalid_type_error", "required_error", "description", "iss", "_a", "_b", "ZodType", "input", "getParsedType", "ParseStatus", "isAsync", "data", "err", "maybeAsyncResult", "check", "getIssueProperties", "val", "setError", "ZodIssueCode", "refinementData", "refinement", "ZodEffects", "ZodFirstPartyTypeKind", "def", "ZodOptional", "ZodNullable", "ZodArray", "ZodPromise", "option", "ZodUnion", "incoming", "ZodIntersection", "transform", "defaultValueFunc", "ZodDefault", "ZodBranded", "catchValueFunc", "ZodCatch", "This", "target", "ZodPipeline", "ZodReadonly", "cuidRegex", "cuid2Regex", "ulidRegex", "uuidRegex", "nanoidRegex", "jwtRegex", "durationRegex", "emailRegex", "_emojiRegex", "emojiRegex", "ipv4Regex", "ipv4CidrRegex", "ipv6Regex", "ipv6CidrRegex", "base64Regex", "base64urlRegex", "dateRegexSource", "dateRegex", "timeRegexSource", "args", "regex", "timeRegex", "datetimeRegex", "opts", "isValidIP", "ip", "version", "isValidJWT", "jwt", "alg", "header", "base64", "decoded", "isValidCidr", "ZodString", "_ZodString", "ZodParsedType", "addIssueToContext", "INVALID", "status", "tooBig", "tooSmall", "util", "validation", "options", "minLength", "maxLength", "len", "ch", "min", "max", "floatSafeRemainder", "step", "valDecCount", "stepDecCount", "decCount", "valInt", "stepInt", "ZodNumber", "_ZodNumber", "kind", "inclusive", "ZodBigInt", "_ZodBigInt", "ZodBoolean", "OK", "ZodDate", "_ZodDate", "minDate", "maxDate", "ZodSymbol", "ZodUndefined", "ZodNull", "ZodAny", "ZodUnknown", "ZodNever", "ZodVoid", "_ZodArray", "item", "i", "schema", "deepPartialify", "ZodObject", "newShape", "fieldSchema", "ZodTuple", "_ZodObject", "shape", "keys", "shapeKeys", "extraKeys", "pairs", "keyValidator", "unknownKeys", "catchall", "syncPairs", "pair", "issue", "_c", "_d", "defaultError", "augmentation", "merging", "index", "mask", "newField", "createZodEnum", "handleResults", "results", "unionErrors", "childCtx", "dirty", "issues", "types", "getDiscriminator", "type", "ZodLazy", "ZodLiteral", "ZodEnum", "ZodNativeEnum", "ZodDiscriminatedUnion", "_ZodDiscriminatedUnion", "discriminator", "discriminatorValue", "optionsMap", "discriminatorValues", "mergeValues", "a", "b", "aType", "bType", "bKeys", "sharedKeys", "newObj", "sharedValue", "newArray", "itemA", "itemB", "handleParsed", "parsedLeft", "parsedRight", "isAborted", "merged", "isDirty", "left", "right", "_ZodTuple", "items", "itemIndex", "x", "rest", "schemas", "ZodRecord", "_ZodRecord", "keyType", "valueType", "first", "second", "third", "ZodMap", "finalMap", "ZodSet", "_ZodSet", "finalizeSet", "elements", "parsedSet", "element", "minSize", "maxSize", "size", "ZodFunction", "_ZodFunction", "makeArgsIssue", "makeIssue", "getErrorMap", "makeReturnsIssue", "returns", "fn", "me", "parsedArgs", "e", "parsedReturns", "returnType", "func", "getter", "values", "_ZodEnum", "expectedValues", "__classPrivateFieldGet", "__classPrivateFieldSet", "enumValues", "newDef", "opt", "nativeEnumValues", "promisified", "effect", "checkCtx", "arg", "processed", "DIRTY", "executeRefinement", "acc", "inner", "base", "preprocess", "newCtx", "ZodNaN", "BRAND", "_ZodPipeline", "inResult", "freeze", "cleanParams", "p", "custom", "_params", "fatal", "r", "_fatal", "late", "instanceOfType", "cls", "stringType", "numberType", "nanType", "bigIntType", "booleanType", "dateType", "symbolType", "undefinedType", "nullType", "anyType", "unknownType", "neverType", "voidType", "arrayType", "objectType", "strictObjectType", "unionType", "discriminatedUnionType", "intersectionType", "tupleType", "recordType", "mapType", "setType", "functionType", "lazyType", "literalType", "enumType", "nativeEnumType", "promiseType", "effectsType", "optionalType", "nullableType", "preprocessType", "pipelineType", "ostring", "onumber", "oboolean", "coerce", "NEVER", "z", "setErrorMap", "EMPTY_PATH", "objectUtil", "quotelessJson", "InvalidSchedulerLocationError", "SchedulerTagNotFoundError", "TransactionNotFoundError", "trimSlash", "str", "backoff", "fn", "maxRetries", "delay", "action", "retry", "delay2", "err", "newRetry", "newDelay", "resolve", "okRes", "res", "URL_TAG", "TTL_TAG", "SCHEDULER_TAG", "findTagValue", "name", "pipe", "defaultTo_default", "find_default", "propEq_default", "prop_default", "findTransactionTags", "transaction", "gatewayWith", "fetch2", "GRAPHQL_URL2", "GRAPHQL_MAX_RETRIES2", "GRAPHQL_RETRY_BACKOFF2", "query", "variables", "loadProcessSchedulerWith", "gateway", "loadScheduler", "loadSchedulerWith", "GET_TRANSACTIONS_QUERY", "TESTNET_SU_ROUTER", "process2", "eagerTestnet", "address", "path_default", "walletAddress", "GET_SCHEDULER_LOCATION", "juxt_default", "url", "ttl", "createLruCache", "size", "LRUCache", "v", "getByProcessWith", "cache", "setByProcessWith", "getByOwnerWith", "owner", "setByOwnerWith", "checkForRedirectWith", "response", "processCacheEntry", "z", "scheduler", "checkForRedirectSchema", "getByProcessSchema", "setByProcessSchema", "getByOwnerSchema", "setByOwnerSchema", "loadSchedulerSchema", "loadProcessSchedulerSchema", "locateWith", "loadProcessScheduler", "followRedirects", "checkForRedirect", "getByProcess", "getByOwner", "setByProcess", "setByOwner", "schedulerHint", "cached", "byOwner", "scheduler2", "finalUrl", "byProcess", "rawWith", "validateWith", "DEFAULT_CACHE_SIZE", "DEFAULT_GRAPHQL_URL", "DEFAULT_GRAPHQL_MAX_RETRIES", "DEFAULT_GRAPHQL_RETRY_BACKOFF", "DEFAULT_FOLLOW_REDIRECTS", "connect", "cacheSize", "_cache", "locate2", "validate2", "raw2", "GRAPHQL_URL", "CACHE_SIZE", "FOLLOW_REDIRECTS", "GRAPHQL_MAX_RETRIES", "GRAPHQL_RETRY_BACKOFF", "locate", "validate", "raw", "import_base64url", "import_base64url", "import_buffer", "import_debug", "import_protocol_tag_utils", "import_protocol_tag_utils", "import_node_crypto", "WarpArBundles", "import_http_message_signatures", "__defProp", "__export", "target", "all", "name", "Async", "fork", "resolve", "reject", "fn", "rej", "res", "x", "f", "g", "of", "Resolved", "Rejected", "fromPromise", "args", "deployMessageWith", "fetch2", "MU_URL2", "_logger", "logger", "processId", "data", "tags", "anchor", "signer", "signedDataItem", "signedDataItem2", "err", "deployProcessWith", "deployMonitorWith", "deployUnmonitorWith", "deployAssignWith", "process2", "message2", "baseLayer", "exclude", "dryrunFetchWith", "CU_URL2", "msg", "msg2", "loadResultWith", "id", "url", "queryResultsWith", "from", "to", "sort", "limit", "params", "loadTransactionMetaWith", "GRAPHQL_URL2", "GET_TRANSACTIONS_QUERY", "transactionConnectionSchema", "z", "id2", "path_default", "joinUrl", "path2", "parseTags", "rawTags", "pipe", "defaultTo_default", "reduce_default", "map3", "tag", "propOr_default", "append_default", "assoc_default", "__default", "map_default", "values", "eqOrIncludes", "val", "cond_default", "is_default", "equals_default", "includes_default", "T_default", "F_default", "errFrom", "ZodError", "mapZodErr", "has_default", "zodErr", "zodErr2", "gatherZodIssues", "zodErr3", "status", "contextCode", "issues", "issue", "ZodIssueCode", "chain_default", "i", "concat_default", "zodIssues", "acc", "zodIssue", "_path", "_contextCode", "join_default", "Buffer2", "sha256", "partition", "pred", "arr", "cur", "isBytes", "value", "hbEncodeValue", "key", "typeK", "hbEncode", "obj", "parent", "flatK", "v", "boundaryFrom", "bodyParts", "base", "p", "hash", "base64url", "encode", "flattened", "bodyKeys", "headerKeys", "h", "body", "boundary", "blobParts", "contentDigest", "base64", "encodeDataItem", "t", "toSignerArgs", "method", "headers", "includePath", "httpSigName", "address", "base64url2", "byte", "callWith", "HB_URL", "fields", "restFields", "path3", "method2", "fields2", "req", "request", "deployProcessWith2", "deployMessageWith2", "slot", "loadResultWith2", "relayerWith", "options", "parsed", "relayUrl", "relayParams", "hb", "signedHeaders", "createLogger", "debug", "name2", "note", "rest", "tap_default", "inputSchema", "callWith2", "env", "call", "verifyInput", "identity_default", "inputSchema2", "verifyInputWith", "ctx", "tagSchema", "dryrunResultSchema", "loadResultSchema", "queryResultsSchema", "deployMessageSchema", "deployProcessSchema", "deployAssignSchema", "deployMonitorSchema", "loadProcessMetaSchema", "locateSchedulerSchema", "validateSchedulerSchema", "loadTransactionMetaSchema", "signerSchema", "readWith", "loadResult", "resultWith", "read", "result2", "aoProto", "removeAoProtoByName", "curry_default", "concatAoProto", "concatUnassoc", "tagSchema2", "buildTagsWith", "buildDataWith", "ifElse_default", "always_default", "ctx2", "prop_default", "uploadMessageWith", "buildTags", "buildData", "deployMessage", "messageWith", "uploadMessage", "checkTag", "verifyModuleWith", "loadTransactionMeta", "module", "isNotNil_default", "verifySchedulerWith", "validateScheduler", "scheduler", "scheduler2", "isValid", "verifySignerWith", "signer2", "verifyInputsWith", "verifyModule", "verifyScheduler", "verifySigner", "aoProto2", "proto2", "removeAoProtoByName2", "concatAoProto2", "concatUnassoc2", "tagsSchema", "buildTagsWith2", "buildDataWith2", "uploadProcessWith", "deployProcess", "spawnWith", "verifyInputs", "uploadProcess", "uploadMonitorWith", "deployMonitor", "monitorWith", "uploadMonitor", "uploadUnmonitorWith", "deployUnmonitor", "unmonitorWith", "uploadUnmonitor", "inputSchema3", "verifyInputWith2", "queryWith", "queryResults", "resultsWith", "query", "inputSchema4", "verifyInputWith3", "m", "runWith", "dryrunFetch", "dryrunWith", "dryrun2", "convert", "sendAssignWith", "deployAssign", "assignWith", "sendAssign", "DEFAULT_GATEWAY_URL", "DEFAULT_MU_URL", "DEFAULT_CU_URL", "DEFAULT_RELAY_URL", "DEFAULT_AO_URL", "DEFAULT_RELAY_CU_URL", "DEFAULT_RELAY_MU_URL", "defaultFetch", "connectWith", "createDataItemSigner3", "createHbSigner2", "_logger", "createLogger", "relayMode", "MODE", "wallet", "GRAPHQL_URL2", "GRAPHQL_MAX_RETRIES2", "GRAPHQL_RETRY_BACKOFF2", "MU_URL2", "CU_URL2", "RELAY_URL2", "originalFetch", "logger", "signer", "staticWalletDataItemSigner", "fetch2", "relayerWith", "callLogger", "call", "callWith2", "callWith", "validate", "connect", "resultLogger", "result2", "resultWith", "loadResultWith", "messageLogger", "message2", "messageWith", "deployMessageWith", "spawnLogger", "spawn2", "spawnWith", "loadTransactionMetaWith", "deployProcessWith", "monitorLogger", "monitor2", "monitorWith", "deployMonitorWith", "unmonitorLogger", "unmonitor2", "unmonitorWith", "deployUnmonitorWith", "resultsLogger", "results2", "resultsWith", "queryResultsWith", "dryrunLogger", "dryrun2", "dryrunWith", "dryrunFetchWith", "assignLogger", "assign2", "assignWith", "deployAssignWith", "legacyMode", "noLog", "mainnetMode", "AO_URL2", "mockValidate", "address", "loadResultWith2", "deployMessageWith2", "deployProcessWith2", "connect2", "args", "GATEWAY_URL2", "restArgs", "joinUrl", "wallet_exports", "__export", "createDataItemSigner", "createHbSigner", "pkg", "WarpArBundles", "createData", "ArweaveSigner", "signMessage", "data", "tags", "target", "anchor", "signer2", "dataItem", "publicKey", "privateKey", "s", "params", "fields", "request", "httpSigName", "GATEWAY_URL", "MU_URL", "CU_URL", "GRAPHQL_URL", "GRAPHQL_MAX_RETRIES", "GRAPHQL_RETRY_BACKOFF", "RELAY_URL", "AO_URL", "result", "results", "message", "spawn", "monitor", "unmonitor", "dryrun", "assign", "createDataItemSigner2", "require_browser", "__commonJSMin", "exports", "module", "process", "cachedSetTimeout", "cachedClearTimeout", "defaultSetTimout", "defaultClearTimeout", "runTimeout", "fun", "runClearTimeout", "marker", "queue", "draining", "currentQueue", "queueIndex", "cleanUpNextTick", "drainQueue", "timeout", "len", "args", "i", "Item", "array", "noop", "name", "dir", "require_base64_js", "import_browser", "f", "d", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "code", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "tmp", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "end", "output", "extraBytes", "parts", "maxChunkLength", "len2", "require_ieee754", "buffer", "offset", "isLE", "mLen", "nBytes", "e", "m", "eLen", "eMax", "eBias", "nBits", "s", "value", "c", "rt", "require_buffer", "base64", "Me", "ieee754", "Ge", "customInspectSymbol", "Buffer", "SlowBuffer", "K_MAX_LENGTH", "typedArraySupport", "proto", "createBuffer", "length", "buf", "arg", "encodingOrOffset", "allocUnsafe", "from", "fromString", "fromArrayView", "isInstance", "fromArrayBuffer", "valueOf", "b", "fromObject", "assertSize", "size", "alloc", "fill", "encoding", "checked", "string", "actual", "fromArrayLike", "arrayView", "copy", "byteOffset", "obj", "numberIsNaN", "a", "x", "y", "list", "pos", "mustMatch", "loweredCase", "utf8ToBytes", "base64ToBytes", "slowToString", "hexSlice", "utf8Slice", "asciiSlice", "latin1Slice", "base64Slice", "utf16leSlice", "swap", "n", "str", "max", "target", "thisStart", "thisEnd", "thisCopy", "targetCopy", "bidirectionalIndexOf", "val", "arrayIndexOf", "indexSize", "arrLength", "valLength", "read", "foundIndex", "found", "j", "hexWrite", "remaining", "strLen", "parsed", "utf8Write", "blitBuffer", "asciiWrite", "asciiToBytes", "base64Write", "ucs2Write", "utf16leToBytes", "res", "firstByte", "codePoint", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "decodeCodePointsArray", "MAX_ARGUMENTS_LENGTH", "codePoints", "ret", "out", "hexSliceLookupTable", "bytes", "newBuf", "checkOffset", "ext", "noAssert", "mul", "defineBigIntMethod", "validateNumber", "first", "last", "boundsError", "lo", "hi", "checkInt", "min", "maxBytes", "wrtBigUInt64LE", "checkIntBI", "wrtBigUInt64BE", "limit", "sub", "checkIEEE754", "writeFloat", "littleEndian", "writeDouble", "targetStart", "errors", "E", "sym", "getMessage", "Base", "range", "input", "msg", "received", "addNumericalSeparator", "checkBounds", "type", "INVALID_BASE64_RE", "base64clean", "units", "leadSurrogate", "byteArray", "src", "dst", "alphabet", "table", "i16", "fn", "BufferBigIntNotDefined", "import_buffer", "tt", "AO", "CONTENT_TYPES", "data", "GATEWAYS", "TAGS", "UPLOAD", "checkValidAddress", "address", "getTagValue", "getDataURLContentType", "dataURL", "result", "getBase64Data", "getByteSize", "sizeInBytes", "cleanProcessField", "updatedValue", "cleanTagValue", "globalLog", "toProcessCase", "match", "mapToProcessCase", "acc", "key", "toKey", "fromProcessCase", "mapFromProcessCase", "fromKey", "getBootTag", "capitalizedKey", "arweaveEndpoint", "getTxEndpoint", "txId", "CURSORS", "PAGINATORS", "getGQLData", "paginator", "count", "nextCursor", "queryBody", "getQueryBody", "response", "getResponse", "getQuery", "getAggregatedGQLData", "callback", "index", "fetchResult", "aggregatedData", "body", "query", "ids", "blockFilter", "blockFilterStr", "tags", "owners", "recipients", "cursor", "fetchCount", "txCount", "nodeFields", "order", "recipientsfield", "GATEWAY", "GATEWAY_RETRY_COUNT", "aoSpawn", "deps", "tag", "processId", "aoSendWith", "aoSend", "aoDryRunWith", "aoDryRun", "dataPayload", "item", "aoMessageResult", "Messages", "message", "action", "responseData", "messageData", "responseStatus", "responseMessage", "handleProcessEval", "fetchProcessSrc", "evalMessage", "aoCreateProcessWith", "statusCB", "spawnArgs", "waitForProcess", "aoCreateProcess", "_setStatus", "retries", "r", "gqlResponse", "foundProcess", "resolveTransactionWith", "createTransaction", "resolveTransaction", "content", "contentType", "contentSize", "tx", "createAtomicAssetWith", "validationError", "getValidationErrorMessage", "buildAssetCreateTags", "status", "getAtomicAsset", "id", "processInfo", "buildAsset", "getAtomicAssetWith", "getAtomicAssets", "element", "asset", "originalKey", "formattedKey", "part", "decodedValue", "entry", "requiredFields", "field", "DEFAULT_COLLECTION_BANNER", "DEFAULT_COLLECTION_THUMBNAIL", "createCollectionWith", "dateTime", "thumbnailTx", "bannerTx", "processSrcFetch", "processSrc", "collectionId", "registryTags", "activityTags", "collectionActivityId", "updateCollectionAssetsWith", "getCollectionWith", "getCollectionsWith", "collection", "createCommentWith", "createAtomicAsset", "assetArgs", "getCommentWith", "dataSource", "rootSource", "getCommentData", "getCommentsWith", "_deps", "assets", "comments", "createZoneWith", "updateZoneWith", "zoneId", "mappedData", "addToZoneWith", "getZoneWith", "createProfileWith", "profileId", "updateData", "profileUpdateId", "updateProfileWith", "getProfileByIdWith", "Profile", "rest", "flattenedProcessInfo", "getProfileByWalletAddressWith", "getProfileById", "walletAddress", "profileLookup", "activeProfileId", "vt", "init", "index_default", "Chart", "registerables", "command", "CLI_ARGS", "args", "intervalArg", "regex", "match", "clc", "count", "unit", "unitMapping", "permaweb", "oi", "connect", "currentHeight", "ENDPOINTS", "formatCount", "days", "now", "startDate", "endDate", "formatDate", "date", "baseTags", "spinner", "CliSpinner", "orderData", "arweavePrice", "intervalData", "i", "intervalEnd", "intervalStart", "purchaseData", "message", "totalSwap", "result", "quantity", "getTagValue", "convertedAmount", "usdValue", "totalSwapValue", "totalUsdValue", "record", "exportReportData", "e", "log", "report_default", "report", "intervals", "reportsDir", "fs", "reportEndDate", "reportStartDate", "dateRangeStr", "timestamp", "jsonPath", "updatedChartPath", "latestData", "labels", "volumes", "usdValues", "canvas", "ctx", "configuration", "buffer", "interpolate", "data", "interpolated", "asciichart", "volumesInterpolated", "usdValuesInterpolated", "config", "error", "help_default", "commands", "report_default", "argv", "minimist", "command", "commandValues", "log", "CLI_ARGS", "error"]
}
